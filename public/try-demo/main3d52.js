/*! For license information please see main.js.LICENSE.txt */
!function(){var t,e,n,r,i={26835:function(t,e,n){var r=n(95616);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}if(void 0===r)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(r),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",(function(){n=!0}));return setTimeout((function(){n||t(r).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(r),function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function r(){a.detach().trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===o?[]:o);e&&e.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r())};var r=t.fn.alert;t.fn.alert=function(e){return this.each((function(){var r=t(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(r)}))},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(r),function(t){"use strict";function e(e){return this.each((function(){var r=t(this),o=r.data("bs.button"),a="object"==i(e)&&e;o||r.data("bs.button",o=new n(this,a)),"toggle"==e?o.toggle():e&&o.setState(e)}))}var n=function e(n,r){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(t.proxy((function(){r[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))}),this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(n){var r=t(n.target).closest(".btn");e.call(r,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))}))}(r),function(t){"use strict";function e(e){return this.each((function(){var r=t(this),o=r.data("bs.carousel"),a=t.extend({},n.DEFAULTS,r.data(),"object"==i(e)&&e),s="string"==typeof e?e:a.slide;o||r.data("bs.carousel",o=new n(this,a)),"number"==typeof e?o.to(e):s?o[s]():a.interval&&o.pause().cycle()}))}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var r=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){e.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(e,i),a=this.interval,s="next"==e?"left":"right",c=this;if(o.hasClass("active"))return this.sliding=!1;var l=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:l,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:l,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",(function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout((function(){c.$element.trigger(f)}),0)})).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var o=function(n){var r,i=t(this),o=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var n=t(this);e.call(n,n.data())}))}))}(r),function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each((function(){var n=t(this),o=n.data("bs.collapse"),a=t.extend({},r.DEFAULTS,n.data(),"object"==i(e)&&e);!o&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),o||n.data("bs.collapse",o=new r(this,a)),"string"==typeof e&&o[e]()}))}var r=function e(n,r){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,r),this.$trigger=t('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var c=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][c])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy((function(n,r){var i=t(r);this.addAriaAndCollapsedClass(e(i),i)}),this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(r){var i=t(this);i.attr("data-target")||r.preventDefault();var o=e(i),a=o.data("bs.collapse")?"toggle":i.data();n.call(o,a)}))}(r),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(i).each((function(){var r=t(this),i=e(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))})))}var r=".dropdown-backdrop",i='.dropdown-toggle[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},o.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var o=e(r),a=o.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&o.find(i).trigger("focus"),r.trigger("click");var s=o.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var c=s.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<s.length-1&&c++,~c||(c=0),s.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof e&&r[e].call(n)}))},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(r),function(t){"use strict";function e(e,r){return this.each((function(){var o=t(this),a=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==i(e)&&e);a||o.data("bs.modal",a=new n(this,s)),"string"==typeof e?a[e](r):s.show&&a.show(r)}))}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){r.$element.one("mouseup.dismiss.bs.modal",(function(e){t(e.target).is(r.$element)&&(r.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var i=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?r.$dialog.one("bsTransitionEnd",(function(){r.$element.trigger("focus").trigger(o)})).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)})))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")}),this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")}))},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy((function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))}),this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(n){var r=t(this),i=r.attr("href"),o=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",(function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",(function(){r.is(":visible")&&r.trigger("focus")}))})),e.call(o,a,this)}))}(r),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,r){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",c="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,(function(t,r){n[t]!=r&&(e[t]=r)})),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)):n.show())},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)):n.hide()},e.prototype.show=function(){var n=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,l=c.test(s);l&&(s=s.replace(c,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=o[0].offsetWidth,f=o[0].offsetHeight;if(l){var d=s,p=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+f>p.bottom?"top":"top"==s&&u.top-f<p.top?"bottom":"right"==s&&u.right+h>p.width?"left":"left"==s&&u.left-h<p.left?"right":s,o.removeClass(d).addClass(s)}var m=this.getCalculatedOffset(s,u,h,f);this.applyPlacement(m,s);var y=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",y).emulateTransitionEnd(e.TRANSITION_DURATION):y()}},e.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var c=r[0].offsetWidth,l=r[0].offsetHeight;"top"==n&&l!=o&&(e.top=e.top+o-l);var u=this.getViewportAdjustedDelta(n,e,c,l);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(n),f=h?2*u.left-i+c:2*u.top-o+l,d=h?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(f,r[0][d],h)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(n){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),n&&n()}var i=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(e.TRANSITION_DURATION):r(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:e.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},c=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,s,c,a)},e.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,c=e.top+o-a.scroll+r;s<a.top?i.top=a.top-s:c>a.top+a.height&&(i.top=a.top+a.height-c)}else{var l=e.left-o,u=e.left+o+n;l<a.left?i.left=a.left-l:u>a.right&&(i.left=a.left+a.width-u)}return i},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide((function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null}))};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each((function(){var r=t(this),o=r.data("bs.tooltip"),a="object"==i(n)&&n;!o&&/destroy|hide/.test(n)||(o||r.data("bs.tooltip",o=new e(this,a)),"string"==typeof n&&o[n]())}))},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(r),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=function(n){return this.each((function(){var r=t(this),o=r.data("bs.popover"),a="object"==i(n)&&n;!o&&/destroy|hide/.test(n)||(o||r.data("bs.popover",o=new e(this,a)),"string"==typeof n&&o[n]())}))},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(r),function(t){"use strict";function e(n,r){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each((function(){var r=t(this),o=r.data("bs.scrollspy"),a="object"==i(n)&&n;o||r.data("bs.scrollspy",o=new e(this,a)),"string"==typeof n&&o[n]()}))}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map((function(){var e=t(this),i=e.data("target")||e.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){e.offsets.push(this[0]),e.targets.push(this[1])}))},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);n.call(e,e.data())}))}))}(r),function(t){"use strict";function e(e){return this.each((function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()}))}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=(r=e.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),(function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})}))}}},n.prototype.activate=function(e,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&t.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(r),function(t){"use strict";function e(e){return this.each((function(){var r=t(this),o=r.data("bs.affix"),a="object"==i(e)&&e;o||r.data("bs.affix",o=new n(this,a)),"string"==typeof e&&o[e]()}))}var n=function e(n,r){this.options=t.extend({},e.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=t-r)&&"bottom";var s=null==this.affixed,c=s?i:o.top;return null!=n&&i<=n?"top":null!=r&&c+(s?a:e)>=t-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,o=r.top,a=r.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=i(r)&&(a=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof a&&(a=r.bottom(this.$element));var c=this.getState(s,e,o,a);if(this.affixed!=c){null!=this.unpin&&this.$element.css("top","");var l="affix"+(c?"-"+c:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=c,this.unpin="bottom"==c?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==c&&this.$element.offset({top:s-e-a})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",(function(){t('[data-spy="affix"]').each((function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)}))}))}(r)},54743:function(t,e,n){var r,i;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}void 0===this&&void 0!==window&&window,r=[n(95616)],i=function(t){!function(t){"use strict";var e=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],r={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},i=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,a=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function s(e,r){var o=e.nodeName.toLowerCase();if(-1!==t.inArray(o,r))return-1===t.inArray(o,n)||Boolean(e.nodeValue.match(i)||e.nodeValue.match(a));for(var s=t(r).filter((function(t,e){return e instanceof RegExp})),c=0,l=s.length;c<l;c++)if(o.match(s[c]))return!0;return!1}function c(t,e,n){if(n&&"function"==typeof n)return n(t);for(var r=Object.keys(e),i=0,o=t.length;i<o;i++)for(var a=t[i].querySelectorAll("*"),c=0,l=a.length;c<l;c++){var u=a[c],h=u.nodeName.toLowerCase();if(-1!==r.indexOf(h))for(var f=[].slice.call(u.attributes),d=[].concat(e["*"]||[],e[h]||[]),p=0,m=f.length;p<m;p++){var y=f[p];s(y,d)||u.removeAttribute(y.nodeName)}else u.parentNode.removeChild(u)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var n="classList",r="prototype",i=e.Element[r],o=Object,a=function(){var e=t(this);return{add:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.addClass(t)},remove:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.removeClass(t)},toggle:function(t,n){return e.toggleClass(t,n)},contains:function(t){return e.hasClass(t)}}};if(o.defineProperty){var s={get:a,enumerable:!0,configurable:!0};try{o.defineProperty(i,n,s)}catch(c){void 0!==c.number&&-2146823252!==c.number||(s.enumerable=!1,o.defineProperty(i,n,s))}}else o[r].__defineGetter__&&i.__defineGetter__(n,a)}}(window);var l,u,h,f=document.createElement("_");if(f.classList.add("c1","c2"),!f.classList.contains("c2")){var d=DOMTokenList.prototype.add,p=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,d.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,p.bind(this))}}if(f.classList.toggle("c3",!1),f.classList.contains("c3")){var m=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:m.call(this,t)}}function y(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))}function v(t,e){var n,r=t.selectedOptions,i=[];if(e){for(var o=0,a=r.length;o<a;o++)(n=r[o]).disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled||i.push(n);return i}return r}function b(t,e){for(var n,r=[],i=e||t.selectedOptions,o=0,a=i.length;o<a;o++)(n=i[o]).disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled||r.push(n.value);return t.multiple?r:r.length?r[0]:null}f=null,String.prototype.startsWith||(l=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(r){}return n}(),u={}.toString,h=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==u.call(t))throw new TypeError;var n=e.length,r=String(t),i=r.length,o=arguments.length>1?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var s=Math.min(Math.max(a,0),n);if(i+s>n)return!1;for(var c=-1;++c<i;)if(e.charCodeAt(s+c)!=r.charCodeAt(c))return!1;return!0},l?l(String.prototype,"startsWith",{value:h,configurable:!0,writable:!0}):String.prototype.startsWith=h),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var g={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,n){return n&&!g.useDefault&&t(e).data("selected",!0),g._set.apply(this,arguments)};var w=null,x=function(){try{return new Event("change"),!0}catch(t){return!1}}();function j(t,e,n,r){for(var i=["display","subtext","tokens"],o=!1,a=0;a<i.length;a++){var s=i[a],c=t[s];if(c&&(c=c.toString(),"display"===s&&(c=c.replace(/<[^>]+>/g,"")),r&&(c=E(c)),c=c.toUpperCase(),o="function"==typeof n?n(c,e):"contains"===n?c.indexOf(e)>=0:c.startsWith(e)))break}return o}function O(t){return parseInt(t,10)||0}t.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(x?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)};var S={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,T=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function A(t){return S[t]}function E(t){return(t=t.toString())&&t.replace(_,A).replace(T,"")}var P,C,k,N,I,R=(P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=function(t){return P[t]},k="(?:"+Object.keys(P).join("|")+")",N=RegExp(k),I=RegExp(k,"g"),function(t){return t=null==t?"":""+t,N.test(t)?t.replace(I,C):t}),L={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},D={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},M={success:!1,major:"3"};try{M.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),M.major=M.full[0],M.success=!0}catch(Z){}var B=0,H=".bs.select",F={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},G={MENU:"."+F.MENU},V={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};V.noResults=V.li.cloneNode(!1),V.noResults.className="no-results",V.a.setAttribute("role","option"),V.a.className="dropdown-item",V.subtext.className="text-muted",V.text=V.span.cloneNode(!1),V.text.className="text",V.checkMark=V.span.cloneNode(!1);var W=new RegExp(D.ARROW_UP+"|"+D.ARROW_DOWN),U=new RegExp("^"+D.TAB+"$|"+D.ESCAPE),z={li:function(t,e,n){var r=V.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?r.appendChild(t):r.innerHTML=t),void 0!==e&&""!==e&&(r.className=e),null!=n&&r.classList.add("optgroup-"+n),r},a:function(t,e,n){var r=V.a.cloneNode(!0);return t&&(11===t.nodeType?r.appendChild(t):r.insertAdjacentHTML("beforeend",t)),void 0!==e&&""!==e&&r.classList.add.apply(r.classList,e.split(/\s+/)),n&&r.setAttribute("style",n),r},text:function(t,e){var n,r,i=V.text.cloneNode(!1);if(t.content)i.innerHTML=t.content;else{if(i.textContent=t.text,t.icon){var o=V.whitespace.cloneNode(!1);(r=(!0===e?V.i:V.span).cloneNode(!1)).className=this.options.iconBase+" "+t.icon,V.fragment.appendChild(r),V.fragment.appendChild(o)}t.subtext&&((n=V.subtext.cloneNode(!1)).textContent=t.subtext,i.appendChild(n))}if(!0===e)for(;i.childNodes.length>0;)V.fragment.appendChild(i.childNodes[0]);else V.fragment.appendChild(i);return V.fragment},label:function(t){var e,n,r=V.text.cloneNode(!1);if(r.innerHTML=t.display,t.icon){var i=V.whitespace.cloneNode(!1);(n=V.span.cloneNode(!1)).className=this.options.iconBase+" "+t.icon,V.fragment.appendChild(n),V.fragment.appendChild(i)}return t.subtext&&((e=V.subtext.cloneNode(!1)).textContent=t.subtext,r.appendChild(e)),V.fragment.appendChild(r),V.fragment}};function X(t,e){t.length||(V.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+R(e)+'"'),this.$menuInner[0].firstChild.appendChild(V.noResults))}var $=function e(n,r){var i=this;g.useDefault||(t.valHooks.select.set=g._set,g.useDefault=!0),this.$element=t(n),this.$newElement=null,this.$button=null,this.$menu=null,this.options=r,this.selectpicker={main:{},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout((function(){i.selectpicker.keydown.keyHistory=""}),800)}}}},this.sizeInfo={},null===this.options.title&&(this.options.title=this.$element.attr("title"));var o=this.options.windowPadding;"number"==typeof o&&(this.options.windowPadding=[o,o,o,o]),this.val=e.prototype.val,this.render=e.prototype.render,this.refresh=e.prototype.refresh,this.setStyle=e.prototype.setStyle,this.selectAll=e.prototype.selectAll,this.deselectAll=e.prototype.deselectAll,this.destroy=e.prototype.destroy,this.remove=e.prototype.remove,this.show=e.prototype.show,this.hide=e.prototype.hide,this.init()};function Y(n){var r,i=arguments,a=n;if([].shift.apply(i),!M.success){try{M.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(Z){$.BootstrapVersion?M.full=$.BootstrapVersion.split(" ")[0].split("."):(M.full=[M.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",Z))}M.major=M.full[0],M.success=!0}if("4"===M.major){var s=[];$.DEFAULTS.style===F.BUTTONCLASS&&s.push({name:"style",className:"BUTTONCLASS"}),$.DEFAULTS.iconBase===F.ICONBASE&&s.push({name:"iconBase",className:"ICONBASE"}),$.DEFAULTS.tickIcon===F.TICKICON&&s.push({name:"tickIcon",className:"TICKICON"}),F.DIVIDER="dropdown-divider",F.SHOW="show",F.BUTTONCLASS="btn-light",F.POPOVERHEADER="popover-header",F.ICONBASE="",F.TICKICON="bs-ok-default";for(var c=0;c<s.length;c++)n=s[c],$.DEFAULTS[n.name]=F[n.className]}var l=this.each((function(){var n=t(this);if(n.is("select")){var s=n.data("selectpicker"),c="object"==o(a)&&a;if(s){if(c)for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(s.options[l]=c[l])}else{var u=n.data();for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&-1!==t.inArray(h,e)&&delete u[h];var f=t.extend({},$.DEFAULTS,t.fn.selectpicker.defaults||{},u,c);f.template=t.extend({},$.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},u.template,c.template),n.data("selectpicker",s=new $(this,f))}"string"==typeof a&&(r=s[a]instanceof Function?s[a].apply(s,i):s.options[a])}}));return void 0!==r?r:l}$.VERSION="1.13.18",$.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:F.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:F.ICONBASE,tickIcon:F.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:r},$.prototype={constructor:$,init:function(){var t=this,e=this.$element.attr("id"),n=this.$element[0],r=n.form;B++,this.selectId="bs-select-"+B,n.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),n.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.buildData(),this.$element.after(this.$newElement).prependTo(this.$newElement),r&&null===n.form&&(r.id||(r.id="form-"+this.selectId),n.setAttribute("form",r.id)),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(G.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),n.classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(F.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+H,(function(){if(t.isVirtual()){var e=t.$menuInner[0],n=e.firstChild.cloneNode(!1);e.replaceChild(n,e.firstChild),e.scrollTop=0}})),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide"+H,e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden"+H,e)},"show.bs.dropdown":function(e){t.$element.trigger("show"+H,e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown"+H,e)}}),n.hasAttribute("required")&&this.$element.on("invalid"+H,(function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown"+H+".invalid",(function(){t.$element.val(t.$element.val()).off("shown"+H+".invalid")})).on("rendered"+H,(function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered"+H)})),t.$button.on("blur"+H,(function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur"+H)}))})),setTimeout((function(){t.buildList(),t.$element.trigger("loaded"+H)}))},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n=this.multiple?' aria-multiselectable="true"':"",r="",i=this.autofocus?" autofocus":"";M.major<4&&this.$element.parent().hasClass("input-group")&&(r=" input-group-btn");var o,a="",s="",c="",l="";return this.options.header&&(a='<div class="'+F.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+R(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(c='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+F.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+F.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+F.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),o='<div class="dropdown bootstrap-select'+e+r+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===M.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+F.MENU+" "+("4"===M.major?"":F.SHOW)+'">'+a+s+c+'<div class="inner '+F.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+n+'><ul class="'+F.MENU+" inner "+("4"===M.major?F.SHOW:"")+'" role="presentation"></ul></div>'+l+"</div></div>",t(o)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],n=!0;"divider"===e.type?(n=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(n=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),n&&(this.selectpicker.view.size++,e.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex&&(this.selectpicker.view.firstHighlightIndex=t)),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(e,n,r){var i,o,a=this,s=0,l=[];if(this.selectpicker.isSearching=e,this.selectpicker.current=e?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),n)if(r)s=this.$menuInner[0].scrollTop;else if(!a.multiple){var u=a.$element[0],h=(u.options[u.selectedIndex]||{}).liIndex;if("number"==typeof h&&!1!==a.options.size){var f=a.selectpicker.main.data[h],d=f&&f.position;d&&(s=d-(a.sizeInfo.menuInnerHeight+a.sizeInfo.liHeight)/2)}}function p(t,n){var r,s,u,h,f,d,p,m,v=a.selectpicker.current.elements.length,b=[],g=!0,w=a.isVirtual();a.selectpicker.view.scrollTop=t,r=Math.ceil(a.sizeInfo.menuInnerHeight/a.sizeInfo.liHeight*1.5),s=Math.round(v/r)||1;for(var x=0;x<s;x++){var j=(x+1)*r;if(x===s-1&&(j=v),b[x]=[x*r+(x?1:0),j],!v)break;void 0===f&&t-1<=a.selectpicker.current.data[j-1].position-a.sizeInfo.menuInnerHeight&&(f=x)}if(void 0===f&&(f=0),d=[a.selectpicker.view.position0,a.selectpicker.view.position1],u=Math.max(0,f-1),h=Math.min(s-1,f+1),a.selectpicker.view.position0=!1===w?0:Math.max(0,b[u][0])||0,a.selectpicker.view.position1=!1===w?v:Math.min(v,b[h][1])||0,p=d[0]!==a.selectpicker.view.position0||d[1]!==a.selectpicker.view.position1,void 0!==a.activeIndex&&(o=a.selectpicker.main.elements[a.prevActiveIndex],l=a.selectpicker.main.elements[a.activeIndex],i=a.selectpicker.main.elements[a.selectedIndex],n&&(a.activeIndex!==a.selectedIndex&&a.defocusItem(l),a.activeIndex=void 0),a.activeIndex&&a.activeIndex!==a.selectedIndex&&a.defocusItem(i)),void 0!==a.prevActiveIndex&&a.prevActiveIndex!==a.activeIndex&&a.prevActiveIndex!==a.selectedIndex&&a.defocusItem(o),(n||p)&&(m=a.selectpicker.view.visibleElements?a.selectpicker.view.visibleElements.slice():[],a.selectpicker.view.visibleElements=!1===w?a.selectpicker.current.elements:a.selectpicker.current.elements.slice(a.selectpicker.view.position0,a.selectpicker.view.position1),a.setOptionStatus(),(e||!1===w&&n)&&(g=!y(m,a.selectpicker.view.visibleElements)),(n||!0===w)&&g)){var O,S,_=a.$menuInner[0],T=document.createDocumentFragment(),A=_.firstChild.cloneNode(!1),E=a.selectpicker.view.visibleElements,P=[];_.replaceChild(A,_.firstChild),x=0;for(var C=E.length;x<C;x++){var k,N,I=E[x];a.options.sanitize&&(k=I.lastChild)&&(N=a.selectpicker.current.data[x+a.selectpicker.view.position0])&&N.content&&!N.sanitized&&(P.push(k),N.sanitized=!0),T.appendChild(I)}if(a.options.sanitize&&P.length&&c(P,a.options.whiteList,a.options.sanitizeFn),!0===w?(O=0===a.selectpicker.view.position0?0:a.selectpicker.current.data[a.selectpicker.view.position0-1].position,S=a.selectpicker.view.position1>v-1?0:a.selectpicker.current.data[v-1].position-a.selectpicker.current.data[a.selectpicker.view.position1-1].position,_.firstChild.style.marginTop=O+"px",_.firstChild.style.marginBottom=S+"px"):(_.firstChild.style.marginTop=0,_.firstChild.style.marginBottom=0),_.firstChild.appendChild(T),!0===w&&a.sizeInfo.hasScrollBar){var R=_.firstChild.offsetWidth;if(n&&R<a.sizeInfo.menuInnerInnerWidth&&a.sizeInfo.totalMenuWidth>a.sizeInfo.selectWidth)_.firstChild.style.minWidth=a.sizeInfo.menuInnerInnerWidth+"px";else if(R>a.sizeInfo.menuInnerInnerWidth){a.$menu[0].style.minWidth=0;var L=_.firstChild.offsetWidth;L>a.sizeInfo.menuInnerInnerWidth&&(a.sizeInfo.menuInnerInnerWidth=L,_.firstChild.style.minWidth=a.sizeInfo.menuInnerInnerWidth+"px"),a.$menu[0].style.minWidth=""}}}if(a.prevActiveIndex=a.activeIndex,a.options.liveSearch){if(e&&n){var D,M=0;a.selectpicker.view.canHighlight[M]||(M=1+a.selectpicker.view.canHighlight.slice(1).indexOf(!0)),D=a.selectpicker.view.visibleElements[M],a.defocusItem(a.selectpicker.view.currentActive),a.activeIndex=(a.selectpicker.current.data[M]||{}).index,a.focusItem(D)}}else a.$menuInner.trigger("focus")}p(s,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",(function(t,e){a.noScroll||p(this.scrollTop,e),a.noScroll=!1})),t(window).off("resize"+H+"."+this.selectId+".createView").on("resize"+H+"."+this.selectId+".createView",(function(){a.$newElement.hasClass(F.SHOW)&&p(a.$menuInner[0].scrollTop)}))},focusItem:function(t,e,n){if(t){e=e||this.selectpicker.main.data[this.activeIndex];var r=t.firstChild;r&&(r.setAttribute("aria-setsize",this.selectpicker.view.size),r.setAttribute("aria-posinset",e.posinset),!0!==n&&(this.focusedParent.setAttribute("aria-activedescendant",r.id),t.classList.add("active"),r.classList.add("active")))}},defocusItem:function(t){t&&(t.classList.remove("active"),t.firstChild&&t.firstChild.classList.remove("active"))},setPlaceholder:function(){var t=this,e=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=!0;var n=this.$element[0],r=!1,i=!this.selectpicker.view.titleOption.parentNode,o=n.selectedIndex,a=n.options[o],s=window.performance&&window.performance.getEntriesByType("navigation"),c=s&&s.length?"back_forward"!==s[0].type:2!==window.performance.navigation.type;i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",r=!a||0===o&&!1===a.defaultSelected&&void 0===this.$element.data("selected")),(i||0!==this.selectpicker.view.titleOption.index)&&n.insertBefore(this.selectpicker.view.titleOption,n.firstChild),r&&c?n.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",(function(){t.selectpicker.view.displayedValue!==n.value&&t.render()}))}return e},buildData:function(){var t=':not([hidden]):not([data-hidden="true"])',e=[],n=0,r=this.setPlaceholder()?1:0;this.options.hideDisabled&&(t+=":not(:disabled)");var i=this.$element[0].querySelectorAll("select > *"+t);function o(t){var n=e[e.length-1];n&&"divider"===n.type&&(n.optID||t.optID)||((t=t||{}).type="divider",e.push(t))}function a(t,n){if((n=n||{}).divider="true"===t.getAttribute("data-divider"),n.divider)o({optID:n.optID});else{var r=e.length,i=t.style.cssText,a=i?R(i):"",s=(t.className||"")+(n.optgroupClass||"");n.optID&&(s="opt "+s),n.optionClass=s.trim(),n.inlineStyle=a,n.text=t.textContent,n.content=t.getAttribute("data-content"),n.tokens=t.getAttribute("data-tokens"),n.subtext=t.getAttribute("data-subtext"),n.icon=t.getAttribute("data-icon"),t.liIndex=r,n.display=n.content||n.text,n.type="option",n.index=r,n.option=t,n.selected=!!t.selected,n.disabled=n.disabled||!!t.disabled,e.push(n)}}function s(i,s){var c=s[i],l=!(i-1<r)&&s[i-1],u=s[i+1],h=c.querySelectorAll("option"+t);if(h.length){var f,d,p={display:R(c.label),subtext:c.getAttribute("data-subtext"),icon:c.getAttribute("data-icon"),type:"optgroup-label",optgroupClass:" "+(c.className||"")};n++,l&&o({optID:n}),p.optID=n,e.push(p);for(var m=0,y=h.length;m<y;m++){var v=h[m];0===m&&(d=(f=e.length-1)+y),a(v,{headerIndex:f,lastIndex:d,optID:p.optID,optgroupClass:p.optgroupClass,disabled:c.disabled})}u&&o({optID:n})}}for(var c=i.length,l=r;l<c;l++){var u=i[l];"OPTGROUP"!==u.tagName?a(u,{}):s(l,i)}this.selectpicker.main.data=this.selectpicker.current.data=e},buildList:function(){var t=this,e=this.selectpicker.main.data,n=[],r=0;function i(e){var i,o=0;switch(e.type){case"divider":i=z.li(!1,F.DIVIDER,e.optID?e.optID+"div":void 0);break;case"option":(i=z.li(z.a(z.text.call(t,e),e.optionClass,e.inlineStyle),"",e.optID)).firstChild&&(i.firstChild.id=t.selectId+"-"+e.index);break;case"optgroup-label":i=z.li(z.label.call(t,e),"dropdown-header"+e.optgroupClass,e.optID)}e.element=i,n.push(i),e.display&&(o+=e.display.length),e.subtext&&(o+=e.subtext.length),e.icon&&(o+=1),o>r&&(r=o,t.selectpicker.view.widestOption=n[n.length-1])}!t.options.showTick&&!t.multiple||V.checkMark.parentNode||(V.checkMark.className=this.options.iconBase+" "+t.options.tickIcon+" check-mark",V.a.appendChild(V.checkMark));for(var o=e.length,a=0;a<o;a++)i(e[a]);this.selectpicker.main.elements=this.selectpicker.current.elements=n},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var t,e,n=this,r=this.$element[0],i=this.setPlaceholder()&&0===r.selectedIndex,o=v(r,this.options.hideDisabled),a=o.length,s=this.$button[0],l=s.querySelector(".filter-option-inner-inner"),u=document.createTextNode(this.options.multipleSeparator),h=V.fragment.cloneNode(!1),f=!1;if(s.classList.toggle("bs-placeholder",n.multiple?!a:!b(r,o)),n.multiple||1!==o.length||(n.selectpicker.view.displayedValue=b(r,o)),"static"===this.options.selectedTextFormat)h=z.text.call(this,{text:this.options.title},!0);else if((t=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&a>1)&&(t=(e=this.options.selectedTextFormat.split(">")).length>1&&a>e[1]||1===e.length&&a>=2),!1===t){if(!i){for(var d=0;d<a&&d<50;d++){var p=o[d],m=this.selectpicker.main.data[p.liIndex],y={};this.multiple&&d>0&&h.appendChild(u.cloneNode(!1)),p.title?y.text=p.title:m&&(m.content&&n.options.showContent?(y.content=m.content.toString(),f=!0):(n.options.showIcon&&(y.icon=m.icon),n.options.showSubtext&&!n.multiple&&m.subtext&&(y.subtext=" "+m.subtext),y.text=p.textContent.trim())),h.appendChild(z.text.call(this,y,!0))}a>49&&h.appendChild(document.createTextNode("..."))}}else{var g=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(g+=":not(:disabled)");var w=this.$element[0].querySelectorAll("select > option"+g+", optgroup"+g+" option"+g).length,x="function"==typeof this.options.countSelectedText?this.options.countSelectedText(a,w):this.options.countSelectedText;h=z.text.call(this,{text:x.replace("{0}",a.toString()).replace("{1}",w.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),h.childNodes.length||(h=z.text.call(this,{text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),s.title=h.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&f&&c([h],n.options.whiteList,n.options.sanitizeFn),l.innerHTML="",l.appendChild(h),M.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var j=s.querySelector(".filter-expand"),O=l.cloneNode(!0);O.className="filter-expand",j?s.replaceChild(O,j):s.appendChild(O)}this.$element.trigger("rendered"+H)},setStyle:function(t,e){var n,r=this.$button[0],i=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),M.major<4&&(i.classList.add("bs3"),i.parentNode.classList&&i.parentNode.classList.contains("input-group")&&(i.previousElementSibling||i.nextElementSibling)&&(i.previousElementSibling||i.nextElementSibling).classList.contains("input-group-addon")&&i.classList.add("bs3-has-addon")),n=t?t.trim():o,"add"==e?n&&r.classList.add.apply(r.classList,n.split(" ")):"remove"==e?n&&r.classList.remove.apply(r.classList,n.split(" ")):(o&&r.classList.remove.apply(r.classList,o.split(" ")),n&&r.classList.add.apply(r.classList,n.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){var n,r=V.div.cloneNode(!1),i=V.div.cloneNode(!1),o=V.div.cloneNode(!1),a=document.createElement("ul"),s=V.li.cloneNode(!1),c=V.li.cloneNode(!1),l=V.a.cloneNode(!1),u=V.span.cloneNode(!1),h=this.options.header&&this.$menu.find("."+F.POPOVERHEADER).length>0?this.$menu.find("."+F.POPOVERHEADER)[0].cloneNode(!0):null,f=this.options.liveSearch?V.div.cloneNode(!1):null,d=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,u.className="text",l.className="dropdown-item "+(m?m.className:""),r.className=this.$menu[0].parentNode.className+" "+F.SHOW,r.style.width=0,"auto"===this.options.width&&(i.style.minWidth=0),i.className=F.MENU+" "+F.SHOW,o.className="inner "+F.SHOW,a.className=F.MENU+" inner "+("4"===M.major?F.SHOW:""),s.className=F.DIVIDER,c.className="dropdown-header",u.appendChild(document.createTextNode("​")),this.selectpicker.current.data.length)for(var y=0;y<this.selectpicker.current.data.length;y++){var v=this.selectpicker.current.data[y];if("option"===v.type){n=v.element;break}}else n=V.li.cloneNode(!1),l.appendChild(u),n.appendChild(l);if(c.appendChild(u.cloneNode(!0)),this.selectpicker.view.widestOption&&a.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),a.appendChild(n),a.appendChild(s),a.appendChild(c),h&&i.appendChild(h),f){var b=document.createElement("input");f.className="bs-searchbox",b.className="form-control",f.appendChild(b),i.appendChild(f)}d&&i.appendChild(d),o.appendChild(a),i.appendChild(o),p&&i.appendChild(p),r.appendChild(i),document.body.appendChild(r);var g,w=n.offsetHeight,x=c?c.offsetHeight:0,j=h?h.offsetHeight:0,S=f?f.offsetHeight:0,_=d?d.offsetHeight:0,T=p?p.offsetHeight:0,A=t(s).outerHeight(!0),E=!!window.getComputedStyle&&window.getComputedStyle(i),P=i.offsetWidth,C=E?null:t(i),k={vert:O(E?E.paddingTop:C.css("paddingTop"))+O(E?E.paddingBottom:C.css("paddingBottom"))+O(E?E.borderTopWidth:C.css("borderTopWidth"))+O(E?E.borderBottomWidth:C.css("borderBottomWidth")),horiz:O(E?E.paddingLeft:C.css("paddingLeft"))+O(E?E.paddingRight:C.css("paddingRight"))+O(E?E.borderLeftWidth:C.css("borderLeftWidth"))+O(E?E.borderRightWidth:C.css("borderRightWidth"))},N={vert:k.vert+O(E?E.marginTop:C.css("marginTop"))+O(E?E.marginBottom:C.css("marginBottom"))+2,horiz:k.horiz+O(E?E.marginLeft:C.css("marginLeft"))+O(E?E.marginRight:C.css("marginRight"))+2};o.style.overflowY="scroll",g=i.offsetWidth-P,document.body.removeChild(r),this.sizeInfo.liHeight=w,this.sizeInfo.dropdownHeaderHeight=x,this.sizeInfo.headerHeight=j,this.sizeInfo.searchHeight=S,this.sizeInfo.actionsHeight=_,this.sizeInfo.doneButtonHeight=T,this.sizeInfo.dividerHeight=A,this.sizeInfo.menuPadding=k,this.sizeInfo.menuExtras=N,this.sizeInfo.menuWidth=P,this.sizeInfo.menuInnerInnerWidth=P-k.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=g,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,n=this,r=t(window),i=n.$newElement.offset(),o=t(n.options.container);n.options.container&&o.length&&!o.is("body")?((e=o.offset()).top+=parseInt(o.css("borderTopWidth")),e.left+=parseInt(o.css("borderLeftWidth"))):e={top:0,left:0};var a=n.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-r.scrollTop(),this.sizeInfo.selectOffsetBot=r.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-a[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-r.scrollLeft(),this.sizeInfo.selectOffsetRight=r.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-a[1],this.sizeInfo.selectOffsetTop-=a[0],this.sizeInfo.selectOffsetLeft-=a[3]},setMenuSize:function(t){this.getSelectPosition();var e,n,r,i,o,a,s,c,l=this.sizeInfo.selectWidth,u=this.sizeInfo.liHeight,h=this.sizeInfo.headerHeight,f=this.sizeInfo.searchHeight,d=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,m=this.sizeInfo.dividerHeight,y=this.sizeInfo.menuPadding,v=0;if(this.options.dropupAuto&&(s="auto"!==this.options.size?u*this.options.size+y.vert:u*this.selectpicker.current.data.length+y.vert,c=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&s+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(c=this.selectpicker.dropup),this.$newElement.toggleClass(F.DROPUP,c),this.selectpicker.dropup=c),"auto"===this.options.size)i=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,r=i+h+f+d+p,a=Math.max(i-y.vert,0),this.$newElement.hasClass(F.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=n,e=n-h-f-d-p-y.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var b=0;b<this.options.size;b++)"divider"===this.selectpicker.current.data[b].type&&v++;e=(n=u*this.options.size+v*m+y.vert)-y.vert,o=n+h+f+d+p,r=a=""}this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":r+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":a+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(F.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-l),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n=this,r=t(window);this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",(function(){return n.setMenuSize()})),"auto"===this.options.size?r.off("resize"+H+"."+this.selectId+".setMenuSize scroll"+H+"."+this.selectId+".setMenuSize").on("resize"+H+"."+this.selectId+".setMenuSize scroll"+H+"."+this.selectId+".setMenuSize",(function(){return n.setMenuSize()})):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&r.off("resize"+H+"."+this.selectId+".setMenuSize scroll"+H+"."+this.selectId+".setMenuSize")}this.createView(!1,!0,e)},setWidth:function(){var t=this;"auto"===this.options.width?requestAnimationFrame((function(){t.$menu.css("min-width","0"),t.$element.on("loaded"+H,(function(){t.liHeight(),t.setMenuSize();var e=t.$newElement.clone().appendTo("body"),n=e.css("width","auto").children("button").outerWidth();e.remove(),t.sizeInfo.selectWidth=Math.max(t.sizeInfo.totalMenuWidth,n),t.$newElement.css("width",t.sizeInfo.selectWidth+"px")}))})):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,n,r,i=this,o=t(this.options.container),a=function(a){var s={},c=i.options.display||!!t.fn.dropdown.Constructor.Default&&t.fn.dropdown.Constructor.Default.display;i.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(F.DROPUP,a.hasClass(F.DROPUP)),e=a.offset(),o.is("body")?n={top:0,left:0}:((n=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),r=a.hasClass(F.DROPUP)?0:a[0].offsetHeight,(M.major<4||"static"===c)&&(s.top=e.top-n.top+r,s.left=e.left-n.left),s.width=a[0].offsetWidth,i.$bsContainer.css(s)};this.$button.on("click.bs.dropdown.data-api",(function(){i.isDisabled()||(a(i.$newElement),i.$bsContainer.appendTo(i.options.container).toggleClass(F.SHOW,!i.$button.hasClass(F.SHOW)).append(i.$menu))})),t(window).off("resize"+H+"."+this.selectId+" scroll"+H+"."+this.selectId).on("resize"+H+"."+this.selectId+" scroll"+H+"."+this.selectId,(function(){i.$newElement.hasClass(F.SHOW)&&a(i.$newElement)})),this.$element.on("hide"+H,(function(){i.$menu.data("height",i.$menu.height()),i.$bsContainer.detach()}))},setOptionStatus:function(t){var e=this;if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var n=0;n<e.selectpicker.view.visibleElements.length;n++){var r=e.selectpicker.current.data[n+e.selectpicker.view.position0],i=r.option;i&&(!0!==t&&e.setDisabled(r.index,r.disabled),e.setSelected(r.index,i.selected))}},setSelected:function(t,e){var n,r,i=this.selectpicker.main.elements[t],o=this.selectpicker.main.data[t],a=void 0!==this.activeIndex,s=this.activeIndex===t||e&&!this.multiple&&!a;o.selected=e,r=i.firstChild,e&&(this.selectedIndex=t),i.classList.toggle("selected",e),s?(this.focusItem(i,o),this.selectpicker.view.currentActive=i,this.activeIndex=t):this.defocusItem(i),r&&(r.classList.toggle("selected",e),e?r.setAttribute("aria-selected",!0):this.multiple?r.setAttribute("aria-selected",!1):r.removeAttribute("aria-selected")),s||a||!e||void 0===this.prevActiveIndex||(n=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(n))},setDisabled:function(t,e){var n,r=this.selectpicker.main.elements[t];this.selectpicker.main.data[t].disabled=e,n=r.firstChild,r.classList.toggle(F.DISABLED,e),n&&("4"===M.major&&n.classList.toggle(F.DISABLED,e),e?(n.setAttribute("aria-disabled",e),n.setAttribute("tabindex",-1)):(n.removeAttribute("aria-disabled"),n.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(F.DISABLED),this.$button.addClass(F.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(F.DISABLED)&&(this.$newElement[0].classList.remove(F.DISABLED),this.$button.removeClass(F.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var e=this,n=t(document);function r(){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$menuInner.trigger("focus")}function i(){e.dropdown&&e.dropdown._popper&&e.dropdown._popper.state.isCreated?r():requestAnimationFrame(i)}n.data("spaceSelect",!1),this.$button.on("keyup",(function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))})),this.$newElement.on("show.bs.dropdown",(function(){M.major>3&&!e.dropdown&&(e.dropdown=e.$button.data("bs.dropdown"),e.dropdown._menu=e.$menu[0])})),this.$button.on("click.bs.dropdown.data-api",(function(){e.$newElement.hasClass(F.SHOW)||e.setSize()})),this.$element.on("shown"+H,(function(){e.$menuInner[0].scrollTop!==e.selectpicker.view.scrollTop&&(e.$menuInner[0].scrollTop=e.selectpicker.view.scrollTop),M.major>3?requestAnimationFrame(i):r()})),this.$menuInner.on("mouseenter","li a",(function(t){var n=this.parentElement,r=e.isVirtual()?e.selectpicker.view.position0:0,i=Array.prototype.indexOf.call(n.parentElement.children,n),o=e.selectpicker.current.data[i+r];e.focusItem(n,o,!0)})),this.$menuInner.on("click","li a",(function(n,r){var i=t(this),o=e.$element[0],a=e.isVirtual()?e.selectpicker.view.position0:0,s=e.selectpicker.current.data[i.parent().index()+a],c=s.index,l=b(o),u=o.selectedIndex,h=o.options[u],f=!0;if(e.multiple&&1!==e.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!i.parent().hasClass(F.DISABLED)){var d=s.option,p=t(d),m=d.selected,y=p.parent("optgroup"),g=y.find("option"),x=e.options.maxOptions,j=y.data("maxOptions")||!1;if(c===e.activeIndex&&(r=!0),r||(e.prevActiveIndex=e.activeIndex,e.activeIndex=void 0),e.multiple){if(d.selected=!m,e.setSelected(c,!m),e.focusedParent.focus(),!1!==x||!1!==j){var O=x<v(o).length,S=j<y.find("option:selected").length;if(x&&O||j&&S)if(x&&1==x)o.selectedIndex=-1,d.selected=!0,e.setOptionStatus(!0);else if(j&&1==j){for(var _=0;_<g.length;_++){var T=g[_];T.selected=!1,e.setSelected(T.liIndex,!1)}d.selected=!0,e.setSelected(c,!0)}else{var A="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,E="function"==typeof A?A(x,j):A,P=E[0].replace("{n}",x),C=E[1].replace("{n}",j),k=t('<div class="notify"></div>');E[2]&&(P=P.replace("{var}",E[2][x>1?0:1]),C=C.replace("{var}",E[2][j>1?0:1])),d.selected=!1,e.$menu.append(k),x&&O&&(k.append(t("<div>"+P+"</div>")),f=!1,e.$element.trigger("maxReached"+H)),j&&S&&(k.append(t("<div>"+C+"</div>")),f=!1,e.$element.trigger("maxReachedGrp"+H)),setTimeout((function(){e.setSelected(c,!1)}),10),k[0].classList.add("fadeOut"),setTimeout((function(){k.remove()}),1050)}}}else h&&(h.selected=!1),d.selected=!0,e.setSelected(c,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.trigger("focus"):e.options.liveSearch&&e.$searchbox.trigger("focus"),f&&(e.multiple||u!==o.selectedIndex)&&(w=[d.index,p.prop("selected"),l],e.$element.triggerNative("change"))}})),this.$menu.on("click","li."+F.DISABLED+" a, ."+F.POPOVERHEADER+", ."+F.POPOVERHEADER+" :not(.close)",(function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.trigger("focus"):e.$button.trigger("focus"))})),this.$menuInner.on("click",".divider, .dropdown-header",(function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus")})),this.$menu.on("click","."+F.POPOVERHEADER+" .close",(function(){e.$button.trigger("click")})),this.$searchbox.on("click",(function(t){t.stopPropagation()})),this.$menu.on("click",".actions-btn",(function(n){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus"),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()})),this.$button.on("focus"+H,(function(t){var n=e.$element[0].getAttribute("tabindex");void 0!==n&&t.originalEvent&&t.originalEvent.isTrusted&&(this.setAttribute("tabindex",n),e.$element[0].setAttribute("tabindex",-1),e.selectpicker.view.tabindex=n)})).on("blur"+H,(function(t){void 0!==e.selectpicker.view.tabindex&&t.originalEvent&&t.originalEvent.isTrusted&&(e.$element[0].setAttribute("tabindex",e.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),e.selectpicker.view.tabindex=void 0)})),this.$element.on("change"+H,(function(){e.render(),e.$element.trigger("changed"+H,w),w=null})).on("focus"+H,(function(){e.options.mobile||e.$button[0].focus()}))},liveSearchListener:function(){var t=this;this.$button.on("click.bs.dropdown.data-api",(function(){t.$searchbox.val()&&(t.$searchbox.val(""),t.selectpicker.search.previousValue=void 0)})),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",(function(t){t.stopPropagation()})),this.$searchbox.on("input propertychange",(function(){var e=t.$searchbox[0].value;if(t.selectpicker.search.elements=[],t.selectpicker.search.data=[],e){var n=[],r=e.toUpperCase(),i={},o=[],a=t._searchStyle(),s=t.options.liveSearchNormalize;s&&(r=E(r));for(var c=0;c<t.selectpicker.main.data.length;c++){var l=t.selectpicker.main.data[c];i[c]||(i[c]=j(l,r,a,s)),i[c]&&void 0!==l.headerIndex&&-1===o.indexOf(l.headerIndex)&&(l.headerIndex>0&&(i[l.headerIndex-1]=!0,o.push(l.headerIndex-1)),i[l.headerIndex]=!0,o.push(l.headerIndex),i[l.lastIndex+1]=!0),i[c]&&"optgroup-label"!==l.type&&o.push(c)}c=0;for(var u=o.length;c<u;c++){var h=o[c],f=o[c-1],d=(l=t.selectpicker.main.data[h],t.selectpicker.main.data[f]);("divider"!==l.type||"divider"===l.type&&d&&"divider"!==d.type&&u-1!==c)&&(t.selectpicker.search.data.push(l),n.push(t.selectpicker.main.elements[h]))}t.activeIndex=void 0,t.noScroll=!0,t.$menuInner.scrollTop(0),t.selectpicker.search.elements=n,t.createView(!0),X.call(t,n,e)}else t.selectpicker.search.previousValue&&(t.$menuInner.scrollTop(0),t.createView(!1));t.selectpicker.search.previousValue=e}))},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){var e=this.$element[0];if(void 0!==t){var n=b(e);if(w=[null,null,n],this.$element.val(t).trigger("changed"+H,w),this.$newElement.hasClass(F.SHOW))if(this.multiple)this.setOptionStatus(!0);else{var r=(e.options[e.selectedIndex]||{}).liIndex;"number"==typeof r&&(this.setSelected(this.selectedIndex,!1),this.setSelected(r,!0))}return this.render(),w=null,this.$element}return this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element[0],n=0,r=0,i=b(e);e.classList.add("bs-select-hidden");for(var o=0,a=this.selectpicker.current.data,s=a.length;o<s;o++){var c=a[o],l=c.option;l&&!c.disabled&&"divider"!==c.type&&(c.selected&&n++,l.selected=t,!0===t&&r++)}e.classList.remove("bs-select-hidden"),n!==r&&(this.setOptionStatus(),w=[null,null,i],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var n,r,i,o,a,s=t(this),c=s.hasClass("dropdown-toggle"),l=(c?s.closest(".dropdown"):s.closest(G.MENU)).data("this"),u=l.findLis(),h=!1,f=e.which===D.TAB&&!c&&!l.options.selectOnTab,d=W.test(e.which)||f,p=l.$menuInner[0].scrollTop,m=!0===l.isVirtual()?l.selectpicker.view.position0:0;if(!(e.which>=112&&e.which<=123))if(!(r=l.$newElement.hasClass(F.SHOW))&&(d||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||e.which>=65&&e.which<=90)&&(l.$button.trigger("click.bs.dropdown.data-api"),l.options.liveSearch))l.$searchbox.trigger("focus");else{if(e.which===D.ESCAPE&&r&&(e.preventDefault(),l.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),d){if(!u.length)return;-1!==(n=(i=l.selectpicker.main.elements[l.activeIndex])?Array.prototype.indexOf.call(i.parentElement.children,i):-1)&&l.defocusItem(i),e.which===D.ARROW_UP?(-1!==n&&n--,n+m<0&&(n+=u.length),l.selectpicker.view.canHighlight[n+m]||-1==(n=l.selectpicker.view.canHighlight.slice(0,n+m).lastIndexOf(!0)-m)&&(n=u.length-1)):(e.which===D.ARROW_DOWN||f)&&(++n+m>=l.selectpicker.view.canHighlight.length&&(n=l.selectpicker.view.firstHighlightIndex),l.selectpicker.view.canHighlight[n+m]||(n=n+1+l.selectpicker.view.canHighlight.slice(n+m+1).indexOf(!0))),e.preventDefault();var y=m+n;e.which===D.ARROW_UP?0===m&&n===u.length-1?(l.$menuInner[0].scrollTop=l.$menuInner[0].scrollHeight,y=l.selectpicker.current.elements.length-1):h=(a=(o=l.selectpicker.current.data[y]).position-o.height)<p:(e.which===D.ARROW_DOWN||f)&&(n===l.selectpicker.view.firstHighlightIndex?(l.$menuInner[0].scrollTop=0,y=l.selectpicker.view.firstHighlightIndex):h=(a=(o=l.selectpicker.current.data[y]).position-l.sizeInfo.menuInnerHeight)>p),i=l.selectpicker.current.elements[y],l.activeIndex=l.selectpicker.current.data[y].index,l.focusItem(i),l.selectpicker.view.currentActive=i,h&&(l.$menuInner[0].scrollTop=a),l.options.liveSearch?l.$searchbox.trigger("focus"):s.trigger("focus")}else if(!s.is("input")&&!U.test(e.which)||e.which===D.SPACE&&l.selectpicker.keydown.keyHistory){var v,b,g=[];e.preventDefault(),l.selectpicker.keydown.keyHistory+=L[e.which],l.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(l.selectpicker.keydown.resetKeyHistory.cancel),l.selectpicker.keydown.resetKeyHistory.cancel=l.selectpicker.keydown.resetKeyHistory.start(),b=l.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0));for(var w=0;w<l.selectpicker.current.data.length;w++){var x=l.selectpicker.current.data[w];j(x,b,"startsWith",!0)&&l.selectpicker.view.canHighlight[w]&&g.push(x.index)}if(g.length){var O=0;u.removeClass("active").find("a").removeClass("active"),1===b.length&&(-1===(O=g.indexOf(l.activeIndex))||O===g.length-1?O=0:O++),v=g[O],p-(o=l.selectpicker.main.data[v]).position>0?(a=o.position-o.height,h=!0):(a=o.position-l.sizeInfo.menuInnerHeight,h=o.position>p+l.sizeInfo.menuInnerHeight),i=l.selectpicker.main.elements[v],l.activeIndex=g[O],l.focusItem(i),i&&i.firstChild.focus(),h&&(l.$menuInner[0].scrollTop=a),s.trigger("focus")}}r&&(e.which===D.SPACE&&!l.selectpicker.keydown.keyHistory||e.which===D.ENTER||e.which===D.TAB&&l.options.selectOnTab)&&(e.which!==D.SPACE&&e.preventDefault(),l.options.liveSearch&&e.which===D.SPACE||(l.$menuInner.find(".active a").trigger("click",!0),s.trigger("focus"),l.options.liveSearch||(e.preventDefault(),t(document).data("spaceSelect",!0))))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var e=t.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.buildData(),this.setStyle(),this.render(),this.buildList(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+H)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(H).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),t(window).off(H+"."+this.selectId)}};var q=t.fn.selectpicker;function K(){if(t.fn.dropdown)return(t.fn.dropdown.Constructor._dataApiKeydownHandler||t.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments)}t.fn.selectpicker=Y,t.fn.selectpicker.Constructor=$,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=q,this},t(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",':not(.bootstrap-select) > [data-toggle="dropdown"]',K).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",K).on("keydown"+H,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',$.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',(function(t){t.stopPropagation()})),t(window).on("load"+H+".data-api",(function(){t(".selectpicker").each((function(){var e=t(this);Y.call(e,e.data())}))}))}(t)}.apply(e,r),void 0===i||(t.exports=i)},17972:function(t,e,n){var r,i,o;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}!function(s){"use strict";i=[n(95616),n(42689)],r=function(t,e){if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,r){var i,o,a,s,c,l,u,h={},f=!0,d=!1,p=!1,m=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],b=["top","bottom","auto"],g=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},j={},O=function(){return void 0!==e.tz&&void 0!==r.timeZone&&null!==r.timeZone&&""!==r.timeZone},S=function(t){var n;return n=null==t?e():e.isDate(t)||e.isMoment(t)?e(t):O()?e.tz(t,l,r.useStrict,r.timeZone):e(t,l,r.useStrict),O()&&n.tz(r.timeZone),n},_=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==c.indexOf("Y");case"M":return-1!==c.indexOf("M");case"d":return-1!==c.toLowerCase().indexOf("d");case"h":case"H":return-1!==c.toLowerCase().indexOf("h");case"m":return-1!==c.indexOf("m");case"s":return-1!==c.indexOf("s");default:return!1}},T=function(){return _("h")||_("m")||_("s")},A=function(){return _("y")||_("M")||_("d")},E=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(r.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",r.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(r.icons.next)))),n=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",r.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))]},P=function(){var e=t("<tr>"),n=t("<tr>"),i=t("<tr>");return _("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(r.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:r.tooltips.pickHour}).attr("data-action","showHours"))),i.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(r.icons.down))))),_("m")&&(_("h")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),i.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(r.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:r.tooltips.pickMinute}).attr("data-action","showMinutes"))),i.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(r.icons.down))))),_("s")&&(_("m")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),i.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(r.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:r.tooltips.pickSecond}).attr("data-action","showSeconds"))),i.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(r.icons.down))))),s||(e.append(t("<td>").addClass("separator")),n.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:r.tooltips.togglePeriod}))),i.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,n,i]))},C=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),r=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),i=[P()];return _("h")&&i.push(e),_("m")&&i.push(n),_("s")&&i.push(r),i},k=function(){var e=[];return r.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:r.tooltips.today}).append(t("<span>").addClass(r.icons.today)))),!r.sideBySide&&A()&&T()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:r.tooltips.selectTime}).append(t("<span>").addClass(r.icons.time)))),r.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:r.tooltips.clear}).append(t("<span>").addClass(r.icons.clear)))),r.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:r.tooltips.close}).append(t("<span>").addClass(r.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},N=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=t("<div>").addClass("datepicker").append(E()),i=t("<div>").addClass("timepicker").append(C()),o=t("<ul>").addClass("list-unstyled"),a=t("<li>").addClass("picker-switch"+(r.collapse?" accordion-toggle":"")).append(k());return r.inline&&e.removeClass("dropdown-menu"),s&&e.addClass("usetwentyfour"),_("s")&&!s&&e.addClass("wider"),r.sideBySide&&A()&&T()?(e.addClass("timepicker-sbs"),"top"===r.toolbarPlacement&&e.append(a),e.append(t("<div>").addClass("row").append(n.addClass("col-md-6")).append(i.addClass("col-md-6"))),"bottom"===r.toolbarPlacement&&e.append(a),e):("top"===r.toolbarPlacement&&o.append(a),A()&&o.append(t("<li>").addClass(r.collapse&&T()?"collapse in":"").append(n)),"default"===r.toolbarPlacement&&o.append(a),T()&&o.append(t("<li>").addClass(r.collapse&&A()?"collapse":"").append(i)),"bottom"===r.toolbarPlacement&&o.append(a),e.append(o))},I=function(){var e,i={};return(e=n.is("input")||r.inline?n.data():n.find("input").data()).dateOptions&&e.dateOptions instanceof Object&&(i=t.extend(!0,i,e.dateOptions)),t.each(r,(function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]&&(i[t]=e[n])})),i},R=function(){var e,i=(d||n).position(),o=(d||n).offset(),a=r.widgetPositioning.vertical,s=r.widgetPositioning.horizontal;if(r.widgetParent)e=r.widgetParent.append(p);else if(n.is("input"))e=n.after(p).parent();else{if(r.inline)return void(e=n.append(p));e=n,n.children().first().after(p)}if("auto"===a&&(a=o.top+1.5*p.height()>=t(window).height()+t(window).scrollTop()&&p.height()+n.outerHeight()<o.top?"top":"bottom"),"auto"===s&&(s=e.width()<o.left+p.outerWidth()/2&&o.left+p.outerWidth()>t(window).width()?"right":"left"),"top"===a?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===s?p.addClass("pull-right"):p.removeClass("pull-right"),"static"===e.css("position")&&(e=e.parents().filter((function(){return"static"!==t(this).css("position")})).first()),0===e.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");p.css({top:"top"===a?"auto":i.top+n.outerHeight(),bottom:"top"===a?e.outerHeight()-(e===n?0:i.top):"auto",left:"left"===s?e===n?0:i.left:"auto",right:"left"===s?"auto":e.outerWidth()-n.outerWidth()-(e===n?0:i.left)})},L=function(t){("dp.change"!==t.type||t.date||t.oldDate)&&n.trigger(t)},D=function(t){"y"===t&&(t="YYYY"),L({type:"dp.update",change:t,viewDate:o.clone()})},M=function(t){p&&(t&&(u=Math.max(m,Math.min(3,u+t))),p.find(".datepicker > div").hide().filter(".datepicker-"+y[u].clsName).show())},B=function(){var e=t("<tr>"),n=o.clone().startOf("w").startOf("d");for(!0===r.calendarWeeks&&e.append(t("<th>").addClass("cw").text("#"));n.isBefore(o.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");p.find(".datepicker-days thead").append(e)},H=function(t){return!0===r.disabledDates[t.format("YYYY-MM-DD")]},F=function(t){return!0===r.enabledDates[t.format("YYYY-MM-DD")]},G=function(t){return!0===r.disabledHours[t.format("H")]},V=function(t){return!0===r.enabledHours[t.format("H")]},W=function(e,n){if(!e.isValid())return!1;if(r.disabledDates&&"d"===n&&H(e))return!1;if(r.enabledDates&&"d"===n&&!F(e))return!1;if(r.minDate&&e.isBefore(r.minDate,n))return!1;if(r.maxDate&&e.isAfter(r.maxDate,n))return!1;if(r.daysOfWeekDisabled&&"d"===n&&-1!==r.daysOfWeekDisabled.indexOf(e.day()))return!1;if(r.disabledHours&&("h"===n||"m"===n||"s"===n)&&G(e))return!1;if(r.enabledHours&&("h"===n||"m"===n||"s"===n)&&!V(e))return!1;if(r.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var i=!1;if(t.each(r.disabledTimeIntervals,(function(){if(e.isBetween(this[0],this[1]))return i=!0,!1})),i)return!1}return!0},U=function(){for(var e=[],n=o.clone().startOf("y").startOf("d");n.isSame(o,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");p.find(".datepicker-months td").empty().append(e)},z=function(){var e=p.find(".datepicker-months"),n=e.find("th"),a=e.find("tbody").find("span");n.eq(0).find("span").attr("title",r.tooltips.prevYear),n.eq(1).attr("title",r.tooltips.selectYear),n.eq(2).find("span").attr("title",r.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),W(o.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(o.year()),W(o.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),a.removeClass("active"),i.isSame(o,"y")&&!f&&a.eq(i.month()).addClass("active"),a.each((function(e){W(o.clone().month(e),"M")||t(this).addClass("disabled")}))},X=function(){var t=p.find(".datepicker-years"),e=t.find("th"),n=o.clone().subtract(5,"y"),a=o.clone().add(6,"y"),s="";for(e.eq(0).find("span").attr("title",r.tooltips.prevDecade),e.eq(1).attr("title",r.tooltips.selectDecade),e.eq(2).find("span").attr("title",r.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),r.minDate&&r.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+a.year()),r.maxDate&&r.maxDate.isBefore(a,"y")&&e.eq(2).addClass("disabled");!n.isAfter(a,"y");)s+='<span data-action="selectYear" class="year'+(n.isSame(i,"y")&&!f?" active":"")+(W(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(s)},$=function(){var t,n=p.find(".datepicker-decades"),a=n.find("th"),s=e({y:o.year()-o.year()%100-1}),c=s.clone().add(100,"y"),l=s.clone(),u=!1,h=!1,f="";for(a.eq(0).find("span").attr("title",r.tooltips.prevCentury),a.eq(2).find("span").attr("title",r.tooltips.nextCentury),n.find(".disabled").removeClass("disabled"),(s.isSame(e({y:1900}))||r.minDate&&r.minDate.isAfter(s,"y"))&&a.eq(0).addClass("disabled"),a.eq(1).text(s.year()+"-"+c.year()),(s.isSame(e({y:2e3}))||r.maxDate&&r.maxDate.isBefore(c,"y"))&&a.eq(2).addClass("disabled");!s.isAfter(c,"y");)t=s.year()+12,u=r.minDate&&r.minDate.isAfter(s,"y")&&r.minDate.year()<=t,h=r.maxDate&&r.maxDate.isAfter(s,"y")&&r.maxDate.year()<=t,f+='<span data-action="selectDecade" class="decade'+(i.isAfter(s)&&i.year()<=t?" active":"")+(W(s,"y")||u||h?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");f+="<span></span><span></span><span></span>",n.find("td").html(f),a.eq(1).text(l.year()+1+"-"+s.year())},Y=function(){var e,n,a,s=p.find(".datepicker-days"),c=s.find("th"),l=[],u=[];if(A()){for(c.eq(0).find("span").attr("title",r.tooltips.prevMonth),c.eq(1).attr("title",r.tooltips.selectMonth),c.eq(2).find("span").attr("title",r.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),c.eq(1).text(o.format(r.dayViewHeaderFormat)),W(o.clone().subtract(1,"M"),"M")||c.eq(0).addClass("disabled"),W(o.clone().add(1,"M"),"M")||c.eq(2).addClass("disabled"),e=o.clone().startOf("M").startOf("w").startOf("d"),a=0;a<42;a++)0===e.weekday()&&(n=t("<tr>"),r.calendarWeeks&&n.append('<td class="cw">'+e.week()+"</td>"),l.push(n)),u=["day"],e.isBefore(o,"M")&&u.push("old"),e.isAfter(o,"M")&&u.push("new"),e.isSame(i,"d")&&!f&&u.push("active"),W(e,"d")||u.push("disabled"),e.isSame(S(),"d")&&u.push("today"),0!==e.day()&&6!==e.day()||u.push("weekend"),L({type:"dp.classify",date:e,classNames:u}),n.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="'+u.join(" ")+'">'+e.date()+"</td>"),e.add(1,"d");s.find("tbody").empty().append(l),z(),X(),$()}},q=function(){var e=p.find(".timepicker-hours table"),n=o.clone().startOf("d"),r=[],i=t("<tr>");for(o.hour()>11&&!s&&n.hour(12);n.isSame(o,"d")&&(s||o.hour()<12&&n.hour()<12||o.hour()>11);)n.hour()%4==0&&(i=t("<tr>"),r.push(i)),i.append('<td data-action="selectHour" class="hour'+(W(n,"h")?"":" disabled")+'">'+n.format(s?"HH":"hh")+"</td>"),n.add(1,"h");e.empty().append(r)},K=function(){for(var e=p.find(".timepicker-minutes table"),n=o.clone().startOf("h"),i=[],a=t("<tr>"),s=1===r.stepping?5:r.stepping;o.isSame(n,"h");)n.minute()%(4*s)==0&&(a=t("<tr>"),i.push(a)),a.append('<td data-action="selectMinute" class="minute'+(W(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(s,"m");e.empty().append(i)},Z=function(){for(var e=p.find(".timepicker-seconds table"),n=o.clone().startOf("m"),r=[],i=t("<tr>");o.isSame(n,"m");)n.second()%20==0&&(i=t("<tr>"),r.push(i)),i.append('<td data-action="selectSecond" class="second'+(W(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");e.empty().append(r)},Q=function(){var t,e,n=p.find(".timepicker span[data-time-component]");s||(t=p.find(".timepicker [data-action=togglePeriod]"),e=i.clone().add(i.hours()>=12?-12:12,"h"),t.text(i.format("A")),W(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(i.format(s?"HH":"hh")),n.filter("[data-time-component=minutes]").text(i.format("mm")),n.filter("[data-time-component=seconds]").text(i.format("ss")),q(),K(),Z()},J=function(){p&&(Y(),Q())},tt=function(t){var e=f?null:i;if(!t)return f=!0,a.val(""),n.data("date",""),L({type:"dp.change",date:!1,oldDate:e}),void J();if(t=t.clone().locale(r.locale),O()&&t.tz(r.timeZone),1!==r.stepping)for(t.minutes(Math.round(t.minutes()/r.stepping)*r.stepping).seconds(0);r.minDate&&t.isBefore(r.minDate);)t.add(r.stepping,"minutes");W(t)?(o=(i=t).clone(),a.val(i.format(c)),n.data("date",i.format(c)),f=!1,J(),L({type:"dp.change",date:i.clone(),oldDate:e})):(r.keepInvalid?L({type:"dp.change",date:t,oldDate:e}):a.val(f?"":i.format(c)),L({type:"dp.error",date:t,oldDate:e}))},et=function(){var e=!1;return p?(p.find(".collapse").each((function(){var n=t(this).data("collapse");return!n||!n.transitioning||(e=!0,!1)})),e||(d&&d.hasClass("btn")&&d.toggleClass("active"),p.hide(),t(window).off("resize",R),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,L({type:"dp.hide",date:i.clone()}),a.blur(),o=i.clone()),h):h},nt=function(){tt(null)},rt=function(t){return void 0===r.parseInputDate?(!e.isMoment(t)||t instanceof Date)&&(t=S(t)):t=r.parseInputDate(t),t},it={next:function(){var t=y[u].navFnc;o.add(y[u].navStep,t),Y(),D(t)},previous:function(){var t=y[u].navFnc;o.subtract(y[u].navStep,t),Y(),D(t)},pickerSwitch:function(){M(1)},selectMonth:function(e){var n=t(e.target).closest("tbody").find("span").index(t(e.target));o.month(n),u===m?(tt(i.clone().year(o.year()).month(o.month())),r.inline||et()):(M(-1),Y()),D("M")},selectYear:function(e){var n=parseInt(t(e.target).text(),10)||0;o.year(n),u===m?(tt(i.clone().year(o.year())),r.inline||et()):(M(-1),Y()),D("YYYY")},selectDecade:function(e){var n=parseInt(t(e.target).data("selection"),10)||0;o.year(n),u===m?(tt(i.clone().year(o.year())),r.inline||et()):(M(-1),Y()),D("YYYY")},selectDay:function(e){var n=o.clone();t(e.target).is(".old")&&n.subtract(1,"M"),t(e.target).is(".new")&&n.add(1,"M"),tt(n.date(parseInt(t(e.target).text(),10))),T()||r.keepOpen||r.inline||et()},incrementHours:function(){var t=i.clone().add(1,"h");W(t,"h")&&tt(t)},incrementMinutes:function(){var t=i.clone().add(r.stepping,"m");W(t,"m")&&tt(t)},incrementSeconds:function(){var t=i.clone().add(1,"s");W(t,"s")&&tt(t)},decrementHours:function(){var t=i.clone().subtract(1,"h");W(t,"h")&&tt(t)},decrementMinutes:function(){var t=i.clone().subtract(r.stepping,"m");W(t,"m")&&tt(t)},decrementSeconds:function(){var t=i.clone().subtract(1,"s");W(t,"s")&&tt(t)},togglePeriod:function(){tt(i.clone().add(i.hours()>=12?-12:12,"h"))},togglePicker:function(e){var n,i=t(e.target),o=i.closest("ul"),a=o.find(".in"),s=o.find(".collapse:not(.in)");if(a&&a.length){if((n=a.data("collapse"))&&n.transitioning)return;a.collapse?(a.collapse("hide"),s.collapse("show")):(a.removeClass("in"),s.addClass("in")),i.is("span")?i.toggleClass(r.icons.time+" "+r.icons.date):i.find("span").toggleClass(r.icons.time+" "+r.icons.date)}},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);s||(i.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),tt(i.clone().hours(n)),it.showPicker.call(h)},selectMinute:function(e){tt(i.clone().minutes(parseInt(t(e.target).text(),10))),it.showPicker.call(h)},selectSecond:function(e){tt(i.clone().seconds(parseInt(t(e.target).text(),10))),it.showPicker.call(h)},clear:nt,today:function(){var t=S();W(t,"d")&&tt(t)},close:et},ot=function(e){return t(e.currentTarget).is(".disabled")||it[t(e.currentTarget).data("action")].apply(h,arguments),!1},at=function(){var e,n={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return a.prop("disabled")||!r.ignoreReadonly&&a.prop("readonly")||p||(void 0!==a.val()&&0!==a.val().trim().length?tt(rt(a.val().trim())):f&&r.useCurrent&&(r.inline||a.is("input")&&0===a.val().trim().length)&&(e=S(),"string"==typeof r.useCurrent&&(e=n[r.useCurrent](e)),tt(e)),p=N(),B(),U(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),J(),M(),t(window).on("resize",R),p.on("click","[data-action]",ot),p.on("mousedown",!1),d&&d.hasClass("btn")&&d.toggleClass("active"),R(),p.show(),r.focusOnShow&&!a.is(":focus")&&a.focus(),L({type:"dp.show"})),h},st=function(){return p?et():at()},ct=function(t){var e,n,i,o,a=null,s=[],c={},l=t.which,u="p";for(e in j[l]=u,j)j.hasOwnProperty(e)&&j[e]===u&&(s.push(e),parseInt(e,10)!==l&&(c[e]=!0));for(e in r.keyBinds)if(r.keyBinds.hasOwnProperty(e)&&"function"==typeof r.keyBinds[e]&&(i=e.split(" ")).length===s.length&&x[l]===i[i.length-1]){for(o=!0,n=i.length-2;n>=0;n--)if(!(x[i[n]]in c)){o=!1;break}if(o){a=r.keyBinds[e];break}}a&&(a.call(h,p),t.stopPropagation(),t.preventDefault())},lt=function(t){j[t.which]="r",t.stopPropagation(),t.preventDefault()},ut=function(e){var n=t(e.target).val().trim(),r=n?rt(n):null;return tt(r),e.stopImmediatePropagation(),!1},ht=function(){a.on({change:ut,blur:r.debug?"":et,keydown:ct,keyup:lt,focus:r.allowInputToggle?at:""}),n.is("input")?a.on({focus:at}):d&&(d.on("click",st),d.on("mousedown",!1))},ft=function(){a.off({change:ut,blur:blur,keydown:ct,keyup:lt,focus:r.allowInputToggle?et:""}),n.is("input")?a.off({focus:at}):d&&(d.off("click",st),d.off("mousedown",!1))},dt=function(e){var n={};return t.each(e,(function(){var t=rt(this);t.isValid()&&(n[t.format("YYYY-MM-DD")]=!0)})),!!Object.keys(n).length&&n},pt=function(e){var n={};return t.each(e,(function(){n[this]=!0})),!!Object.keys(n).length&&n},mt=function(){var t=r.format||"L LT";c=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,(function(t){return(i.localeData().longDateFormat(t)||t).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,(function(t){return i.localeData().longDateFormat(t)||t}))})),(l=r.extraFormats?r.extraFormats.slice():[]).indexOf(t)<0&&l.indexOf(c)<0&&l.push(c),s=c.toLowerCase().indexOf("a")<1&&c.replace(/\[.*?\]/g,"").indexOf("h")<1,_("y")&&(m=2),_("M")&&(m=1),_("d")&&(m=0),u=Math.max(m,u),f||tt(i)};if(h.destroy=function(){et(),ft(),n.removeData("DateTimePicker"),n.removeData("date")},h.toggle=st,h.show=at,h.hide=et,h.disable=function(){return et(),d&&d.hasClass("btn")&&d.addClass("disabled"),a.prop("disabled",!0),h},h.enable=function(){return d&&d.hasClass("btn")&&d.removeClass("disabled"),a.prop("disabled",!1),h},h.ignoreReadonly=function(t){if(0===arguments.length)return r.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return r.ignoreReadonly=t,h},h.options=function(e){if(0===arguments.length)return t.extend(!0,{},r);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,r,e),t.each(r,(function(t,e){if(void 0===h[t])throw new TypeError("option "+t+" is not recognized!");h[t](e)})),h},h.date=function(t){if(0===arguments.length)return f?null:i.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return tt(null===t?null:rt(t)),h},h.format=function(t){if(0===arguments.length)return r.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);return r.format=t,c&&mt(),h},h.timeZone=function(t){if(0===arguments.length)return r.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");return r.timeZone=t,h},h.dayViewHeaderFormat=function(t){if(0===arguments.length)return r.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return r.dayViewHeaderFormat=t,h},h.extraFormats=function(t){if(0===arguments.length)return r.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return r.extraFormats=t,l&&mt(),h},h.disabledDates=function(e){if(0===arguments.length)return r.disabledDates?t.extend({},r.disabledDates):r.disabledDates;if(!e)return r.disabledDates=!1,J(),h;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return r.disabledDates=dt(e),r.enabledDates=!1,J(),h},h.enabledDates=function(e){if(0===arguments.length)return r.enabledDates?t.extend({},r.enabledDates):r.enabledDates;if(!e)return r.enabledDates=!1,J(),h;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return r.enabledDates=dt(e),r.disabledDates=!1,J(),h},h.daysOfWeekDisabled=function(t){if(0===arguments.length)return r.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return r.daysOfWeekDisabled=!1,J(),h;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(r.daysOfWeekDisabled=t.reduce((function(t,e){return(e=parseInt(e,10))>6||e<0||isNaN(e)||-1===t.indexOf(e)&&t.push(e),t}),[]).sort(),r.useCurrent&&!r.keepInvalid){for(var e=0;!W(i,"d");){if(i.add(1,"d"),31===e)throw"Tried 31 times to find a valid date";e++}tt(i)}return J(),h},h.maxDate=function(t){if(0===arguments.length)return r.maxDate?r.maxDate.clone():r.maxDate;if("boolean"==typeof t&&!1===t)return r.maxDate=!1,J(),h;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=S()));var e=rt(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(r.minDate&&e.isBefore(r.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(c));return r.maxDate=e,r.useCurrent&&!r.keepInvalid&&i.isAfter(t)&&tt(r.maxDate),o.isAfter(e)&&(o=e.clone().subtract(r.stepping,"m")),J(),h},h.minDate=function(t){if(0===arguments.length)return r.minDate?r.minDate.clone():r.minDate;if("boolean"==typeof t&&!1===t)return r.minDate=!1,J(),h;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=S()));var e=rt(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(r.maxDate&&e.isAfter(r.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(c));return r.minDate=e,r.useCurrent&&!r.keepInvalid&&i.isBefore(t)&&tt(r.minDate),o.isBefore(e)&&(o=e.clone().add(r.stepping,"m")),J(),h},h.defaultDate=function(t){if(0===arguments.length)return r.defaultDate?r.defaultDate.clone():r.defaultDate;if(!t)return r.defaultDate=!1,h;"string"==typeof t&&(t="now"===t||"moment"===t?S():S(t));var e=rt(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!W(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return r.defaultDate=e,(r.defaultDate&&r.inline||""===a.val().trim())&&tt(r.defaultDate),h},h.locale=function(t){if(0===arguments.length)return r.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return r.locale=t,i.locale(r.locale),o.locale(r.locale),c&&mt(),p&&(et(),at()),h},h.stepping=function(t){return 0===arguments.length?r.stepping:(t=parseInt(t,10),(isNaN(t)||t<1)&&(t=1),r.stepping=t,h)},h.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return r.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return r.useCurrent=t,h},h.collapse=function(t){if(0===arguments.length)return r.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return r.collapse===t||(r.collapse=t,p&&(et(),at())),h},h.icons=function(e){if(0===arguments.length)return t.extend({},r.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(r.icons,e),p&&(et(),at()),h},h.tooltips=function(e){if(0===arguments.length)return t.extend({},r.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(r.tooltips,e),p&&(et(),at()),h},h.useStrict=function(t){if(0===arguments.length)return r.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return r.useStrict=t,h},h.sideBySide=function(t){if(0===arguments.length)return r.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return r.sideBySide=t,p&&(et(),at()),h},h.viewMode=function(t){if(0===arguments.length)return r.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return r.viewMode=t,u=Math.max(v.indexOf(t),m),M(),h},h.toolbarPlacement=function(t){if(0===arguments.length)return r.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return r.toolbarPlacement=t,p&&(et(),at()),h},h.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},r.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===g.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+g.join(", ")+")");r.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===b.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");r.widgetPositioning.vertical=e.vertical}return J(),h},h.calendarWeeks=function(t){if(0===arguments.length)return r.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return r.calendarWeeks=t,J(),h},h.showTodayButton=function(t){if(0===arguments.length)return r.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return r.showTodayButton=t,p&&(et(),at()),h},h.showClear=function(t){if(0===arguments.length)return r.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return r.showClear=t,p&&(et(),at()),h},h.widgetParent=function(e){if(0===arguments.length)return r.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return r.widgetParent=e,p&&(et(),at()),h},h.keepOpen=function(t){if(0===arguments.length)return r.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return r.keepOpen=t,h},h.focusOnShow=function(t){if(0===arguments.length)return r.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return r.focusOnShow=t,h},h.inline=function(t){if(0===arguments.length)return r.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return r.inline=t,h},h.clear=function(){return nt(),h},h.keyBinds=function(t){return 0===arguments.length?r.keyBinds:(r.keyBinds=t,h)},h.getMoment=function(t){return S(t)},h.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return r.debug=t,h},h.allowInputToggle=function(t){if(0===arguments.length)return r.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return r.allowInputToggle=t,h},h.showClose=function(t){if(0===arguments.length)return r.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return r.showClose=t,h},h.keepInvalid=function(t){if(0===arguments.length)return r.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return r.keepInvalid=t,h},h.datepickerInput=function(t){if(0===arguments.length)return r.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return r.datepickerInput=t,h},h.parseInputDate=function(t){if(0===arguments.length)return r.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return r.parseInputDate=t,h},h.disabledTimeIntervals=function(e){if(0===arguments.length)return r.disabledTimeIntervals?t.extend({},r.disabledTimeIntervals):r.disabledTimeIntervals;if(!e)return r.disabledTimeIntervals=!1,J(),h;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return r.disabledTimeIntervals=e,J(),h},h.disabledHours=function(e){if(0===arguments.length)return r.disabledHours?t.extend({},r.disabledHours):r.disabledHours;if(!e)return r.disabledHours=!1,J(),h;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(r.disabledHours=pt(e),r.enabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var n=0;!W(i,"h");){if(i.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}tt(i)}return J(),h},h.enabledHours=function(e){if(0===arguments.length)return r.enabledHours?t.extend({},r.enabledHours):r.enabledHours;if(!e)return r.enabledHours=!1,J(),h;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(r.enabledHours=pt(e),r.disabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var n=0;!W(i,"h");){if(i.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}tt(i)}return J(),h},h.viewDate=function(t){if(0===arguments.length)return o.clone();if(!t)return o=i.clone(),h;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=rt(t),D(),h},n.is("input"))a=n;else if(0===(a=n.find(r.datepickerInput)).length)a=n.find("input");else if(!a.is("input"))throw new Error('CSS class "'+r.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(d=0===n.find(".datepickerbutton").length?n.find(".input-group-addon"):n.find(".datepickerbutton")),!r.inline&&!a.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return i=S(),o=i.clone(),t.extend(!0,r,I()),h.options(r),mt(),ht(),a.prop("disabled")&&h.disable(),a.is("input")&&0!==a.val().trim().length?tt(rt(a.val().trim())):r.defaultDate&&void 0===a.attr("placeholder")&&tt(r.defaultDate),r.inline&&at(),h};return t.fn.datetimepicker=function(e){e=e||{};var r,i=Array.prototype.slice.call(arguments,1),o=!0,s=["destroy","hide","show","toggle"];if("object"===a(e))return this.each((function(){var r,i=t(this);i.data("DateTimePicker")||(r=t.extend(!0,{},t.fn.datetimepicker.defaults,e),i.data("DateTimePicker",n(i,r)))}));if("string"==typeof e)return this.each((function(){var n=t(this).data("DateTimePicker");if(!n)throw new Error('bootstrap-datetimepicker("'+e+'") method was called on an element that is not using DateTimePicker');r=n[e].apply(n,i),o=r===n})),o||t.inArray(e,s)>-1?this:r;throw new TypeError("Invalid arguments for DateTimePicker: "+e)},t.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t&&t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},t.fn.datetimepicker},void 0===(o="function"==typeof r?r.apply(e,i):r)||(t.exports=o)}()},49060:function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(e=function(){"use strict";var e=[],n=[],r="mdlComponentConfigInternal_";function i(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return void 0!==n&&(e[r]=n),e[r];return!1}function o(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function a(t,e){return-1!==o(t).indexOf(e)}function s(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function c(t,n){if(void 0===t&&void 0===n)for(var r=0;r<e.length;r++)c(e[r].className,e[r].cssClass);else{var o=t;if(void 0===n){var a=i(o);a&&(n=a.cssClass)}for(var s=document.querySelectorAll("."+n),u=0;u<s.length;u++)l(s[u],o)}}function l(c,l){if(!("object"===t(c)&&c instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var u=s("mdl-componentupgrading",!0,!0);if(c.dispatchEvent(u),!u.defaultPrevented){var h=o(c),f=[];if(l)a(c,l)||f.push(i(l));else{var d=c.classList;e.forEach((function(t){d.contains(t.cssClass)&&-1===f.indexOf(t)&&!a(c,t.className)&&f.push(t)}))}for(var p,m=0,y=f.length;m<y;m++){if(!(p=f[m]))throw new Error("Unable to find a registered component for the given class.");h.push(p.className),c.setAttribute("data-upgraded",h.join(","));var v=new p.classConstructor(c);v[r]=p,n.push(v);for(var b=0,g=p.callbacks.length;b<g;b++)p.callbacks[b](c);p.widget&&(c[p.className]=v);var w=s("mdl-componentupgraded",!0,!1);c.dispatchEvent(w)}}}function u(t){if(t){var e=n.indexOf(t);n.splice(e,1);var i=t.element_.getAttribute("data-upgraded").split(","),o=i.indexOf(t[r].classAsString);i.splice(o,1),t.element_.setAttribute("data-upgraded",i.join(","));var a=s("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(a)}}return{upgradeDom:c,upgradeElement:l,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(l(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)c(e[t].className)},registerUpgradedCallback:function(t,e){var n=i(t);n&&n.callbacks.push(e)},register:function(t){var n=!0;void 0===t.widget&&void 0===t.widget||(n=t.widget||t.widget);var o={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:n,callbacks:[]};if(e.forEach((function(t){if(t.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===o.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(r))throw new Error("MDL component classes must not have "+r+" defined as a property.");i(t.classAsString,o)||e.push(o)},downgradeElements:function(t){var e=function(t){n.filter((function(e){return e.element_===t})).forEach(u)};if(t instanceof Array||t instanceof NodeList)for(var r=0;r<t.length;r++)e(t[r]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");e(t)}}}}()).ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})}))},26647:function(){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialSwitch=t,t.prototype.Constant_={TINY_TIMEOUT:.001},t.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},t.prototype.onChange_=function(t){this.updateClasses_()},t.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onMouseUp_=function(t){this.blur_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},t.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},t.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},t.prototype.checkToggleState=t.prototype.checkToggleState,t.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},t.prototype.on=t.prototype.on,t.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},t.prototype.off=t.prototype.off,t.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var t=document.createElement("div");t.classList.add(this.CssClasses_.TRACK);var e=document.createElement("div");e.classList.add(this.CssClasses_.THUMB);var n=document.createElement("span");if(n.classList.add(this.CssClasses_.FOCUS_HELPER),e.appendChild(n),this.element_.appendChild(t),this.element_.appendChild(e),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var r=document.createElement("span");r.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(r),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch",widget:!0})}()},67466:function(t,e,n){"use strict";n.d(e,{Bz:function(){return l},EW:function(){return m},W:function(){return p},et:function(){return c}});var r=n(67813);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){var r;return r=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==i(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={STRANGER:0,NEWBIE:1,BEGINNER:2,EXPERIENCED:3,MASTER:4,PRO:5,GURU:6},l=".",u=(0,r.A)("servers-list",[]),h={};u.forEach((function(t){h[t.server]=a({},t)}));var f=(0,r.A)("try-demo-servers-list",[]),d={};f.forEach((function(t){d[t.server]=a({},t)}));var p={ACCELERATOR_OSCILLATOR:"ac",ADX:"adx",ALLIGATOR:"all",AROON:"aro",ATR:"atr",AWESOME_OSCILLATOR:"ao",BEARS_POWER:"bep",BOLLINGER_BANDS:"bb",BOLLINGER_BANDS_WIDTH:"bbw",BULLS_POWER:"bup",CCI:"cci",DEMARKER:"dem",DONCHIAN_CHANNEL:"dc",ENVELOPE:"env",FRACTAL:"fra",FRACTAL_CHAOS_BANDS:"fcb",ICHIMOKU_CLOUD:"icc",KELTNER_CHANNEL:"kch",MACD:"macd",MOMENTUM:"mom",MOVING_AVERAGE:"ma",OSMA:"osma",PARABOLIC_SAR:"sar",RSI:"rsi",RATE_OF_CHANGE:"roc",STOCHASTIC_OSCILLATOR:"so",SCHAFF_TREND_CYCLE:"stc",SUPERTREND:"sut",VORTEX:"vor",WILLIAMS_R:"will",ZIG_ZAG:"zz"},m={MIN_TIMEFRAME:5,DEFAULT_TIMEFRAME:60};e.Ay={PURCHASE_TIME:30,EXPIRATION_STEP:60,CONNECT_TIMEOUT:1e4,EXPRESS:{MIN_DEALS:3},API_LIST:h,TRY_DEMO_API_LIST:d,STORAGE:{PREFIX:"OD",COOKIES:{OPTIONS:{path:"/",expires:new Date((new Date).setDate((new Date).getDate()+30)),domain:(0,r.A)("cookie-domain"),sameSite:"Lax"}}},MAX_PAYOUT:92,USER_LEVELS:[{name:c.STRANGER,from:0,to:0,payout:0,maxOpenAmount:1e3},{name:c.NEWBIE,from:0,to:100,payout:0,maxOpenAmount:1e3},{name:c.BEGINNER,from:100,to:1e3,payout:0,maxOpenAmount:1e3},{name:c.EXPERIENCED,from:1e3,to:5e3,payout:2,maxOpenAmount:1e3},{name:c.MASTER,from:5e3,to:15e3,payout:4,maxOpenAmount:2e3},{name:c.PRO,from:15e3,to:5e4,payout:6,maxOpenAmount:5e3},{name:c.GURU,from:5e4,to:1e7,payout:8,maxOpenAmount:2e4}],CANCEL_PERCENT_LIST:[{timeFrame:60,value:.5},{timeFrame:120,value:1},{timeFrame:180,value:1},{timeFrame:300,value:1},{timeFrame:600,value:3},{timeFrame:900,value:3},{timeFrame:1800,value:3},{timeFrame:2700,value:3},{timeFrame:3600,value:3},{timeFrame:7200,value:3},{timeFrame:10800,value:3},{timeFrame:14400,value:3}],CANCEL_PERCENT_DIFF:40,CANCEL_HIDE_BTN_TIME:15,CANCEL_HIDE_BTN_TIME_FAST:60,PAYOUT_REDUCE:10,CURRENCY:"$",TOURNAMENT_CURRENCY:"T",MT4_DEPOSIT_URL:"/cabinet/deposit-step-1/?mt4=dpst",MT5_DEPOSIT_URL:"/cabinet/deposit-step-1/?mt5=dpst",MT5_CFD_DEPOSIT_URL:"/cabinet/deposit-step-1/?mt5cfd=dpst",CHART:{BET_ELEMENT_CLOSED_TIMEOUT:5,CROSSCHAIR_BOTTOM_BG_SIDE_PADDING:6,SORT_OFFSET:15,MAX_SHIFT_VALUE:-3e3,INT_MAX:Number.MAX_SAFE_INTEGER,INT_MIN:Number.MIN_SAFE_INTEGER,FLT_MAX:Number.MAX_VALUE,FLT_MIN:Number.MIN_VALUE,DIRECTION_UP_ICON_SRC:"/themes/cabinet/images/up.svg",DIRECTION_DOWN_ICON_SRC:"/themes/cabinet/images/down.svg",EMPTY_1_PX:"/themes/cabinet/images/empty-white-1px.png",DEFAULT_AVATAR_SRC:"/images/cabinet/no_avatar_50x50.jpg",TEXT_STYLE_BET_LABEL_NORMAL:{fontWeight:400,textBaseline:"alphabet",fontFamily:"RobotoRegular, sans-serif",fontSize:12},TEXT_STYLE_BET_BOLD:{fontWeight:600,textBaseline:"alphabet",fontFamily:"RobotoRegular, sans-serif",fontSize:13},TEXT_STYLE_CANDLE_VALUES:{fill:"#7e91a7",fontFamily:"RobotoRegular, sans-serif",fontSize:12,textBaseline:"alphabet"},TEXT_STYLE_CURRENT_PROFIT:{fill:"#fff",fontFamily:"RobotoRegular, sans-serif",fontSize:12,textBaseline:"alphabet"},TEXT_STYLE_CURSOR_TIME:{fill:"#fff",fontFamily:"RobotoRegular, sans-serif",fontSize:11,textBaseline:"alphabet"},TEXT_STYLE_GRID:{fill:"#888A95",fontFamily:"RobotoRegular, sans-serif",fontSize:12,textBaseline:"alphabet"},TEXT_STYLE_EXPIRATION:{align:"right",fontFamily:"RobotoRegular, sans-serif",fontSize:12,textBaseline:"alphabet"},TEXT_STYLE_BET:{fontFamily:"RobotoRegular, sans-serif",fontSize:12,textBaseline:"alphabet"},TEXT_STYLE_SOCIAL_BET_LABEL:{fontFamily:"RobotoRegular, sans-serif",fontSize:10,textBaseline:"alphabet"},TEXT_STYLE_INDICATOR_BOTTOM_LEVEL:{fill:"#E8E8E8",align:"right",fontFamily:"RobotoRegular, sans-serif",fontSize:11,textBaseline:"alphabet"},MIN_MAX_MIN_DIFF:.5,TOP_PLOT_ELEMENT_PIXELS:120,BOTTOM_PLOT_ELEMENT_PIXELS:120,BOTTOM_PLOT_ELEMENT_PIXELS_EXPANDED:180,BOTTOM_PLOT_ELEMENT_PIXELS_MOBILE:80,BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING:10,DBL_MIN:Number.MIN_VALUE,DBL_MAX:Number.MAX_VALUE,ACCELERATION_WEAKNESS_IN_SECOND:22,RIGHT_PLOT_MARGIN_PERCENT:35,TIMELINE_MARGIN_BOTTOM:0,TIMELINE_HEIGHT:20,VALUE_LINE_FONT_SIZE:11,TIMELINE_STEP:15,MIN_TIMELINE_WIDTH:50,VALUE_BG_VERTICAL_MARGIN:4,VALUE_BG_HORIZONTAL_MARGIN:7,VALUE_BG_CORNER_DIFF:6,OPTIMAL_SECOND_WIDTH:5,TOP_PLOT_MARGIN_PIXELS:100,TOP_PLOT_MARGIN_PIXELS_MOBILE:90,BOTTOM_PLOT_MARGIN_PIXELS_MOBILE:30,BOTTOM_PLOT_MARGIN_PIXELS:15,TIMER_TOP_MARGIN:20,BAR_MAX_WIDTH_IN_PERCENTS_OF_SCREEN:2.5,MIN_SECOND_WIDTH_TO_SHOW_MS:7,POINT_DRAG_RADIUS:15,POINT_DRAG_PADDING:10,MT5_TOP_PLOT_ELEMENT_PIXELS:40,MT5_BOTTOM_PLOT_ELEMENT_PIXELS:120,MT5_BOTTOM_PLOT_ELEMENT_PIXELS_EXPANDED:180,MT5_BOTTOM_PLOT_ELEMENT_PIXELS_MOBILE:80,MT5_TOP_PLOT_MARGIN_PIXELS:80,MT5_TOP_PLOT_MARGIN_PIXELS_MOBILE:80,MT5_BOTTOM_PLOT_MARGIN_PIXELS_MOBILE:10,MT5_BOTTOM_PLOT_MARGIN_PIXELS:5,MAX_DRAWINGS_LIMIT:15,MAX_INDICATORS_LIMIT:30,FIGURE:{LINE:"line",HISTOGRAM:"histogram"},HISTOGRAM_COLOR_MODE:{DEFAULT:"default",FROM_ZERO_LEVEL:"from-middle",POSITIVE_NEGATIVE:"positive-negative"},DRAWINGS:{HORIZONTAL_LINE:0,VERTICAL_LINE:1,RAY:2,FIBONACCI_RETRACEMENT:3,FIBONACCI_FAN:4,TREND_LINE:5,PARALLEL_CHANNEL:6,RECTANGLE:7,ANDREWS_PITCHFORK:8},ZOOM_FACTOR:.1,ZOOM_BTN_FACTOR:.3,DEFAULT_ZOOM_FOR_MOBILE:-4,CANDLE_COLOR:{up:"45b734",down:"ff3e1f"}},FEATURES:{DRAWING_SHOW_HIT_AREA:!1,DRAGGABLE_POINT_INDEX:!1}}},83868:function(t,e,n){"use strict";n.d(e,{Bf:function(){return i},jx:function(){return s},k3:function(){return o},my:function(){return a}});var r=n(67813),i="success",o="start",a="fail",s=parseInt((0,r.A)("is-demo"))},84894:function(t,e,n){"use strict";n.d(e,{g:function(){return r}});var r={BY_TIME:0,BY_PRICE:1}},68512:function(t,e,n){"use strict";n.d(e,{AP:function(){return a},B:function(){return o},DE:function(){return I},En:function(){return m},Er:function(){return u},FU:function(){return T},Fk:function(){return h},H7:function(){return N},HI:function(){return f},I:function(){return y},Jh:function(){return w},L2:function(){return d},Mt:function(){return l},Nm:function(){return i},OH:function(){return g},Py:function(){return j},Tm:function(){return A},UL:function(){return O},Xl:function(){return s},Y5:function(){return c},ZW:function(){return E},Zl:function(){return S},_w:function(){return p},aP:function(){return _},cq:function(){return P},e5:function(){return b},es:function(){return x},lM:function(){return C},nH:function(){return L},sF:function(){return R},wZ:function(){return k},yi:function(){return r},zJ:function(){return v}});var r="change_theme",i="start_copy_bets",o="stop_copy_bets",a="add_watch_list",s="remove_watch_list",c="remove_history_list",l="chart.changed_quick_auto_offset",u="drawing.change_settings_panel",h="drawing.remove_selected",f="drawing.edit_points",d="drawing.select",p="drawing.deselect",m="drawing.deselect_all",y="drawing.edit_point",v="drawing.create_failed",b="indicator.create_failed",g="social.copy_order",w="refreshCounter",x="open_trader_info_modal",j="open_asset_modal_fav_add",O="chat.open-start",S="chat.open",_="chat.close-start",T="chat.close",A="modal.show.only-registered",E="modal.show.demo-need-deposit",P="price_alert_triggered",C="price_alert_error",k="price_alert_add",N="price_alert_remove",I="event_change_asset",R="pending_order_price_clicked",L="pending_order_remove"},33652:function(t,e){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._val=e}var e,n,i;return e=t,(n=[{key:"val",get:function(){return this._val}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.A=o},65234:function(t,e,n){"use strict";n.d(e,{$t:function(){return x},EK:function(){return h},Eq:function(){return u},Jm:function(){return p},M:function(){return y},QJ:function(){return S},Rp:function(){return d},U$:function(){return O},U6:function(){return b},VJ:function(){return j},YE:function(){return w},Zo:function(){return l},ab:function(){return g},b1:function(){return T},dV:function(){return v},gd:function(){return m},mC:function(){return A},my:function(){return f},o9:function(){return _},vh:function(){return c}});var r,i,o=n(73316);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n){var r;return r=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==a(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={Top:0,Overlay:1,Bottom:2},l={XY:0,X:1,Y:2,FreezeX:3},u={Common:0,Indicator:1},h={Linear:0,EaseOutQuad:2,EaseInOutQuad:3,EaseOutQuart:8,EaseOutQuint:11},f={COMMON:0,GRID_VALUE:2,GRID_TIMELINE:3,EXPIRATION_LINE:7,EXPIRATION_BG:8,RATES:13,CURRENT_PRICE_LINE:14,POINT_GLOW:15,POINT_DOT:17,SHADE_BG_UP:18,SHADE_BG_DOWN:19,CURSOR:21,CURSOR_PRICE_BTN:22,CURSOR_PRICE_IMG:23,CURRENT_PROFIT:30},d={GRID:10,GATES:20,CANDLES:25,MINMAX:27,CHART:30,INDICATORS_BG:39,INDICATORS:40,INDICATORS_BOTTOM:50,SHADE:60,BUILDINGS:65,BUILDING_POINTS:66,SOCIAL_DEALS_BG_LAYER:69,SOCIAL_DEALS_CONTAINER_LOW:70,SOCIAL_DEALS:73,SOCIAL_DEALS_CONTAINER_UP:76,DEALS:80,DEALS_TEXT:85,RATES:110,POINT:120,OVERLAY:130,CURSOR:140,PRICE_ALERTS:142,PENDINGS:143,CLOSED_ORDER:145,CLOSED_ORDER_NOTE:150,CLOSED_ORDER_NOTE_TEXT:155,CURRENT_PROFIT:160},p={S5:0,S10:1,S15:2,S30:3,M1:4,M2:13,M3:14,M5:6,M10:7,M15:8,M30:9,H1:10,H4:11,D1:12},m={None:0,Percentage:1,Range:2},y={Line:1,Candles:2,Bars:3,HeikenAshi:5},v={Line:1,Candles:2,Bars:3,HeikenAshi:5},b=s(s(s(s({},y.Line,(0,o.tr)("chart_settings.line")),y.Candles,(0,o.tr)("chart_settings.candles")),y.Bars,(0,o.tr)("chart_settings.bars")),y.HeikenAshi,(0,o.tr)("chart_settings.heiken_ashi")),g=s(s(s(s({},y.Line,"line"),y.Candles,"candles"),y.Bars,"bars"),y.HeikenAshi,"heiken-ashi"),w={S1:15,S5:0,S10:1,S15:2,S30:3,M1:4,M2:13,M3:14,M5:6,M10:7,M15:8,M30:9,H1:10,H4:11,D1:12},x=(s(s(s(s(s(s(s(s(s(s(r={},w.S5,"S5"),w.S10,"S10"),w.S15,"S15"),w.S30,"S30"),w.M1,"M1"),w.M2,"M2"),w.M3,"M3"),w.M5,"M5"),w.M10,"M10"),w.M15,"M15"),s(s(s(s(r,w.M30,"M30"),w.H1,"H1"),w.H4,"H4"),w.D1,"D1")),j=(s(s(s(s(s(s(s(s(s(s(i={},w.S1,1),w.S5,5),w.S10,10),w.S15,15),w.S30,30),w.M1,60),w.M2,120),w.M3,180),w.M5,300),w.M10,600),s(s(s(s(s(i,w.M15,900),w.M30,1800),w.H1,3600),w.H4,14400),w.D1,86400)),O={CLOSE:"close",OPEN:"open",HIGH:"high",LOW:"low",HL2:"hl2",HLC3:"hlc3",OHLC4:"ohlc4",HLCC4:"hlcc4"},S={REGULAR:"regular",THICK:"thick"},_=[{label:"M10",minutes:10},{label:"M30",minutes:30},{label:"H1",minutes:60},{label:"H4",minutes:240},{label:"D1",minutes:1440},{label:"D7",minutes:10080},{label:"D14",minutes:20160}],T={CHANGE_STRIKE_INDEX:0,NEW_REGION_REQUEST:1,ZOOM_CHANGED:2,SCROLL_TO_END_CHANGED:3,VERTICAL_SCROLL_CHANGED:4},A={EXPANDED:"expanded",COLLAPSED:"collapsed"}},90348:function(t,e,n){"use strict";n.d(e,{$5:function(){return Ft},$9:function(){return A},$S:function(){return it},$k:function(){return d},A0:function(){return i},Ak:function(){return K},Bh:function(){return pt},C$:function(){return G},CV:function(){return xt},DE:function(){return F},DI:function(){return nt},E1:function(){return jt},EG:function(){return o},EH:function(){return Pt},F_:function(){return Ut},GB:function(){return u},GV:function(){return D},Gu:function(){return It},Hj:function(){return R},Im:function(){return T},Jd:function(){return ut},L:function(){return Ct},L$:function(){return g},LE:function(){return st},MO:function(){return V},N1:function(){return b},NJ:function(){return _},N_:function(){return Dt},OS:function(){return X},Ou:function(){return s},Q2:function(){return Bt},QD:function(){return B},Qz:function(){return At},Rb:function(){return Z},Rf:function(){return Mt},Ro:function(){return gt},SF:function(){return et},T2:function(){return f},VL:function(){return Tt},Xc:function(){return w},Y_:function(){return Gt},Z5:function(){return v},ZX:function(){return C},Zv:function(){return q},au:function(){return Wt},bW:function(){return Lt},cQ:function(){return zt},ck:function(){return bt},dZ:function(){return St},el:function(){return Q},fV:function(){return M},g0:function(){return L},gG:function(){return P},g_:function(){return kt},gz:function(){return O},hC:function(){return Ht},i8:function(){return m},iT:function(){return N},iW:function(){return Et},im:function(){return U},jJ:function(){return y},kG:function(){return Rt},lF:function(){return I},ld:function(){return _t},lu:function(){return Nt},lw:function(){return mt},mL:function(){return E},mS:function(){return z},mh:function(){return Y},n5:function(){return h},nY:function(){return x},nk:function(){return k},ns:function(){return dt},nu:function(){return W},od:function(){return tt},ou:function(){return lt},qJ:function(){return J},qQ:function(){return at},qT:function(){return ot},re:function(){return wt},rj:function(){return yt},sC:function(){return ft},tc:function(){return ht},vg:function(){return a},wM:function(){return p},x:function(){return ct},xT:function(){return c},xY:function(){return Ot},xg:function(){return j},y0:function(){return H},yl:function(){return S},yr:function(){return l},z$:function(){return $},z2:function(){return rt},zC:function(){return vt},zn:function(){return Vt}});var r=n(83868),i="connect",o="disconnect",a="connect_error",s="reconnect_error",c="reconnect_failed",l="updateHistory",u="updateAchievements",h="changeSymbol",f="updateTime",d="updateForecast",p="updateBalance",m="updateTotalProfit",y="openSocialDeal",v="closeOrder",b="openOrder",g="copySignalOrder",w="openExpress",x="closeExpressDeals",j="updateClosedExpresses",O="updateOpenedExpresses",S="updateExpress",_="closeExpress",T="copyOrder",A="cancelOrder",E="auth",P="successauth",C="NotAuthorized",k="updateOpenedDeals",N="updateClosedDeals",I="updateAssets",R="updateDrawingPoint",L="updateDrawingPoints",D="deleteDrawingsIds",M="gemsLotto",B="updatePayouts",H="10NUMBER_DEALS_WITH_PROFIT",F="subfor",G="unsubfor",V="chafor",W="updateOpenedSocialDeals",U="updateClosedSocialDeals",z="updateRank",X="updateTopRank",$="loadHistoryPeriod",Y="updateEnabledSocialOptions",q="subscribeSymbol",K="unSubscribeSymbol",Z="updateHistoryNew",Q="updateStream",J="updateCurrentPayout",tt="updateCurrentAmount",et="deleteDrawing",nt="deleteDrawings",rt="lockDrawings",it="uql",ot="saveCharts",at="deleteChart",st="sto",ct="sts",lt="usto",ut="updateCharts",ht="ps",ft="indicator/create",dt="indicator/update",pt="indicator/setVisible",mt="indicator/delete",yt="indicator/deleteAll",vt="indicator/load",bt="indicator/fav",gt="indicator/unfav",wt="drawing/create",xt="drawing/update",jt="drawing/load",Ot="openPendingOrder",St="updatePending",_t="cancelPendingOrder",Tt="pending/created",At="order-chart/load",Et="social/opened-deal-info",Pt="social/closed-deal-info",Ct="signals/load",kt="signals/update",Nt="signals/subscribe",It="signals/unsubscribe",Rt="signals/stats",Lt="deals/double-up",Dt="deals/rollover",Mt="social/enable-only-watched",Bt="social/disable-only-watched",Ht="favorite/load",Ft="favorite/change",Gt="td/refill",Vt="price-alert/load",Wt="price-alert/add",Ut="price-alert/remove",zt=[U,W,u,N,"".concat(r.Bf).concat(b),"".concat(r.Bf).concat(Tt),"".concat(r.my).concat(Tt),H,M,"".concat(r.Bf).concat(T),"".concat(r.my).concat(T),"".concat(r.my).concat(A),"".concat(r.Bf).concat(A),$,ut,"".concat(r.Bf).concat(w),"".concat(r.my).concat(w),"".concat(r.Bf).concat(_),"".concat(r.Bf).concat(x),"".concat(r.Bf).concat(O),"".concat(r.Bf).concat(j),"".concat(r.Bf).concat(S),"".concat(r.Bf).concat(et),"".concat(r.Bf).concat(wt),"".concat(r.my).concat(wt),"".concat(r.Bf).concat(jt),"".concat(r.Bf).concat(v),"".concat(r.Bf).concat(ft),"".concat(r.my).concat(ft),"".concat(r.Bf).concat(vt),"".concat(r.Bf).concat(yt),"".concat(r.Bf).concat(mt),"".concat(r.Bf).concat(Ot),"".concat(r.my).concat(Ot),"".concat(r.Bf).concat(St),"".concat(r.Bf).concat(_t),"".concat(r.my).concat(_t),"".concat(r.Bf).concat(At),"".concat(r.Bf).concat(Et),"".concat(r.Bf).concat(Pt),Ct,kt,"".concat(r.Bf).concat(Rt),"".concat(r.Bf).concat(g),"".concat(r.Bf).concat(Dt),"".concat(r.my).concat(Dt),"".concat(r.Bf).concat(Ht),"".concat(r.Bf).concat(Ft),"".concat(r.Bf).concat(Vt),"".concat(r.Bf).concat(Wt),"".concat(r.my).concat(Wt),"".concat(r.Bf).concat(Ut)]},83282:function(t,e,n){"use strict";var r=n(67466),i=n(92299),o=n.n(i),a=n(15195),s=n(30827);function c(t,e,n){return e=u(e),function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],u(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function m(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:String(e)}var v=function(){function t(){d(this,t),this.storage=null,this.userId=0}return m(t,[{key:"testStorageAvailability",value:function(t){try{if(!window[t])return!1;var e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(r){return a.A.error(r),!1}}},{key:"createStorage",value:function(t){this.testStorageAvailability(t)&&(this.storage=window[t])}},{key:"getJSON",value:function(t){return o().getJSON(t)}},{key:"setJSON",value:function(t,e){e=JSON.stringify(e),o().set(t,e,r.Ay.STORAGE.COOKIES.OPTIONS)}},{key:"set",value:function(t,e){return e?o().set(t,e,r.Ay.STORAGE.COOKIES.OPTIONS):this.remove(t)}},{key:"get",value:function(t){return o().get(t)}},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=this.get(t);return null!=r?n(r):e}},{key:"findBool",value:function(t,e){return this.find(t,e,(function(t){return Boolean(+t)}))}},{key:"remove",value:function(t){return o().remove(t,r.Ay.STORAGE.COOKIES.OPTIONS)}},{key:"prefixName",value:function(t){return r.Ay.STORAGE.PREFIX+"."+this.userId.toString()+"."+t}},{key:"setUserId",value:function(t){this.userId=t}}]),t}(),b=function(t){function e(t){var n;return d(this,e),(n=c(this,e)).storageName=t,n.createStorage(n.storageName),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),m(e,[{key:"getInstance",value:function(){return this.storage?this:new v}},{key:"prefixName",value:function(t){return t}},{key:"getJSON",value:function(t){t=this.prefixName(t);var e=this.storage.getItem(t);return(0,s.A)(e,(function(t,n){t||(e=n)})),e}},{key:"get",value:function(t){return t=this.prefixName(t),this.storage.getItem(t)}},{key:"setJSON",value:function(t,e){t=this.prefixName(t),e=JSON.stringify(e),this.storage.setItem(t,e)}},{key:"set",value:function(t,e){return t=this.prefixName(t),this.storage.setItem(t,e)}},{key:"remove",value:function(t){t=this.prefixName(t),this.storage.removeItem(t)}}]),e}(v);e.A={cookies:new v,local:new b("localStorage").getInstance(),session:new b("sessionStorage").getInstance()}},15195:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:String(e)}n.d(e,{A:function(){return a}});var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"error",value:function(t){console.error(t),void 0!==window.bugsnagClient&&window.bugsnagClient.notify(t,{severity:"error"})}},{key:"handlebarsCompileError",value:function(e){t.error(new Error("Handlebars.compile, ".concat(e)))}},{key:"debug",value:function(t){console.log(t),void 0!==window.bugsnagClient&&window.bugsnagClient.notify(t,{severity:"info"})}}],(n=null)&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},62922:function(t,e,n){"use strict";n.d(e,{A:function(){return V}});var r=n(67466),i=n(83868),o=n(90348),a=n(61074),s=n(31501),c=n(6663),l=n(30827);function u(t){var e;return(0,l.A)(function(t){for(var e,n,r,i=new Uint8Array(t),o="",a=i.length,s=0;s<a;)switch(e=i[s++],e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(e);break;case 12:case 13:n=i[s++],o+=String.fromCharCode((31&e)<<6|63&n);break;case 14:n=i[s++],r=i[s++],o+=String.fromCharCode((15&e)<<12|(63&n)<<6|(63&r)<<0)}return o}(t),(function(t,n){e=t?{}:n})),e}var h=n(92299),f=n.n(h);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e,n){var r;return r=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==v(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=n(95616),w=n.n(g),x=(0,n(70201).hX)("cabinet/save-var");var j=n(24319),O=n.n(j),S=n(46177),_=n.n(S),T=n(65234),A=n(80446),E=n(90749),P=n(67813),C=["requestId","chartId","type"];function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function N(t){return function(t){if(Array.isArray(t))return L(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||R(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||R(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){if(t){if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B(r.key),r)}}function B(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:String(e)}var H=Symbol(),F=Symbol(),G=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==F)throw"Cannot construct singleton";var n;this.isTryDemo=(0,A.Z5)(),this.isDemo=(0,A.Np)(),this.PING_PERIOD=60,this.listeners=(n={},[i.k3,i.my,i.Bf].forEach((function(t){[o.$9,o.Im,o.N1,o.wM,o.Z5,o.i8,o.sC,o.re,o.SF,o.DI].forEach((function(e){n[t+e]=new Map}))})),[i.my,i.Bf].forEach((function(t){[o.Xc,o.NJ,o.nY,o.VL,o.xY,o.ld,o.N_,o.au].forEach((function(e){n[t+e]=new Map}))})),[i.Bf].forEach((function(t){[o.gz,o.xg,o.yl,o.zC,o.E1,o.lw,o.rj,o.dZ,o.Qz,o.iW,o.EH,o.kG,o.L$,o.hC,o.$5,o.zn,o.F_].forEach((function(e){n[t+e]=new Map}))})),[o.A0,o.EG,o.n5,o.$k,o.GB,o.yr,o.el,o.Rb,o.T2,o.gG,o.jJ,o.od,o.iT,o.nk,o.lF,o.fV,o.z$,o.y0,o.QD,o.mS,o.mh,o.$S,o.qJ,o.Jd,o.nu,o.im,o.OS,o.MO,o.ns,o.Bh,o.ck,o.Ro,o.CV,o.L,o.g_].forEach((function(t){n[t]=new Map})),n),this.onceListeners=b({},o.iT,new Map),this.serverList=this.getActualServerList(),this.isTournament=(0,A.yq)(),this.isMobileVersion=(0,A.hP)(),this.uid=(0,A.v6)(),this.country=(0,A.lM)(),this.isMt5=(0,A.p)(),this.socket=null,this.serverTime=0,this.balance=0,this.activeSrv=null,this.lastRequestAnimationFrameTime=0,this.openedDealsCount=0,this.subscribeToListeners(),this.connectedSockets={},this.blackList=[],this.emitAuthTimeoutChecker=null,this.isConnecting=!1,this.saveChartDebounced=_()(this.saveChart.bind(this),2e3),this.changeFavoritesDebounced=_()(this.changeFavorites.bind(this),2e3)}var e,n,l;return e=t,n=[{key:"getToken",value:function(){return this.isDemo?(0,P.A)("demoSessionId"):f().get("ci_session")}},{key:"copyOrder",value:function(t){if(this.listeners["".concat(i.k3).concat(o.Im)].forEach((function(t){return t()})),null===this.socket)return this.connect();this.socket.emit(o.Im,{copyTicket:t})}},{key:"openOrder",value:function(t){var e=t.amount,n=t.action,r=t.asset,a=t.time,s=t.closeAt,l=t.requestId;if(null===this.socket)return this.connect();l||(l=this.serverTime+(0,c.A)(1,100));var u={asset:r,amount:e,action:n,isDemo:i.jx,requestId:l,optionType:100};void 0!==s?u.closeAt=s:u.time=a,this.openedDealsCount++,this.socket.emit(o.N1,u)}},{key:"doubleUpOrder",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.bW,{ticket:t})}},{key:"rolloverOrder",value:function(t){var e=t.ticket,n=t.amount;if(null===this.socket)return this.connect();this.socket.emit(o.N_,{ticket:e,amount:n})}},{key:"copySignalOrder",value:function(t){var e=t.amount,n=t.action,r=t.symbol,a=t.createdAt,s=t.expiredAt,l=t.timeframe,u=t.signalId;if(null===this.socket)return this.connect();this.socket.emit(o.L$,{symbol:r,amount:e,expiredAt:s,action:n,isDemo:i.jx,requestId:this.serverTime+(0,c.A)(1,100),createdAt:a,timeframe:l,signalId:u})}},{key:"getSignalStats",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.kG,t)}},{key:"openExpress",value:function(t,e){if(null===this.socket)return this.connect();this.socket.emit(o.Xc,[t,e])}},{key:"subscribeSignals",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.lu)}},{key:"unSubscribeSignals",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.Gu)}},{key:"subscribeSocialTradingOrders",value:function(t,e){if(null===this.socket)return this.connect();this.socket.emit(o.LE,{showOnlyWatched:t,symbols:e})}},{key:"updateSocialTradingSymbols",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.x,{symbols:t})}},{key:"unSubscribeSocialTradingOrders",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.ou)}},{key:"updateBalance",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.wM)}},{key:"loadIndicators",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.zC)}},{key:"addIndicator",value:function(t){if(null===this.socket)return this.connect();var e=t.requestId,n=t.chartId,r=t.type,i=D(t,C);this.socket.emit(o.sC,{requestId:e,chartId:n,type:r,settings:i,visible:1})}},{key:"editIndicator",value:function(t){if(null===this.socket)return this.connect();var e=t.id,n=t.settings;this.socket.emit(o.ns,{id:e,settings:n})}},{key:"deleteIndicator",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.lw,{id:t})}},{key:"deleteIndicators",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.rj,{chartId:t})}},{key:"favoriteIndicator",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.ck,{type:t})}},{key:"unfavoriteIndicator",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.Ro,{type:t})}},{key:"changeIndicatorVisibility",value:function(t){if(null===this.socket)return this.connect();var e=t.id,n=t.value;this.socket.emit(o.Bh,{id:e,visible:n?1:0})}},{key:"addDrawing",value:function(t){var e=t.chartId,n=t.settings,r=t.type,i=t.assetId,a=t.requestId;if(null===this.socket)return this.connect();this.socket.emit(o.re,{chartId:e,settings:n,type:r,assetId:i,requestId:a})}},{key:"editDrawing",value:function(t){var e=t.id,n=t.settings;if(null===this.socket)return this.connect();this.socket.emit(o.CV,{id:e,settings:n})}},{key:"updateDrawingPoints",value:function(t){if(null===this.socket)return this.connect();var e=t.map((function(t){return[t.drawingId,t.point,t.time,t.price,t.assetId,t.chartId]}));this.socket.emit(o.g0,e)}},{key:"updateDrawingPoint",value:function(t){var e=t.drawingId,n=t.point,r=t.time,i=t.price,a=t.assetId,s=t.chartId;if(null===this.socket)return this.connect();this.socket.emit(o.Hj,[e,n,r,i,a,s])}},{key:"deleteDrawingsWithIds",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.GV,t)}},{key:"deleteDrawing",value:function(t){var e=t.drawingId,n=t.chartId;if(null===this.socket)return this.connect();this.socket.emit(o.SF,{drawingId:e,chartId:n})}},{key:"updateOpenedDeals",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.nk)}},{key:"deleteDrawings",value:function(t){if(null===this.socket)return this.connect();var e=t.chartId,n=t.assetId;this.socket.emit(o.DI,{chartId:e,assetId:n})}},{key:"lockDrawings",value:function(t){var e=t.ids,n=t.value;if(null===this.socket)return this.connect();this.socket.emit(o.z2,[e,n])}},{key:"loadOrderChart",value:function(t){if(null===this.socket)return this.connect();var e={id:t.id,timeFrom:Math.floor(t.openTimestamp),timeTo:Math.ceil(t.closeTimestamp),digits:t.digits,price:t.openPrice,openTimestamp:t.openTimestamp,symbolId:t.symbolId};this.socket.emit(o.Qz,e)}},{key:"getSocialOpenDealInfo",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.iW,{copyTicket:t})}},{key:"getSocialCloseDealInfo",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.EH,{copyTicket:t})}},{key:"enableOnlyWatchedTrades",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.Rf)}},{key:"disableOnlyWatchedTrades",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.Q2)}},{key:"emitAuth",value:function(){var t=this;if(null===this.socket)return this.connect();this.emitAuthTimeoutChecker=setTimeout((function(){console.log("APP: ".concat(t.activeSrv," no answer, reconnecting...")),t.activeSrv&&(t.blackList.push(t.activeSrv),t.connectedSockets[t.activeSrv].disconnect(),t.connectTo())}),12e3),this.isTryDemo?this.socket.emit(o.mL,{token:E.A.getTryDemoToken(),balance:E.A.getTryDemoBalance()}):this.socket.emit(o.mL,{session:this.getToken(),isDemo:i.jx,uid:this.uid,platform:(0,P.A)("platform",0)}),this.listeners[o.A0].forEach((function(t){return t()}))}},{key:"getActualServerList",value:function(){return(0,A.Z5)()?r.Ay.TRY_DEMO_API_LIST:r.Ay.API_LIST}},{key:"connectTo",value:function(t){this.isConnecting=!0,null!==this.socket&&this.socket.close();var e=this.getActualServerList();this.serverList={};var n=O()(e,this.blackList);0===Object.keys(n).length&&this.blackList.length>0&&(console.log("Black list cleared."),this.blackList=[],n=e),t&&n[t]?this.serverList[t]=n[t]:this.serverList=n,this.connect()}},{key:"connect",value:function(){var t=this;this.activeSrv=null,console.log("APP: Connecting"),Object.keys(this.connectedSockets).forEach((function(e){t.connectedSockets[e]&&t.connectedSockets[e].disconnect(),t.connectedSockets[e]=null})),this.connectedSockets={},Object.values(this.serverList).forEach((function(e){var n=e.server;t.connectedSockets[n]=a.Ay.connect(n,{transports:["websocket"],timeout:r.Ay.CONNECT_TIMEOUT}),t.connectedSockets[n].on(o.A0,(function(){console.log("APP: ".concat(t.connectedSockets[n].connected?"[+]":"[-]"," ").concat(n)),null!==t.activeSrv&&t.activeSrv!==n||(t.activeSrv=n,Object.keys(t.connectedSockets).forEach((function(e){var r=t.connectedSockets[e];e!==n&&r.disconnect()})),t.socket=t.connectedSockets[n],t.isConnecting=!1,t.subscribe(),t.emitAuth())}));var i=function(e,r){t.connectedSockets[n]&&(console.log("APP: ".concat(e," ").concat(n)),r&&r.message&&console.log("Error due to: ",r.message),t.blackList.push(n),t.connectedSockets[n].disconnect(),t.connectTo())};t.connectedSockets[n].on(o.vg,(function(t){return i(o.vg,t)})),t.connectedSockets[n].on(o.Ou,(function(){return i(o.Ou)})),t.connectedSockets[n].on(o.xT,(function(){return i(o.xT)}))}))}},{key:"emitUpdateEnabledSocialOptions",value:function(t){var e=t.value,n=t.showOnlyWatchedTrades,r=t.symbols;!function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];window.AppData[t]=e,new Promise((function(r,i){n?w().ajax({url:x,data:{key:t,value:e},success:function(t){return r(t)},error:function(t){return i(t)}}):r()})).catch((function(){}))}("enabled_social",e?1:0),e?this.subscribeSocialTradingOrders(n,r):this.unSubscribeSocialTradingOrders()}},{key:"subscribeToListeners",value:function(){var t=this;this.addEventListener(o.T2,(function(){t.pingServer()}))}},{key:"setLastRequestAnimationFrameTime",value:function(){this.lastRequestAnimationFrameTime===this.serverTime&&this.lastRequestAnimationFrameTime||(this.lastRequestAnimationFrameTime=this.serverTime,null!==this.socket&&!0===this.socket.connected||this.isConnecting||(console.log("APP: try connected"),null!==this.socket&&this.socket.off(),this.connect()))}},{key:"pingServer",value:function(){if(null===this.socket)return this.connect();this.lastRequestAnimationFrameTime%this.PING_PERIOD==0&&this.socket.emit(o.tc)}},{key:"refillDemo",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.Y_)}},{key:"subscribe",value:function(){var t=this;if(null===this.socket||!0!==this.socket.connected)return null!==this.socket&&this.socket.off(),void this.connect();this.socket.on(o.EG,(function(){console.log("APP: [-] ".concat(t.activeSrv)),null!=t.socket&&t.socket.off(),t.socket=null,t.lastRequestAnimationFrameTime=0})),this.socket.on(o.jJ,(function(e){(e=u(e)).uid!==t.uid&&t.listeners[o.jJ].forEach((function(t){return t(e)}))})),this.socket.on(o.OS,(function(e){var n=u(e).map((function(t){return{amount:(e=d(t,8))[0],profit:e[1],uid:e[2],avatarUser:e[3],nickname:e[4],asset:e[5],closeTimestamp:e[6],isOnline:e[7]};var e}));t.listeners[o.OS].forEach((function(t){return t(n)}))})),this.socket.on(o.gG,(function(){console.log("APP: Success auth"),null!==t.emitAuthTimeoutChecker&&(clearTimeout(t.emitAuthTimeoutChecker),t.emitAuthTimeoutChecker=null),t.listeners[o.gG].forEach((function(t){return t()}))})),this.socket.on(o.ZX,(function(){console.log("APP: Logout..."),window.location.reload()})),this.socket.on(o.nk,(function(e){var n=u(e);t.serverTime&&(n=n.filter((function(e){return e.closeTimestamp>t.serverTime}))),t.listeners[o.nk].forEach((function(t){return t(n)}))})),this.socket.on("".concat(i.Bf).concat(o.i8),(function(e){var n=u(e),r=n.profit;n.isDemo===i.jx&&t.listeners["".concat(i.Bf).concat(o.i8)].forEach((function(t){return t(r)}))})),this.socket.on("".concat(i.Bf).concat(o.wM),(function(e){var n=u(e),r=n.balance;if(n.isDemo===i.jx){var a=t.balance;t.balance=r,t.listeners["".concat(i.Bf).concat(o.wM)].forEach((function(t){return t(r,a)}))}})),this.socket.on(o.lF,(function(e){var n=u(e).map((function(t){return e=m(t,19),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],e[6],e[7],e[8],c=e[9],l=e[10],u=e[11],h=e[12],f=e[13],d=e[14],p=e[15],y=e[16],v=e[17],{id:n,symbol:r,label:i,type:o,digits:a,payout:s,is_otc:c,otc_id:l,real_id:u,signals:h,expTime:f,active:d,timeframes:p,scheduledUntil:y,scheduledAt:e[18],minQuickTimeframe:v};var e,n,r,i,o,a,s,c,l,u,h,f,d,p,y,v}));t.isTournament&&(n=n.filter((function(t){return"cryptocurrency"!==t.type&&"stock"!==t.type&&"index"!==t.type}))),t.listeners[o.lF].forEach((function(t){return t(n)}))})),this.socket.on(o.Rb,(function(e){var n=u(e),r=n.history.sort((function(t,e){return t[0]-e[0]}));if(r.length>0){var i=I(r[r.length-1],2),a=i[0],s=i[1];t.updateStream([{asset:n.asset,time:a,price:s}],!0)}t.listeners[o.Rb].forEach((function(t){return t(n)}))})),this.socket.on(o.el,(function(e){var n=u(e);if(n.length){for(var r=[],i=0;i<n.length;i++){var o=I(n[i],3),a=o[0],s=o[1],c=o[2];r.push({asset:a,time:s,price:c})}t.updateStream(r)}})),this.socket.on(o.$k,(function(e){t.listeners[o.$k].forEach((function(t){return t(u(e))}))})),this.socket.on(o.T2,(function(e){var n=Math.floor(e);t.serverTime<n&&(t.serverTime=n,t.listeners[o.T2].forEach((function(e){return e(t.serverTime)})))})),this.socket.on(o.MO,(function(e){t.listeners[o.MO].forEach((function(t){return t(u(e))}))})),this.socket.on("".concat(i.my).concat(o.N1),(function(e){t.listeners["".concat(i.my).concat(o.N1)].forEach((function(t){return t(u(e))}))})),o.cQ.forEach((function(e){t.socket.on(e,(function(n){var r=u(n);t.listeners[e].forEach((function(t){return t(r)})),Object.hasOwnProperty.call(t.onceListeners,e)&&(t.onceListeners[e].forEach((function(t){return t(r)})),t.onceListeners[e]=new Map)}))}))}},{key:"updateStream",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.listeners[o.$S].forEach((function(e){return e(t)}));var r=Math.floor(Math.max.apply(Math,N(t.map((function(t){return t.time})))));(r>this.serverTime||n)&&(this.serverTime=r,this.listeners[o.T2].forEach((function(t){return t(e.serverTime)})))}},{key:"addOnceListener",value:function(t,e){var n=(0,s.A)();return this.onceListeners[t].set(n,e),n}},{key:"addEventListener",value:function(t,e){var n=(0,s.A)();return this.listeners[t].set(n,e),n}},{key:"removeEventListener",value:function(t,e){this.listeners[t].delete(e)}},{key:"cancelOrder",value:function(t){if(null===this.socket)return this.connect();this.listeners["".concat(i.k3).concat(o.$9)].forEach((function(e){return e(t)})),this.socket.emit(o.$9,{ticket:t})}},{key:"emitChangeSymbol",value:function(t){var e=t.asset,n=t.chartPeriod,r=void 0===n?T.YE.S5:n;if(null===this.socket)return this.connect();this.listeners[o.n5].forEach((function(t){return t(e)})),this.socket.emit(o.n5,{asset:e,period:T.VJ[r]})}},{key:"saveChart",value:function(t){var e=t.chartId,n=t.settings;if(null===this.socket)return this.connect();var r=function(t){var e=t.chartId,n=t.chartType,r=t.chartPeriod,i=t.candlesTimer,o=t.demoDealAmount,a=t.liveDealAmount,s=t.enabledMarketWatch,c=t.enabledTradeMonitor,l=t.enabledRatingWidget,u=t.isVisible,h=t.fastTimeframe,f=t.enabledAutoscroll,d=t.minimizedTradePanel,p=t.enabledGridSnap,m=t.symbol,y=t.fastCloseAt,v=t.enableQuickAutoOffset,b=t.quickAutoOffsetValue,g=t.showArea;return{chartId:e,chartType:n,chartPeriod:r,candlesTimer:i,symbol:m||t.currentAsset.symbol,demoDealAmount:o,liveDealAmount:a,enabledMarketWatch:s,enabledTradeMonitor:c,enabledRatingWidget:l,isVisible:u,fastTimeframe:h,enabledAutoscroll:f,enabledGridSnap:p,minimizedTradePanel:d,fastCloseAt:y,enableQuickAutoOffset:v,quickAutoOffsetValue:b,showArea:g}}(n);this.socket.emit(o.qT,{chartId:e,settings:r})}},{key:"deleteChart",value:function(t){var e=t.chartId;if(null===this.socket)return this.connect();this.socket.emit(o.qQ,{chartId:e})}},{key:"subscribeAsset",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.Zv,t)}},{key:"unsubscribeAsset",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.Ak,t)}},{key:"createPendingOrder",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.xY,t)}},{key:"cancelPendingOrder",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.ld,{ticket:t})}},{key:"subscribeMarketForecast",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.DE,t)}},{key:"unsubscribeMarketForecast",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.C$,t)}},{key:"loadRegion",value:function(t){var e=t.asset,n=t.index,r=t.time,i=t.offset,a=t.period;if(null===this.socket)return this.connect();this.socket.emit(o.z$,{asset:e,index:n,time:r,offset:i,period:a})}},{key:"loadFavorites",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.hC)}},{key:"changeFavorites",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.$5,t)}},{key:"priceAlertsLoad",value:function(){if(null===this.socket)return this.connect();this.socket.emit(o.zn)}},{key:"priceAlertAdd",value:function(t){var e=t.price,n=t.assetId;if(null===this.socket)return this.connect();this.socket.emit(o.au,{price:e,assetId:n})}},{key:"priceAlertRemove",value:function(t){if(null===this.socket)return this.connect();this.socket.emit(o.F_,{id:t})}}],l=[{key:"instance",get:function(){return this[H]||(this[H]=new t(F)),this[H]}}],n&&M(e.prototype,n),l&&M(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}(),V=G},90749:function(t,e,n){"use strict";n.d(e,{A:function(){return u}});var r=n(61043),i=n(57621),o={DEFAULT_BALANCE:5e4};function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.balanceKey,r=void 0===n?"po-td-balance":n,i=e.tokenKey,o=void 0===i?"po-td-token":i,a=e.assetKey,s=void 0===a?"po-td-asset":a,c=e.firstFailModalKey,l=void 0===c?"po-td-first-fail":c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.balanceKey=r,this.tokenKey=o,this.assetKey=s,this.firstFailModalKey=l}var e,n,a;return e=t,(n=[{key:"getTryDemoToken",value:function(){var t=this.getFromLocalStorage(this.tokenKey);if("string"==typeof t&&10===t.length)return t;var e=(0,r.Ak)(10);return this.saveToLocalStorage(this.tokenKey,e),e}},{key:"getTryDemoBalance",value:function(){var t=o.DEFAULT_BALANCE,e=this.getFromLocalStorage(this.balanceKey);if("string"==typeof e){var n=(0,i.xr)(parseFloat(e),2);t=n<1?1:n}return this.saveToLocalStorage(this.balanceKey,t.toString()),t}},{key:"saveTryDemoBalance",value:function(t){if(!(Number.isNaN(t)||t<1))return this.saveToLocalStorage(this.balanceKey,t.toString()),t}},{key:"getIsFirstFailModalShown",value:function(){return Boolean(this.getFromLocalStorage(this.firstFailModalKey))}},{key:"saveFirstFailModalShown",value:function(){this.saveToLocalStorage(this.firstFailModalKey,1)}},{key:"getTryDemoAsset",value:function(){return this.getFromLocalStorage(this.assetKey)}},{key:"saveTryDemoAsset",value:function(t){return this.saveToLocalStorage(this.assetKey,t.toString()),t}},{key:"getFromLocalStorage",value:function(t){try{return window.localStorage.getItem(t)}catch(e){return null}}},{key:"saveToLocalStorage",value:function(t,e){try{window.localStorage.setItem(t,e)}catch(n){return!1}return!0}}])&&s(e.prototype,n),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}(),u=new l},34060:function(t,e,n){"use strict";n.d(e,{Ci:function(){return b},H0:function(){return p},Mt:function(){return u},Uh:function(){return d},Y5:function(){return v},Zf:function(){return j},dJ:function(){return O},eZ:function(){return x},m4:function(){return y},o0:function(){return f},pR:function(){return w},q9:function(){return g},rp:function(){return m},zx:function(){return l}});var r,i=n(65234),o=n(85727),a=n.n(o);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n){var r;return r=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==s(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t,e){return{x:t,y:e}},u=function(t){return t===i.M.Line},h=(c(c(c(c(c(c(c(c(c(c(r={},i.Jm.S5,5),i.Jm.S10,10),i.Jm.S15,15),i.Jm.S30,30),i.Jm.M1,60),i.Jm.M2,120),i.Jm.M3,180),i.Jm.M5,300),i.Jm.M10,600),i.Jm.M15,900),c(c(c(c(r,i.Jm.M30,1800),i.Jm.H1,3600),i.Jm.H4,14400),i.Jm.D1,86400)),f=function(t,e){return u(t)||!Object.prototype.hasOwnProperty.call(h,e)?1:h[e]};function d(t,e){var n=p(t,e);return n+(m(t,e)-n)/100*35}function p(t,e){var n=f(t,e);return 1===n?.04:6/n}function m(t,e){var n=f(t,e);return 1===n?10:50/n}function y(t,e,n){var r=p(e,n),i=m(e,n);return a()(t,r,i)}var v=function(t,e,n,r){var i=t.time,o=t.value,a=e.time,s=e.value,c=n.time,l=n.value,u=r.time,h=r.value,f={x:null,y:null,onLine1:!1,onLine2:!1},d=(h-l)*(a-i)-(u-c)*(s-o);if(0===d)return f;var p=o-l,m=i-c,y=(a-i)*p-(s-o)*m;return p=((u-c)*p-(h-l)*m)/d,m=y/d,f.x=i+p*(a-i),f.y=o+p*(s-o),p>0&&p<1&&(f.onLine1=!0),m>0&&m<1&&(f.onLine2=!0),f};function b(t,e){return t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom}function g(t,e,n,r){var i=t.x,o=t.y,a=e.x,s=e.y,c=(o-s)/(i-a),u=o-i*c,h=0,f=0,d=n,p=r,m=l((f+0-u)/c,f+0),y=l((p-0-u)/c,p-0),v=function(t){var e=t.y;return e>=f&&e<=p};return v(m)&&v(y)?o>s?m:y:i>a?l(h+0,c*(h+0)+u):l(d-0,c*(d-0)+u)}function w(t,e){if(Object.prototype.hasOwnProperty.call(t,"value"))return t.value;switch(e){case i.U$.CLOSE:return t.exitValue;case i.U$.OPEN:return t.enterValue;case i.U$.HIGH:return t.maxValue;case i.U$.LOW:return t.minValue;case i.U$.HL2:return(t.maxValue+t.minValue)/2;case i.U$.HLC3:return(t.maxValue+t.minValue+t.exitValue)/3;case i.U$.OHLC4:return(t.enterValue+t.maxValue+t.minValue+t.exitValue)/4;case i.U$.HLCC4:return(t.maxValue+t.minValue+2*t.exitValue)/4}return t.value}function x(t,e){var n=w(t,i.U$.HIGH),r=w(t,i.U$.LOW),o=w(e,i.U$.CLOSE);return Math.max(n-r,Math.abs(n-o),Math.abs(r-o))}function j(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,r=0,i=e;i<e+n;i++)r+=t[i].value;return r/n}function O(t,e){for(var n=0,r=-1,i=0;i<t.length;i++){var o=Math.abs(t[i]-e);(0===i||o<n)&&(n=o,r=i)}return r}},70201:function(t,e,n){"use strict";n.d(e,{hX:function(){return c},pc:function(){return l}});var r=n(67813),i=n(67349),o=n.n(i),a=n(12284),s=n.n(a),c=function(t){var e=(0,r.A)("lang")||"en",n=o()((0,r.A)("base-url")||"","/"),i=s()(t,"/");return"".concat(n,"/").concat(e,"/").concat(i)},l=function(t){var e=o()((0,r.A)("base-url")||"","/"),n=s()(t,"/");return"".concat(e,"/").concat(n)}},33636:function(t,e,n){"use strict";function r(t){return(t<10?"0":"")+t}function i(t){return(t<10?"00":t<100?"0":"")+t}function o(t,e){return t.toLowerCase().includes(e)}n.d(e,{pJ:function(){return i},vD:function(){return o},wl:function(){return r}})},66933:function(t,e,n){"use strict";n.d(e,{BP:function(){return P},I7:function(){return M},Ih:function(){return g},Jx:function(){return k},Kr:function(){return A},LT:function(){return j},RL:function(){return O},Rj:function(){return T},UQ:function(){return S},Ub:function(){return L},YZ:function(){return w},ZC:function(){return D},a0:function(){return E},cC:function(){return I},ek:function(){return C},fA:function(){return x},h1:function(){return _},iC:function(){return G},jt:function(){return N},mR:function(){return B},p$:function(){return v},pH:function(){return R},sU:function(){return F},u_:function(){return b},vh:function(){return H}});var r=n(71131),i=n(52890),o=n(84916),a=n(34060),s=n(65234),c=n(24319),l=n.n(c),u=n(57621),h=n(85727),f=n.n(h),d=n(93139),p=n(69789),m=n(56674),y=(n(67517),n(15790));function v(t){var e=t.chartId,n=t.amount;return function(t,i){var o=i().global.isDemo,a={chartId:e,amount:n,isDemo:o};t({type:r.fe,payload:a})}}function b(t){var e=t.chartId,n=t.asset;return{type:r.bp,payload:{chartId:e,asset:n}}}function g(t){var e=t.chartId,n=t.value;return{type:r.W1,payload:{chartId:e,value:n}}}function w(t){var e=t.chartId,n=t.chartType,i=t.secondWidth;return{type:r.OC,payload:{chartId:e,chartType:n,secondWidth:i}}}function x(t){var e=t.chartId,n=t.action;return{type:r.hQ,payload:{chartId:e,zoomStatus:n}}}function j(t){var e=t.chartId;return{type:r.bk,payload:{chartId:e,action:r.Wu.READY}}}function O(t){return{type:r.II,payload:{chartId:t}}}function S(t){var e=t.forecast,n=t.chartId;return{type:r.IB,payload:{forecast:e,chartId:n}}}function _(t){var e=t.forecast,n=t.chartId;return{type:r.V4,payload:{forecast:e,chartId:n}}}function T(t){var e=t.symbol,n=t.timeframe;return function(t,i){var a=i(),s=a.chartSettings.visibleChartIds,c=a.assets.assetBySymbol[e];if(s.length&&c&&c.active){var l=s[0],u=(0,p.Zf)(a);t((0,o.xw)({symbol:e,chartId:l})),t({type:r._H,payload:{chartId:l,asset:c,timeframe:n,isS:u}})}}}function A(t){return function(e,n){var r=n(),i=r.chartSettings.visibleChartIds,a=r.assets.assetBySymbol[t];1===i.length&&a&&a.active&&e((0,o.xw)({symbol:t,chartId:i[0]}))}}function E(t){var e=t.chartId,n=t.amount;return{type:i.gi,payload:{chartId:e,amount:n}}}function P(t){var e=t.chartId,n=t.value;return{type:i.m4,payload:{chartId:e,value:n}}}function C(t){var e=t.chartId,n=t.value;return function(t,r){var a=r(),s=a.chartSettings.chartById[e].fastCloseAt,c=a.global.currentTime;(!s||c>s)&&n&&t(P({chartId:e,value:c+60})),n&&(0,o.RL)(t,r()),(0,m.gb)(e,n),t({type:i.e7,payload:{chartId:e,value:n}})}}function k(t,e){return{type:r.ss,payload:{chartId:t,value:e}}}function N(t,e){return function(n,i){if(n({type:r.zk,payload:{chartId:t,amountType:e}}),e===r.yf.PERCENT){var o=i(),a=o.global.balance,s=(0,y.G3)(o),c=(0,p.Jt)(o)(t),l=(0,d.Ew)(a,s),h=(0,u.H3)(a),m=(0,u.Vt)(a,l),v=a>=1?f()((0,u.xr)(c/a*100,2),h,m):.01;n(I({chartId:t,amount:v,fixValue:!0}))}}}function I(t){var e=t.chartId,n=t.amount,i=t.fixValue,o=void 0===i||i;return function(t,i){var a=i();t({type:r.sB,payload:{chartId:e,amount:n}}),function(t,e,n){var r=t.chartId,i=t.percent,o=t.fixValue,a=n.global.balance,s=(0,y.G3)(n),c=(0,d.Ew)(a,s),l=(0,u.xr)(i*a/100,2),h=f()(l,o?1:0,c);e(v({chartId:r,amount:h}))}({chartId:e,percent:n,fixValue:o},t,a)}}function R(t,e){return{type:r.KZ,payload:{chartId:t,value:e}}}function L(t,e){return{type:r.gY,payload:{chartId:t,value:e}}}function D(t,e){return{type:r.Lo,payload:{chartId:t,value:e}}}function M(t,e){return function(n,i){var c=i().chartSettings.chartById[t],u=c.chartType,h=c.chartSize,f=!(0,a.Mt)(u),d=60*e;if(f){var p=[];Object.values(l()(s.YE,"S1")).forEach((function(t){var e=(0,a.Uh)(u,t);p.push({chartPeriod:t,seconds:h.width/e})}));var m=(0,a.dJ)(p.map((function(t){return t.seconds})),d);if(m>=0){var y=p[m].chartPeriod;n((0,o.eh)({chartPeriod:y,chartId:t}))}}n({type:r.ku,payload:{chartId:t,value:e}})}}function B(t){return{type:r.Jh,payload:{chartId:t}}}function H(t,e){return{type:r.NG,payload:{chartId:t,value:e}}}function F(t,e){return function(n,i){n({type:r.tw,payload:{chartId:t,value:e}}),e&&(0,o.RL)(n,i())}}function G(t){var e=t.chartId,n=t.value;return{type:r.Lq,payload:{chartId:e,value:n}}}},25716:function(t,e,n){"use strict";n.d(e,{Bi:function(){return v},Dx:function(){return p},H6:function(){return c},Ii:function(){return w},Lu:function(){return h},Tz:function(){return y},Ws:function(){return b},b7:function(){return d},bp:function(){return u},hG:function(){return l},qb:function(){return m},tX:function(){return f},wk:function(){return x},xt:function(){return g}});var r=n(33538),i=n(52890),o=n(41165),a=n(84916),s=n(62922);function c(t){return function(e,n){e({type:i.r9,payload:{windowLayout:t}});var r=n();(0,o.xt)(e,r),(0,a.RL)(e,n())}}function l(t,e){return{type:i.Yf,payload:{settingName:t,value:e}}}function u(t){var e=t.balance;return{type:r.de,payload:{balance:e}}}function h(t){var e=t.windowLayout;return{type:r.zF,payload:{windowLayout:e}}}function f(t){var e=t.sortType,n=t.sortDirection;return{type:r.EF,payload:{sortType:e,sortDirection:n}}}function d(t){return{type:r.Y$,payload:{value:t}}}function p(t){return function(e,n){var i=n(),o=i.global.showOnlyWatchedTraders,a=i.global.enabledSocialTrading,c=i.chartSettings.visibleSymbols,l={value:t,showOnlyWatchedTrades:o,symbols:c};e({type:r.Bs,payload:l}),(!a&&t||a&&!t)&&s.A.instance.emitUpdateEnabledSocialOptions(l)}}function m(t){return{type:r.Ne,payload:{value:t}}}function y(t){return{type:r.TD,payload:{value:t}}}function v(t){return t?s.A.instance.enableOnlyWatchedTrades():s.A.instance.disableOnlyWatchedTrades(),{type:r.Ck,payload:{value:t}}}function b(){return{type:r.Qc}}function g(t){return{type:r.Vj,payload:t}}function w(t){return{type:r.IQ,payload:t}}function x(){return{type:r.IA}}},36376:function(t,e,n){"use strict";n.d(e,{Ep:function(){return o},V7:function(){return i},Xt:function(){return a},s7:function(){return s}});var r=n(32658);function i(t){var e=t.modalId,n=t.value;return{type:r.NO,payload:{modalId:e,value:n}}}function o(t){return{type:r.cs,payload:t}}function a(t){return{type:r.J2,payload:t}}function s(){return{type:r.Mw,payload:{}}}},90258:function(t,e,n){"use strict";n.d(e,{E8:function(){return v},sZ:function(){return y},Nx:function(){return b},cQ:function(){return g},mt:function(){return d},ev:function(){return p},wm:function(){return m}});var r=n(62922),i="symbol.subscribe",o="symbol.unsubscribe",a="symbol.unsubscribePendings",s=n(48864),c=(n(73316),n(20494));n(69667),n(76481),n(36376),n(32658),n(25288),n(89023),n(69789);function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h="pending.create",f="pending.cancel";function d(t){var e=t.symbol;return r.A.instance.subscribeAsset(e),function(t){t({type:i,payload:{symbol:e}})}}function p(t){var e=t.symbol;return function(t,n){b(n()).includes(e)||r.A.instance.unsubscribeAsset(e),t({type:o,payload:{symbol:e}})}}function m(){return function(t,e){var n=e(),i=(0,c.$4)(n);if(i.length){var o=b(n,!1);i.filter((function(t){return!o.includes(t)})).forEach((function(t){return r.A.instance.unsubscribeAsset(t)})),t({type:a,payload:{pendingSymbols:i}})}}}function y(t){return r.A.instance.createPendingOrder(t),function(e){e({type:h},t)}}function v(t){var e=t.ticket;return r.A.instance.cancelPendingOrder(e),function(t){t({type:f,payload:{ticket:e}})}}function b(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=t.chartSettings;r.chartIds.forEach((function(t){r.chartById[t].isVisible&&n.push(r.chartById[t].symbol)}));var i=t.deals;(i.openedIds.forEach((function(t){n.push(i.openedById[t].asset)})),t.priceAlerts.forEach((function(e){var r=Object.values(t.assets.assetBySymbol).find((function(t){return t.id===e.assetId}));r&&n.push(r.symbol)})),e)&&(0,c.$4)(t).forEach((function(t){return n.push(t)}));return l(new Set(n))}function g(){return s.Je({symbol:null,price:null,payout:null,amount:null,timeframe:null})}},94190:function(t,e,n){"use strict";n.d(e,{bv:function(){return p},qW:function(){return d},xV:function(){return f}});var r=n(85050),i=n(69667),o=n(68512),a=n(90258),s=n(62922),c=n(25288),l=n(67466),u=n(89023),h=n(61043);function f(t){var e=t.price,n=t.assetId;return function(t,a){var c=a(),f=(0,u.AQ)(c),d=c.priceAlerts.filter((function(t){return t.assetId===n})).length;return d>=l.Ay.MAX_PRICE_ALERTS_PER_ASSET?i.A.publish(o.lM,{maxCount:l.Ay.MAX_PRICE_ALERTS_PER_ASSET,count:d,error:"MAX_PRICE_ALERTS_PER_ASSET_REACHED"}):f?t(r.o.add({id:(0,h.Ak)(),price:e,assetId:n})):void s.A.instance.priceAlertAdd({price:e,assetId:n})}}function d(t){return function(e,n){var i=n();(0,u.AQ)(i)||s.A.instance.priceAlertRemove(t),e(function(t){return function(e,n){var i=n(),o=(0,u.AQ)(i),l=i.priceAlerts.find((function(e){return e.id===t}));if(l&&(e(r.o.remove(t)),!o)){var h=(0,c.o1)(i)(l.assetId);if(h)(0,a.Nx)(n()).includes(h.symbol)||s.A.instance.unsubscribeAsset(h.symbol)}}}(t))}}function p(t){return function(e,n){var r=n(),a=r.priceAlerts.find((function(e){return e.id===t}));if(a){var s=(0,c.o1)(r)(a.assetId);if(s){var l={price:a.price,assetId:s.id,symbol:s.symbol,label:s.label};i.A.publish(o.cq,l)}e(d(t))}}}},41165:function(t,e,n){"use strict";n.d(e,{JS:function(){return p},j4:function(){return v},jQ:function(){return f},qD:function(){return y},qX:function(){return d},uc:function(){return h},xt:function(){return m}});var r=n(26203),i=n(38025),o=n(40548),a=n(62922),s=n(56291),c=n(80446);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,n){n().signals.requested&&!t||e({type:r.TT})}}function f(){return function(t){t({type:r.kv})}}function d(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){var o=r().signals.updated.length>0;n(i.JS(t)),e&&!o&&m(n,r())}}function p(t){return function(e,n){e(i.JS(t));var r=n();r.signals.updated.length||m(e,r)}}function m(t,e){var n=(0,o.Yn)(e);t(i.cg(n)),t(y())}function y(){return function(t,e){var n=e().signals.updated;if(n.length){var r,i={},o=l(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,c=s.symbol,u=s.time,h=s.timeframe;i[u]||(i[u]=[u,[]]),i[u][1].push([c,h/60])}}catch(f){o.e(f)}finally{o.f()}a.A.instance.getSignalStats(Object.values(i))}}}function v(t){var e=t.symbol,n=t.time,r=t.action,o=t.amount,l=t.timeframe,u=n+l;return function(t,h){var f=h(),d=f.global.currentTime,p=u-d,m=(0,s.Sx)({symbol:e,timeframe:l,time:n});(0,c.Z5)(f)&&t(function(t){return function(e){e(i.YX(t))}}(m)),a.A.instance.copySignalOrder({symbol:e,action:r,expiredAt:p,amount:o,timeframe:l,createdAt:n,signalId:m})}}},84916:function(t,e,n){"use strict";n.d(e,{$g:function(){return S},Cj:function(){return j},HM:function(){return O},K:function(){return P},PC:function(){return w},RL:function(){return E},Xx:function(){return N},eh:function(){return x},ix:function(){return k},s6:function(){return _},vn:function(){return C},xw:function(){return T},ym:function(){return A}});var r=n(52890),i=n(83707),o=n(41165),a=n(67813),s=n(66933),c=n(69667),l=n(68512),u=n(33652),h=n(71131),f=n(78389),d=n(62922),p=n(18264),m=n.n(p),y=n(94190),v=n(89023);function b(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t){var e=t.chartId,n=t.chartType;return{type:r.T8,payload:{chartId:e,chartType:n}}}function x(t){var e=t.chartId,n=t.chartPeriod;return{type:r.oY,payload:{chartId:e,chartPeriod:n}}}function j(t,e){return{type:r.rP,payload:{chartId:t,value:e}}}function O(t){var e=t.save;return{type:r.p3,payload:{save:e}}}function S(t){return function(e,n){e({type:r.nT,payload:{time:t}}),function(t,e){var n,r=e.chartSettings,i=r.chartIds,o=r.chartById,a=e.assets.assetBySymbol,c=e.global.currentTime,l=b(i);try{for(l.s();!(n=l.n()).done;){var u=n.value,h=o[u],f=h.enableQuickAutoOffset,d=h.fastCloseAt,p=h.quickAutoOffsetValue,m=a[h.symbol];if(m){var y=c+m.minQuickTimeframe,v=parseInt(d,10);if(!(!f||y<v||p<5)){var g=v+Math.max(1,Math.ceil((y-v)/p))*p;t((0,s.BP)({chartId:u,value:g}))}}}}catch(w){l.e(w)}finally{l.f()}}(e,n())}}function _(t){var e=t.chartSlotIndex,n=t.symbol;return function(t,r){var i=r(),o=(0,v.e6)(i)(e);i.chartSettings.chartById[o].symbol!==n&&t(T({chartId:o,symbol:n}))}}function T(t){var e=t.chartId,n=t.symbol;return function(t,i){t({type:r.S9,payload:{symbol:n,chartId:e}});var a=i();(0,o.xt)(t,a),E(t,i()),a.global.enabledSocialTrading&&d.A.instance.updateSocialTradingSymbols(a.chartSettings.visibleSymbols)}}function A(t){return function(e,n){var i=n().global,o=i.country,s=i.isProfileVerified,c=i.liveBalance,l=(0,a.A)("is-mt5"),u=t.filter((function(t){return!!l||("IRRUSD_otc"===t.symbol?"IR"===o&&s:"SYPUSD_otc"!==t.symbol||"SY"===o&&s)}));e({type:r.db,payload:{assets:u,balance:c}}),l||E(e,n())}}function E(t,e){var n=e.assets,r=e.chartSettings,i=e.global.currentTime;if(i){var o,a=h.zQ["+M2"],f=b(r.chartIds);try{for(f.s();!(o=f.n()).done;){var d=o.value,p=r.chartById[d],m=p.enableQuickAutoOffset,y=p.fastCloseAt,v=p.quickAutoOffsetValue,g=p.symbol;if(p.isCalendarMode&&n.symbols.includes(g)&&m){var w=n.assetBySymbol[g].minQuickTimeframe;if(w>=v){if(y-i<=w){var x=y+Math.max(1,Math.ceil((i-y)/a))*a;t((0,s.BP)({chartId:d,value:x}))}t((0,s.iC)({chartId:d,value:a})),c.A.publish(l.Mt,new u.A({chartId:d,offsetValue:a}))}}}}catch(j){f.e(j)}finally{f.f()}}}function P(t){return function(e,n){e(f.o.add(t));var r=n().favorites.list;d.A.instance.changeFavoritesDebounced(r)}}function C(t){return function(e,n){e(f.o.remove(t));var r=n().favorites.list;d.A.instance.changeFavoritesDebounced(r)}}function k(t){return function(e,n){var r=n().favorites.list;e(f.o.change(t));var i=n().favorites.list;m()(i,r)||d.A.instance.changeFavoritesDebounced(i)}}function N(t){return function(e,n){var r=n(),o=r.quotes.bySymbol,a=r.assets.assetBySymbol,s=r.priceAlerts;if(s.length>0){var c,l=b(t);try{var u=function(){var t,n,r=c.value,i=r.asset,l=r.price,u=null===(t=a[i])||void 0===t?void 0:t.id;if(!u)return 0;var h=null===(n=o[i])||void 0===n?void 0:n.price;if(!h)return 0;var f=s.filter((function(t){return t.assetId===u}));if(0===f.length)return 0;f.forEach((function(t){(h<t.price&&l>=t.price||h>t.price&&l<=t.price)&&e((0,y.bv)(t.id))}))};for(l.s();!(c=l.n()).done;)u()}catch(h){l.e(h)}finally{l.f()}}e((0,i.s)(t))}}},67517:function(t,e,n){"use strict";n.d(e,{d:function(){return r},i:function(){return i}});var r={SHOW_BALANCE:"step_1",OPEN_ASSET_LIST:"step_2",SELECT_ASSET:"step_3",OPEN_EXPIRATION_INPUTS:"step_4",OPEN_AMOUNT_INPUTS:"step_5",SHOW_PAYOUT:"step_6",OPEN_DEAL:"step_7",OPENED_DEAL:"step_8",CLOSED_DEAL_WIN:"step_9_win",CLOSED_DEAL_LOOSE:"step_9_loose"},i=10},71131:function(t,e,n){"use strict";n.d(e,{Cj:function(){return R},IB:function(){return w},II:function(){return g},Jh:function(){return A},KZ:function(){return S},Lo:function(){return _},Lq:function(){return I},NG:function(){return P},Nz:function(){return D},OC:function(){return d},Ry:function(){return C},V4:function(){return x},W1:function(){return y},Wu:function(){return L},_H:function(){return k},bk:function(){return m},bp:function(){return f},dk:function(){return v},fe:function(){return u},gY:function(){return E},gz:function(){return b},hQ:function(){return p},ku:function(){return T},sB:function(){return h},sS:function(){return U},ss:function(){return j},tw:function(){return N},vr:function(){return l},yf:function(){return M},zQ:function(){return W},zk:function(){return O}});var r=n(65234),i=n(67813),o=n(67466),a=n(80446);function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l="HISTORY_SUCCESS_LOADED",u="CHANGE_CURRENT_DEAL_AMOUNT",h="CHANGE_PERCENT_AMOUNT",f="CHANGE_ASSET_TO_ACTIVE",d="CHANGE_CHART_ZOOM",p="ZOOM_BUTTON_CLICKED",m="ZOOM_BUTTON_READY",y="CHANGE_MARKET_WATCH",v="CHANGE_TRADE_MONITOR",b="CHANGE_RATING_WIDGET",g="HIDE_CHART",w="SUBSCRIBE_MARKET_FORECAST",x="UNSUBSCRIBE_MARKET_FORECAST",j="Chart/Enable autoscroll",O="Chart/Change amount type",S="Chart/Change trade panel visibility",_="Chart/Change grid snap",T="Chart/Changed date range seconds",A="Chart/Changed date range unforce",E="Chart/Changed size",P="Chart/Changed show area",C="Chart/Fix quick timeframe",k="Chart/Set quick timeframe",N="Chart/Auto-offset enable",I="Chart/Auto-offset period",R=["chart-1","chart-2","chart-3","chart-4"],L={CLICKED_PLUS:"CLICKED_PLUS",CLICKED_MINUS:"CLICKED_MINUS",READY:"READY",RESTORE:"RESTORE"},D=[60,120,180,300,600,900,1800,2700,3600,7200,10800,14400],M={PERCENT:"percent",CURRENCY:"currency"};var B,H,F,G=(0,a.yq)()?10:(B=parseFloat((0,i.A)("user-balance")),H=isNaN(B)?1:Math.ceil(B/10),F=Math.max.apply(Math,s(o.Ay.USER_LEVELS.map((function(t){return t.maxOpenAmount})))),H>F&&(H=F),Math.max(1,H)),V={};Object.values(r.M).forEach((function(t){return V[t]=3.5}));var W={"+S30":30,"+M1":60,"+M2":120,"+M3":180,"+M5":300,"+M30":1800},U={isQuickOption:!0,isCalendarMode:!1,isVisible:!0,chartType:r.M.Line,showArea:!0,chartPeriod:r.YE.M1,chartPeriodRaw:r.YE.M1,candlesTimer:!1,symbol:null,amountType:M.CURRENCY,percentAmount:1,demoDealAmount:10,liveDealAmount:G,fastTimeframe:o.EW.MIN_TIMEFRAME,fastCloseAt:0,enabledMarketWatch:!0,enabledTradeMonitor:!1,enabledRatingWidget:!0,enabledAutoscroll:!0,enabledGridSnap:!0,zoom:V,zoomStatus:L.READY,minimizedTradePanel:!1,dateRangeMinutes:0,dateRangeMinutesRaw:0,dateRangeMinutesForce:!1,chartSize:{width:0,height:0},enableQuickAutoOffset:!0,quickAutoOffsetValue:W["+S30"]}},27146:function(t,e,n){"use strict";n.d(e,{$J:function(){return r},Rd:function(){return a},ne:function(){return s},qF:function(){return i},qc:function(){return o}});var r=0,i=1,o=2,a=3,s=4},33538:function(t,e,n){"use strict";n.d(e,{Bs:function(){return l},Ck:function(){return f},EF:function(){return a},FE:function(){return p},HA:function(){return d},IA:function(){return g},IQ:function(){return v},Ne:function(){return u},Qc:function(){return m},TD:function(){return h},U_:function(){return b},Vj:function(){return y},Wm:function(){return s},Y$:function(){return c},de:function(){return i},kI:function(){return r},zF:function(){return o}});var r="USER_SUCCESS_AUTHORIZED",i="USER_UPDATE_BALANCE",o="WINDOW_LAYOUT_BODY_CLASS_CHANGED",a="CHANGE_ASSET_SORT_TYPE",s="CLOSE_FIRST_DEAL_PANEL",c="CHANGE_ENABLED_HOT_KEYS",l="CHANGE_ENABLE_SOCIAL_TRADES",u="CHANGE_ENABLED_WATCHLISTING_OF_COPIED_BETS",h="CHANGE_SHOW_RATING",f="CHANGE_CHART_WATCHED_USERS",d="CHANGE_THEME",p="GLOBAL/CHANGE_COLLAPSE_INDICATORS_INFO",m="GLOBAL/HIDE_HOTKEYS_INFO",y="GLOBAL/Change fields",v="GLOBAL/Save fields",b="CHANGE_COUNTER",g="GLOBAL/Refill demo"},78942:function(t,e,n){"use strict";var r;function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e,n){var r;return r=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==i(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{WA:function(){return c},rs:function(){return a},ue:function(){return s}});var a={FULL:"FULL",V2:"VERTICAL_2",H2:"HORIZONTAL_2",T2B1:"TOP_2_BOTTOM_1",T1B2:"TOP_1_BOTTOM_2",T2B2:"TOP_2_BOTTOM_2",L2R1:"LEFT_2_RIGHT_1",L1R2:"LEFT_1_RIGHT_2",V3:"VERTICAL_3",T3B1:"TOP_3_BOTTOM_1",T1B3:"TOP_1_BOTTOM_3",L1R3:"LEFT_1_RIGHT_3",L3R1:"LEFT_3_RIGHT_1"},s=(o(o(o(o(o(o(o(o(o(o(r={},a.FULL,1),a.V2,2),a.H2,2),a.T2B1,3),a.T1B2,3),a.L2R1,3),a.L1R2,3),a.V3,3),a.T2B2,4),a.T3B1,4),o(o(o(r,a.T1B3,4),a.L1R3,4),a.L3R1,4)),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var n in s)if(s[n]===t)return n;return e}},32658:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e,n){var i;return i=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==r(i)?i:String(i))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{J2:function(){return s},Mw:function(){return c},NO:function(){return o},cs:function(){return a},lx:function(){return l},n5:function(){return u}});var o="CHANGE_MODAL_STATE",a="CHANGE_MODAL_STATES",s="CLOSE_OTHER_MODALS",c="CLOSE_ALL_MODALS",l={DEALS:"trades-modal",DEALS_WIDGET:"trades-modal-widget",SIGNALS:"signals-modal",SIGNALS_WIDGET:"signals-modal-widget",SOCIAL_TRADING:"social-modal",PENDING_ORDERS:"pending-orders-modal",EXPRESSES:"express-modal",TOURNAMENTS:"tournaments-modal",TOURNAMENT_DETAILS:"tournament-details",TOURNAMENT_HISTORY:"tournament-history",TOURNAMENT_RATINGS:"tournament-rating",ACCOUNT:"account-modal",PLATFORMS:"platforms-modal",ASSETS_LIST:"assets-list",TRADER_CHAT:"trader-chat",LEFT_TRADER_CHAT:"left-trader-chat",DRAWING_SETTINGS_PANEL:"drawing-settings-panel",ANALYTICS_MODAL:"analytics-modal",INDICATORS_MODAL:"indicators-modal",DRAWINGS_MODAL:"drawings-modal",CHART_SETTINGS:"chart-settings",TRADING_MODAL:"trading-modal",FINANCE_MODAL:"finance-modal",PROFILE_MODAL:"profile-modal",MARKET_MODAL:"market-modal",ACHIEVEMENTS_MODAL:"achievements-modal",SUPPORT_MODAL:"support-modal",ONLY_REGISTERED:"only-registered",ONLY_REAL_TRADING:"only-real-trading",INTRODUCTION_GUIDE_MODAL:"introduction-guide-modal",FIRST_FAIL_MODAL:"first-fail-modal",GOOD_JOB_MODAL:"good-job-modal",TUTORIAL_4_MODAL:"tutorial-4-modal"},u=i(i(i(i(i(i(i(i(i({},l.DEALS,!1),l.SIGNALS,!1),l.SOCIAL_TRADING,!1),l.EXPRESSES,!1),l.TOURNAMENTS,!1),l.TOURNAMENT_DETAILS,!1),l.TOURNAMENT_HISTORY,!1),l.PENDING_ORDERS,!1),l.ANALYTICS_MODAL,!1);i(i(i({},l.ACCOUNT,!1),l.PLATFORMS,!1),l.SIGNALS,!1)},26203:function(t,e,n){"use strict";n.d(e,{PO:function(){return a},TT:function(){return r},kv:function(){return i},nR:function(){return o}});var r="ss",i="us",o={60:"M1",120:"M2",180:"M3",300:"M5",600:"M10",900:"M15",1800:"M30",2700:"M45",3600:"H1",7200:"H2",10800:"H3",14400:"H4"},a="right1"},52890:function(t,e,n){"use strict";n.d(e,{By:function(){return d},S9:function(){return l},T8:function(){return r},U6:function(){return p},Yf:function(){return f},db:function(){return u},e7:function(){return v},gi:function(){return m},m4:function(){return y},nT:function(){return s},oY:function(){return i},p3:function(){return a},r9:function(){return h},rP:function(){return o},vJ:function(){return c}});var r="CHANGE_CHART_TYPE",i="CHANGE_CHART_PERIOD",o="CHANGE_CHART_CANDLES_TIMER",a="CHART_SETTINGS_LOADED",s="CHANGE_CURRENT_TIME",c="CHANGE_ENABLE_TOOLTIP_MESSAGE",l="CHANGE_SYMBOL",u="CHANGE_ASSETS",h="CHANGE_WINDOW_LAYOUT",f="CHANGE_INFO_ICON_STATE",d="CHANGE_EXISTS_ACTIVE_BONUS",p="MOVE_SIGNALS_ICON_TO_LEFT_TOP",m="Chart/Change quick timeframe",y="Chart/Change quick close at",v="Chart/Change quick mode"},75289:function(t,e,n){"use strict";n.d(e,{C1:function(){return a},Sp:function(){return l},an:function(){return s},cH:function(){return u},jA:function(){return c}});var r=n(67466),i=n(85727),o=n.n(i);function a(t,e){var n=t+e.payout;return n>r.Ay.MAX_PAYOUT?r.Ay.MAX_PAYOUT:n}function s(t){return t.split("/").map((function(t){return t.toLowerCase()}))}function c(t){return-1!==t.indexOf("_otc")}function l(t){var e=t.asset,n=t.isS;return e?void 0!==n&&n&&!c(e.symbol)?r.EW.DEFAULT_TIMEFRAME:e.minQuickTimeframe:r.EW.DEFAULT_TIMEFRAME}function u(t){var e=t.timeframe,n=t.max,r=void 0===n?14400:n,i=t.isS,a=void 0!==i&&i,s=l({asset:t.asset,isS:a}),c=parseInt(e,10);return isNaN(c)?s:o()(c,s,r)}},56674:function(t,e,n){"use strict";n.d(e,{gb:function(){return a},iC:function(){return o}});var r=n(83282);function i(t){return"cm_".concat(t)}function o(t){return Boolean(r.A.cookies.find(i(t),1,Number))}function a(t,e){return r.A.cookies.set(i(t),e?"1":"0")}},76481:function(t,e,n){"use strict";n.d(e,{Co:function(){return p},Jw:function(){return l},L5:function(){return c},O7:function(){return h},PP:function(){return w},S7:function(){return s},T$:function(){return f},ZN:function(){return b},dm:function(){return u},eY:function(){return m},nT:function(){return a},tY:function(){return y},u8:function(){return v},y0:function(){return g}});var r=n(57621),i=n(84894),o=n(6663);function a(t){return 0===t}function s(t){return 100===t.optionType}function c(t){return 0===t.optionType||s(t)}function l(t){var e=t.amount,n=t.price,r=t.openPrice,i=t.isCall,o=t.percentProfit,a=0;return(i&&n>r||!i&&n<r)&&(a=e*o/100),Math.round(100*a)/100}function u(t){var e=t.amount,n=t.price,r=t.openPrice,i=t.isCall,o=t.percentProfit;if(n===r)return e;var a=0;return(i&&n>r||!i&&n<r)&&(a=e+e*o/100),Math.round(100*a)/100}function h(t){var e=t.map((function(t){return t/100+1})).reduce((function(t,e){return t*e}),1);return(0,r.xr)(e)}function f(t){return Math.trunc(100*(t-1))}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=t.toString().split(e);return void 0!==n[1]?n[1]:""}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=d(t),i=d(e),o=null!==n?n:Math.max(r.length,i.length);return Math.round(e*Math.pow(10,o))-Math.round(t*Math.pow(10,o))}function m(t){var e=t.refundTimestamp,n=t.openPrice,r=t.closePrice;return null!=e?n:r}function y(t){var e=t.refundTimestamp,n=t.closeTimestamp;return null!=e?e:n}function v(t){return null!=t.refundTimestamp}function b(t){var e=t.amount,n=t.profit;return Number((e+n).toFixed(2))}var g=function(t){return parseInt(t,10)===i.g.BY_TIME},w=function(t){var e=String(t.clientX),n=String(t.clientY),r=e.substring(e.length-2),i=n.substring(n.length-2);return Number("1".concat(r).concat(i,"0").concat((0,o.A)(10,99)))}},57621:function(t,e,n){"use strict";n.d(e,{H1:function(){return h},H3:function(){return m},RN:function(){return d},Vt:function(){return p},X$:function(){return l},XT:function(){return u},l3:function(){return c},xr:function(){return f}});var r=n(67466),i=n(85727),o=n.n(i);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c={MIN:1,MAX:1e3},l={MIN:.01,MAX:100},u=function(t){var e=t.amount,n=t.positive,r=void 0===n||n,i=t.min,a=void 0===i?c.MIN:i,s=t.max,l=void 0===s?c.MAX:s,u=1;r?e>=10&&e<50?u=5:e>=50&&e<100?u=10:e>=100&&e<300?u=50:e>=300&&(u=100):e>10&&e<=50?u=5:e>50&&e<=100?u=10:e>100&&e<=300?u=50:e>300&&(u=100);var h=r?e+u:e-u;return o()(f(h),a,l)},h=function(t){var e=t.amount,n=t.positive,r=void 0===n||n,i=t.min,a=void 0===i?l.MIN:i,s=t.max,c=void 0===s?l.MAX:s,u=1;r?e>=15&&e<30?u=5:e>=30&&e<65?u=10:e>=65&&(u=15):e>15&&e<=30?u=5:e>30&&e<=65?u=10:e>65&&(u=15);var h=r?e+u:e-u;return o()(f(h,2),a,c)},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Number(t).toFixed(e);return n?r:+r},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,i=function(t){var e="".concat(t).replace(/[^0-9.]/g,""),n=-1!==e.indexOf(r.Bz),i=a(e.split(r.Bz),2),o=i[0],s=i[1];return n&&s.length>1&&(s=s.substring(0,2)),"0"===o&&n?0:n?"".concat(o,".").concat(s):o}(t);return(i<e||isNaN(i))&&(i=e),i>n&&(i=n),i};function p(t,e){return t<1?.01:Math.min(100,f(100*e/t,2))}function m(t){return t<1?.01:Math.max(.01,f(1/t*100,2))}},31235:function(t,e,n){"use strict";n.d(e,{MK:function(){return l},WU:function(){return s},_2:function(){return a},h0:function(){return c}});var r=n(78942),i=["colors","show"];function o(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function a(t,e){switch(t){case r.rs.V2:return 2;case r.rs.H2:return 1;case r.rs.T2B1:return 2===e?1:2;case r.rs.T1B2:return 1===e?1:2;case r.rs.T2B2:case r.rs.L2R1:case r.rs.L1R2:return 2;case r.rs.V3:return 1;case r.rs.T3B1:return 4===e?1:3;case r.rs.T1B3:return 1===e?1:3;case r.rs.L1R3:case r.rs.L3R1:return 2}return 1}function s(t,e){switch(t){case r.rs.V2:case r.rs.V3:return 1;case r.rs.L2R1:return 3===e?1:2;case r.rs.L1R2:return 1===e?1:2;case r.rs.H2:case r.rs.T2B1:case r.rs.T1B2:case r.rs.T2B2:case r.rs.T3B1:case r.rs.T1B3:return 2;case r.rs.L1R3:return 1===e?1:3;case r.rs.L3R1:return 4===e?1:3}return 1}function c(t){return t===r.rs.FULL}function l(t){t.colors,t.show;var e=o(t,i);return Object.keys(e).length>0}},82398:function(t,e,n){"use strict";function r(t,e){return"".concat(e).concat(t)}n.d(e,{b:function(){return r}})},56291:function(t,e,n){"use strict";n.d(e,{Sx:function(){return d},UI:function(){return u},fr:function(){return h},lF:function(){return f}});var r=n(73316),i=n(26203);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var a,s,c,l,u=(a={up1:{label:(0,r.tr)("signals.buy_signal"),type:"buy",class:"price-up",signal:"up1"},up2:{label:(0,r.tr)("signals.strong_buy_signal"),type:"active-buy",class:"price-up",signal:"up2"},up3:{label:(0,r.tr)("signals.strong_buy_signal"),type:"active-buy",class:"price-up",signal:"up3"},down1:{label:(0,r.tr)("signals.sell_signal"),type:"sell",class:"price-down",signal:"down1"},down2:{label:(0,r.tr)("signals.strong_sell_signal"),type:"active-sell",class:"price-down",signal:"down2"},down3:{label:(0,r.tr)("signals.strong_sell_signal"),type:"active-sell",class:"price-down",signal:"down3"}},s=i.PO,c={label:(0,r.tr)("signals.neutral_signal"),type:"neutral",class:"",signal:i.PO},l=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(s,"string"),(s="symbol"==o(l)?l:String(l))in a?Object.defineProperty(a,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[s]=c,a),h=function(t){switch(t){case 1:return"up1";case 2:return"up2";case 3:return"down1";case 4:return"down2"}return i.PO},f=function(t,e){return t+e-5};function d(t){var e=t.symbol,n=t.timeframe,r=t.time;return"".concat(r+n,"-").concat(e,"-").concat(n)}},93139:function(t,e,n){"use strict";n.d(e,{Ew:function(){return c},HI:function(){return o},SX:function(){return s},d:function(){return i},h7:function(){return a}});var r=n(67466),i=function(t){var e=r.Ay.USER_LEVELS,n=e.find((function(e){return e.from<=t&&t<e.to}));return void 0!==n?n:e[0]},o=function(t){var e=i(t);return e.name!==r.et.STRANGER&&e.name!==r.et.NEWBIE},a=function(t,e){var n,i=r.Ay.USER_LEVELS.reduce((function(t,e){return t[e.name]=e.from,t}),{});switch(e){case r.et.NEWBIE:n=i[r.et.NEWBIE]-t;break;case r.et.BEGINNER:n=i[r.et.BEGINNER]-t;break;case r.et.EXPERIENCED:n=i[r.et.EXPERIENCED]-t;break;case r.et.MASTER:n=i[r.et.MASTER]-t;break;case r.et.PRO:n=i[r.et.PRO]-t;break;case r.et.GURU:n=i[r.et.GURU]-t;break;default:n=i[r.et.GURU]}return n<0?0:Math.round(n+1)},s=function(t){var e=i(t);return void 0!==e?e.maxOpenAmount:1e3},c=function(t,e){var n=Math.min(t,e);return n<1?1:n}},80446:function(t,e,n){"use strict";n.d(e,{Np:function(){return u},Z5:function(){return l},hP:function(){return o},lM:function(){return s},p:function(){return c},v6:function(){return a},yq:function(){return i}});var r=n(67813);function i(){return 1==+(0,r.A)("is-tournament")}function o(){return 1==+(0,r.A)("is-mobile-version")}function a(){return(0,r.A)("uid")}function s(){return(0,r.A)("geoip-country")}function c(){return 1==+(0,r.A)("is-mt5")}function l(){return 1==+(0,r.A)("is-try-demo")}function u(){return 1==+(0,r.A)("is-demo")}},78389:function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{F:function(){return c},o:function(){return s}});var o=function(t,e){t.list=e.payload},a=(0,n(82754).Z0)({name:"favorites",initialState:{list:[]},reducers:{load:o,add:function(t,e){t.list.includes(e.payload)||(t.list=[e.payload].concat(r(t.list)))},remove:function(t,e){t.list=t.list.filter((function(t){return t!==e.payload}))},change:o}}),s={load:a.actions.load,add:a.actions.add,remove:a.actions.remove,change:a.actions.change},c=a.reducer},48864:function(t,e,n){"use strict";n.d(e,{Ff:function(){return a},Je:function(){return o}});var r=(0,n(82754).Z0)({name:"pendingOrders",initialState:{byId:{},ids:[],selectedSymbol:null,selectedPrice:null,selectedPayout:null,selectedAmount:null,selectedTimeframe:null},reducers:{loadPendingOrders:function(t,e){e.payload.forEach((function(e){t.byId[e.ticket]=e})),t.ids=Object.keys(t.byId)},createPendingOrderSuccess:function(t,e){t.byId[e.payload.ticket]=e.payload,t.ids=Object.keys(t.byId)},removePendingOrder:function(t,e){var n=e.payload.ticket;t.ids.includes(n)&&(delete t.byId[n],t.ids=Object.keys(t.byId))},setSelectedAssetIdAndPrice:function(t,e){var n=e.payload,r=n.amount,i=n.symbol,o=n.price,a=n.payout,s=n.timeframe;t.selectedSymbol=i,t.selectedPrice=o,t.selectedPayout=a,t.selectedAmount=r,t.selectedTimeframe=s}}}),i=r.actions,o=(i.createPendingOrderSuccess,i.loadPendingOrders,i.removePendingOrder,i.setSelectedAssetIdAndPrice),a=r.reducer},85050:function(t,e,n){"use strict";n.d(e,{F:function(){return o},o:function(){return i}});var r=(0,n(82754).Z0)({name:"priceAlerts",initialState:[],reducers:{load:function(t,e){e.payload.forEach((function(e){return t.push(e)}))},add:function(t,e){var n=e.payload,r=n.id,i=n.assetId,o=n.price;t.push({id:r,assetId:i,price:o})},remove:function(t,e){return t.filter((function(t){return t.id!==e.payload}))}}}),i={load:r.actions.load,add:r.actions.add,remove:r.actions.remove},o=r.reducer},83707:function(t,e,n){"use strict";n.d(e,{F:function(){return o},s:function(){return i}});var r=(0,n(82754).Z0)({name:"Quotes",initialState:{bySymbol:{}},reducers:{changeQuotesList:function(t,e){e.payload.forEach((function(e){var n=e.asset,r=e.time,i=e.price;return t.bySymbol[n]={time:r,price:i}}))}}}),i=r.actions.changeQuotesList,o=r.reducer},38025:function(t,e,n){"use strict";n.d(e,{$m:function(){return y},Ff:function(){return g},JS:function(){return m},PP:function(){return v},YX:function(){return b},cg:function(){return p}});var r=n(82754),i=n(56291),o=n(26203),a=n(52890);function s(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f=(0,r.Z0)({initialState:{all:{},updated:[],opened:{},requested:!1},name:"Signals",reducers:{updateSignals:function(t,e){var n,r=e.payload,a=r.signals,s=r.times,u=Array.from(new Set(t.updated.map((function(t){return t.symbol})))),h=!1,f=l(a);try{var d=function(){var e,r=c(n.value,3),a=r[0],f=r[1],d=r[2],p=l(f);try{var m=function(){var n=c(e.value,2),r=n[0],l=n[1],f=s[r],p=60*parseInt(r,10),m=(0,i.fr)(l);if(t.all[p]||(t.all[p]={}),t.all[p][a]={signal:m,price:d,time:f},u.includes(a)&&m!==o.PO){var y=(0,i.lF)(f,p);t.updated.findIndex((function(t){return t.timeframe===p&&t.symbol===a&&t.signal===m}))<0&&t.updated.push({symbol:a,timeframe:p,signal:m,price:d,time:f,hideAt:y,count:0}),h=!0}};for(p.s();!(e=p.n()).done;)m()}catch(y){p.e(y)}finally{p.f()}};for(f.s();!(n=f.n()).done;)d()}catch(p){f.e(p)}finally{f.f()}h&&t.updated.sort((function(t,e){return t.time===e.time?0:e.time-t.time}))},setUpdated:function(t,e){t.updated=s(e.payload),t.updated.sort((function(t,e){return t.time===e.time?0:e.time-t.time}))},updateStats:function(t,e){var n,r=e.payload,i=l(t.updated);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=l(r);try{for(s.s();!(o=s.n()).done;){var u=c(o.value,2),h=u[0],f=u[1];if(h===a.time){var d,p=l(f);try{for(p.s();!(d=p.n()).done;){var m=c(d.value,3),y=m[0],v=m[1],b=m[2];y===a.symbol&&60*v===a.timeframe&&(a.count=b)}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){s.e(g)}finally{s.f()}}}catch(g){i.e(g)}finally{i.f()}},addOpened:function(t,e){var n=e.payload,r=n.signalId,o=n.time;t.opened[r]=o;var a=t.updated.findIndex((function(t){return(0,i.Sx)(t)===r}));a>=0&&t.updated[a].count++},increaseOpened:function(t,e){var n=e.payload,r=t.updated.findIndex((function(t){return(0,i.Sx)(t)===n}));r>=0&&t.updated[r].count++}},extraReducers:function(t){t.addCase(o.TT,(function(t){t.requested=!0})),t.addCase(o.kv,(function(t){t.requested=!1})),t.addCase(a.nT,(function(t,e){var n=e.payload.time;t.updated.forEach((function(e,r){e.hideAt<n&&t.updated.splice(r,1)}))}))}}),d=f.actions,p=d.setUpdated,m=d.updateSignals,y=d.updateStats,v=d.addOpened,b=d.increaseOpened,g=f.reducer},69906:function(t,e,n){"use strict";n.d(e,{Ff:function(){return o},o1:function(){return i}});var r=(0,n(82754).Z0)({name:"siteTour",initialState:{isOpen:!1,currentStep:0},reducers:{openSiteTour:function(t){t.isOpen=!0},closeSiteTour:function(t){t.isOpen=!1,t.currentStep=0},changeStep:function(t,e){t.currentStep=e.payload}}}),i={openSiteTour:r.actions.openSiteTour,closeSiteTour:r.actions.closeSiteTour,changeStep:r.actions.changeStep},o=r.reducer},25288:function(t,e,n){"use strict";n.d(e,{E_:function(){return p},L5:function(){return f},OG:function(){return m},Or:function(){return v},P7:function(){return d},Zn:function(){return b},gg:function(){return l},o1:function(){return h},rC:function(){return c},rZ:function(){return u},vZ:function(){return y}});var r=n(24885),i=n(69789),o=n(62832),a=n.n(o),s=n(75289),c=function(t){return t.assets.assetBySymbol},l=function(t){return t.assets.symbols},u=(0,r.Mz)([c,l],(function(t,e){return function(n){return e.includes(n)?t[n]:null}})),h=(0,r.Mz)([c],(function(t){return function(e){var n=Object.values(t).find((function(t){return t.id===e}));return n||null}})),f=(0,r.Mz)([c,l],(function(t,e){return function(n){return e.includes(n)?t[n].digits:3}})),d=(0,r.Mz)([c,l],(function(t,e){return function(n){return e.includes(n)?t[n].label:null}})),p=((0,r.Mz)([c,l],(function(t,e){return function(n){return e.includes(n)?t[n].timeframes:[]}})),(0,r.Mz)([c,i.SS],(function(t,e){return function(n){return a()(t,[e[n].symbol],{})}}))),m=(0,r.Mz)([c,i.SS],(function(t,e){for(var n in e)if(e[n].isVisible)return a()(t,[e[n].symbol],null);return null})),y=(0,r.Mz)([c,i.SS],(function(t,e){return function(n){var r=e[n].symbol;return t[r]&&t[r].minQuickTimeframe?t[r].minQuickTimeframe:60}})),v=(0,r.Mz)([c,l,i.Zf],(function(t,e,n){return function(e){var r=t[e];return(0,s.Sp)({asset:r,isS:n})}})),b=(0,r.Mz)([c,l],(function(t,e){return function(n){return e.includes(n)&&t[n].active}}))},89023:function(t,e,n){"use strict";n.d(e,{$N:function(){return p},AQ:function(){return d},Be:function(){return x},C1:function(){return v},JM:function(){return g},JZ:function(){return b},Pv:function(){return u},e6:function(){return j},mG:function(){return f},uO:function(){return w},vl:function(){return m},vu:function(){return y}});var r=n(24885),i=n(69789),o=n(75984),a=n(62832),s=n.n(a),c=n(31235),l=n(25288),u=function(t){return t.chartSettings.visibleSymbols},h=function(t){return t.chartSettings.visibleChartIds},f=function(t){return t.global.isMobile},d=function(t){return t.global.isTryDemo},p=function(t){return t.global.isDemo},m=function(t){return t.global.isTournament},y=(0,r.Mz)([l.gg,u],(function(t,e){return e.length?e[0]:t.length?t[0]:""})),v=(0,r.Mz)([l.rC,i.SS],(function(t,e){return function(n){var r=e[n].symbol;return s()(t,"".concat(r,".payout"),0)}})),b=(0,r.Mz)([l.rC,i.SS],(function(t,e){return function(t){return e[t].fastTimeframe}})),g=(0,r.Mz)([o.sS,i.SS],(function(t,e){return function(n){var r=e[n].symbol;return s()(t,"".concat(r,".price"),0)}})),w=(0,r.Mz)([function(t){return t.global.windowLayout}],(function(t){return function(e){return(0,c.WU)(t,e)<3}})),x=(0,r.Mz)([h],(function(t){return t.length?t[0]:"chart-1"})),j=(0,r.Mz)([h],(function(t){return function(e){return t[e-1]||"chart-1"}}))},15790:function(t,e,n){"use strict";n.d(e,{G3:function(){return P},Kp:function(){return k},MN:function(){return N},O9:function(){return D},T4:function(){return E},Um:function(){return M},eu:function(){return R},f7:function(){return A},hg:function(){return B},kY:function(){return _},pA:function(){return L},uL:function(){return I},y3:function(){return H}});var r=n(24885),i=n(33688),o=n(57621),a=n(27146),s=n(19198),c=n(69789),l=n(89023),u=n(75984),h=n(33636),f=n(82398),d=n(25288),p=n(36474),m=n(93139);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){var r;return r=function(t,e){if("object"!=y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==y(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j=function(t){return t.deals.openedIds},O=function(t){return t.deals.openedById},S=function(t){return t.deals.closedIds},_=function(t){return t.deals.closedById},T=function(t){return t.global.currentTime},A=function(t){return t.deals.openedIds.length},E=(0,r.Mz)([O,j],(function(t,e){return e.length>0?t[e[0]]:null})),P=(0,r.Mz)([c.AP,p.My],(function(t,e){return t?2e4:(0,m.SX)(e)}));var C=(0,r.Mz)([O,j],(function(t,e){return function(n){return e.filter((function(e){return t[e].asset===n})).map((function(e){return t[e]}))}})),k=(0,r.Mz)([O,j,T],(function(t,e,n){return e.filter((function(e){return t[e].closeTimestamp>n}))})),N=(0,r.Mz)([O],(function(t){return function(e){var n;return null!==(n=t[e])&&void 0!==n?n:null}})),I=(0,r.Mz)([O,j,c.B],(function(t,e,n){return function(r){return e.filter((function(e){return t[e].asset===r})).map((function(e){return function(t,e){return w(w({},t),{},{value:t.openPrice,time:parseFloat("".concat(t.openTimestamp,".").concat((0,h.pJ)(t.openMs))),closeTime:t.closeTimestamp,isCall:(0,i.A)(t.command),text:(0,f.b)(t.amount,e),needToAnimate:!0})}(t[e],n)}))}})),R=function(t){return(0,r.Mz)([_,S],(function(e,n){return n.filter((function(n){return!0===e[n].isNew&&e[n].asset===t})).map((function(t){return e[t]}))}))},L=(0,r.Mz)([O,d.Or],(function(t,e){return function(n){if(!t[n])return 0;var r=t[n],i=e(r.asset);return r.closeTimestamp-i}})),D=(0,r.Mz)([O,T,p.OY,p.My,d.Or,L,P],(function(t,e,n,r,i,o,a){return function(r){if(!t[r])return!1;var i=t[r],s=o(r);return!(e>=s)&&(n>=i.amount&&a>=i.amount)}})),M=(0,r.Mz)([O,d.Or],(function(t,e){return function(n){if(!t[n])return 0;var r=t[n],i=r.closeTimestamp-r.openTimestamp,o=Math.floor(i/2),a=e(r.asset),s=Math.max(a,o);return r.closeTimestamp-s}})),B=(0,r.Mz)([D,M,O,c.Y,p.My,p.Qv,T,u.sS,P],(function(t,e,n,r,o,a,s,c,l){return function(o){if(a)return!1;if(!t(o))return!1;var u=n[o],h=r[u.asset];if(u.isRollover)return!1;var f=c[u.asset];if(!f)return!1;if((0,i.A)(u.command)&&f.price>u.openPrice||!(0,i.A)(u.command)&&f.price<u.openPrice)return!1;var d=e(o);if(s>=d)return!1;if(l<2*u.amount)return!1;var p=u.closeTimestamp-u.openTimestamp;return u.closeTimestamp+p-u.openTimestamp<=Math.max.apply(Math,v(h.timeframes.map((function(t){return t.time}))))}})),H=((0,r.Mz)([function(t){return t},c.SS],(function(t,e){return function(n){var r=(0,l.JM)(t)(n),a=e[n].symbol,s=C(t)(a),c=0,u=0,h=0,f=0;return s.forEach((function(t){var e=parseFloat(t.openPrice);(0,i.A)(t.command)?(u+=t.amount,r>e&&(f+=t.profit+t.amount)):(h+=t.amount,r<e&&(f+=t.profit+t.amount)),c+=t.amount})),c=(0,o.xr)(c),f=(0,o.xr)(f),u=(0,o.xr)(u),h=(0,o.xr)(h),{sum:c,call:u,put:h,possibleProfit:f}}})),(0,r.Mz)([c.Y,c.JB,u.sS,O,j,T],(function(t,e,n,r,o,c){return function(l){if(!e.includes(l))return null;var u=t[l],h=u.label,f=u.active,d=u.payout,p={label:h,active:f,symbol:l,payout:d,hasDeals:!1,totalBet:0,profit:0,estimatedProfit:0,progress:0,state:a.$J},m=n[l];if(m){var y=o.filter((function(t){return r[t].asset===l})).map((function(t){return r[t]}));p.profit=y.reduce((function(t,e){var n=parseFloat(e.openPrice);return(0,i.A)(e.command)&&m.price>n||!(0,i.A)(e.command)&&m.price<n?t+e.profit+e.amount:t}),0),p.hasDeals=y.length>0,p.totalBet=p.hasDeals?y.reduce((function(t,e){return t+e.amount}),0):0,p.estimatedProfit=(0,s.B)(p.profit),p.progress=F(y,c),p.state=G(p)}return p}}))),F=function(t,e){if(!t.length)return 0;var n=t[0];t.forEach((function(t){n.closeTimestamp>t.closeTimestamp&&(n=t)}));var r=n.closeTimestamp-n.openTimestamp,i=n.closeTimestamp-e;return Math.min(Number((100-i/r*100).toFixed(2)),100)},G=function(t){var e=t.estimatedProfit,n=t.totalBet;return t.hasDeals?0===e?a.qc:e>0&&e<n?a.Rd:e>n?a.ne:a.qF:a.$J}},36474:function(t,e,n){"use strict";n.d(e,{Ay:function(){return u},Ei:function(){return l},My:function(){return a},N3:function(){return c},OY:function(){return o},Qv:function(){return s}});var r=n(24885),i=n(78942),o=function(t){return t.global.balance},a=function(t){return t.global.liveBalance},s=function(t){return t.global.isSB},c=function(t){return t.global.isProfileVerified},l=function(t){return t.global.isEmailVerified},u=(0,r.Mz)([function(t){return t.global.windowLayout}],(function(t){return t===i.rs.FULL}))},69789:function(t,e,n){"use strict";n.d(e,{AI:function(){return _},AP:function(){return p},B:function(){return y},Ev:function(){return b},JB:function(){return u},Jt:function(){return g},KY:function(){return j},Ln:function(){return m},Ny:function(){return d},SS:function(){return h},TF:function(){return O},WN:function(){return x},Y:function(){return l},Zf:function(){return T},d8:function(){return S},oi:function(){return A},tv:function(){return f},u:function(){return w}});var r=n(24885),i=n(31235),o=n(62832),a=n.n(o),s=n(26203),c=n(17131),l=function(t){return t.assets.assetBySymbol},u=function(t){return t.assets.symbols},h=function(t){return t.chartSettings.chartById},f=function(t){return t.modals.states},d=function(t){return t.global.isMobile},p=function(t){return t.global.isDemo},m=function(t){return t.global.currentTime},y=function(t){return t.global.currency},v=function(t){return t.global.windowLayout},b=function(t){return t.global.isS},g=(0,r.Mz)([p,h],(function(t,e){return function(n){return e[n][t?"demoDealAmount":"liveDealAmount"]}})),w=(0,r.Mz)([h],(function(t){return function(e){return t[e].percentAmount}})),x=function(t){return!t.global.isMobile&&t.global.enabledTooltipMessage},j=function(t){return t.global.hideBoFeatures},O=(0,r.Mz)([d,function(t){return t.global.mobileOrientation}],(function(t,e){return t&&e===c.V})),S=function(t){return(0,r.Mz)([h,v,O],(function(e,n,r){var o=(0,i.h0)(n);return!r&&(o||!e[t].minimizedTradePanel)}))},_=(0,r.Mz)([function(t,e){return t.chartSettings.chartById[e.chartId].symbol},function(t){return t.marketForecasts}],(function(t,e){return e[t]?e[t]:50})),T=((0,r.Mz)([function(t){return t.signals.all}],(function(t){return function(e,n){return a()(t,"".concat(n,".").concat(e,".signal"),s.PO)}})),(0,r.Mz)([b,function(t){return t.global.isFullVerified}],(function(t,e){return t||!e}))),A=(0,r.Mz)([m],(function(t){return t>0}))},20494:function(t,e,n){"use strict";n.d(e,{$4:function(){return f},$s:function(){return s},CL:function(){return c},T5:function(){return l},Zq:function(){return h},fQ:function(){return d},tx:function(){return u}});var r=n(24885),i=n(84894),o=function(t){return t.pendingOrders.ids},a=function(t){return t.pendingOrders.byId},s=function(t){return t.pendingOrders.selectedSymbol},c=function(t){return t.pendingOrders.selectedPrice},l=function(t){return t.pendingOrders.selectedPayout},u=function(t){return t.pendingOrders.selectedAmount},h=function(t){return t.pendingOrders.selectedTimeframe},f=(0,r.Mz)([o,a],(function(t,e){var n=[];return t.forEach((function(t){var r=e[t],o=r.openType,a=r.symbol;o===i.g.BY_PRICE&&n.push(a)})),n})),d=(0,r.Mz)([s,c,l,u,h],(function(t,e,n,r,i){return null!==t&&null!==e&&null!==n&&null!==r&&null!==i}));(0,r.Mz)([o,a],(function(t,e){return function(n){return t.map((function(t){return e[t]})).filter((function(t){return t.symbol===n&&t.openType===i.g.BY_PRICE}))}}))},75984:function(t,e,n){"use strict";n.d(e,{Dc:function(){return a},_r:function(){return o},sS:function(){return i}});var r=n(24885),i=function(t){return t.quotes.bySymbol},o=(0,r.Mz)([i],(function(t){return function(e){return void 0===t[e]?0:t[e].price}})),a=(0,r.Mz)([i],(function(t){return function(e,n){return void 0!==t[e]&&t[e].price>n}}))},40548:function(t,e,n){"use strict";n.d(e,{Rz:function(){return g},Yn:function(){return m},jY:function(){return v},nP:function(){return y}});var r=n(24885),i=n(89023),o=n(69789),a=n(56291),s=n(26203),c=n(13459),l=n.n(c),u=n(25288),h=n(75289);function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var p=function(t){return t.signals.updated},m=(0,r.Mz)([function(t){return t.signals.all},i.Pv,o.Ln],(function(t,e,n){var r,i=[],o=f(l()(e));try{for(o.s();!(r=o.n()).done;)for(var c=r.value,u=Object.keys(t),h=0,d=u;h<d.length;h++){var p=d[h],m=parseInt(p,10);if(t[m]&&t[m][c]){var y=t[m][c],v=y.time,b=y.signal,g=y.price,w=(0,a.lF)(v,m);w<=n||b===s.PO||i.push({symbol:c,timeframe:m,signal:b,price:g,time:v,hideAt:w,count:0})}}}catch(x){o.e(x)}finally{o.f()}return i})),y=(0,r.Mz)([function(t){return t.signals.opened},o.Ln],(function(t,e){return function(n){var r,i=null!==(r=t[n])&&void 0!==r?r:0;return!(i<=0)&&e-i<2}})),v=(0,r.Mz)([p,u.rC,o.Ln,o.Ev],(function(t,e,n,r){var i,o=l()(t.map((function(t){return t.symbol}))),a={},s=f(o);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(e[c]){var u=e[c];a[c]=(0,h.Sp)({asset:u,isS:r})}}}catch(d){s.e(d)}finally{s.f()}return t.filter((function(t){var e=t.timeframe,r=t.time,i=t.symbol,o=e+r-n,s=a[i];return s&&o>s}))})),b=(0,r.Mz)([p,u.rC,o.Ln,o.Ev],(function(t,e,n,r){return function(i){return t.filter((function(t){var o=t.timeframe,a=t.time,s=t.symbol,c=o+a-n,l=(0,h.Sp)({asset:e[s],isS:r});return l&&c>l&&i===s}))}})),g=(0,r.Mz)([function(t){return t}],(function(t){return function(e){var n=b(t)(e);return n.length?n[0]:null}}))},20320:function(t,e,n){"use strict";n.d(e,{Bl:function(){return s},K2:function(){return l},oW:function(){return a},rZ:function(){return u},t0:function(){return o},v9:function(){return c}});var r=n(67517),i=n(24885),o=function(t){return t.welcomeTour.currentStep},a=function(t){return t.welcomeTour.isOpen},s=(0,i.Mz)([o,o],(function(t,e){return t&&(e===r.d.OPEN_DEAL||e===r.d.OPENED_DEAL)})),c=(0,i.Mz)([o,o],(function(t,e){return t&&e===r.d.SELECT_ASSET})),l=(0,i.Mz)([o,o],(function(t,e){return t&&e===r.d.OPEN_EXPIRATION_INPUTS})),u=(0,i.Mz)([o,o],(function(t,e){return t&&e===r.d.OPEN_AMOUNT_INPUTS}));(0,i.Mz)([o,o],(function(t,e){return t&&e===r.d.CLOSED_DEAL_WIN}))},54212:function(t,e,n){"use strict";n(29305),n(32733),n(51770),n(35371),n(11190),n(84701),n(32354),n(22060),n(82839),n(56107),n(54513),n(33671),n(81678),n(2623),n(70784),n(24776),n(67117),n(86765),n(14382),n(69703),n(68854),n(64771),n(37224),n(69892),n(76281),n(84734),n(44962),n(17731),n(86584),n(32385),n(20518),n(28693),n(87324),n(89336),n(26448),n(11988),n(74576),n(25352),n(63979),n(66781),n(44243),n(74455),n(4754),n(35455),n(65055),n(66184),n(10849),n(58551),n(31835),n(36356),n(2271),n(37114),n(17347),n(20888),n(54660),n(2647),n(34695),n(52606),n(94654),n(75645),n(90448),n(28811),n(5480),n(70389),n(19283),n(94),n(51948),n(54731),n(83607),n(72915),n(93081),n(68582),n(94137),n(77575),n(18417),n(33087),n(36947),n(39565),n(57132),n(13225),n(75339),n(36457),n(88908),n(40718),n(26437),n(5594),n(41625),n(93563),n(83810),n(86742),n(96682),n(89065),n(65683),n(52697),n(78557),n(64628),n(67593),n(96054),n(90076),n(4921),n(45309),n(87698),n(21359),n(74965),n(86509),n(61642),n(94383),n(55751),n(8398),n(47568),n(14271),n(86667),n(36374),n(21539),n(646),n(95021),n(2553),n(83103),n(17456),n(73687),n(92745),n(32370),n(50987),n(69651),n(99425),n(83994),n(53819),n(90081),n(39999),n(79682),n(79856),n(64251),n(93062),n(97456),n(11810),n(64062),n(46968),n(50980),n(91933),n(86268),n(48847),n(29548),n(2285),n(87723),n(96919),n(80808),n(66464),n(94630),n(83320),n(4716),n(33054),n(82281),n(23236),n(89717),n(57268),n(94067),n(32650),n(34581),n(31937),n(88064),n(85486),n(4181),n(51294),n(1421),n(18750),n(50789),n(63171),n(67689),n(14715),n(39111),n(73015),n(47762),n(84518),n(90580),n(23630),n(82367),n(71766),n(89612),n(24362),n(76218),n(99102);var r=n(63696),i=n.t(r,2),o=n(14749),a=n.n(o),s=n(69162),c=n.n(s),l=(a().start({apiKey:"4856b3059a46d3720bad2f5b4e2ea3c4",plugins:[new(c())],appVersion:"7.6.2",autoTrackSessions:!1,onError:function(t){var e=void 0!==window.AppData&&void 0!==window.AppData.uid?window.AppData.uid:"unknown uid";t.setUser(e)}}),a().getPlugin("react").createErrorBoundary(i)),u=n(80249),h=n(82754),f=n(28275),d=n(52890),p=n(71131),m=n(95685),y=n.n(m),v=n(18264),b=n.n(v),g=n(34060),w=n(65234),x=n(75289),j=n(97241);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){var r;return r=function(t,e){if("object"!=O(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==O(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var P=(0,j.Ay)((function(t,e){switch(e.type){case d.p3:return function(t,e){var n=e.charts;t.chartById=n,t.chartIds=Object.keys(n),R(t)}(t,e.payload);case d.r9:return function(t,e){y()(e.charts)||(t.chartById=e.charts);t.chartIds=Object.keys(t.chartById),R(t)}(t,e.payload);case d.T8:var n=e.payload,r=n.chartId,i=n.chartType,o=t.chartById[r].chartPeriodRaw;return I(t,r,{chartType:i,chartPeriod:(0,g.Mt)(i)?w.YE.S1:o,chartPeriodRaw:o});case d.oY:var a=e.payload,s=a.chartId,c=a.chartPeriod;return I(t,s,{chartPeriod:c,chartPeriodRaw:c});case d.rP:var l=e.payload;return I(t,l.chartId,{candlesTimer:l.value});case d.S9:return C(t,e.payload);case p.fe:var u=e.payload,h=u.chartId,f=u.amount;return I(t,h,u.isDemo?{demoDealAmount:parseFloat(f)}:{liveDealAmount:parseFloat(f)});case p.bp:return C(t,e.payload);case p.W1:var m=e.payload;return I(t,m.chartId,{enabledMarketWatch:!!m.value});case p.dk:var v=e.payload;return I(t,v.chartId,{enabledTradeMonitor:!!v.value});case p.gz:var b=e.payload;return I(t,b.chartId,{enabledRatingWidget:!!b.value});case p.OC:var x=e.payload,j=x.chartId,O=x.chartType,S=x.secondWidth;t.chartById[j].zoom[O]=S;break;case p.hQ:case p.bk:var T=e.payload;return I(t,T.chartId,{zoomStatus:T.zoomStatus});case p.II:return function(t,e){var n=e.chartId;t.chartById[n].isVisible=!1,R(t)}(t,e.payload);case d.db:return function(t,e){e.chartSymbols.forEach((function(e){var n=e.chartId,r=e.symbol;t.chartIds.includes(n)&&(t.chartById[n].symbol=r)})),R(t)}(t,e.payload);case d.gi:var A=e.payload;return I(t,A.chartId,{fastTimeframe:A.amount});case p.ss:var E=e.payload;return I(t,E.chartId,{enabledAutoscroll:E.value});case p.KZ:var P=e.payload;return I(t,P.chartId,{minimizedTradePanel:P.value});case p.Lo:var k=e.payload;return I(t,k.chartId,{enabledGridSnap:k.value});case p.ku:var L=e.payload;return I(t,L.chartId,{dateRangeMinutes:L.value,dateRangeMinutesForce:!0});case p.Jh:return I(t,e.payload.chartId,{dateRangeMinutesForce:!1});case p.gY:var D=e.payload,M=D.chartId,B=D.value,H=B.width,F=void 0===H?0:H,G=B.height;return I(t,M,{chartSize:{width:F,height:void 0===G?0:G}});case p.zk:var V=e.payload;return I(t,V.chartId,{amountType:V.amountType});case p.sB:var W=e.payload;return I(t,W.chartId,{percentAmount:W.amount});case p.NG:var U=e.payload;return I(t,U.chartId,{showArea:U.value});case p.Ry:return function(t,e){t.chartIds.forEach((function(n){N(t,_(_({},e),{},{chartId:n,timeframe:t.chartById[n].fastTimeframe}))}))}(t,e.payload);case p._H:return N(t,e.payload);case d.e7:var z=e.payload;return I(t,z.chartId,{isCalendarMode:!!z.value});case d.m4:var X=e.payload,$=X.chartId,Y=X.value;return I(t,$,{fastCloseAt:parseInt(Y,10)});case p.tw:var q=e.payload;return I(t,q.chartId,{enableQuickAutoOffset:!!q.value});case p.Lq:var K=e.payload,Z=K.chartId,Q=K.value;return I(t,Z,{quickAutoOffsetValue:parseInt(Q,10)})}}),{chartById:{},chartIds:[],visibleSymbols:[],visibleChartIds:[]});function C(t,e){var n=e.symbol,r=e.chartId,i=e.assets,o=void 0===i?[]:i,a=e.isS;!function(t,e){var n=e.symbol,r=e.chartId,i=e.assets,o=void 0===i?[]:i,a=e.isS,s=void 0!==a&&a,c=o.find((function(t){return t.symbol===n}));if(!c)return;var l=t.chartById[r].fastTimeframe;t.chartById[r].symbol=n,t.chartById[r].fastTimeframe=k(l,c,s)}(t,{symbol:n,chartId:r,assets:o,isS:void 0!==a&&a}),R(t)}function k(t,e,n){var r=Math.max.apply(Math,A(e.timeframes.map((function(t){return t.time}))));return(0,x.cH)({timeframe:t,asset:e,max:r,isS:n})}function N(t,e){var n=e.isS,r=e.asset,i=e.timeframe,o=e.chartId;t.chartById[o].symbol===r.symbol&&(t.chartById[o].fastTimeframe=k(i,r,n))}function I(t,e,n){Object.keys(n).forEach((function(r){return t.chartById[e][r]=n[r]}))}function R(t){var e,n=L(e=t.chartById).map((function(t){return e[t].symbol}));b()(t.visibleSymbols,n)||(t.visibleSymbols=n);var r=L(t.chartById);b()(t.visibleChartIds,r)||(t.visibleChartIds=r)}function L(t){return Object.keys(t).filter((function(e){return t[e].isVisible}))}var D=n(24319),M=n.n(D);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}var H=["chart_id","visible"],F=["chartId","requestId","type"];function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){var r;return r=function(t,e){if("object"!=B(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==B(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var z=function(t,e){var n=e.payload,r=t.allIds.findIndex((function(t){return t===n}));r>=0&&(t.allIds.splice(r,1),delete t.byId[n])},X=function(t,e){var n=e.payload,r={};t.allIds.forEach((function(e){t.byId[e].chartId!==n&&(r[e]=t.byId[e])})),t.byId=r,t.allIds=$(r)};function $(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"created_at",n=Object.keys(t);return 0===n.length?[]:(parseInt(n[0])===t[n[0]].id&&(n=n.map((function(t){return parseInt(t)}))),n.sort((function(n,r){return new Date(t[n][e])-new Date(t[r][e])})))}var Y=(0,h.Z0)({name:"indicators",initialState:{byId:{},allIds:[],favorites:[]},reducers:{load:function(t,e){var n=e.payload,r=n.favorites,i=n.list.reduce((function(t,e){var n=e.chart_id,r=e.visible,i=void 0===r?1:r,o=U(e,H);return t[e.id]=V(V({},o),{},{chartId:n,visible:Boolean(+i)}),t}),{});t.byId=i,t.allIds=$(i),t.favorites=r},add:function(t,e){var n=e.payload,r=n.chartId,i=n.requestId,o=n.type;!function(t,e){t.byId[e.id]=e,t.allIds.includes(e.id)||t.allIds.push(e.id)}(t,{id:i,chartId:r,settings:U(n,F),type:o,visible:!0})},addSuccess:function(t,e){var n=e.payload,r=n.requestId,i=n.id;if(t.allIds.includes(r)){var o=t.allIds.findIndex((function(t){return t===r}));t.allIds.splice(o,1)}void 0!==t.byId[r]&&delete t.byId[r],t.allIds.includes(i)||t.allIds.push(i),t.byId[i]=e.payload},addFail:function(t,e){var n=e.payload.requestId;if(!t.allIds.includes(n))return t;t.byId=M()(t.byId,n),t.allIds=Object.keys(t.byId)},remove:z,removeSuccess:function(t,e){return z(t,e)},edit:function(t,e){var n=e.payload,r=n.id,i=n.settings;t.byId[r]=V(V({},t.byId[r]),{},{settings:V(V({},t.byId[r].settings),i)})},changeVisibility:function(t,e){var n=e.payload,r=n.id,i=n.value;t.byId[r].visible=i},changeHeight:function(t,e){var n=e.payload,r=n.id,i=n.expanded;return V(V({},t),{},{byId:V(V({},t.byId),{},W({},r,V(V({},t.byId[r]),{},{expanded:i})))})},favorite:function(t,e){var n=e.payload;t.favorites.includes(n)||t.favorites.push(n)},unfavorite:function(t,e){var n=e.payload,r=t.favorites.findIndex((function(t){return t===n}));r>=0&&t.favorites.splice(r,1)},removeAllInChart:X,removeAllInChartSuccess:function(t,e){return X(t,e)},removeAll:function(t){t.byId={},t.allIds=[]}}}),q={load:Y.actions.load,add:Y.actions.add,addSuccess:Y.actions.addSuccess,addFail:Y.actions.addFail,remove:Y.actions.remove,removeSuccess:Y.actions.removeSuccess,edit:Y.actions.edit,changeVisibility:Y.actions.changeVisibility,changeHeight:Y.actions.changeHeight,favorite:Y.actions.favorite,unfavorite:Y.actions.unfavorite,removeAllInChart:Y.actions.removeAllInChart,removeAllInChartSuccess:Y.actions.removeAllInChartSuccess,removeAll:Y.actions.removeAll},K=Y.reducer,Z=n(25632),Q=n.n(Z),J=n(83393),tt=n.n(J);function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}var nt=["assetId","chartId","requestId","type","symbol"],rt=["chartId","drawingId"];function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){at(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function at(t,e,n){var r;return r=function(t,e){if("object"!=et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==et(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function st(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var ct=function(t,e){e.payload.forEach((function(e){var n=e.chartId,r=e.drawingId,i=st(e,rt);if(t.allIds.includes(r)&&t.byId[r].chartId===n){var o=t.byId[r].points,a=o.findIndex((function(t){return t.point===i.point}));-1===a?o.push(ot({},i)):o[a]=ot(ot({},o[a]),i)}}))},lt=function(t,e){var n=e.payload.drawingId;t.byId=M()(t.byId,n),t.allIds=Object.keys(t.byId),t.selectedIds=t.selectedIds.filter((function(e){return t.allIds.includes(e)}))};function ut(t,e){t.byId[e.id]=e,t.allIds.includes(e.id)||t.allIds.push(e.id)}var ht=(0,h.Z0)({name:"drawings",initialState:{byId:{},allIds:[],selectedIds:[]},reducers:{add:function(t,e){var n=e.payload,r=n.assetId,i=n.chartId,o=n.requestId,a=n.type,s=n.symbol,c=st(n,nt);ut(t,{id:o,chartId:i,assetId:r,symbol:s,type:parseInt(a,10),settings:c,isLocked:!1,points:[]})},addSuccess:function(t,e){var n=e.payload,r=n.requestId,i=n.id;if(!t.allIds.includes(r))return t;var o=t.allIds.findIndex((function(t){return t===r}));t.allIds.splice(o,1),t.allIds.includes(i)||t.allIds.push(i),t.byId[i]=ot(ot({},t.byId[r]),{},{id:i,requestId:r}),delete t.byId[r];var a=t.selectedIds.findIndex((function(t){return t===r}));-1!==a&&(t.selectedIds.splice(a,1),t.selectedIds.includes(i)||t.selectedIds.push(i))},addFail:function(t,e){var n=e.payload.requestId;if(!t.allIds.includes(n))return t;t.byId=M()(t.byId,n),t.allIds=Object.keys(t.byId),t.selectedIds=t.selectedIds.filter((function(e){return t.allIds.includes(e)}))},load:function(t,e){e.payload.list.forEach((function(e){return ut(t,e)}))},edit:function(t,e){var n=e.payload,r=n.id,i=n.settings;t.allIds.includes(r)&&(t.byId[r].settings=Q()({},t.byId[r].settings,i))},pointEdit:function(t,e){ct(t,{payload:[e.payload]})},pointsEdit:ct,removeAllInChart:function(t,e){var n=e.payload,r=n.chartId,i=n.assetId;t.byId=tt()(t.byId,(function(t){return t.chartId===r&&t.assetId===i})),t.allIds=Object.keys(t.byId),t.selectedIds=[]},remove:lt,removeSuccess:function(t,e){return lt(t,e)},select:function(t,e){var n=e.payload;if(!t.selectedIds.includes(n)&&t.allIds.includes(n)){var r=t.byId[n].chartId,i=[n];t.selectedIds.forEach((function(e){var n=t.byId[e].chartId;r===n&&i.push(e)})),t.selectedIds=i}},deselect:function(t,e){var n=e.payload;t.selectedIds.includes(n)&&t.allIds.includes(n)&&(t.selectedIds=t.selectedIds.filter((function(t){return n!==t})))},deselectAll:function(t){t.selectedIds=[]},changeSelected:function(t,e){var n=e.payload;t.selectedIds.forEach((function(e){var r=t.byId[e].settings.lines,i=void 0===r?{}:r,o=Object.keys(i);o.length>0&&Object.keys(n).forEach((function(r){o.forEach((function(i){Object.keys(t.byId[e].settings.lines[i]).includes(r)&&(t.byId[e].settings.lines[i][r]=n[r])}))}))}))},removeSelected:function(t){t.byId=M()(t.byId,t.selectedIds),t.allIds=Object.keys(t.byId),t.selectedIds=[]},removeAll:function(t){t.byId={},t.allIds=[],t.selectedIds=[]},lock:function(t,e){var n=e.payload,r=n.ids,i=n.value;t.allIds.filter((function(t){return r.includes(t)})).forEach((function(e){return t.byId[e].isLocked=i}))}}}),ft={add:ht.actions.add,addSuccess:ht.actions.addSuccess,addFail:ht.actions.addFail,load:ht.actions.load,edit:ht.actions.edit,pointEdit:ht.actions.pointEdit,pointsEdit:ht.actions.pointsEdit,removeAllInChart:ht.actions.removeAllInChart,remove:ht.actions.remove,removeSuccess:ht.actions.removeSuccess,select:ht.actions.select,deselect:ht.actions.deselect,deselectAll:ht.actions.deselectAll,changeSelected:ht.actions.changeSelected,removeSelected:ht.actions.removeSelected,removeAll:ht.actions.removeAll,lock:ht.actions.lock},dt=ht.reducer,pt=n(38025),mt=n(33538),yt=n(73316);function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function bt(t,e,n){var r;return r=function(t,e){if("object"!=vt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==vt(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gt="currency",wt="cryptocurrency",xt="commodity",jt="stock",Ot="index",St="favorites",_t="search",Tt="help",At="profit",Et="alphabet",Pt="asc",Ct="desc",kt=[gt,wt,xt,jt,Ot],Nt=[gt,xt],It=bt(bt(bt(bt(bt({},gt,"fa-usd"),wt,"fa-btc"),xt,"fa-tint"),jt,"fa-file-text-o"),Ot,"fa-file-text-o"),Rt=function(t){switch(t){case jt:return(0,yt.tr)("assets.stocks_label");case xt:return(0,yt.tr)("assets.commodities_label");case gt:return(0,yt.tr)("assets.currencies_label");case wt:return(0,yt.tr)("assets.cryptocurrencies_label");case Ot:return(0,yt.tr)("assets.indices_label");case St:return(0,yt.tr)("assets.fav")}},Lt=["signals"];function Dt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Mt={assetBySymbol:{},symbols:[],assetSortType:At,assetSortDirection:Ct},Bt=(0,j.Ay)((function(t,e){switch(e.type){case d.db:case mt.de:e.payload.assets.forEach((function(e){e.signals;var n=Dt(e,Lt);return t.assetBySymbol[n.symbol]=n})),t.symbols=Object.keys(t.assetBySymbol);break;case mt.EF:var n=e.payload,r=n.sortType,i=n.sortDirection;t.assetSortType=r,t.assetSortDirection=i}}),Mt),Ht="CANCEL_DEAL",Ft="OPEN_DEAL",Gt="call",Vt="put",Wt="CHANGE_OPENED_DEALS",Ut="SUCCESS_OPEN_DEAL",zt="SUCCESS_CLOSE_DEALS",Xt="SUCCESS_CANCEL_DEAL",$t="MARK_DEALS_AS_OLD",Yt="SUCCESS_ROLLOVER",qt=n(76481),Kt=n(67171),Zt=n.n(Kt),Qt=["ticket"];function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function te(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ee(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ne(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oe(t,e,n){var r;return r=function(t,e){if("object"!=Jt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Jt(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ae=(0,j.Ay)((function(t,e){switch(e.type){case Xt:return function(t,e){var n=e.deal,r=n.refundTime,i=void 0===r?"":r,o=n.refundTimestamp,a=void 0===o?"":o,s=n.ticket,c=n.amount;if(!t.openedIds.includes(s))return;var l=c-t.openedById[s].amount;t.closedById[s]=ie(ie({},t.openedById[s]),{},{refundTime:i,refundTimestamp:a,profit:l,isClosed:!0}),t.closedIds=se(t.closedById,Object.keys(t.closedById));var u=t.openedIds.filter((function(t){return t!==s}));t.openedIds=se(t.openedById,u),t.openedById=Zt()(t.openedById,t.openedIds)}(t,e.payload);case"SUCCESS_COPY_DEAL":return function(t,e){var n=e.deal;t.openedById[n.id]=ie(ie({},n),{},{isFast:(0,qt.S7)(n)}),t.openedIds=se(t.openedById,Object.keys(t.openedById))}(t,e.payload);case Ut:return function(t,e){var n=e.deal;t.openedIds.forEach((function(e){return t.openedById[e].isNew=!1})),t.openedById[n.id]=ie(ie({},n),{},{isNew:!0,isFast:(0,qt.S7)(n)}),t.openedIds=se(t.openedById,Object.keys(t.openedById)),le(t)}(t,e.payload);case zt:return function(t,e){var n=e.deals,r=n.map((function(t){return t.id}));t.openedIds=t.openedIds.filter((function(t){return!r.includes(t)})),t.openedById=Zt()(t.openedById,t.openedIds),n.forEach((function(e){return t.closedById[e.id]=ie(ie({},e),{},{isNew:!0,isFast:(0,qt.S7)(e)})})),t.closedIds=ce(t.closedById,Object.keys(t.closedById))}(t,e.payload);case Wt:return function(t,e){var n=e.deals,r={};n.forEach((function(e){if(t.openedById[e.id]){var n=t.openedById[e.id].copyUid,i=t.openedById[e.id].copyProfileName;n&&i&&(r[e.id]={copyUid:n,copyProfileName:i})}})),t.openedById={},t.openedIds=[],n.forEach((function(e){var n=ie(ie({},e),{},{isFast:(0,qt.S7)(e)});r[e.id]&&(n=Object.assign(n,r[e.id])),t.openedById[e.id]=n})),t.openedIds=se(t.openedById,Object.keys(t.openedById)),le(t)}(t,e.payload);case"CHANGE_CLOSED_DEALS":return function(t,e){var n=e.deals;n.forEach((function(e){var n=ie(ie({},e),{},{isFast:(0,qt.S7)(e)});if(t.closedById[e.id]){var r=t.closedById[e.id].copyUid,i=t.closedById[e.id].copyProfileName;r&&(n.copyUid=r),i&&(n.copyProfileName=i)}t.closedById[e.id]=n})),t.closedIds=ce(t.closedById,Object.keys(t.closedById))}(t,e.payload);case $t:return function(t){t.openedIds=t.openedIds.filter((function(e){return!t.openedById[e].isClosed})),t.openedIds.forEach((function(e){return t.openedById[e].isNew=!1})),t.openedById=Zt()(t.openedById,t.openedIds),t.closedIds.forEach((function(e){return t.closedById[e].isNew=!1}))}(t);case"UPDATE_OPENED_DEAL_COPY_USER_INFO":return function(t,e){var n,r=e.copyTicket,i=e.copyUid,o=e.copyProfileName,a=ee(t.openedIds);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=t.openedById[s];if(c.copyTicket===r){c.copyUid=i,c.copyProfileName=o;break}}}catch(l){a.e(l)}finally{a.f()}}(t,e.payload);case"UPDATE_CLOSED_DEAL_COPY_USER_INFO":return function(t,e){var n,r=e.copyTicket,i=e.copyUid,o=e.copyProfileName,a=ee(t.closedIds);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=t.closedById[s];if(c.copyTicket===r){c.copyUid=i,c.copyProfileName=o;break}}}catch(l){a.e(l)}finally{a.f()}}(t,e.payload);case Yt:return function(t,e){var n=e.ticket,r=te(e,Qt);if(!t.openedIds.includes(n))return;t.openedById[n]=ie(ie({},t.openedById[n]),r)}(t,e.payload)}return t}),{openedById:{},openedIds:[],closedById:{},closedIds:[]});function se(t,e){return e.sort((function(e,n){var r=t[e].openTimestamp;return t[n].openTimestamp-r})),e}function ce(t,e){return e.sort((function(e,n){var r=t[e].refundTimestamp?t[e].refundTimestamp:t[e].closeTimestamp;return(t[n].refundTimestamp?t[n].refundTimestamp:t[n].closeTimestamp)-r})),e}function le(t){var e,n=ee(t.openedIds);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=t.openedById[r];t.openedById[r].isHedged=!0===i.isHedged&&i.isHedged;var o,a=ee(t.openedIds);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=t.openedById[s],l=c.closeTimestamp,u=c.command,h=c.asset;l===i.closeTimestamp&&h===i.asset&&u!==i.command&&r!==s&&(t.openedById[r].isHedged=!0,t.openedById[s].isHedged=!0)}}catch(f){a.e(f)}finally{a.f()}}}catch(f){n.e(f)}finally{n.f()}}var ue=n(83707),he=n(78942),fe=n(67813),de=n(67466),pe=n(83282),me=n(32658),ye=n(62832),ve=n.n(ye),be={DESCRIPTION:"desc",RATING:"tournaments.rating",REG:"tournaments.reg",REBUY:"tournaments.rebuy"},ge={ALL_TOURNAMENTS:"ALL_TOURNAMENTS",STATISTICS:"STATISTICS"},we=n(83896),xe=n(37398),je=n(70201),Oe=(0,we.xP)({reducerPath:"tournamentApi",baseQuery:(0,xe.cw)({baseUrl:(0,je.hX)()}),endpoints:function(t){return{getPosition:t.query({query:function(){return{url:"/api/tournaments/position",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getRankings:t.query({query:function(){return{url:"/api/tournaments/ranking/json",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}},keepUnusedDataFor:5})}}});function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function _e(t,e,n){var r;return r=function(t,e){if("object"!=Se(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Se(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Te={selectedTab:ge.ALL_TOURNAMENTS,tournaments:[],stats:null,history:[],historyModal:{isLoading:!1,loadingId:0,data:null},detailsModal:{isLoading:!1,loadingId:0,data:null,startTab:be.DESCRIPTION},isRegistering:!1,isRebuying:!1,isJoiningNext:!1,isTakingPrize:!1,isInitialLoading:!1,hideStatistics:!1,errorMessage:null,currentTournament:{id:+(0,fe.A)("tournament-id",0),title:(0,fe.A)("tournament-title",""),dateFinish:+(0,fe.A)("tournament-date-finish"),changed:0,rank:0},enabledRatingWidget:!0},Ae=_e(_e({},me.lx.TOURNAMENT_HISTORY,"historyModal"),me.lx.TOURNAMENT_DETAILS,"detailsModal");function Ee(t){return t.sort((function(t,e){return t.isRegistered===e.isRegistered?0:t.isRegistered?-1:1})),t}var Pe=(0,h.Z0)({name:"tournaments",initialState:Te,reducers:{preselectTournament:function(t,e){var n=e.payload,r=n.loadingId,i=n.startTab;t.detailsModal.loadingId=r,t.detailsModal.startTab=i},startLoadingTournamentModal:function(t,e){var n=Ae[e.payload.modalId];void 0!==n&&(t[n].isLoading=!0,t[n].loadingId=e.payload.id)},finishLoadingTournamentModal:function(t,e){var n=e.payload,r=n.data,i=n.modalId,o=n.detailsTab,a=Ae[i];t.hideStatistics=r.hideStatistics,void 0!==a&&r.tournament.id===t[a].loadingId&&(t[a].isLoading=!1,t[a].loadingId=0,t[a].data=r,i===me.lx.TOURNAMENT_DETAILS&&(t[a].startTab=o))},errorLoadingTournamentModal:function(t,e){var n=Ae[e.payload.modalId];void 0!==n&&(t[n].isLoading=!1,t[n].loadingId=0,t[n].data=null)},startLoadingInitialData:function(t){t.isInitialLoading=!0},loadTournamentInitialData:function(t,e){var n=e.payload,r=n.history,i=void 0===r?[]:r,o=n.tournaments,a=void 0===o?[]:o,s=n.stats,c=void 0===s?{}:s,l=n.hideStatistics;if(t.history=i,t.stats=c,t.tournaments=Ee(a),t.currentTournament.rank>0){var u=t.tournaments.find((function(e){return e.id===t.currentTournament.id}));u&&(u.rank=t.currentTournament.rank,u.changed=t.currentTournament.changed)}t.isInitialLoading=!1,t.hideStatistics=l},startTournamentRegistration:function(t){t.isRegistering=!0},finishTournamentRegistration:function(t,e){var n=e.payload.id;t.tournaments.findIndex((function(t){return t.id===n}))<0&&t.tournaments.push(e.payload);var r=t.tournaments.findIndex((function(t){return t.id===n}));r>=0&&(t.tournaments[r]=e.payload),t.tournaments=Ee(t.tournaments),t.isRegistering=!1},errorTournamentRegistration:function(t){t.isRegistering=!1},startRebuyTournament:function(t){t.isRebuying=!0},finishRebuyTournament:function(t,e){var n=e.payload,r=n.id,i=n.tournamentBalance,o=t.tournaments.findIndex((function(t){return t.id===r}));o>=0&&(t.tournaments[o].tournamentBalance=i),ve()(t.detailsModal,"data.tournament.id")===r&&(t.detailsModal.data.tournament.tournamentBalance=i),t.isRebuying=!1},errorRebuyTournament:function(t){t.isRebuying=!1},startOpeningNextTournament:function(t){t.isJoiningNext=!0},finishOpeningNextTournament:function(t){t.isJoiningNext=!1},errorOpeningNextTournament:function(t){t.isJoiningNext=!1},selectTournamentTab:function(t,e){t.selectedTab=e.payload},startTakingTournamentPrize:function(t){t.isTakingPrize=!0},finishTakingTournamentPrize:function(t,e){var n=e.payload.tournament;t.historyModal.data={tournament:n},t.isTakingPrize=!1},errorTakingTournamentPrize:function(t){t.isTakingPrize=!1},updateCurrentTournamentRank:function(t,e){var n=e.payload,r=n.changed,i=n.rank;t.currentTournament.changed=r,t.currentTournament.rank=i},toggleRatingWidget:function(t,e){t.enabledRatingWidget=Boolean(e.payload)}},extraReducers:function(t){t.addMatcher(Oe.endpoints.getPosition.matchFulfilled,(function(t,e){var n=e.payload;if(!n.isTournamentRatingModalOpened){var r=n.changed,i=void 0===r?0:r,o=n.rank;Ce(t,{rank:void 0===o?0:o,changed:i})}})),t.addMatcher(Oe.endpoints.getRankings.matchFulfilled,(function(t,e){var n=(e.payload||{}).ranking,r=(void 0===n?[]:n).find((function(t){return t.me}));r&&Ce(t,{rank:r.rank,changed:r.changed})}))}});function Ce(t,e){var n=e.rank,r=e.changed;t.currentTournament.rank=n,t.currentTournament.changed=r;var i=t.tournaments.find((function(e){return e.id===t.currentTournament.id}));i&&(i.rank=n,i.changed=r)}var ke={preselectTournament:Pe.actions.preselectTournament,startLoadingTournamentModal:Pe.actions.startLoadingTournamentModal,finishLoadingTournamentModal:Pe.actions.finishLoadingTournamentModal,errorLoadingTournamentModal:Pe.actions.errorLoadingTournamentModal,startLoadingInitialData:Pe.actions.startLoadingInitialData,loadTournamentInitialData:Pe.actions.loadTournamentInitialData,startTournamentRegistration:Pe.actions.startTournamentRegistration,finishTournamentRegistration:Pe.actions.finishTournamentRegistration,errorTournamentRegistration:Pe.actions.errorTournamentRegistration,startRebuyTournament:Pe.actions.startRebuyTournament,finishRebuyTournament:Pe.actions.finishRebuyTournament,errorRebuyTournament:Pe.actions.errorRebuyTournament,startOpeningNextTournament:Pe.actions.startOpeningNextTournament,finishOpeningNextTournament:Pe.actions.finishOpeningNextTournament,errorOpeningNextTournament:Pe.actions.errorOpeningNextTournament,selectTournamentTab:Pe.actions.selectTournamentTab,startTakingTournamentPrize:Pe.actions.startTakingTournamentPrize,finishTakingTournamentPrize:Pe.actions.finishTakingTournamentPrize,errorTakingTournamentPrize:Pe.actions.errorTakingTournamentPrize,updateCurrentTournamentRank:Pe.actions.updateCurrentTournamentRank,toggleRatingWidget:Pe.actions.toggleRatingWidget},Ne=Pe.reducer,Ie=n(80446),Re=n(69667),Le=n(17131),De="orientation_detected",Me=window.matchMedia("(orientation: portrait)"),Be=Me.matches?Le.V:Le.p,He=function(t){Be=t.matches?Le.V:Le.p,Re.A.publish(De,Be)};function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}function Ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(n),!0).forEach((function(e){We(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function We(t,e,n){var r;return r=function(t,e){if("object"!=Fe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Fe(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}"function"==typeof Me.addEventListener?Me.addEventListener("change",He):"function"==typeof Me.addListener?Me.addListener(He):console.error("mediaQueryList addEventListener | addListener not found");var Ue,ze=1==+(0,fe.A)("is-tournament"),Xe=1==+(0,fe.A)("is-tournament-started"),$e={isChart:1==+(0,fe.A)("is-chart"),isMt5:(0,Ie.p)(),isTryDemo:(0,Ie.Z5)(),isAuthorized:!1,enabledTooltipMessage:1==+(0,fe.A)("enabled_tooltip_messages"),isMobile:1==+(0,fe.A)("is-mobile-version"),isDetectedMobile:1==+(0,fe.A)("is-detected-mobile"),isS:1==+(0,fe.A)("is-s"),isSB:1==+(0,fe.A)("is-sb"),isFullVerified:1==+(0,fe.A)("is-fully-verified"),isForexUser:1==+(0,fe.A)("is-forex-user"),currentTime:null,currency:ze?de.Ay.TOURNAMENT_CURRENCY:de.Ay.CURRENCY,windowLayout:pe.A.cookies.get("windowLayout")||he.rs.FULL,isTournament:ze,isTournamentStarted:Xe,tournamentFinishAt:+(0,fe.A)("tournament-date-finish"),infoIcons:{bonus:1==+(0,fe.A)("top_left_info_icons_bonus"),signal:1==+(0,fe.A)("top_left_info_icons_signals"),analytics:1==+(0,fe.A)("top_left_info_icons_clawshorns_analytics"),gemsLotto:1==+(0,fe.A)("top_left_info_icons_gems_lottery"),moveSignalsIcon:null},isExistsActiveBonus:1==+(0,fe.A)("is-exists-active-bonus"),openingFirstDealPanel:(0,fe.A)("opening-first-deal_panel"),bonusDepositUrl:(0,fe.A)("bonus-deposit-url"),isStartedGemsLottery:1==+(0,fe.A)("is-started-gems-lottery"),balance:0,liveBalance:+(0,fe.A)("user-balance"),mt5LiveBalance:+(0,fe.A)("balances.mt5_real"),mt5CfdLiveBalance:+(0,fe.A)("balances.mt5_cfd_real"),mt4LiveBalance:+(0,fe.A)("balances.mt4_real"),isDemo:1==+(0,fe.A)("is-demo"),isDemoProfile:!!(0,fe.A)("is-demo-profile"),windowLayoutBodyClassChanged:he.rs.FULL,enabledHotKeys:1==+(0,fe.A)("enabled_chart_hotkeys"),hideHotkeysInfo:pe.A.cookies.findBool("hide_hotkeys_info",!1),enabledSocialTrading:!1,enabledWatchlistingOfCopiedBets:1==+(0,fe.A)("enabled_watchlisting_of_copied_bets"),showRating:1==+(0,fe.A)("show_rating"),showOnlyWatchedTraders:1==+(0,fe.A)("show_only_watched_traders"),theme:(0,fe.A)("theme"),uid:(0,fe.A)("uid"),collapseIndicatorsInfo:!1,candleUpColor:(0,fe.A)("candleUpColor"),candleDownColor:(0,fe.A)("candleDownColor"),shadowStyle:(0,fe.A)("shadowStyle"),isWebview:1==+(0,fe.A)("isWebview"),isWebViewWithoutVersion:1==+(0,fe.A)("isWebViewWithoutVersion"),webViewPlatform:(0,fe.A)("webViewPlatform"),mobileOrientation:Be,country:(0,fe.A)("country"),isProfileVerified:1==+(0,fe.A)("isProfileVerified"),isEmailVerified:1==+(0,fe.A)("isEmailVerified"),hideTournament:1==+(0,fe.A)("isHideT"),hideBoFeatures:1==+(0,fe.A)("hideBoFeatures"),isShowMetaTraderLinks:1==+(0,fe.A)("isShowMetaTraderLinks")},Ye="open-orders",qe="support",Ke="achievements",Ze="pending-withdrawal",Qe="pending-orders",Je="gifts",tn="purchases",en="mining",nn="gems-lottery",rn="chat",on="active-tournaments",an="user-shards",sn="social-trading-list-of-copied",cn="expresses",ln="group-market",un="group-achievements",hn="group-help";function fn(t){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(t)}function dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(n),!0).forEach((function(e){mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mn(t,e,n){var r;return r=function(t,e){if("object"!=fn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==fn(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yn=(mn(mn(mn(mn(mn(mn(mn(mn(mn(mn(Ue={},qe,0),Ke,0),Ze,0),Je,0),tn,0),en,0),nn,0),rn,0),on,0),an,0),mn(mn(mn(mn(Ue,sn,0),ln,!1),un,!1),hn,!1)),vn=n(78389),bn=0,gn=1,wn=2,xn=3,jn=1,On=3,Sn="new",_n="opened",Tn="closed",An="ADD_NEW_EXPRESS_ITEM",En="OPEN_EXPRESS",Pn="REMOVE_EXPRESS_ITEM",Cn="CHANGE_EXPRESS_AMOUNT",kn="SHOW_OPENED_EXPRESS",Nn="CHANGE_ACTIVE_TAB",In="CHANGE_OPENED_EXPRESS",Rn="CHANGE_SELECTED_ASSET_CATEGORY",Ln="CHANGE_SUBSCRIBED_SYMBOLS",Dn=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function Bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bn(Object(n),!0).forEach((function(e){Fn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fn(t,e,n){var r;return r=function(t,e){if("object"!=Mn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Mn(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gn=1==+(0,fe.A)("is-mobile-version"),Vn="indicators"===Dn("mo"),Wn={};Object.keys(me.lx).forEach((function(t){Wn[me.lx[t]]=!1})),Wn[me.lx.DEALS_WIDGET]=pe.A.cookies.findBool("trades-modal-widget",!Gn),Wn[me.lx.SIGNALS_WIDGET]=pe.A.cookies.findBool("signals-modal-widget",!1),Wn[me.lx.INDICATORS_MODAL]=Vn,(0,fe.v)()&&(Wn[me.lx.TUTORIAL_4_MODAL]=!0);var Un={states:Wn};function zn(t,e){var n,r=Hn({},t.states);return Object.keys(me.n5).forEach((function(t){return r[t]=!1})),r[e]=!0,(n=e)!==me.lx.DEALS_WIDGET&&n!==me.lx.SIGNALS_WIDGET&&(r[me.lx.DEALS_WIDGET]=!1,r[me.lx.SIGNALS_WIDGET]=!1),Hn(Hn({},t),{},{states:r})}function Xn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $n(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yn=(0,j.Ay)((function(t,e){if("ADD_MARKET_FORECAST"===e.type)e.payload.forEach((function(e){var n=Xn(e,2),r=n[0],i=n[1];return t[r]=i}));return t}),{}),qn=n(57621);function Kn(t,e){return 60*Math.ceil((e-t-30)/60)}var Zn=["deals"],Qn=["deals"];function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function tr(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?er(Object(n),!0).forEach((function(e){rr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rr(t,e,n){return(e=ir(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ir(t){var e=function(t,e){if("object"!=Jn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jn(e)?e:String(e)}var or={assetBySymbol:{},assetSymbols:[],amount:1,amountString:"1"},ar={new:or,prevNew:or,opened:{expressById:{},expressIds:[],dealById:{},dealIds:[]},closed:{expressById:{},expressIds:[],dealById:{},dealIds:[]},selectedTab:Sn,selectedExpresses:null,isConfirming:!1,expirationTimes:{byTimeframe:{},allTimeframes:[],lastUpdateTime:0},selectedAssetCategory:jt,subscribedSymbols:[]};function sr(t,e,n){var r={},i={};n.forEach((function(t){var e=t.deals,n=tr(t,Qn);r[n.expressId]=n,e.forEach((function(t){return i[t.id]=t}))}));var o=Object.keys(r).sort((function(t,e){var n=r[t].openTimestamp,i=r[e].openTimestamp;return n===i?0:n>i?-1:1})),a=Object.keys(i);return nr(nr({},e),{},rr({},t,nr(nr({},e[t]),{},{expressById:r,dealById:i,expressIds:o,dealIds:a})))}var cr=n(48864),lr=n(69906),ur=n(85050),hr=n(62922),fr=n(6663),dr=function(){var t=["AUDCAD","AUDCHF","AUDJPY","AUDUSD","CADJPY","CHFJPY","EURCHF","EURJPY","GBPJPY","GBPUSD","NZDJPY","NZDUSD","USDCAD","USDJPY","USDNOK","USDTRY","USDZAR"];return t[(0,fr.A)(0,t.length-1)]},pr=n(1419),mr=n.n(pr),yr=n(93139),vr=n(32858),br=n.n(vr);function gr(t){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function wr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wr(Object(n),!0).forEach((function(e){jr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jr(t,e,n){return(e=Tr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Or(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Sr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tr(r.key),r)}}function Tr(t){var e=function(t,e){if("object"!=gr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gr(e)?e:String(e)}var Ar=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zoom-width";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cookieName=n,this.data={},this.dataToSave=new Set,(pe.A.cookies.getJSON(this.cookieName)||[]).forEach((function(t){var n=Or(t,3),r=n[0],i=n[1],o=n[2],a="chart-".concat(r);void 0===e.data[a]?e.data[a]=jr({},i,o):e.data[a][i]=o})),this.throttledSaveToCookie=br()(this.saveToCookie,1e3)}var e,n,r;return e=t,(n=[{key:"getData",value:function(){return this.data}},{key:"saveToCookie",value:function(){pe.A.cookies.setJSON(this.cookieName,Array.from(this.dataToSave))}},{key:"save",value:function(){var t=this;this.dataToSave.clear(),Object.keys(this.data).forEach((function(e){Object.keys(t.data[e]).forEach((function(n){t.dataToSave.add([parseInt(t.getChartIdByChartName(e),10),parseInt(n,10),+Number(t.data[e][n]).toFixed(7)])}))})),this.throttledSaveToCookie()}},{key:"set",value:function(t){var e=t.chartId,n=t.chartType,r=t.secondWidth,i=this.data[e]||{};return this.data[e]=xr(xr({},i),{},jr({},n,r)),this.save(),!0}},{key:"getChartIdByChartName",value:function(t){return t.replace("chart-","")}}])&&_r(e.prototype,n),r&&_r(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Er=new Ar;Object.freeze(Er);var Pr=Er,Cr=n(69789),kr=n(56674),Nr=n(20320);function Ir(t){return Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(t)}function Rr(t){return function(t){if(Array.isArray(t))return Lr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Lr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dr(Object(n),!0).forEach((function(e){Br(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Br(t,e,n){var r;return r=function(t,e){if("object"!=Ir(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Ir(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hr=function(t){var e=t.store,n=t.action,r=t.socket,i=t.balance,o=e.getState(),a=(0,yr.d)(o.global.isDemo?5e4:i),s=n.payload.assets.map((function(t){var e=t.originPayout,n=t.payout;null==e&&(e=n);var r=(0,x.C1)(e,a);return Mr(Mr({},t),{},{originPayout:e,payout:r})})),c=[];o.chartSettings.chartIds.forEach((function(t){if(o.chartSettings.chartById[t].isVisible){var e=o.chartSettings.chartById[t],n=e.symbol,i=e.chartPeriod;s.some((function(t){return t.symbol===n&&t.active}))||(o.deals.openedIds.length&&r.updateOpenedDeals(),c.push({chartId:t,symbol:Xr({assets:s,symbol:n,socket:r,chartPeriod:i})}))}})),n.payload.assets=s,n.payload.currentTime=o.global.currentTime,n.payload.chartSymbols=c},Fr=function(t){var e=t.assets,n=e.symbols,r=e.assetBySymbol;return n.map((function(t){return r[t]}))},Gr=function(t){var e=t.store,n=t.action,r=t.socket,i=Object.keys(n.payload.save),o=e.getState(),a=o.assets.assetBySymbol,s=Fr(o),c={};if(i.length>0)i.forEach((function(t){var e=Q()({},Mr(Mr({},p.sS),{},{chartId:t}),n.payload.save[t]),r=parseInt(e.chartType,10);Object.values(w.M).includes(r)||(e.chartType=w.M.Candles);var i=parseInt(e.chartPeriod,10);e.chartPeriod=(0,g.Mt)(r)?w.YE.S1:i!==w.YE.S1&&Object.values(w.YE).includes(i)?i:w.YE.M1,e.isCalendarMode=(0,kr.iC)(t)&&Boolean(e.fastCloseAt);var l=Object.values(p.zQ);e.quickAutoOffsetValue=l.includes(e.quickAutoOffsetValue)?e.quickAutoOffsetValue:p.zQ["+M1"],e.isQuickOption=!0,e.symbol||(e.symbol=dr()),void 0===a[e.symbol]&&(e.symbol=Yr(s));var u=a[e.symbol];e.fastTimeframe=(0,x.cH)({timeframe:e.fastTimeframe,isS:(0,Cr.Zf)(o),asset:u}),e.liveDealAmount<1&&(e.liveDealAmount=1),e.demoDealAmount<1&&(e.demoDealAmount=1),c[t]=e}));else{var l="chart-1",u=Mr(Mr({},p.sS),{},{chartId:l});u.symbol=dr(),void 0===a[u.symbol]&&(u.symbol=Yr(s)),c[l]=u}var h=o.global.isMobile,f=0,d=Object.keys(c),m=d.filter((function(t){return c[t].isVisible}));m.length||(c[d[0]].isVisible=!0,m=[d[0]]),d.forEach((function(t){h&&f>0&&(c[t].isVisible=!1),c[t].isVisible&&f++}));var y=he.ue[o.global.windowLayout];o.global.isMobile?n.payload.windowLayout=he.rs.FULL:n.payload.windowLayout=y!==m.length?(0,he.WA)(m.length,he.rs.FULL):o.global.windowLayout;var v=!1;if("chart-settings"===Dn("mo")){var b=parseInt(Dn("mo1"),10);if(Object.values(w.M).includes(b)&&1===f){var j=Object.values(c).find((function(t){return t.isVisible}));j&&(j.chartType=b,j.chartPeriod=(0,g.Mt)(b)?w.YE.S1:w.YE.M1,v=!0)}}d.forEach((function(t){var e=c[t],n=e.symbol,i=e.isVisible,o=e.chartPeriod;i&&(c[t].symbol=Xr({assets:s,symbol:n,socket:r,chartPeriod:o}))})),n.payload.charts=c,n.payload.isMobile=h,n.payload.isOpenChartSettingsModal=v},Vr=function(t){var e=t.store,n=t.action,r=t.socket,i=n.payload.windowLayout,o=e.getState(),a=o.global.windowLayout,s=Rr(o.favorites.list);if(i!==a){var c=he.ue[i],l=he.ue[a],u={},h=o.chartSettings.chartIds,f=[];if(c>l){var d=null,m=0;h.forEach((function(t){var e=o.chartSettings.chartById[t];e.isVisible?(d=e,u[t]=Mr({},e),m++):f.push(e)})),f.forEach((function(t){var e=m<c;u[t.chartId]=Mr(Mr({},t),{},{isVisible:e}),e&&m++}));for(var y=Object.keys(u),v=y.length,b=0;b<c-v;b++){var g=Ur(p.Cj,y),w=Mr(Mr({},mr()(d)),{},{chartId:g,isVisible:!0,enableQuickAutoOffset:!0,quickAutoOffsetValue:p.zQ["+S30"]}),x=s.shift();x&&(w.symbol=x),u[g]=w,y.push(g)}}else if(c<l){var j=0;h.forEach((function(t){var e=o.chartSettings.chartById[t];e.isVisible&&j<c?(u[t]=Mr({},e),j++):f.push(e)})),f.forEach((function(t){return u[t.chartId]=Mr(Mr({},t),{},{isVisible:!1})}))}var O=Object.keys(u),S=Fr(o);O.filter((function(t){return u[t].isVisible})).forEach((function(t){var e=u[t],n=e.symbol,o=e.chartPeriod;u[t].symbol=Xr({assets:S,symbol:n,socket:r,chartPeriod:o}),i!==he.rs.FULL&&(u[t].enabledMarketWatch=!1,u[t].enabledTradeMonitor=!1)})),n.payload.charts=u,Wr(n.payload.windowLayout)}else n.payload.charts=o.chartSettings.chartById},Wr=function(t){pe.A.cookies.set("windowLayout",t.toString())},Ur=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=null,r=0;r<t.length;r++)if(!e.includes(t[r])){n=t[r];break}return n},zr=function(t){var e=t.store,n=t.action,r=n.payload.chartId,i=e.getState().global.windowLayout,o=e.getState().chartSettings.visibleChartIds,a=p.Cj.filter((function(t){return o.includes(t)})),s=he.rs.FULL,c=a.findIndex((function(t){return t===r}));switch(i){case he.rs.T2B1:0===c||1===c?s=he.rs.H2:2===c&&(s=he.rs.V2);break;case he.rs.T1B2:0===c?s=he.rs.V2:1!==c&&2!==c||(s=he.rs.H2);break;case he.rs.T2B2:0===c||1===c?s=he.rs.T1B2:2!==c&&3!==c||(s=he.rs.T2B1);break;case he.rs.L2R1:0===c||1===c?s=he.rs.V2:2===c&&(s=he.rs.H2);break;case he.rs.L1R2:0===c?s=he.rs.V2:1!==c&&2!==c||(s=he.rs.H2);break;case he.rs.V3:s=he.rs.V2;break;case he.rs.T3B1:s=3===c?he.rs.V3:he.rs.T2B1;break;case he.rs.T1B3:s=0===c?he.rs.V3:he.rs.T1B2;break;case he.rs.L1R3:s=he.rs.L1R2;break;case he.rs.L3R1:s=he.rs.L2R1}n.payload.windowLayout=s,Wr(n.payload.windowLayout)},Xr=function(t){var e=t.symbol,n=t.socket,r=t.chartPeriod,i=t.assets,o=i.find((function(t){return t.symbol===e}));return o&&o.active?(n.emitChangeSymbol({asset:e,chartPeriod:r}),e):$r({socket:n,assets:i,chartPeriod:r})},$r=function(t){var e=t.socket,n=t.chartPeriod,r=t.assets,i=Yr(r);return e.emitChangeSymbol({asset:i,chartPeriod:n}),i},Yr=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.active&&"#AAPL_otc"!==n.symbol)return n.symbol}return null},qr=function(t){return function(e){return function(n){var r=hr.A.instance;switch(n.type){case d.p3:Gr({store:t,action:n,socket:r});break;case d.r9:Vr({store:t,action:n,socket:r});break;case p.II:zr({store:t,action:n,socket:r});break;case Ht:r.cancelOrder(n.payload.ticket);break;case Ft:var i=n.payload,o=i.chartId,a=i.requestId,s=t.getState();if((0,fe.v)()&&(0,Nr.Bl)(s)&&r.openedDealsCount>0)return;var c=s.chartSettings.chartById[o],l=c.symbol,u=c.fastTimeframe,h=c.demoDealAmount,f=c.liveDealAmount,m=c.isCalendarMode,y=c.fastCloseAt,v=s.global,b=v.isDemo,g=v.isWebview,w={asset:l,amount:b?h:f,action:n.payload.action,isFast:!0,requestId:a};!m||g?w.time=g?600:u:w.closeAt=y,r.openOrder(w);break;case p.vr:var x=t.getState();n.payload.currentTime=t.getState().global.currentTime,n.payload.assets=Fr(x);break;case d.db:var j=t.getState().global;n.payload.currentTime=j.currentTime,Hr({store:t,action:n,socket:r,balance:n.payload.balance});break;case mt.de:var O=t.getState(),S=O.global;n.payload.assets=Fr(O),n.payload.currentTime=S.currentTime,Hr({store:t,action:n,socket:r,balance:S.isDemo?S.liveBalance:n.payload.balance});break;case d.S9:var _=t.getState(),T=n.payload,A=T.chartId,E=T.symbol;r.emitChangeSymbol({asset:E,chartPeriod:_.chartSettings.chartById[A].chartPeriod}),n.payload.assets=Fr(_),n.payload.currentTime=_.global.currentTime,n.payload.isS=(0,Cr.Zf)(_);break;case p.bp:var P=t.getState(),C=Fr(P),k=n.payload,N=k.chartId,I=k.symbol,R=P.chartSettings.chartById[N].chartPeriod;n.payload.symbol=Xr({assets:C,symbol:I,chartPeriod:R,socket:r}),n.payload.assets=Fr(P),n.payload.isS=(0,Cr.Zf)(P);break;case p.IB:var L=n.payload.chartId,D=t.getState().chartSettings.chartById[L].symbol;r.subscribeMarketForecast(D);break;case p.V4:var M=n.payload.chartId,B=t.getState().chartSettings.chartById[M].symbol;r.unsubscribeMarketForecast(B);break;case p.OC:Pr.set(n.payload)}return e(n)}}},Kr=function(t){return function(e){return function(n){var r=hr.A.instance;switch(n.type){case Wt:n.payload.deals.map((function(t){return t.asset})).forEach((function(t){return r.subscribeAsset(t)}));break;case En:var i=n.payload,o=t.getState(),a=o.assets,s=o.expresses,c=s.new,l=c.assetBySymbol,u=c.assetSymbols;if(s.isConfirming)return;var h=u.map((function(t){if(!a.assetBySymbol[t])return!1;var e=l[t],n=e.actionType,r=e.timeframe,i=s.expirationTimes.byTimeframe[r];return!!i&&[t,n,i.toTimestamp]})).filter((function(t){return t}));r.openExpress(i,h);break;case Rn:var f=t.getState(),d=f.expresses;f.global.isMobile&&d.selectedAssetCategory===Tt&&pe.A.cookies.findBool("exp_show_help",!0)&&pe.A.cookies.set("exp_show_help","0")}return e(n)}}},Zr=(0,we.xP)({reducerPath:"poApi",baseQuery:(0,xe.cw)({baseUrl:(0,je.hX)()}),endpoints:function(t){return{getAnalyticsData:t.query({query:function(){return{url:"/cabinet/ajax/modal/clawshorns-analytics/json",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}})}}}),Qr=n(96641),Jr=n(33636);function ti(t){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(t)}function ei(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(n),!0).forEach((function(e){ri(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ri(t,e,n){var r;return r=function(t,e){if("object"!=ti(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==ti(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ii(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ii=function(){return!!t})()}function oi(t,e){return oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oi(t,e)}function ai(t){return function(t){if(Array.isArray(t))return si(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return si(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return si(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ci=function(t){return t>3600?(0,Qr.Xd)(t):(0,Qr.BR)(t)},li=function(t){var e=Math.floor(t/60),n={period:0,prefix:""};return t<60?(n.period=t,n.prefix="S"):e<60?(n.period=e,n.prefix="M"):e>=60&&e<1440?(n.period=Math.floor(e/60),n.prefix="H"):e>=1440&&e<10080&&(n.period=Math.floor(e/60/24),n.prefix="D"),n};function ui(t){var e=t.openTimestamp,n=t.closeTimestamp,r=t.isFast?n-e:Kn(e,n);return li(r)}Date.now;function hi(t){var e;if("string"==typeof t&&/^(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2})$/.test(t)){var n=t.split(/[- :]/);n[1]--,e=function(t,e,n){if(ii())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&oi(i,n.prototype),i}(Date,ai(n))}else e=new Date(t);return e.getTime()/1e3-60*e.getTimezoneOffset()}function fi(t){return t%86400}function di(t){var e,n=t.timestamp,r=t.userTimeZone,i=void 0===r?0:r,o=t.serverTimeZone,a=void 0===o?120:o;return void 0!==n?(e=new Date(n)).setTime(e.getTime()+60*(i-a)*1e3):(e=new Date).setTime(e.getTime()+60*i*1e3),{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear(),hour:e.getUTCHours(),min:e.getUTCMinutes(),sec:e.getUTCSeconds(),ms:e.getUTCMilliseconds(),timestamp:e.getTime()/1e3}}function pi(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=di({userTimeZone:mi(),serverTimeZone:yi()});return t?ni(ni({},e),{},{day:(0,Jr.wl)(e.day),month:(0,Jr.wl)(e.month),hour:(0,Jr.wl)(e.hour),min:(0,Jr.wl)(e.min),sec:(0,Jr.wl)(e.sec)}):e}function mi(){var t=(0,fe.A)("userTimeZoneOffset");return null==t?-1*(new Date).getTimezoneOffset():t}function yi(){var t=(0,fe.A)("serverTimeZoneOffset");return null==t?120:t}function vi(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=di({timestamp:1e3*t,userTimeZone:mi(),serverTimeZone:yi()});return e?ni(ni({},n),{},{day:(0,Jr.wl)(n.day),month:(0,Jr.wl)(n.month),hour:(0,Jr.wl)(n.hour),min:(0,Jr.wl)(n.min),sec:(0,Jr.wl)(n.sec)}):n}function bi(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=vi(t),r=e||"00"!==n.sec&&0!==n.sec?":".concat(n.sec):"";return"".concat(n.hour,":").concat(n.min).concat(r)}function gi(t){var e=vi(t);return"".concat(e.day,".").concat(e.month)}function wi(t){var e=vi(t);return"".concat(e.day,".").concat(e.month,".").concat(e.year," ").concat(e.hour,":").concat(e.min,":").concat(e.sec)}function xi(t){return vi(t).timestamp}function ji(){return Oi(mi())}function Oi(t){if(t%60==0)return t/60;var e=Math.floor(Math.abs(t/60)),n=Math.abs(t%60);return"".concat(t<0?"-":"").concat(e).concat(n>0?":".concat(n):"".concat(n))}function Si(t,e){void 0===e&&(e=mi());var n=Oi(e);return"".concat(t," UTC").concat(e>=0?"+":"").concat(n)}function _i(t){return function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("string"!=typeof t)return;var i=t.replace(/-/g,"/"),o=new Date(Si(i,e));o.setTime(o.getTime()+60*n*1e3);var a=o.getUTCDate(),s=o.getUTCMonth()+1,c=o.getUTCFullYear(),l=o.getUTCHours(),u=o.getUTCMinutes(),h=o.getUTCSeconds(),f=o.getUTCMilliseconds();return{day:r?(0,Jr.wl)(a):a,month:r?(0,Jr.wl)(s):s,year:c,hour:r?(0,Jr.wl)(l):l,min:r?(0,Jr.wl)(u):u,sec:r?(0,Jr.wl)(h):h,ms:f,timestamp:o.getTime()/1e3}}(t,mi(),yi())}function Ti(t){return function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("string"!=typeof t)return;var i=t.replace(/-/g,"/"),o=new Date(Si(i,n));o.setTime(o.getTime()+60*e*1e3);var a=o.getUTCDate(),s=o.getUTCMonth()+1,c=o.getUTCFullYear(),l=o.getUTCHours(),u=o.getUTCMinutes(),h=o.getUTCSeconds(),f=o.getUTCMilliseconds();return{day:r?(0,Jr.wl)(a):a,month:r?(0,Jr.wl)(s):s,year:c,hour:r?(0,Jr.wl)(l):l,min:r?(0,Jr.wl)(u):u,sec:r?(0,Jr.wl)(h):h,ms:f,timestamp:o.getTime()/1e3}}(t,mi(),yi())}function Ai(t){var e="".concat(t.year,"-").concat(t.month,"-").concat(t.day),n="".concat(t.hour,":").concat(t.min,":").concat(t.sec);return"".concat(e," ").concat(n)}function Ei(t){var e="".concat(t.day,".").concat(t.month,".").concat(t.year),n="".concat(t.hour,":").concat(t.min,":").concat(t.sec);return"".concat(e," ").concat(n)}function Pi(t){return"".concat(t.hour,":").concat(t.min,":").concat(t.sec)}var Ci="tab-top-ranked",ki="tab-top-ranked-24h",Ni="tab-top-100",Ii="tab-search",Ri="tab-list-copied-traders",Li="tab-list-of-traders-who-copy-me",Di="tab-list-watched-traders",Mi="tab-list-of-traders-who-watch-me",Bi="tab-settings",Hi={COPY:"copy",WATCH:"watch"},Fi={ALLOW:"allow",DISALLOW:"disallow"},Gi=(0,we.xP)({reducerPath:"socialApi",baseQuery:(0,xe.cw)({baseUrl:(0,je.hX)()}),endpoints:function(t){return{getTop24Hour:t.query({query:function(){return{url:"/api/social-modal/top-24-hour",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getTopTrades:t.query({query:function(t){return{url:"/api/social-modal/top-trades-".concat(t?"demo":"live"),method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getCopiedTrades:t.query({query:function(){return{url:"/api/social-modal/my-copy-list",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getWhoCopyMe:t.query({query:function(){return{url:"/api/social-modal/who-copy-me",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),updateWhoCopyWatchMe:t.mutation({query:function(t){var e=t.action,n=t.type,r=t.uid;return{url:"/api/social-modal/who-".concat(e,"-me/").concat(r,"/").concat(n),method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}},onQueryStarted:function(t,e){var n=t.action,r=t.type,i=t.uid,o=e.dispatch;e.queryFulfilled.then((function(t){var e=t.data;if(!0===(void 0===e?{}:e).status){var a=n===Hi.COPY;i=parseInt(i,10),o(Gi.util.updateQueryData(a?"getWhoCopyMe":"getWhoWatchMe",void 0,(function(t){if(r===Fi.DISALLOW){var e=t.data.list.find((function(t){return parseInt(t.uid,10)===i}));e&&(e.date_created=Ai(pi()),t.data.blackList.push(e)),t.data.list=t.data.list.filter((function(t){return parseInt(t.uid,10)!==i}))}else r===Fi.ALLOW&&(t.data.blackList=t.data.blackList.filter((function(t){return parseInt(t.uid,10)!==i})))})))}})).catch((function(){}))}}),getMyWatchList:t.query({query:function(){return{url:"/api/social-modal/my-watch-list",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}}),getWhoWatchMe:t.query({query:function(){return{url:"/api/social-modal/who-watch-me",method:"get",headers:{"X-Requested-With":"XMLHttpRequest"}}}})}}}),Vi=n(26203),Wi=n(90749);function Ui(t){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(t)}function zi(t,e,n){var r;return r=function(t,e){if("object"!=Ui(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Ui(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xi=(0,f.HY)(zi(zi({chartSettings:P,indicators:K,drawings:dt,signals:pt.Ff,assets:Bt,deals:ae,quotes:ue.F,global:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case mt.Y$:var n=!!e.payload.value,r=!n&&t.hideHotkeysInfo;return Ve(Ve({},t),{},{enabledHotKeys:n,hideHotkeysInfo:r});case mt.Qc:return Ve(Ve({},t),{},{hideHotkeysInfo:!0});case mt.Wm:return Ve(Ve({},t),{},{openingFirstDealPanel:!1});case mt.kI:return Ve(Ve({},t),{},{isAuthorized:!0});case d.nT:return Ve(Ve({},t),{},{currentTime:e.payload.time});case d.vJ:return Ve(Ve({},t),{},{enabledTooltipMessage:!!e.payload});case d.r9:case p.II:var i=e.payload.windowLayout;return Ve(Ve({},t),{},{windowLayout:i});case d.p3:if(e.payload.isMobile)return Ve(Ve({},t),{},{windowLayout:he.rs.FULL});var o=e.payload.charts,a=Object.keys(o).filter((function(t){return o[t].isVisible})).length;return he.ue[t.windowLayout]!==a?Ve(Ve({},t),{},{windowLayout:(0,he.WA)(a,he.rs.FULL)}):t;case d.Yf:var s=e.payload,c=s.settingName,l=s.value,u={top_left_info_icons_bonus:"bonus",top_left_info_icons_signals:"signal",top_left_info_icons_clawshorns_analytics:"analytics",top_left_info_icons_gems_lottery:"gemsLotto"};return void 0===u[c]?t:Ve(Ve({},t),{},{infoIcons:Ve(Ve({},t.infoIcons),We({},u[c],Boolean(l)))});case d.By:return Ve(Ve({},t),{},{isExistsActiveBonus:e.payload});case mt.de:case ke.finishTakingTournamentPrize.type:var h=e.payload.balance;return t.isDemo||t.isTournament?Ve(Ve({},t),{},{balance:h}):Ve(Ve({},t),{},{liveBalance:h,balance:h});case ke.finishRebuyTournament.type:return t.isTournament?Ve(Ve({},t),{},{liveBalance:Number(e.payload.liveBalance)}):t;case mt.zF:var f=e.payload.windowLayout;return Ve(Ve({},t),{},{windowLayoutBodyClassChanged:f});case mt.Bs:return Ve(Ve({},t),{},{enabledSocialTrading:!!e.payload.value});case mt.Ne:return Ve(Ve({},t),{},{enabledWatchlistingOfCopiedBets:!!e.payload.value});case mt.TD:return Ve(Ve({},t),{},{showRating:!!e.payload.value});case mt.Ck:return Ve(Ve({},t),{},{showOnlyWatchedTraders:!!e.payload.value});case d.U6:return Ve(Ve({},t),{},{infoIcons:Ve(Ve({},t.infoIcons),{},{moveSignalsIcon:e.payload})});case mt.HA:return Ve(Ve({},t),{},{theme:e.payload.value});case mt.FE:return Ve(Ve({},t),{},{collapseIndicatorsInfo:e.payload});case mt.Vj:case mt.IQ:var m=e.payload.reduce((function(t,e){return t[e.field]=e.value,t}),{});return Ve(Ve({},t),m)}return t},counters:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,e=arguments.length>1?arguments[1]:void 0;if(e.type===mt.U_){var n=e.payload,r=n.count,i=n.type;return void 0===t[i]?t:pn(pn({},t),{},mn({},i,r))}return t},favorites:vn.F,modals:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case me.NO:var n=e.payload,r=n.modalId,i=n.value;return Hn(Hn({},t),{},{states:Hn(Hn({},t.states),{},Fn({},r,i))});case me.cs:return Hn(Hn({},t),{},{states:Hn(Hn({},t.states),e.payload)});case kn:return zn(t,me.lx.EXPRESSES);case ke.startLoadingTournamentModal.type:return Hn(Hn({},t),{},{states:Hn(Hn({},t.states),{},Fn(Fn({},me.lx.TOURNAMENT_DETAILS,!1),me.lx.TOURNAMENT_HISTORY,!1))});case ke.finishLoadingTournamentModal.type:return Hn(Hn({},t),{},{states:Hn(Hn({},t.states),{},Fn({},e.payload.modalId,!0))});case me.J2:return zn(t,e.payload);case me.Mw:var o=Hn({},t.states);return Object.keys(me.n5).forEach((function(t){o[t]=!1})),Hn(Hn({},t),{},{states:o});case d.p3:return e.payload.isOpenChartSettingsModal?Hn(Hn({},t),{},{states:Hn(Hn({},t.states),{},Fn({},me.lx.CHART_SETTINGS,!0))}):t}return t},marketForecasts:Yn,expresses:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case An:return function(t,e){var n=e.symbol,r=nr(nr({},t.new.assetBySymbol),{},rr({},n,e)),i=Object.keys(r);return nr(nr({},t),{},{new:nr(nr({},t.new),{},{assetBySymbol:r,assetSymbols:i})})}(t,e.payload);case Pn:return function(t,e){var n=nr({},t.new.assetBySymbol),r=(n[e],tr(n,[e].map(ir))),i=Object.keys(r);return nr(nr({},t),{},{new:nr(nr({},t.new),{},{assetBySymbol:r,assetSymbols:i})})}(t,e.payload);case En:return function(t){return nr(nr({},t),{},{prevNew:nr({},t.new),isConfirming:!0})}(t);case Cn:return function(t,e){return nr(nr({},t),{},{new:nr(nr({},t.new),{},{amount:(0,qn.xr)(e,2),amountString:e})})}(t,e.payload);case"ADD_OPENED_EXPRESS":return function(t,e){var n={};e.deals.forEach((function(t){return n[t.id]=nr(nr({},t),{},{status:bn})}));var r=nr(nr({},t.opened.dealById),n),i=Object.keys(r),o=(e.deals,tr(e,Zn)),a=nr(rr({},o.expressId,nr({},o)),t.opened.expressById),s=Object.keys(a).sort((function(t,e){var n=a[t].openTimestamp,r=a[e].openTimestamp;return n===r?0:n>r?-1:1}));return nr(nr({},t),{},{new:or,prevNew:or,opened:nr(nr({},t.opened),{},{expressById:a,expressIds:s,dealById:r,dealIds:i}),isConfirming:!1,selectedTab:_n,selectedExpresses:o.expressId})}(t,e.payload);case"CLOSE_EXPRESS":return function(t,e){var n=e.expressId,r=t.opened.expressById,i=(r[n],tr(r,[n].map(ir))),o=Object.keys(i),a={},s={};t.opened.dealIds.forEach((function(e){var r=t.opened.dealById[e];n===r.expressId?s[e]=r:a[e]=r}));var c=Object.keys(a),l=nr(nr({},t.closed.dealById),s),u=nr(rr({},n,e),t.closed.expressById),h=Object.keys(u).sort((function(t,e){var n=u[t].openTimestamp,r=u[e].openTimestamp;return n===r?0:n>r?-1:1})),f=Object.keys(l);return nr(nr({},t),{},{opened:nr(nr({},t.opened),{},{expressById:i,expressIds:o,dealById:a,dealIds:c}),closed:nr(nr({},t.closed),{},{expressById:u,dealById:l,expressIds:h,dealIds:f})})}(t,e.payload);case"CLOSE_EXPRESS_DEALS":return function(t,e){if(!e.length)return t;var n={},r={};return e.forEach((function(e){t.opened.dealIds.includes(e.id)&&(n[e.id]=e),t.closed.dealIds.includes(e.id)&&(r[e.id]=e)})),nr(nr({},t),{},{opened:nr(nr({},t.opened),{},{dealById:nr(nr({},t.opened.dealById),n)}),closed:nr(nr({},t.closed),{},{dealById:nr(nr({},t.closed.dealById),r)})})}(t,e.payload);case"RESTORE_LAST_EXPRESS":return function(t){return nr(nr({},t),{},{new:nr({},t.prevNew),prevNew:or,isConfirming:!1})}(t,e.payload);case"LOAD_OPENED_EXPRESSES":return sr("opened",t,e.payload);case"LOAD_CLOSED_EXPRESSES":return sr("closed",t,e.payload);case Nn:return function(t,e){return nr(nr({},t),{},{selectedTab:e})}(t,e.payload);case In:return function(t,e){return nr(nr({},t),{},{selectedExpresses:e})}(t,e.payload);case kn:return function(t,e){return nr(nr({},t),{},{selectedTab:_n,selectedExpresses:e})}(t,e.payload);case"UPDATE_OPENED_EXPRESS":return function(t,e){var n=e.expressId,r=e.factor;if(!t.opened.expressIds.includes(n))return t;var i=nr(nr({},t.opened.expressById[n]),{},{factor:r}),o=nr(nr({},t.opened.expressById),{},rr({},n,i));return nr(nr({},t),{},{opened:nr(nr({},t.opened),{},{expressById:o})})}(t,e.payload);case d.nT:return function(t,e){var n=e.time,r=n-n%de.Ay.PURCHASE_TIME;if(r<=t.expirationTimes.lastUpdateTime)return t;var i=n+1,o={},a=i-i%de.Ay.EXPIRATION_STEP;return p.Nz.forEach((function(t){var e=a+t;e-de.Ay.PURCHASE_TIME<i&&(e=(a=e)+t);var n=function(t){var e=t.closeTime,n=t.purchaseTime;return{fromTimestamp:e-parseInt(n),toTimestamp:e}}({closeTime:e,purchaseTime:de.Ay.PURCHASE_TIME});o[t]=nr(nr({},n),{},{closeTime:e})})),nr(nr({},t),{},{expirationTimes:{byTimeframe:o,allTimeframes:Object.keys(o),lastUpdateTime:r}})}(t,e.payload);case Rn:return nr(nr({},t),{},{selectedAssetCategory:e.payload});case Ln:return nr(nr({},t),{},{subscribedSymbols:e.payload});default:return t}},tournaments:Ne,pendingOrders:cr.Ff,welcomeTour:lr.Ff,priceAlerts:ur.F},Zr.reducerPath,Zr.reducer),Gi.reducerPath,Gi.reducer)),$i=[qr,Kr,function(){return function(t){return function(e){var n=hr.A.instance;switch(e.type){case Vi.TT:n.subscribeSignals();break;case Vi.kv:n.unSubscribeSignals();break;case d.S9:var r=e.payload,i=r.chartId,o=r.symbol;i===p.Cj[0]&&Wi.A.saveTryDemoAsset(o);break;case mt.IA:n.refillDemo()}return t(e)}}},Zr.middleware,Gi.middleware],Yi=(0,h.U1)({reducer:Xi,middleware:function(t){return t({serializableCheck:!1,immutableCheck:!1}).concat($i)},devTools:!1});console.log("[STORE] TRY DEMO");var qi=Yi,Ki=n(7470),Zi=parseInt((0,fe.A)("is-demo")),Qi="success",Ji="start",to="fail",eo="updateBalance",no="updateOpenedTrades",ro="updateClosedTrades",io="openOrder",oo="closeOrder",ao="closeOrders",so="updateAssets",co="depositDemo",lo=Zi?"/ajax-trading/get-demo-balance":"/ajax-trading/get-balance",uo=Zi,ho=n(31501),fo=n(95616),po=n.n(fo),mo=n(39100),yo=n(95759),vo="balance-real",bo="balance-demo",go="update-balance";function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}function xo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xo(Object(n),!0).forEach((function(e){Oo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oo(t,e,n){var r;return r=function(t,e){if("object"!=wo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==wo(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var So={balances:Oo(Oo(Oo(Oo(Oo(Oo(Oo(Oo(Oo({},vo,ve()(window,"AppData.balances.real",0)),bo,ve()(window,"AppData.balances.demo",0)),"balance-mt4-real",ve()(window,"AppData.balances.mt4_real",0)),"balance-mt4-demo",ve()(window,"AppData.balances.mt4_demo",0)),"balance-mt5-real",ve()(window,"AppData.balances.mt5_real",0)),"balance-mt5-demo",ve()(window,"AppData.balances.mt5_demo",0)),"balance-mt5-cfd-real",ve()(window,"AppData.balances.mt5_cfd_real",0)),"balance-mt5-cfd-demo",ve()(window,"AppData.balances.mt5_cfd_demo",0)),"balance-tournament",ve()(window,"AppData.balances.tournament",0))},_o=function(t,e){if(e.type===go)return jo(jo({},t),{},{balances:jo(jo({},t.balances),{},Oo({},e.payload.type,e.payload.val))})};function To(t){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(t)}function Ao(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ao(Object(n),!0).forEach((function(e){Po(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Po(t,e,n){var r;return r=function(t,e){if("object"!=To(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=To(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==To(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Co,ko={gems:Po(Po(Po(Po({},"red",ve()(window,"AppData.gems.red",0)),"blue",ve()(window,"AppData.gems.blue",0)),"green",ve()(window,"AppData.gems.green",0)),"secret",ve()(window,"AppData.gems.secret",0))},No=function(t,e){if("update-gem"===e.type)return Eo(Eo({},t),{},{gems:Eo(Eo({},t.gems),{},Po({},e.payload.type,e.payload.val))})};function Io(t){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(t)}function Ro(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ro(Object(n),!0).forEach((function(e){Do(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Do(t,e,n){var r;return r=function(t,e){if("object"!=Io(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Io(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mo={counters:(Co={},Do(Do(Do(Do(Do(Do(Do(Do(Do(Do(Co,Ke,0),on,0),nn,0),Je,0),un,!1),hn,!1),ln,!1),en,0),Ze,0),tn,0),Do(Do(Do(Do(Co,sn,0),qe,0),an,0),rn,0))},Bo=function(t,e){switch(e.type){case"increment-counter":var n=t.counters[e.payload.type];return Ho(t.counters[e.payload.type])||(n+=1)>99&&(n="99+"),Lo(Lo({},t),{},{counters:Lo(Lo({},t.counters),{},Do({},e.payload.type,n))});case"decrement-counter":var r=t.counters[e.payload.type];return Ho(t.counters[e.payload.type])||(r-=1),Lo(Lo({},t),{},{counters:Lo(Lo({},t.counters),{},Do({},e.payload.type,r))});case"update-counter":return Lo(Lo({},t),{},{counters:Lo(Lo({},t.counters),{},Do({},e.payload.type,e.payload.val))})}},Ho=function(t){return"99+"===t};function Fo(t){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(t)}function Go(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Go(Object(n),!0).forEach((function(e){Wo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Go(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wo(t,e,n){var r;return r=function(t,e){if("object"!=Fo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Fo(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Uo=Vo(Vo(Vo({},ko),So),Mo),zo=(0,mo.lt)((0,mo.eh)((0,mo.xw)((function(){return Vo(Vo(Vo({},No.apply(void 0,arguments)),_o.apply(void 0,arguments)),Bo.apply(void 0,arguments))}),Uo)),{name:"cabinet-store",enabled:!1}),Xo=(0,yo.vt)(zo),$o=Xo.dispatch,Yo=Xo.subscribe,qo=Xo.getState,Ko=function(t){return t(qo())},Zo=n(40195);function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}var Jo=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};"function"!=typeof n&&(n=function(){});var r={startVal:0,endVal:0,separator:"",duration:1,decimal:"."};"number"==typeof e?r.endVal=e:"object"===Qo(e)&&po().extend(!0,r,e),t.each((function(t,e){var i=po()(e);if(void 0!==i.data("decimals")&&(r.decimals=i.data("decimals")),void 0!==i.data("from")&&(r.startVal=parseFloat(i.data("from"))||0),void 0!==i.data("to")&&(r.endVal=parseFloat(i.data("to"))||0),void 0!==i.data("duration")&&(r.duration=i.data("duration")),r.startVal!==r.endVal){var o=new Zo.T(e,r.endVal,r);o.error||o.start((function(){n(),i.trigger("count-up-end")}))}}))};Object.keys(Ko((function(t){return t.balances}))).map((function(t){var e;Yo((e=t,function(t){return t.balances[e]}),(function(e,n){var r=po()(".js-".concat(t));0!==r.length&&r.each((function(t,r){var i=po()(r);i.hasClass("js-hd")&&(i.data("hd-show",function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(n=(e=parseInt(t=(+t||0).toFixed(r))+"").length)>3?n%=3:n=0,(n?e.substr(0,n)+o:"")+e.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+o)+(r?i+Math.abs(t-e).toFixed(r).replace(/-/,0).slice(2):"")}(e)),"hide"===i.data("hd-status"))||Jo(i,{startVal:n,endVal:e,decimalPlaces:2})}))}))}));Object.keys(Ko((function(t){return t.gems}))).map((function(t){var e;Yo((e=t,function(t){return t.gems[e]}),(function(e,n){var r=po()(".js-".concat(t,"-gem-count"));0!==r.length&&Jo(r,{startVal:n,endVal:e})}))}));var ta,ea=function(){return function(t){var e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var n in e)if(void 0!==t.style[n])return e[n]}(document.createElement("div"))};function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ra(t,e,n){var r;return r=function(t,e){if("object"!=na(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==na(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ia=(ra(ra(ra(ra(ra(ra(ra(ra(ra(ra(ta={},qe,".js-counter--support .counter__number"),Ke,".js-counter--achievements .counter__number"),Ze,".js-counter--pending-withdrawal .counter__number"),Je,".js-counter--gifts .counter__number"),tn,".js-counter--purchases .counter__number"),en,".js-counter--mining .counter__number"),nn,".js-counter--gems-lottery .counter__number"),rn,".js-counter--chat .counter__number"),an,".js-counter--user-shards .counter__number"),ln,".js-counter--group-market"),ra(ra(ta,un,".js-counter--group-achievements"),hn,".js-counter--group-help")),oa=function(t,e){e.each((function(e,n){var r=po()(n);r.hasClass("animated")&&(r.addClass("hidden"),r.removeClass("animated"),r.removeClass("zoomOut"),r.removeClass("hidden")),0!==t&&r.first().is(":hidden")&&r.addClass("animated zoomIn").show().one(ea(),(function(){return r.removeClass("animated zoomIn")}))}))},aa=function(t,e){e.each((function(e,n){var r=po()(n);0===t&&r.first().is(":visible")&&r.addClass("animated zoomOut").one(ea(),(function(){return r.hide().removeClass("animated zoomOut")}))}))};Object.keys(Ko((function(t){return t.counters}))).map((function(t){var e;Yo((e=t,function(t){return t.counters[e]}),(function(e,n){if(-1!==t.indexOf("group"))return function(t,e){try{var n=po()(ia[e]);if(0===n.length)return;t&&n.is(":hidden")&&n.fadeIn(),!t&&!n.is(":hidden")&&n.fadeOut()}catch(r){console.error("Counters2",r)}}(e,t);var r=function(t,e){return e>99&&(e=99),t>(arguments.length>2&&void 0!==arguments[2]?arguments[2]:99)?{newVal:"99+",oldVal:e}:t<1?{newVal:0,oldVal:e}:{newVal:t,oldVal:e}}(e,n);!function(t,e,n){try{var r=po()(ia[n]);if(0===r.length)return;var i=r.closest(".counter");oa(t,i),"99+"===t?r.text(t):setTimeout((function(){Jo(r,{startVal:e,endVal:t},(function(){return aa(t,i)}))}),500)}catch(o){console.error("Err counters",o)}}(r.newVal,r.oldVal,t)}))}));var sa=n(83868),ca=function(t,e){return{type:go,payload:{type:t,val:e}}};function la(t){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},la(t)}function ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ha(r.key),r)}}function ha(t){var e=function(t,e){if("object"!=la(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=la(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==la(e)?e:String(e)}var fa=Symbol(),da=Symbol(),pa=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e!==da)throw"Cannot construct singleton";this.listeners={},[Ji,to,Qi].forEach((function(t){[io,oo,ao,no,co,ro,eo,so].forEach((function(e){n.listeners[t+e]=new Map}))})),this.onceListeners={},[Ji,to,Qi].forEach((function(t){[io,oo,ao,no,ro,eo,so].forEach((function(e){n.onceListeners[t+e]=new Map}))}))}var e,n,r;return e=t,n=[{key:"addOnceListener",value:function(t,e){var n=(0,ho.A)();return this.onceListeners[t].set(n,e),n}},{key:"addEventListener",value:function(t,e){var n=(0,ho.A)();return this.listeners[t].set(n,e),n}},{key:"removeEventListener",value:function(t,e){this.listeners[t].delete(e)}},{key:"updateBalance",value:function(){var t=this;this.listeners["".concat(Ji).concat(eo)].forEach((function(t){return t()})),po().when(this.callUpdateBalance()).done((function(e){var n=e&&"balance"in e?e.balance:0;sa.jx?$o(ca(bo,n)):$o(ca(vo,n)),t.listeners["".concat(Qi).concat(eo)].forEach((function(t){return t(n)}))})).fail((function(e){t.listeners["".concat(to).concat(eo)].forEach((function(t){return t(e)}))}))}},{key:"callUpdateBalance",value:function(){return po().ajax(lo)}},{key:"depositDemo",value:function(t){var e=this;this.listeners["".concat(Ji).concat(co)].forEach((function(e){return e(t)})),po().when(this.callDepositDemo(t)).done((function(t){e.listeners["".concat(Qi).concat(co)].forEach((function(e){return e(t)}))})).fail((function(t){e.listeners["".concat(to).concat(co)].forEach((function(e){return e(t)}))}))}},{key:"callDepositDemo",value:function(t){return po().ajax({url:"/ajax-trading/deposit-demo",type:"POST",data:{balance:t}})}}],r=[{key:"instance",get:function(){return this[fa]||(this[fa]=new t(da)),this[fa]}}],n&&ua(e.prototype,n),r&&ua(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ma=pa,ya=n(90348),va=n(84916),ba=n(25716),ga="event_iphone_keyboard_sound";function wa(t){var e=t.chartId,n=t.action,r=t.requestId;return{type:Ft,payload:{chartId:e,action:n,requestId:r}}}function xa(){return{type:$t,payload:{}}}var ja=n(41165);function Oa(){var t=new Event("resize",{bubbles:!0,cancelable:!1});window.dispatchEvent(t)}var Sa=document.querySelector("body"),_a=function(){if(1==+(0,fe.A)("is-mobile-version")){var t=function(t){Sa.classList.contains(t)||(Sa.classList.remove(Le.V,Le.p),Sa.classList.add(t))};Re.A.subscribe(De,(function(e,n){t(n),Oa()})),t(Be)}};var Ta="rsm_open_modal",Aa="rsm_close_modal",Ea=n(33652);function Pa(t){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(t)}function Ca(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Na(r.key),r)}}function ka(t,e,n){return(e=Na(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Na(t){var e=function(t,e){if("object"!=Pa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pa(e)?e:String(e)}var Ia="event_open_mobile_nav",Ra="event_open_before_mobile_nav",La="event_close_mobile_nav",Da="left",Ma="right",Ba=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ka(this,"clickOutside",(function(){Re.A.publish(La,Da)})),ka(this,"orientationChange",(function(t,n){n===Le.p&&(e.$mlMenu.hide(),Oa(),e.$mlMenu.show())})),ka(this,"openMobileNavEventHandler",(function(t,n){Re.A.publish(Ra,n),e.changeStateNav(n,(function(){return Re.A.publish("event_open_after_mobile_nav",n)}))})),ka(this,"closeMobileNavEventHandler",(function(t,n){Re.A.publish("event_close_before_mobile_nav",n),e.changeStateNav(n,(function(){return Re.A.publish("event_close_after_mobile_nav",n)}))})),ka(this,"mobileNavClickHandler",(function(n){n.preventDefault();var r=po()(n.currentTarget),i=r.data("dir");if(e.closeRightSidebarModals(),t.isShowing(r)){var o=e.$rightSidebars.filter(".active");o.length&&o.each((function(t,e){var n=e.getAttribute("id");Re.A.publish("".concat(Aa,".").concat(n),new Ea.A(n))}))}else Re.A.publish(Ia,i)})),this.$menu=po()(".js-mobile-nav"),this.$body=po()("body"),this.$wrap=po()(".js-m-main-wrap .m-main-wrap__in"),this.$rightSidebars=po()(".js-right-sidebar-modal"),this.$mlMenu=po()(".ml-menu .js-hseow"),this.classNameLeft="mobile-nav-active-ml",this.classNameRight="mobile-nav-active-mr"}var e,n,r;return e=t,r=[{key:"isShowing",value:function(t){return t.data("isShowing")||!1}},{key:"setIsShowing",value:function(t,e){t.data("isShowing",e)}}],(n=[{key:"init",value:function(){this.$menu.length,this.events()}},{key:"events",value:function(){var t=this;this.$body.on("click",".js-mobile-nav",this.mobileNavClickHandler),Re.A.subscribe(De,this.orientationChange),Re.A.subscribe(Ia,(function(e,n){t.openMobileNavEventHandler(e,n),t.$wrap.on("click tap",t.clickOutside)})),Re.A.subscribe(La,(function(e,n){t.closeMobileNavEventHandler(e,n),t.$wrap.off("click tap",t.clickOutside)}))}},{key:"closeRightSidebarModals",value:function(){Re.A.publish("mobile_close_all_right_sidebar_modals")}},{key:"changeStateNav",value:function(t,e){t===Da?this.changeStateNavLeft(e):t===Ma&&this.changeStateNavRight(e)}},{key:"changeStateNavLeft",value:function(e){var n=this.$menu.filter('[data-dir="'.concat(Da,'"]'));t.isShowing(n)?(this.$body.removeClass(this.classNameLeft),e(),t.setIsShowing(n,!1)):(e(),t.setIsShowing(n,!0),this.$body.removeClass(this.classNameRight).addClass(this.classNameLeft))}},{key:"changeStateNavRight",value:function(e){var n=this.$menu.filter('[data-dir="'.concat(Ma,'"]'));t.isShowing(n)?(e(),t.setIsShowing(n,!1),this.$body.removeClass(this.classNameRight)):(e(),t.setIsShowing(n,!0),this.$body.removeClass(this.classNameLeft).addClass(this.classNameRight))}}])&&Ca(e.prototype,n),r&&Ca(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ha=n(68512);function Fa(t){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(t)}function Ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wa(r.key),r)}}function Va(t,e,n){return(e=Wa(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wa(t){var e=function(t,e){if("object"!=Fa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fa(e)?e:String(e)}var Ua=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Va(this,"rightModalFooterMenuClickHandler",(function(t){var n=po()(t.currentTarget).attr("href");if(void 0!==n){e.$mrMenuLevel1.find("li.active").removeClass("active");var r=e.$mrMenuLevel1.find('a[href="'.concat(n,'"]'));if(0!==r.length){var i=r.parent();i.hasClass("active")||i.addClass("active")}}})),Va(this,"rightMenuClickHandler",(function(){e.$mrMenuLevel1.find("li.active").removeClass("active")})),Va(this,"closeRightModalClickHandler",(function(t){t.preventDefault();var e=po()(t.currentTarget);if(e.closest(".mr-menu").length)return Re.A.publish(La,Ma);var n=e.closest(".js-right-sidebar-modal").attr("id"),r=po()("#".concat(n));0!==r.length&&(r.hasClass("active")&&Re.A.publish("".concat(Aa,".").concat(n),new Ea.A(n)),r.removeClass("active"))})),Va(this,"backClickHandler",(function(t){var n="hseow--active-w2";e.$subMenuWrap.hasClass(n)&&e.$subMenuWrap.removeClass(n),e.hideSubMenu()})),Va(this,"menuItemClickHandler",(function(t){var n=po()(t.currentTarget).find("> a").data("level2");if(n){if(e.isTryDemo&&e.onlyRegisteredMenuLevels.includes(n))return void Re.A.publish(Ha.Tm);var r=e.$subMenu.find(".level-".concat(n));if(0===r.length)return;r.is(":hidden")&&r.show(),r.siblings().hide();var i="hseow--active-w2";e.$subMenuWrap.hasClass(i)||e.$subMenuWrap.addClass(i),26==+n?!e.$body.hasClass(e.chatClassName)&&e.$body.addClass(e.chatClassName):e.$body.hasClass(e.chatClassName)&&e.$body.removeClass(e.chatClassName)}})),this.$body=po()("body"),this.$menuItems=po()(".js-ml-menu-level-1 ul > li"),this.$subMenu=po()(".js-ml-menu-level-2"),this.$subMenuWrap=po()(".js-m-main-wrap .js-hseow"),this.$mrMenuLevel1=po()(".js-mr-menu-level-1"),this.$rightModalFooterMenu=po()(".right-modal-footer-menu"),this.$hseow=po()(".js-hseow"),this.$document=po()(document),this.chatClassName="s-chat_open",this.isTryDemo=(0,Ie.Z5)(),this.onlyRegisteredMenuLevels=["trading","finance","profile","market","achievements"]}var e,n,r;return e=t,(n=[{key:"init",value:function(){0!==this.$menuItems.length&&this.events()}},{key:"events",value:function(){var t=this;Re.A.subscribe(La,(function(){t.hideSubMenu(),t.$hseow.hasClass("hseow--active-w2")&&t.$hseow.removeClass("hseow--active-w2")})),this.$menuItems.on("click",this.menuItemClickHandler),this.$subMenuWrap.find(".js-back").on("click",this.backClickHandler),this.$document.on("click",".js-sub-menu-modals-close",this.closeRightModalClickHandler),this.$mrMenuLevel1.find("a").on("click",this.rightMenuClickHandler),this.$rightModalFooterMenu.find("a").on("click",this.rightModalFooterMenuClickHandler)}},{key:"hideSubMenu",value:function(){this.$subMenu.find("[class*=level-2]:visible").hide()}}])&&Ga(e.prototype,n),r&&Ga(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function za(t){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(t)}function Xa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$a(r.key),r)}}function $a(t){var e=function(t,e){if("object"!=za(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=za(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==za(e)?e:String(e)}var Ya=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.block=document.querySelector(".device-px")}var e,n,r;return e=t,(n=[{key:"init",value:function(){null!==this.block&&(this.print(),this.events())}},{key:"events",value:function(){var t=this;window.addEventListener("resize",(function(){return t.windowResizeEventHandler()}),!0)}},{key:"windowResizeEventHandler",value:function(){this.print()}},{key:"print",value:function(){this.block.innerHTML=this.getSizes()}},{key:"getSizes",value:function(){var t=window.innerWidth>0?window.innerWidth:screen.width,e=window.innerHeight>0?window.innerHeight:screen.height;return"".concat(t,"x").concat(e)}}])&&Xa(e.prototype,n),r&&Xa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),qa=n(95616);function Ka(t){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(t)}function Za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qa(r.key),r)}}function Qa(t){var e=function(t,e){if("object"!=Ka(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ka(e)?e:String(e)}var Ja=function(){function t(){var e,n,r,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,r=function(t){t.preventDefault(),i.$block.hasClass("open")?i.$block.removeClass("open"):i.$block.addClass("open")},(n=Qa(n="titleClickHandler"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.$block=qa(".js-ml-menu-languages")}var e,n,r;return e=t,(n=[{key:"init",value:function(){0!==this.$block.length&&(this.$title=this.$block.find(".js-ml-menu-languages-current"),this.$list=this.$block.find(".js-ml-menu-languages-list"),this.$arrow=this.$title.find(".fa"),this.$title.on("click",this.titleClickHandler))}}])&&Za(e.prototype,n),r&&Za(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ts(t){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(t)}function es(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ns(r.key),r)}}function ns(t){var e=function(t,e){if("object"!=ts(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ts(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ts(e)?e:String(e)}var rs=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$menu=po()(".js-mobile-nav")}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.events()}},{key:"events",value:function(){var t=this;document.addEventListener("showChatCallback",(function(){po()("body").hasClass("mobile-nav-active-ml")||t.$menu.filter('[data-dir="left"]').trigger("click"),setTimeout((function(){return po()('.js-ml-menu-level-1 a[data-level2="26"]').click()}),0)}))}}])&&es(e.prototype,n),r&&es(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function is(t){return is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(t)}function os(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ss(r.key),r)}}function as(t,e,n){return(e=ss(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ss(t){var e=function(t,e){if("object"!=is(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=is(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==is(e)?e:String(e)}(0,Ie.hP)()&&((new Ba).init(),(new Ua).init(),1==+(0,fe.A)("is-office-ip")&&(new Ya).init(),(new Ja).init(),(new rs).init());var cs="event_nav_before_minimize",ls="event_nav_after_minimize",us="event_nav_chart_arrow_clicked",hs="event_nav_after_un_minimize",fs="left",ds="right",ps=!1,ms=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),as(this,"minimizeBtnClickHandler",(function(t){var n=po()(t),r=n.find(".fa"),i=n.data("type"),o=e.isMinimize(i);e.changeArrowIcon(i,o,r),e.changeState(i,o)})),as(this,"navAfterUnMinimizeEventHandler",(function(t,n){e.sidebars["$"+n].addClass(e.getConfig("classes.showText"))})),as(this,"navBeforeMinimizeEventHandler",(function(t,n){var r=e.sidebars["$".concat(n)];r&&r.removeClass(e.getConfig("classes.showText"))})),ps||(this.$body=po()("body"),this.$window=po()(window),this.$arrows=po()(".js-minimize-menu"),this.sidebars={$left:po()(".js-left-sidebar"),$right:po()(".js-right-sidebar")},this.settings={classes:{showText:"show-text"}},this.timeOut=as(as({},fs,null),ds,null),this.transitionTime=.3)}var e,n,r;return e=t,(n=[{key:"getCookieNameByType",value:function(t){return this.getConfig("cookies.".concat(t))}},{key:"setCookie",value:function(t,e){pe.A.cookies.set(this.getCookieNameByType(t),e)}},{key:"init",value:function(){!0!==ps&&0!==this.sidebars.$left.length&&(this.settings.cookies={left:"is-minimize-left-sidebar",right:"is-minimize-right-sidebar"},this.settings.classes[fs]={body:"minimize-left-sidebar",arrow:"fa-long-arrow-left"},this.settings.classes[ds]={body:"minimize-right-sidebar",arrow:"fa-long-arrow-right"},this.events(),ps=!0)}},{key:"isMinimize",value:function(t){return this.$body.hasClass(this.getConfig("classes.".concat(t,".body")))}},{key:"getConfig",value:function(t){return ve()(this.settings,t)}},{key:"events",value:function(){var t=this;Re.A.subscribe(cs,this.navBeforeMinimizeEventHandler),Re.A.subscribe(hs,(function(e,n){t.navAfterUnMinimizeEventHandler(e,n),t.forGraph()})),Re.A.subscribe(ls,(function(){return t.forGraph()})),Re.A.subscribe(us,(function(e,n){return t.minimizeBtnClickHandler(n)})),this.$arrows.on("click",(function(e){return t.minimizeBtnClickHandler(e.currentTarget)}))}},{key:"changeState",value:function(t,e){e?(this.unMinimize(t),this.setCookie(t,0)):(this.minimize(t),this.setCookie(t,1))}},{key:"changeArrowIcon",value:function(t,e,n){var r=this.getConfig("classes.".concat(fs,".arrow")),i=this.getConfig("classes.".concat(ds,".arrow"));t===fs?e?n.removeClass(i).addClass(r):n.removeClass(r).addClass(i):e?n.removeClass(r).addClass(i):n.removeClass(i).addClass(r)}},{key:"minimize",value:function(t){var e=this;Re.A.publish(cs,t),this.timeOut[t]&&clearTimeout(this.timeOut[t]),this.sidebars["$".concat(t)]&&(this.$body.addClass(this.getConfig("classes.".concat(t,".body"))),this.timeOut[t]=setTimeout((function(){Re.A.publish(ls,t),e.timeOut[t]=null}),1e3*this.transitionTime))}},{key:"unMinimize",value:function(t){var e=this;Re.A.publish("event_nav_before_un_minimize",t),this.timeOut[t]&&clearTimeout(this.timeOut[t]),this.sidebars["$".concat(t)]&&(this.$body.removeClass(this.getConfig("classes.".concat(t,".body"))),this.timeOut[t]=setTimeout((function(){Re.A.publish(hs,t),e.timeOut[t]=null}),1e3*this.transitionTime))}},{key:"forGraph",value:function(){Oa()}}])&&os(e.prototype,n),r&&os(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ys=n(36376),vs="NotEnoughFunds",bs=n(46177),gs=n.n(bs),ws="tutorial-v1",xs={sliderWidth:1280,sliderHeight:920,headerHeight:25,paddingY:20},js=function(t){var e,n,r,i;t.preventDefault(),xs.data.currentSlide=null===(e=t.currentTarget)||void 0===e||null===(e=e.dataset)||void 0===e?void 0:e.slide,-1!==(n=xs.data.currentSlide).indexOf("_")&&(n=n.split("_")[0]),xs.$currentSlide.text(n),r=xs.data.currentSlide,0!==(i=xs.$tutorial.find(".step".concat(r))).length&&(xs.$tutorial.find(".".concat(ws,"__step")).addClass("hidden"),i.removeClass("hidden"),xs.$tutorial[0].classList.forEach((function(t){t!==ws&&xs.$tutorial.removeClass(t)})),xs.$tutorial.addClass("".concat(ws,"--step").concat(r)),(0,Ie.hP)()&&i[0].scrollIntoView()),xs.$tutorial.find(".".concat(ws,"__close-icon")).attr("data-layout",JSON.stringify({event:"onboarding_1.stage_".concat(xs.data.currentSlide,".close")}))},Os=function(t){t.preventDefault(),xs.$tutorial.addClass("hidden"),xs.$tutorial.find(".".concat(ws,"__step:not(.hidden)")).addClass("hidden"),xs.$tutorial.find(".".concat(ws,"__step:first")).removeClass("hidden"),xs.$tutorial.find(".".concat(ws,"__serving-start")).text("1"),(0,Ie.hP)()||(window.removeEventListener("orientationchange",_s),window.removeEventListener("optimizedResize",_s))},Ss=function(){var t=xs.headerHeight+2*xs.paddingY,e=xs.sliderHeight+t,n=xs.sliderHeight,r=xs.sliderWidth;if(e>window.innerHeight){var i=((window.innerHeight-t)/xs.sliderHeight).toFixed(4);n=(xs.sliderHeight*i).toFixed(4),r=(xs.sliderWidth*i).toFixed(4)}xs.$tutorial.find(".".concat(ws,"__body")).css({height:"".concat(n,"px"),"flex-basis":"".concat(n,"px"),width:"".concat(r,"px")})},_s=gs()(Ss,300);!function(){if(pe.A.cookies.remove("show_tutorial"),(0,Ie.Z5)()&&!pe.A.cookies.get("tutorial_watched")){var t=de.Ay.STORAGE.COOKIES.OPTIONS.expires;de.Ay.STORAGE.COOKIES.OPTIONS.expires=new Date((new Date).setHours((new Date).getHours()+8760)),pe.A.cookies.set("tutorial_watched",1),de.Ay.STORAGE.COOKIES.OPTIONS.expires=t}}(),document.addEventListener("show_tutorial_v1",(function(){xs.$tutorial=po()(".".concat(ws)),0!==xs.$tutorial.length&&(xs.$currentSlide=xs.$tutorial.find(".".concat(ws,"__serving-start")),xs.data={currentSlide:1},xs.$tutorial.find(".js-change-slide").on("click",js),xs.$tutorial.find(".js-exit").on("click",Os),(0,Ie.hP)()||(Ss(),window.addEventListener("orientationchange",_s),window.addEventListener("resize",_s)),xs.$tutorial.removeClass("hidden"))}));var Ts=ve()(window,"AppData.tutorial.id",0);document.addEventListener("DOMContentLoaded",(function(){document.dispatchEvent(new CustomEvent("show_tutorial_v".concat(Ts)))}));var As=n(94190);function Es(t){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(t)}function Ps(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ps(Object(n),!0).forEach((function(e){ks(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ps(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ks(t,e,n){return(e=Is(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Is(r.key),r)}}function Is(t){var e=function(t,e){if("object"!=Es(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Es(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Es(e)?e:String(e)}var Rs=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,n=[{key:"init",value:function(){this.socket=hr.A.instance,this.api=ma.instance,this.events(),this.connectToSocket(),this.socketEvents(),this.domEvents(),this.isFirstTimeLoadedAssets=!0,this.closedTrades=0,this.closedProfitTrades=0}},{key:"connectToSocket",value:function(){this.socket.connectTo()}},{key:"events",value:function(){_a(),(new ms).init(),Re.A.subscribe(Ha.Tm,(function(){qi.dispatch((0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!0}))}))}},{key:"socketEvents",value:function(){var t=this;this.socket.addEventListener(ya.T2,(function(t){qi.dispatch((0,va.$g)(t))})),this.socket.addEventListener(ya.lF,(function(e){if(qi.dispatch((0,va.ym)(e)),t.isFirstTimeLoadedAssets){var n=Wi.A.getTryDemoAsset(),r=Cs(Cs({},p.sS),{},{enabledMarketWatch:!1});if(n&&(r.symbol=n),(0,fe.v)()){var i=e.filter((function(t){return t.is_otc&&t.active&&t.payout>80})).map((function(t){return t.symbol}));i.length&&(r.symbol=i[Math.floor(Math.random()*i.length)],Wi.A.getTryDemoBalance()<100&&qi.dispatch((0,ba.wk)()),qi.dispatch((0,ys.V7)({modalId:me.lx.DEALS_WIDGET,value:!0})),r.fastTimeframe=10,r.demoDealAmount=10,r.enabledAutoscroll=!0,r.amountType=p.yf.CURRENCY,r.chartType=w.M.Line,r.showArea=!0,r.zoom=Cs(Cs({},r.zoom),{},ks({},w.M.Line,10)))}qi.dispatch((0,va.HM)({save:{"chart-1":r}})),t.isFirstTimeLoadedAssets=!1}})),this.socket.addEventListener(ya.gG,(function(){t.isFirstTimeLoadedAssets=!0})),this.socket.addEventListener(ya.nk,(function(t){qi.dispatch(function(t){return{type:Wt,payload:{deals:t}}}(t))})),this.socket.addEventListener("".concat(sa.Bf).concat(ya.wM),(function(t){qi.dispatch((0,ba.bp)({balance:t})),Wi.A.saveTryDemoBalance(t)})),this.socket.addEventListener(ya.$S,(function(t){qi.dispatch((0,va.Xx)(t))})),this.socket.addEventListener("".concat(sa.Bf).concat(ya.N1),(function(t){qi.dispatch({type:Ut,payload:{deal:t}})})),this.socket.addEventListener("".concat(to).concat(ya.N1),(function(t){t.error===vs&&Re.A.publish(Ha.ZW,{amount:t.amount})})),this.socket.addEventListener("".concat(sa.Bf).concat(ya.Z5),(function(e){var n=e.deals,r=n.filter((function(t){return t.profit>0})).length;t.closedTrades+=n.length,t.closedProfitTrades+=r,t.closedProfitTrades>=5&&(qi.dispatch((0,ys.V7)({modalId:me.lx.GOOD_JOB_MODAL,value:!0})),t.closedTrades=0,t.closedProfitTrades=0),qi.dispatch(function(t){return Re.A.publish("event_sent_message_sound_on_iphone"),function(e){e({type:zt,payload:{deals:t}})}}(n))})),this.socket.addEventListener("".concat(sa.Bf).concat(ya.$9),(function(t){qi.dispatch({type:Xt,payload:{deal:t}})})),this.socket.addEventListener("".concat(sa.Bf).concat(ya.N_),(function(t){qi.dispatch({type:Yt,payload:t})})),this.socket.addEventListener(ya.L,(function(t){qi.dispatch((0,ja.qX)(t))})),this.socket.addEventListener(ya.g_,(function(t){qi.dispatch((0,ja.JS)(t))})),this.socket.addEventListener("".concat(sa.Bf).concat(ya.kG),(function(t){qi.dispatch(pt.$m(t))})),this.socket.addEventListener("".concat(sa.Bf).concat(ya.L$),(function(t){qi.dispatch(pt.PP(t))})),Re.A.subscribe(Ha.wZ,(function(t,e){var n=e.price,r=e.assetId;qi.dispatch((0,As.xV)({price:n,assetId:r}))})),Re.A.subscribe(Ha.H7,(function(t,e){qi.dispatch((0,As.qW)(e))})),Re.A.subscribe(Ha.DE,(function(t,e){var n=e.chartSlotIndex,r=e.symbol;qi.dispatch((0,va.s6)({chartSlotIndex:n,symbol:r}))})),window.addEventListener("open-modal",(function(t){switch(t.detail){case"social":qi.dispatch((0,ys.Ep)(ks({},me.lx.SOCIAL_TRADING,!0)));break;case"signals":(0,Ie.hP)()?qi.dispatch((0,ys.Ep)(ks({},me.lx.SIGNALS,!0))):qi.dispatch((0,ys.Ep)(ks({},me.lx.SIGNALS_WIDGET,!0)))}}))}},{key:"domEvents",value:function(){po()(".js-header-avatar").on("click",(function(){qi.dispatch((0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!0}))}))}}],n&&Ns(e.prototype,n),r&&Ns(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ls=new Rs,Ds=(n(26835),n(54743),n(49060),n(26647),n(11750)),Ms=n(62540),Bs=function(t){var e=t.side,n=t.isActive,r=t.onArrowClick;return(0,Ms.jsx)("div",{className:(0,Ds.A)("assets-favorites-arrow","assets-favorites-arrow--".concat(e),!n&&"assets-favorites-arrow--disabled"),onClick:function(){return r(e)},children:(0,Ms.jsx)("i",{className:"fa fa-chevron-".concat(e)})})},Hs=n(27146),Fs=n(15790),Gs=n(45980),Vs=n(25288);function Ws(t){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(t)}function Us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Us(Object(n),!0).forEach((function(e){tc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xs(t){return function(t){if(Array.isArray(t))return $s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return $s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ys(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ec(r.key),r)}}function qs(t,e,n){return e=Zs(e),function(t,e){if(e&&("object"===Ws(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qs(t)}(t,Ks()?Reflect.construct(e,n||[],Zs(t).constructor):e.apply(t,n))}function Ks(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ks=function(){return!!t})()}function Zs(t){return Zs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zs(t)}function Qs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Js(t,e){return Js=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Js(t,e)}function tc(t,e,n){return(e=ec(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ec(t){var e=function(t,e){if("object"!=Ws(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ws(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ws(e)?e:String(e)}function nc(){var t=Date.now(),e=Math.floor(t/1e3),n=t-1e3*e,r=Math.floor(n/500);return"".concat(e,".").concat(r)}var rc=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return tc(Qs(t=qs(this,e,[].concat(i))),"state",{prevProfit:0,closeEstimateProfit:-1,closeProfit:0,lastHandledCloseDealTime:0,svgDate:nc()}),tc(Qs(t),"myRef",(0,r.createRef)()),tc(Qs(t),"svgRef",(0,r.createRef)()),tc(Qs(t),"svgDateInterval",null),tc(Qs(t),"handleMiddleMouseClick",(function(e){1===e.button&&t.onRemoveItemClick(e)})),tc(Qs(t),"onSliderItemClick",(function(){var e=t.props,n=e.visibleChartIds,r=e.symbol,i=e.active,o=e.changeSymbol;1===n.length&&i&&(o({symbol:r,chartId:n[0]}),Re.A.publish(ga))})),tc(Qs(t),"onRemoveItemClick",(function(e){e.stopPropagation();var n=t.props,r=n.symbol;(0,n.removeFavoriteSymbol)(r)})),tc(Qs(t),"onReactSVGLoading",(function(){if(!t.svgRef.current)return null;var e=(new XMLSerializer).serializeToString(t.svgRef.current);return(0,Ms.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})})),tc(Qs(t),"onReactSVGAfterInjection",(function(e){e&&(t.svgRef.current=e)})),t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Js(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){var t=this;this.props.isActive&&(this.svgDateInterval=setInterval((function(){t.updateSvgDate()}),980))}},{key:"componentDidUpdate",value:function(t){var e=this,n=this.props,r=n.closedDeals,i=n.hasDeals,o=n.profit,a=n.state,s=n.isActive;void 0!==o&&o!==t.profit?this.setState({prevProfit:t.profit}):a===t.state||i||this.setState({prevProfit:0}),r.length!==t.closedDeals.length&&this.processClosedDeals(),s&&!this.svgDateInterval?this.svgDateInterval=setInterval((function(){e.updateSvgDate()}),980):!s&&this.svgDateInterval&&clearInterval(this.svgDateInterval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.svgDateInterval)}},{key:"updateSvgDate",value:function(){this.setState({svgDate:nc()})}},{key:"processClosedDeals",value:function(){var t=this.state.lastHandledCloseDealTime,e=this.props.closedDeals.filter((function(e){var n=e.closeTimestamp;return 0===t||n>t}));if(e.length){var n=Math.round(100*e.reduce((function(t,e){return t+e.amount+e.profit}),0))/100,r=e.reduce((function(t,e){return t+e.amount}),0),i=Math.max.apply(Math,Xs(e.map((function(t){return t.closeTimestamp}))));this.setState({closeEstimateProfit:n,closeProfit:r,closeDealsLastTime:i})}}},{key:"sliderClassNames",get:function(){var t=this.props,e=t.isSymbolVisible,n=t.state,r=t.active,i=t.visibleChartIds;return(0,Ds.A)("animated assets-favorites-item",{"assets-favorites-item--active":e,"assets-favorites-item--not-active":!r||1!==i.length,"assets-favorites-item--bg-red":n===Hs.qc,"assets-favorites-item--bg-yellow":n===Hs.Rd,"assets-favorites-item--bg-green":n===Hs.ne})}},{key:"render",value:function(){var t=this.props,e=t.profit,n=t.label,r=t.payout,i=t.progress,o=t.symbol,a=t.hasDeals,s=t.currency,c=t.tabIndex,l=t.totalBet,u=t.isActive;if(!n)return null;var h=o.replace("#",""),f=(0,x.jA)(o),d=n.replace(" OTC",""),p=d.substring(0,f?11:12);return d.length!==p.length&&(p+="..."),f&&(p+=" OTC"),(0,Ms.jsxs)("div",{ref:this.myRef,className:this.sliderClassNames,onClick:this.onSliderItemClick,onMouseDown:this.handleMiddleMouseClick,"data-id":o,tabIndex:c,children:[u&&(0,Ms.jsx)(Gs.k,{className:"assets-favorites-item__preview-wrapper",src:"https://po-static.com/uploads/img_favourites_symbols/".concat(h,".svg?v=").concat(this.state.svgDate),loading:this.onReactSVGLoading,afterInjection:this.onReactSVGAfterInjection}),(0,Ms.jsx)("a",{className:"assets-favorites-item__close",onClick:this.onRemoveItemClick,children:(0,Ms.jsx)("i",{className:"fa fa-times"})}),(0,Ms.jsxs)("div",{className:"assets-favorites-item__line",children:[(0,Ms.jsx)("div",{className:"assets-favorites-item__label",children:p}),u&&(0,Ms.jsx)("div",{className:"payout",children:(0,Ms.jsxs)("div",{className:"payout__in",children:[(0,Ms.jsx)("div",{className:"payout__number",children:r}),(0,Ms.jsx)("div",{className:"payout__symbol",children:"%"})]})})]}),a&&(0,Ms.jsxs)("div",{className:"assets-favorites-item__line",children:[(0,Ms.jsxs)("div",{className:"amount",children:[s,(0,qn.xr)(l,2)]}),(0,Ms.jsx)("div",{className:"profit",children:(0,Ms.jsxs)("div",{className:"profit__in",children:[e>0&&(0,Ms.jsx)("div",{className:"profit__plus",children:"+"}),(0,Ms.jsx)("div",{className:"profit__currency",children:s}),(0,qn.xr)(e,2,!0)]})})]}),i>0&&(0,Ms.jsx)("div",{className:"assets-favorites-item__progress progress",children:(0,Ms.jsx)("div",{className:"progress-bar",style:{width:"".concat(i,"%")}})})]})}}])&&Ys(n.prototype,i),o&&Ys(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent),ic=(0,u.Ng)((function(t,e){var n=(0,Fs.eu)(e.symbol);return function(t,e){return zs(zs({},(0,Fs.y3)(t)(e.symbol)),{},{closedDeals:n(t),visibleChartIds:t.chartSettings.visibleChartIds,currency:t.global.currency,isSymbolVisible:t.chartSettings.visibleSymbols.includes(e.symbol),isActive:(0,Vs.Zn)(t)(e.symbol)})}}),{removeFavoriteSymbol:va.vn,changeSymbol:va.xw})(rc),oc=n(61865);function ac(t){return ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(t)}function sc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cc(t,e,n){var r;return r=function(t,e){if("object"!=ac(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ac(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==ac(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lc=(0,u.Ng)((function(t){return{favoriteSymbols:t.favorites.list}}),{changeFavoriteSymbols:va.ix})((function(t){var e=t.innerRef,n=t.changeFavoriteSymbols,r=t.favoriteSymbols.map((function(t,e){return{id:t,name:t,tabIndex:e+1}}));return(0,Ms.jsx)("div",{className:"assets-favorites-list__wrap",children:(0,Ms.jsx)(oc.ReactSortable,{className:"assets-favorites-list__in",list:r,ref:e,setList:function(t){return n(t.map((function(t){return t.id})))},children:r.map((function(t){var e=t.id,n=t.name,r=t.tabIndex;return(0,Ms.jsx)(ic,{symbol:n,tabIndex:r},e)}))})})})),uc=function(t,e){return(0,Ms.jsx)(lc,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sc(Object(n),!0).forEach((function(e){cc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({innerRef:e},t))};uc.displayName="SliderWrapper";var hc=(0,r.forwardRef)(uc);function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function dc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dc(Object(n),!0).forEach((function(e){mc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mc(t,e,n){var r;return r=function(t,e){if("object"!=fc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==fc(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yc=(0,u.Ng)((function(t){var e=t.chartSettings.chartById,n=p.Cj.filter((function(t){return e[t]&&e[t].isVisible}));return{firstVisibleChartId:n.length>0?n[0]:null,visibleSymbolsLength:t.chartSettings.visibleSymbols.length}}),{changeModalState:ys.V7})((function(t){var e=t.innerRef,n=t.visibleSymbolsLength,r=t.firstVisibleChartId,i=t.changeModalState;return(0,Ms.jsxs)("div",{ref:e,className:"no-items-text",onClick:function(){n>0&&null!==r&&i({modalId:me.lx.ASSETS_LIST,value:r})},children:[(0,Ms.jsx)("i",{className:"fa fa-star"})," ",(0,yt.tr)("chart_settings.favorites_list"),1===n?" (Shift + F)":null]})})),vc=function(t,e){return(0,Ms.jsx)(yc,pc(pc({},t),{},{innerRef:e}))};vc.displayName="NoItemsText";var bc=(0,r.forwardRef)(vc),gc=n(36474);function wc(t){return wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(t)}function xc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ec(r.key),r)}}function jc(t,e,n){return e=Sc(e),function(t,e){if(e&&("object"===wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _c(t)}(t,Oc()?Reflect.construct(e,n||[],Sc(t).constructor):e.apply(t,n))}function Oc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Oc=function(){return!!t})()}function Sc(t){return Sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sc(t)}function _c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tc(t,e){return Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tc(t,e)}function Ac(t,e,n){return(e=Ec(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ec(t){var e=function(t,e){if("object"!=wc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wc(e)?e:String(e)}var Pc="no-fav-panel";function Cc(t,e){var n=document.body.classList,r=n.contains(Pc);0!==t&&!e||r?t>0&&!e&&r&&(n.remove(Pc),Oa()):(n.add(Pc),Oa())}var kc=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Ac(_c(t=jc(this,e,[].concat(i))),"state",{pages:0,currentPage:0,leftArrowActive:!1,rightArrowActive:!1,windowWidth:0,itemsWidth:0}),Ac(_c(t),"listRef",(0,r.createRef)()),Ac(_c(t),"sliderRef",(0,r.createRef)()),Ac(_c(t),"clamp",(function(t,e,n){return t<e?e:t>n?n:t})),Ac(_c(t),"onSliderArrowClick",(function(e){if(t.state["".concat(e,"ArrowActive")]){var n=t.state,r=n.pages,i=n.currentPage;r<=0||(i+="left"===e?-1:1,i=t.clamp(i,0,r),t.setState({currentPage:i},(function(){return t.calculate()})))}})),Ac(_c(t),"checkOffset",(function(){if(t.isSliderInitialized()){var e=t.state,n=e.pages,r=e.currentPage,i=e.itemsWidth,o=e.windowWidth,a=r!==n?300*r:Math.ceil(i-o);a=Math.max(0,a),t.sliderRef.current.ref.current.style.transform="translate3d(-".concat(a,"px, 0, 0)")}})),Ac(_c(t),"isSliderInitialized",(function(){return null!=t.sliderRef.current&&null!=t.sliderRef.current.ref&&null!=t.sliderRef.current.ref.current})),Ac(_c(t),"calculate",(function(){if(t.isSliderInitialized()&&null!=t.listRef.current){var e=t.listRef.current.offsetWidth-80,n=t.sliderRef.current.ref.current.offsetWidth,r=n>e&&n-e<300?1:Math.max(0,Math.ceil((n-e)/300)),i=t.state.currentPage;i>r&&(i=r),t.setState({pages:r,currentPage:i,leftArrowActive:i>0,rightArrowActive:i<r,windowWidth:e,itemsWidth:n},(function(){return t.checkOffset()}))}})),t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tc(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){var t=this;setInterval((function(){t.calculate()}),1e3),Cc(this.props.favoriteSymbolsLength,this.props.isMultiChart)}},{key:"componentDidUpdate",value:function(t){var e=this.props.favoriteSymbolsLength,n=t.favoriteSymbolsLength;e!==n&&this.calculate(),(0===e&&n>0||e>0&&0===n)&&(Oa(),Cc(e,this.props.isMultiChart)),this.props.isMultiChart!==t.isMultiChart&&Cc(e,this.props.isMultiChart)}},{key:"render",value:function(){var t=this.state,e=t.leftArrowActive,n=t.rightArrowActive,r=this.props,i=r.favoriteSymbolsLength;return r.visibleChartsCount>1||0===i?null:(0,Ms.jsxs)("div",{ref:this.listRef,className:"assets-favorites-list",children:[0===i&&(0,Ms.jsx)(bc,{ref:this.sliderRef}),i>0&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(Bs,{side:"left",isActive:e,onArrowClick:this.onSliderArrowClick}),(0,Ms.jsx)(hc,{ref:this.sliderRef}),(0,Ms.jsx)(Bs,{side:"right",isActive:n,onArrowClick:this.onSliderArrowClick})]})]})}}])&&xc(n.prototype,i),o&&xc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent),Nc=(0,u.Ng)((function(t){return{favoriteSymbolsLength:t.favorites.list.length,visibleChartsCount:t.chartSettings.visibleChartIds.length,isMultiChart:!(0,gc.Ay)(t)}}))(kc),Ic=n(62688),Rc=n.n(Ic);function Lc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Dc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mc="right",Bc="left",Hc=function(t){var e=t.side,n=void 0===e?Mc:e,i=Lc((0,r.useState)(1==+pe.A.cookies.get("is-minimize-".concat(n,"-sidebar"))),1)[0],o=n===Mc?Bc:Mc;return(0,Ms.jsx)("a",{onClick:function(t){Re.A.publish(us,t.currentTarget)},"data-type":n,children:(0,Ms.jsx)("i",{className:(0,Ds.A)("fa","fa-long-arrow-".concat(i?o:n))})})};Hc.propTypes={side:Rc().oneOf([Mc,Bc])};var Fc=Hc,Gc=function(t){var e=t.position,n=void 0===e?"":e,r=t.text,i=t.textContent,o=t.children;if(null===n)return null;var a=(0,u.d4)((function(t){return t.global.enabledTooltipMessage})),s=(0,Ds.A)("tooltip-content",a?"tooltip-status-on":"tooltip-status-off",""!==n&&"position-".concat(n)),c=i||(r?(0,yt.tr)(r):null);return(0,Ms.jsx)("div",{className:s,children:(0,Ms.jsxs)("div",{className:"tooltip-text",children:[c,o]})})},Vc=Gc,Wc=n(89023);function Uc(t){var e=t.active,n=(0,u.wA)(),r=(0,u.d4)(Cr.WN),i=(0,u.d4)((function(t){return t.modals.states[me.lx.TRADING_MODAL]})),o=(0,u.d4)(Wc.AQ);return(0,Ms.jsxs)("li",{className:(0,Ds.A)(e&&"active",r&&"tooltip2"),children:[(0,Ms.jsxs)("a",{onClick:function(){n(o?(0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!0}):(0,ys.V7)({modalId:me.lx.TRADING_MODAL,value:!i}))},className:"js-left-sidebar-menu","data-menu-id":"trading",children:[(0,Ms.jsx)("i",{className:"fa fa-line-chart"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.trading")})]}),r&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-sidebar.trading"),(0,Ms.jsx)("br",{}),(0,yt.tr)("left-sidebar.trading-desc")]})]})}function zc(){return(0,Ms.jsx)("li",{children:(0,Ms.jsxs)("a",{href:(0,je.hX)("register"),children:[(0,Ms.jsx)("i",{className:"fa fa-user-plus"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("register")})]})})}function Xc(){return(0,Ms.jsx)("li",{children:(0,Ms.jsxs)("a",{href:(0,je.hX)("login"),children:[(0,Ms.jsx)("i",{className:"fa fa-sign-in"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("sign_in")})]})})}function $c(){return(0,Ms.jsx)("li",{children:(0,Ms.jsxs)("a",{href:(0,je.hX)("logout/?redirectUrl=/"),children:[(0,Ms.jsx)("i",{className:"fa fa-sign-out"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("logout")})]})})}var Yc=function(t){var e=t.count,n=void 0===e?null:e,r=t.icon,i=void 0===r?null:r,o=t.type,a=void 0===o?null:o,s=!1;return null!==n&&(s=n>0),null===n&&null!==i&&(s=!0),(0,Ms.jsxs)("div",{className:(0,Ds.A)("counter",a&&"counter--".concat(a),s&&"animated zoomIn",!s&&"animated zoomOut"),children:[null!==i&&(0,Ms.jsx)("span",{className:"counter__icon",children:i}),null!==n&&(0,Ms.jsx)("span",{className:"counter__number",children:n})]})},qc=Yc;function Kc(t){var e=t.count,n=t.type;return e?(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:e,type:n})}):null}function Zc(t){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(t)}function Qc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qc(Object(n),!0).forEach((function(e){tl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tl(t,e,n){var r;return r=function(t,e){if("object"!=Zc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Zc(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function el(){var t=(0,u.wA)(),e=(0,u.d4)(Cr.WN),n=(0,u.d4)((function(t){return t.modals.states[me.lx.FINANCE_MODAL]})),r=(0,u.d4)((function(t){return t.counters[Ze]})),i={};return(0,u.d4)(Wc.AQ)?i.href=(0,je.hX)("deposit-demo"):i.onClick=function(){return t((0,ys.V7)({modalId:me.lx.FINANCE_MODAL,value:!n}))},(0,Ms.jsxs)("li",{className:(0,Ds.A)(e&&"tooltip2"),children:[(0,Ms.jsxs)("a",Jc(Jc({},i),{},{className:"js-left-sidebar-menu","data-menu-id":"finance",children:[(0,Ms.jsx)("i",{className:"fa fa-dollar"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.finance")}),(0,Ms.jsx)(Kc,{count:r,type:Ze})]})),e&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-sidebar.finance"),(0,Ms.jsx)("br",{}),(0,yt.tr)("left-sidebar.finance-desc")]})]})}function nl(){var t=(0,u.wA)(),e=(0,u.d4)(Cr.WN),n=(0,u.d4)((function(t){return t.modals.states[me.lx.PROFILE_MODAL]})),r=(0,u.d4)(Wc.AQ);return(0,Ms.jsxs)("li",{className:(0,Ds.A)(e&&"tooltip2"),children:[(0,Ms.jsxs)("a",{onClick:function(){t(r?(0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!0}):(0,ys.V7)({modalId:me.lx.PROFILE_MODAL,value:!n}))},className:"js-left-sidebar-menu","data-menu-id":"profile",children:[(0,Ms.jsx)("i",{className:"fa fa-user"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.profile")})]}),e&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-sidebar.profile"),(0,Ms.jsx)("br",{}),(0,yt.tr)("left-sidebar.profile-desc")]})]})}var rl=n(21575);function il(t){var e=t.type;return(0,Ms.jsx)("div",{className:(0,Ds.A)("counter",e&&"counter--".concat(e)),children:(0,Ms.jsxs)("span",{className:"counter__icon",children:[(0,Ms.jsx)("i",{className:"fa fa-bell"})," "]})})}function ol(t){var e=t.show,n=t.type;return e?(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(il,{type:n})}):null}function al(){var t=(0,u.wA)(),e=(0,u.d4)(Cr.WN),n=(0,u.d4)((function(t){return t.modals.states[me.lx.MARKET_MODAL]})),r=(0,u.d4)((function(t){return t.counters[ln]})),i=(0,u.d4)(Wc.AQ);return(0,Ms.jsxs)("li",{className:(0,Ds.A)(e&&"tooltip2"),children:[(0,Ms.jsxs)("a",{onClick:function(){t(i?(0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!0}):(0,ys.V7)({modalId:me.lx.MARKET_MODAL,value:!n}))},className:"js-left-sidebar-menu","data-menu-id":"market",children:[(0,Ms.jsx)(rl.A,{src:"/themes/cabinet/svg/icons/market.svg"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.market")}),(0,Ms.jsx)(ol,{show:r,type:ln})]}),e&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-sidebar.market"),(0,Ms.jsx)("br",{}),(0,yt.tr)("left-sidebar.market-desc")]})]})}function sl(){var t=(0,u.wA)(),e=(0,u.d4)(Cr.WN),n=(0,u.d4)((function(t){return t.modals.states[me.lx.ACHIEVEMENTS_MODAL]})),r=(0,u.d4)((function(t){return t.counters[un]})),i=(0,u.d4)(Wc.AQ);return(0,Ms.jsxs)("li",{className:(0,Ds.A)(e&&"tooltip2"),children:[(0,Ms.jsxs)("a",{onClick:function(){t(i?(0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!0}):(0,ys.V7)({modalId:me.lx.ACHIEVEMENTS_MODAL,value:!n}))},className:"js-left-sidebar-menu","data-menu-id":"achievements",children:[(0,Ms.jsx)("i",{className:"fa fa-diamond"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.ach")}),(0,Ms.jsx)(ol,{show:r,type:un})]}),e&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-sidebar.ach"),(0,Ms.jsx)("br",{}),(0,yt.tr)("left-sidebar.ach-desc")]})]})}var cl="newbie_guide_todo_list.hide_modal";function ll(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ul(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ul(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ul(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hl(){return document.body.classList.contains("s-chat_open")}function fl(){var t=(0,u.wA)(),e=ll((0,r.useState)(hl()),2),n=e[0],i=e[1],o=(0,u.d4)(Cr.WN),a=(0,u.d4)((function(t){return t.counters[rn]})),s=(0,u.d4)(Wc.AQ);(0,r.useEffect)((function(){var t;(t=n)?document.body.classList.add("s-chat_open"):document.body.classList.remove("s-chat_open"),pe.A.cookies.set("chat_opened",t?1:0),t&&Re.A.publish(cl),Re.A.publish(t?Ha.Zl:Ha.FU),Oa()}),[n]),(0,r.useEffect)((function(){function t(){i(!0)}function e(){i(!1)}var n=Re.A.subscribe(Ha.UL,t),r=Re.A.subscribe(Ha.aP,e);return document.addEventListener("showChatCallback",t),document.addEventListener("hideChatCallback",e),function(){Re.A.unsubscribe(n),Re.A.unsubscribe(r),document.removeEventListener("showChatCallback",t),document.removeEventListener("hideChatCallback",e)}}),[]),(0,r.useEffect)((function(){var t=Re.A.subscribe("newbie_guide_todo_list.opened",(function(){i(!1)}));return function(){Re.A.unsubscribe(t)}}),[]),(0,r.useEffect)((function(){function t(){hl()||i(!0)}function e(){hl()||i(!0)}var n=document.querySelector(".js_chat_room_link");n&&n.addEventListener("click",t);var r=document.querySelector(".js-chat-open-notifications-room");return r&&r.addEventListener("click",e),function(){n&&n.removeEventListener("click",t),r&&r.removeEventListener("click",e)}}),[]);return(0,Ms.jsxs)("li",{className:(0,Ds.A)(o&&"tooltip2",n&&"active open-menu"),children:[(0,Ms.jsxs)("a",{onClick:function(){if(s)return t((0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!0}));i(!hl())},children:[(0,Ms.jsx)("i",{className:"fa fa-comments-o"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.chat")}),(0,Ms.jsx)(Kc,{count:a,type:rn})]}),o&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-sidebar.chat"),(0,Ms.jsx)("br",{}),(0,yt.tr)("left-sidebar.chat-desc")]})]})}function dl(){var t=(0,u.wA)(),e=(0,u.d4)(Cr.WN),n=(0,u.d4)((function(t){return t.modals.states[me.lx.SUPPORT_MODAL]})),r=(0,u.d4)((function(t){return t.counters[hn]}));return(0,Ms.jsxs)("li",{className:(0,Ds.A)(e&&"tooltip2"),children:[(0,Ms.jsxs)("a",{onClick:function(){t((0,ys.V7)({modalId:me.lx.SUPPORT_MODAL,value:!n}))},className:"js-left-sidebar-menu","data-menu-id":"support",children:[(0,Ms.jsx)("i",{className:"fa fa-question-circle"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.help")}),(0,Ms.jsx)(ol,{show:r,type:hn})]}),e&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-sidebar.help"),(0,Ms.jsx)("br",{}),(0,yt.tr)("left-sidebar.help-desc")]})]})}function pl(){var t=(0,u.d4)(Cr.WN);return(0,Ms.jsxs)("li",{className:(0,Ds.A)("active",t&&"tooltip2"),children:[(0,Ms.jsxs)("a",{children:[(0,Ms.jsx)("i",{className:"fa fa-flag-checkered"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.tour")})]}),t&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-sidebar.tour"),(0,Ms.jsx)("br",{}),(0,yt.tr)("left-sidebar.tour-desc")]})]})}function ml(t){var e=t.active,n=(0,u.wA)(),r=(0,u.d4)(Cr.WN),i=(0,u.d4)((function(t){return t.modals.states[me.lx.TOURNAMENT_RATINGS]}));return(0,Ms.jsxs)("li",{className:(0,Ds.A)(e&&"active",r&&"tooltip2"),children:[(0,Ms.jsxs)("a",{onClick:function(){n((0,ys.V7)({modalId:me.lx.TOURNAMENT_RATINGS,value:!i}))},children:[(0,Ms.jsx)("i",{className:"fa fa-list-ol"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.tour-rating")})]}),r&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-sidebar.tour-rating"),(0,Ms.jsx)("br",{}),(0,yt.tr)("left-sidebar.tour-rating-desc")]})]})}function yl(){return(0,Ms.jsx)("li",{className:"settings",children:(0,Ms.jsxs)("a",{href:(0,je.hX)("cabinet/trading/to-mobile-version"),children:[(0,Ms.jsx)("i",{className:"fa fa-mobile"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("left-sidebar.mob-ver")})]})})}var vl=n(78325);var bl=function(t){var e=t.children,n=t.wrapperId,r=void 0===n?"modal-root":n,i=document.getElementById(r);return i||(i=function(t){var e=document.createElement("div");return e.setAttribute("id",t),document.body.appendChild(e),e}(r)),vl.createPortal(e,i)};function gl(t){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(t)}function wl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wl(Object(n),!0).forEach((function(e){jl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jl(t,e,n){return(e=Sl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ol(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sl(r.key),r)}}function Sl(t){var e=function(t,e){if("object"!=gl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gl(e)?e:String(e)}function _l(t,e,n){return e=Al(e),function(t,e){if(e&&("object"===gl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Tl()?Reflect.construct(e,n||[],Al(t).constructor):e.apply(t,n))}function Tl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Tl=function(){return!!t})()}function Al(t){return Al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Al(t)}function El(t,e){return El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},El(t,e)}var Pl=function(t){var e=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),_l(this,n,arguments)}var r,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&El(t,e)}(n,e),r=n,(i=[{key:"render",value:function(){return(0,Ms.jsx)(bl,{children:(0,Ms.jsx)(t,xl({},this.props))})}}])&&Ol(r.prototype,i),o&&Ol(r,o),Object.defineProperty(r,"prototype",{writable:!1}),n}(r.Component);return e.displayName="WithModalPortal(".concat(function(t){return t.displayName||t.name||"Component"}(t),")"),e},Cl=n(44852),kl=n.n(Cl);function Nl(t){return Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(t)}function Il(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rl(r.key),r)}}function Rl(t){var e=function(t,e){if("object"!=Nl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nl(e)?e:String(e)}var Ll=null,Dl=null,Ml="button",Bl="window",Hl="block",Fl={base:"",button:"",window:"",block:"",backing:"",absolute:""},Gl=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!kl()(window.AppData,"ajaxLoader.template"))throw Error("Не найден AppData.ajaxLoader.template для отрисовки ajax лоадера");if(!kl()(window.AppData,"ajaxLoader.classList"))throw Error("Не найден AppData.ajaxLoader.classList список классов для ajax лоадера");var e=ve()(window.AppData,"ajaxLoader.template","<div></div>");Fl.base=ve()(window.AppData,"ajaxLoader.classList.base"),Fl.button=ve()(window.AppData,"ajaxLoader.classList.button"),Fl.window=ve()(window.AppData,"ajaxLoader.classList.window"),Fl.block=ve()(window.AppData,"ajaxLoader.classList.block"),Fl.backing=ve()(window.AppData,"ajaxLoader.classList.backing"),Fl.absolute=ve()(window.AppData,"ajaxLoader.classList.absolute"),Dl=po()(e),Ll=Dl.find("svg"),this._wrapperClassList=[],this._childrenClassList=[],this._backing=!1,this._absolute=!1}var e,n,r;return e=t,(n=[{key:"get",value:function(){this.make()}},{key:"getForButton",value:function(){return this.make(Ml)}},{key:"getForWindow",value:function(){return this.make(Bl)}},{key:"getForBlock",value:function(){return this.make(Hl)}},{key:"make",value:function(t){return this._childrenClassList.length&&this._childrenClassList.forEach((function(t){return Ll.addClass(t)})),this.getWrapperClassList(t).forEach((function(t){return Dl.addClass(t)})),this.isBacking()&&Dl.prepend(this.getBackingHtml()),Dl.append(Ll)}},{key:"getWrapperClassList",value:function(t){var e=[];switch((this.isBacking()||this.isAbsolute())&&e.push(Fl.absolute),t){case Hl:e.push(Fl.block);break;case Ml:e.push(Fl.button);break;case Bl:e.push(Fl.window)}return this._wrapperClassList.length&&this._wrapperClassList.forEach((function(t){return e.push(t)})),e}},{key:"getBackingHtml",value:function(){return this.isBacking()?'<div class="'.concat(Fl.backing,'"></div>'):""}},{key:"getByType",value:function(t){return this.make(t)}},{key:"isBacking",value:function(){return!0===this._backing}},{key:"setBacking",value:function(t){return this._backing=t,this}},{key:"isAbsolute",value:function(){return!0===this._absolute}},{key:"setAbsolute",value:function(t){return this._absolute=t,this}},{key:"setWrapperClassList",value:function(t){return this._wrapperClassList=t,this}},{key:"getChildrenClassList",value:function(){return this._childrenClassList}},{key:"setChildrenClassList",value:function(t){return this._childrenClassList=t,this}}])&&Il(e.prototype,n),r&&Il(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Vl(t){return Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(t)}var Wl=["type","className","absolute"];function Ul(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zl(t,e,n){var r;return r=function(t,e){if("object"!=Vl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Vl(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yl(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var ql=function(t){var e=t.type,n=void 0===e?Fl.block:e,i=t.className,o=void 0===i?"ajax-loading":i,a=t.absolute,s=void 0!==a&&a,c=Yl(t,Wl),l=(0,r.useRef)(),u=(0,r.useRef)((new Gl).setAbsolute(s).getByType(n)),h=Xl((0,r.useState)(Array.from(u.current[0].classList).join(" ")),2),f=h[0],d=h[1],p=Xl((0,r.useState)(u.current[0].tagName.toLowerCase()),2),m=p[0],y=p[1];if((0,r.useEffect)((function(){if(u.current=(new Gl).setAbsolute(s).getByType(n),l.current&&u.current&&void 0!==u.current[0]){y(u.current[0].tagName.toLowerCase()),d(Array.from(u.current[0].classList).join(" "));var t=u.current.children().get(0);return l.current.appendChild(t),function(){var e;null===(e=l.current)||void 0===e||e.removeChild(t),d("")}}}),[]),o)return(0,Ms.jsx)("div",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ul(Object(n),!0).forEach((function(e){zl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({className:o,dangerouslySetInnerHTML:{__html:u.current.prop("outerHTML")}},c));if(l.current&&(!f||!m))return null;var v=m;return(0,Ms.jsx)(v,{className:f,ref:l})},Kl=function(){return(0,Ms.jsx)("div",{className:"sc-modal__ajax-loading",children:(0,Ms.jsx)(ql,{type:Hl})})};function Zl(t){return getComputedStyle(t)}function Ql(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function Jl(t){var e=document.createElement("div");return e.className=t,e}var tu="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function eu(t,e){if(!tu)throw new Error("No element matching method supported");return tu.call(t,e)}function nu(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function ru(t,e){return Array.prototype.filter.call(t.children,(function(t){return eu(t,e)}))}var iu={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},ou={x:null,y:null};function au(t,e){var n=t.element.classList,r=iu.state.scrolling(e);n.contains(r)?clearTimeout(ou[e]):n.add(r)}function su(t,e){ou[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(iu.state.scrolling(e))}),t.settings.scrollingThreshold)}var cu=function(t){this.element=t,this.handlers={}},lu={isEmpty:{configurable:!0}};cu.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},cu.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter((function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)}))},cu.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},lu.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(cu.prototype,lu);var uu=function(){this.eventElements=[]};function hu(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}uu.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new cu(t),this.eventElements.push(e)),e},uu.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},uu.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},uu.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},uu.prototype.once=function(t,e,n){var r=this.eventElement(t);r.bind(e,(function t(i){r.unbind(e,t),n(i)}))};var fu=function(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var o=n[0],a=n[1],s=n[2],c=n[3],l=n[4],u=n[5];void 0===r&&(r=!0);void 0===i&&(i=!1);var h=t.element;t.reach[c]=null,h[s]<1&&(t.reach[c]="start");h[s]>t[o]-t[a]-1&&(t.reach[c]="end");e&&(h.dispatchEvent(hu("ps-scroll-"+c)),e<0?h.dispatchEvent(hu("ps-scroll-"+l)):e>0&&h.dispatchEvent(hu("ps-scroll-"+u)),r&&function(t,e){au(t,e),su(t,e)}(t,c));t.reach[c]&&(e||i)&&h.dispatchEvent(hu("ps-"+c+"-reach-"+t.reach[c]))}(t,n,o,r,i)};function du(t){return parseInt(t,10)||0}var pu={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},mu=function(t){var e=t.element,n=Math.floor(e.scrollTop);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(ru(e,iu.element.rail("x")).forEach((function(t){return nu(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(ru(e,iu.element.rail("y")).forEach((function(t){return nu(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=yu(t,du(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=du((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=yu(t,du(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=du(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft;e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r;Ql(e.scrollbarXRail,n);var i={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft;Ql(e.scrollbarYRail,i),Ql(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),Ql(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(iu.state.active("x")):(e.classList.remove(iu.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(iu.state.active("y")):(e.classList.remove(iu.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)};function yu(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function vu(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=e[6],l=e[7],u=e[8],h=t.element,f=null,d=null,p=null;function m(e){h[c]=f+p*(e[i]-d),au(t,l),mu(t),e.stopPropagation(),e.preventDefault()}function y(){su(t,l),t[u].classList.remove(iu.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",m)}t.event.bind(t[a],"mousedown",(function(e){f=h[c],d=e[i],p=(t[r]-t[n])/(t[o]-t[s]),t.event.bind(t.ownerDocument,"mousemove",m),t.event.once(t.ownerDocument,"mouseup",y),t[u].classList.add(iu.state.clicking),e.stopPropagation(),e.preventDefault()}))}var bu={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,mu(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,mu(t),e.stopPropagation()}))},"drag-thumb":function(t){vu(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),vu(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(eu(e,":hover")||eu(t.scrollbarX,":focus")||eu(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(eu(r=i,"input,[contenteditable]")||eu(r,"select,[contenteditable]")||eu(r,"textarea,[contenteditable]")||eu(r,"button,[contenteditable]"))return}var o=0,a=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:a=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:a=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:a=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:a=t.containerHeight;break;case 34:a=-t.containerHeight;break;case 36:a=t.contentHeight;break;case 35:a=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==a||(e.scrollTop-=a,e.scrollLeft+=o,mu(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,a)&&n.preventDefault())}}))},wheel:function(t){var e=t.element;function n(n){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),i=r[0],o=r[1];if(!function(t,n,r){if(!pu.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(iu.element.consuming))return!0;var o=Zl(i);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&!(0===i.scrollTop&&r>0||i.scrollTop===a&&r<0))return!0;var s=i.scrollWidth-i.clientWidth;if(s>0&&!(0===i.scrollLeft&&n<0||i.scrollLeft===s&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,o)){var a=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=i*t.settings.wheelSpeed,a=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(i?e.scrollLeft+=i*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,a=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=i*t.settings.wheelSpeed),mu(t),a=a||function(n,r){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,a=i+e.offsetHeight===e.scrollHeight,s=0===e.scrollLeft,c=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||a:s||c)||!t.settings.wheelPropagation}(i,o),a&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(pu.supportsTouch||pu.supportsIePointer){var e=t.element,n={},r=0,i={},o=null;pu.supportsTouch?(t.event.bind(e,"touchstart",l),t.event.bind(e,"touchmove",u),t.event.bind(e,"touchend",h)):pu.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",l),t.event.bind(e,"pointermove",u),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",l),t.event.bind(e,"MSPointerMove",u),t.event.bind(e,"MSPointerUp",h)))}function a(n,r){e.scrollTop-=r,e.scrollLeft-=n,mu(t)}function s(t){return t.targetTouches?t.targetTouches[0]:t}function c(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function l(t){if(c(t)){var e=s(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function u(o){if(c(o)){var l=s(o),u={pageX:l.pageX,pageY:l.pageY},h=u.pageX-n.pageX,f=u.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(iu.element.consuming))return!0;var o=Zl(i);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&!(0===i.scrollTop&&r>0||i.scrollTop===a&&r<0))return!0;var s=i.scrollLeft-i.clientWidth;if(s>0&&!(0===i.scrollLeft&&n<0||i.scrollLeft===s&&n>0))return!0}i=i.parentNode}return!1}(o.target,h,f))return;a(h,f),n=u;var d=(new Date).getTime(),p=d-r;p>0&&(i.x=h/p,i.y=f/p,r=d),function(n,r){var i=Math.floor(e.scrollTop),o=e.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&pu.isChrome}else if(a>s&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(h,f)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval((function(){!t.isInitialized&&t.element&&(i.x||i.y)?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(a(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)}),10))}}},gu=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=t,t.classList.add(iu.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)n.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,a=function(){return t.classList.add(iu.state.focus)},s=function(){return t.classList.remove(iu.state.focus)};this.isRtl="rtl"===Zl(t).direction,this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new uu,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=Jl(iu.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=Jl(iu.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=Zl(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=du(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=du(c.borderLeftWidth)+du(c.borderRightWidth),Ql(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=du(c.marginLeft)+du(c.marginRight),Ql(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Jl(iu.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=Jl(iu.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=Zl(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=du(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=Zl(t);return du(e.width)+du(e.paddingLeft)+du(e.paddingRight)+du(e.borderLeftWidth)+du(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=du(l.borderTopWidth)+du(l.borderBottomWidth),Ql(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=du(l.marginTop)+du(l.marginBottom),Ql(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return bu[t](n)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return n.onScroll(t)})),mu(this)};gu.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Ql(this.scrollbarXRail,{display:"block"}),Ql(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=du(Zl(this.scrollbarXRail).marginLeft)+du(Zl(this.scrollbarXRail).marginRight),this.railYMarginHeight=du(Zl(this.scrollbarYRail).marginTop)+du(Zl(this.scrollbarYRail).marginBottom),Ql(this.scrollbarXRail,{display:"none"}),Ql(this.scrollbarYRail,{display:"none"}),mu(this),fu(this,"top",0,!1,!0),fu(this,"left",0,!1,!0),Ql(this.scrollbarXRail,{display:""}),Ql(this.scrollbarYRail,{display:""}))},gu.prototype.onScroll=function(t){this.isAlive&&(mu(this),fu(this,"top",this.element.scrollTop-this.lastScrollTop),fu(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},gu.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),nu(this.scrollbarX),nu(this.scrollbarY),nu(this.scrollbarXRail),nu(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},gu.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var wu=gu;function xu(t){return xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(t)}function ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ou(r.key),r)}}function Ou(t){var e=function(t,e){if("object"!=xu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xu(e)?e:String(e)}function Su(t,e,n){return e=Tu(e),function(t,e){if(e&&("object"===xu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Au(t)}(t,_u()?Reflect.construct(e,n||[],Tu(t).constructor):e.apply(t,n))}function _u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_u=function(){return!!t})()}function Tu(t){return Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tu(t)}function Au(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eu(t,e){return Eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Eu(t,e)}var Pu={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(Pu);var Cu=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Su(this,e,[t])).handleRef=n.handleRef.bind(Au(n)),n._handlerByEvent={},n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eu(t,e)}(e,t),n=e,r=[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new wu(this._container,this.props.options||this.props.option),this._updateEventHook()}},{key:"componentDidUpdate",value:function(t){this._updateEventHook(t),this._ps.update()}},{key:"componentWillUnmount",value:function(){var t=this;Object.keys(this._handlerByEvent).forEach((function(e){var n=t._handlerByEvent[e];n&&t._container.removeEventListener(e,n,!1)})),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(Pu).forEach((function(n){var r=t.props[Pu[n]],i=e[Pu[n]];if(r!==i){if(i){var o=t._handlerByEvent[n];t._container.removeEventListener(n,o,!1),t._handlerByEvent[n]=null}if(r){var a=function(){return r(t._container)};t._container.addEventListener(n,a,!1),t._handlerByEvent[n]=a}}}))}},{key:"updateScroll",value:function(){this._ps.update()}},{key:"handleRef",value:function(t){this._container=t,this.props.containerRef(t)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.component,r=t.className,i=t.style,o=n;return(0,Ms.jsx)(o,{style:i,className:"scrollbar-container ".concat(r),ref:this.handleRef,children:e})}}],r&&ju(n.prototype,r),i&&ju(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component);Cu.defaultProps={className:"",style:void 0,option:void 0,options:{wheelPropagation:!1},containerRef:function(){},onScrollY:void 0,onScrollX:void 0,onScrollUp:void 0,onScrollDown:void 0,onScrollLeft:void 0,onScrollRight:void 0,onYReachStart:void 0,onYReachEnd:void 0,onXReachStart:void 0,onXReachEnd:void 0,component:"div"},Cu.propTypes={children:Rc().node.isRequired,className:Rc().string,style:Rc().object,option:Rc().object,options:Rc().object,containerRef:Rc().func,onScrollY:Rc().func,onScrollX:Rc().func,onScrollUp:Rc().func,onScrollDown:Rc().func,onScrollLeft:Rc().func,onScrollRight:Rc().func,onYReachStart:Rc().func,onYReachEnd:Rc().func,onXReachStart:Rc().func,onXReachEnd:Rc().func,component:Rc().string};var ku=Cu,Nu=Pl((function(){var t=(0,u.wA)(),e=(0,r.useRef)(),n=(0,r.useRef)(),i=Oe.endpoints.getRankings.useQuery(void 0,{pollingInterval:6e4,refetchOnMountOrArgChange:!0}),o=i.data,a=i.isLoading;function s(){t((0,ys.V7)({modalId:me.lx.TOURNAMENT_RATINGS,value:!1})),Re.A.publish("".concat(Aa,".tournaments-ranking}"),new Ea.A("tournaments-ranking"))}(0,r.useEffect)((function(){var t=Re.A.subscribe(Ha.Zl,s),e=Re.A.subscribe(La,s);return function(){Re.A.unsubscribe(t),Re.A.unsubscribe(e)}}),[]);var c=(0,u.d4)((function(t){return t.tournaments.currentTournament.title})),l=(0,u.d4)((function(t){return t.global.currency}));if(!a&&o&&!o.status)return null;var h=o||{},f=h.earn,d=h.ranking,p=void 0===d?[]:d,m=h.isFullRanking,y=["active"],v=!1;if(m){var b,g,w=(null===(b=e.current)||void 0===b?void 0:b.clientHeight)||0;((null===(g=n.current)||void 0===g?void 0:g.clientHeight)||0)<p.findIndex((function(t){return t.me}))*w&&(v=!0,y.push("its-me","show_"))}return(0,Ms.jsx)("div",{id:"tournaments-ranking-modal",className:"left-sidebar-modal tournaments-modal tournaments-ranking-modal active",children:(0,Ms.jsxs)("div",{className:"flex-vertical-block",children:[(0,Ms.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Ms.jsx)("div",{className:"right-sidebar-modal__top-title",children:c}),(0,Ms.jsx)("a",{className:"close-btn title-position-icon",onClick:s,children:(0,Ms.jsx)("i",{className:"fa fa-times"})}),(0,Ms.jsx)("div",{className:"divider",children:(0,yt.tr)("modals.t-ranking.title")})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("flex-vertical-block__body",v&&"fixed-me-bottom"),ref:n,children:[a&&(0,Ms.jsx)("div",{className:"ajax-loader-v2--block",children:(0,Ms.jsx)(Kl,{})}),!a&&(0,Ms.jsxs)(ku,{className:"ranking-list bottom-offset",children:[(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,Ms.jsx)("p",{children:(0,yt.tr)("modals.t-ranking.title","".concat(l).concat(f))})}),(0,Ms.jsxs)("div",{className:"ranking-item ranking-item--header",ref:e,children:[(0,Ms.jsx)("div",{className:"position",children:"#"}),(0,Ms.jsx)("div",{className:"username",children:(0,yt.tr)("modals.t-ranking.player")}),(0,Ms.jsx)("div",{className:"result",children:(0,yt.tr)("modals.t-ranking.result")}),(0,Ms.jsx)("div",{className:"prize",children:(0,yt.tr)("modals.t-ranking.prize")}),(0,Ms.jsx)("div",{className:"changed"})]}),p.map((function(t){return(0,Ms.jsxs)("div",{className:(0,Ds.A)("ranking-item",t.me?y.join(" "):""),children:[(0,Ms.jsx)("div",{className:"position",children:t.rank}),(0,Ms.jsx)("div",{className:"username",title:t.name,children:(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/ajax/modal/trader-information/".concat(t.uid)),className:"mfp-ajax-modal",children:t.name})}),(0,Ms.jsx)("div",{className:"result",children:"".concat(t.result<0?"-":"").concat(l).concat(Math.abs(t.result))}),(0,Ms.jsxs)("div",{className:"prize",children:["$",t.prize]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("changed",t.changed>0&&"changed--up",t.changed<0&&"changed--down"),children:[(0,Ms.jsx)("i",{className:(0,Ds.A)("fa",t.changed>0&&"fa-chevron-up",t.changed<0&&"fa-chevron-down")})," ",Math.abs(t.changed)]})]},t.uid)}))]})]})]})})})),Iu=function(){var t=(0,u.d4)((function(t){return t.global.isDetectedMobile})),e=(0,u.d4)((function(t){return t.modals.states[me.lx.TOURNAMENT_RATINGS]}));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("ul",{children:[(0,Ms.jsx)(Uc,{active:!1}),(0,Ms.jsx)(pl,{}),(0,Ms.jsx)(ml,{active:e}),(0,Ms.jsx)(fl,{}),t&&(0,Ms.jsx)(yl,{})]}),e&&(0,Ms.jsx)(Nu,{})]})},Ru=function(){var t=(0,u.d4)((function(t){return t.global.isDetectedMobile}));return(0,Ms.jsxs)("ul",{children:[(0,Ms.jsx)(Uc,{active:!0}),(0,Ms.jsx)(el,{}),(0,Ms.jsx)(nl,{}),(0,Ms.jsx)(al,{}),(0,Ms.jsx)(sl,{}),(0,Ms.jsx)(fl,{}),(0,Ms.jsx)(dl,{}),t&&(0,Ms.jsx)(yl,{})]})};function Lu(){var t=(0,u.d4)((function(t){return t.global.isDemoProfile})),e=(0,u.d4)((function(t){return t.global.isTournament})),n=(0,u.d4)((function(t){return t.global.isDetectedMobile}));return(0,Ms.jsx)(Ms.Fragment,{children:(0,Ms.jsxs)("nav",{children:[e?(0,Ms.jsx)(Iu,{}):(0,Ms.jsx)(Ru,{}),(0,Ms.jsxs)("ul",{className:"bottom",children:[t?(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(zc,{}),(0,Ms.jsx)(Xc,{})]}):(0,Ms.jsx)($c,{}),!n&&(0,Ms.jsx)("li",{className:"tooltip2",children:(0,Ms.jsx)(Fc,{side:Bc})})]})]})})}var Du=function(){if(!(0,u.d4)(gc.Ay))return null;return(0,Ms.jsx)("a",{className:"fav-panel-switcher",onClick:function(){return Re.A.publish(Ha.Py)},children:(0,Ms.jsx)(rl.A,{src:"/themes/cabinet/svg/icons/header-buttons/fav-icon.svg",className:"svg-icon"})})},Mu=function(t){var e=t.isDemo,n=void 0===e?null:e,r=(0,u.d4)((function(t){return t.global.isDemo})),i=null!==n?n:r;return(0,Ms.jsx)("div",{className:(0,Ds.A)("divider",i&&"divider_demo",!i&&"divider_live"),children:(0,yt.tr)("social_trades.".concat(i?"demo_trading":"live_trading"))})},Bu=n(66933),Hu=n(3220),Fu=n.n(Hu),Gu=n(37531),Vu=n.n(Gu),Wu=function(t){var e=t.nickname,n=t.first_name,r=t.last_name,i=n&&r?"".concat(n," ").concat(r.charAt(0),"."):e;return i?Fu()(i.toLowerCase()):""},Uu=function(t,e,n){var r=function(t,e){var n=t-e,r=Math.floor(n/86400),i=Math.floor((n-60*r*60*24)/3600);return{d:r,h:i,m:Math.floor((n-60*r*60*24-60*i*60)/60)}}(t,e);if(r.d>0)return(0,yt.Lb)(n,r.d,r.h,r.m);var i=(0,yt.Lb)(n,"{{d}}","{{h}}","{{m}}");return 0===r.d&&r.h>0?i.substring(i.indexOf("{{h}}")).replace("{{h}}",r.h).replace("{{m}}",r.m):0===r.h?i.substring(i.indexOf("{{m}}")).replace("{{m}}",r.m):"---"},zu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",n=+t;return isNaN(n)?null:Vu()(n)?n<0?t.replace("-","-".concat(e)):"".concat(n>0?"+":"").concat(e).concat(n):n},Xu=(0,Ms.jsx)(Gs.k,{className:"user-level-progress-icon",src:"/themes/cabinet/svg/icons/profile-level/icon.svg"}),$u=function(t){var e=t.avatar,n=e.size,r=e.userLevel,i=e.avatarUrl,o={"--user-avatar-size":"".concat(n,"px")};return(0,Ms.jsxs)("div",{className:"user-avatar",style:o,children:[(0,Ms.jsx)("div",{className:"profile-level profile-level--".concat(r),children:Xu}),(0,Ms.jsx)("div",{className:"user-avatar__img-wrap",children:(0,Ms.jsx)("img",{src:i,alt:"",className:"user-avatar__img"})})]})},Yu=$u,qu=function(t){var e=t.deal,n=(0,u.wA)(),r=(0,u.d4)(Cr.B),i=(0,u.d4)(Cr.Ln),o=(0,u.d4)((function(t){return(0,Vs.P7)(t)(e.asset)})),a=function(t,e){return Math.ceil((t-e)/60)}(i,e.closeTimestamp);return(0,Ms.jsxs)("div",{className:"sc-items__item mfp-ajax-modal","data-href":(0,je.hX)("cabinet/ajax/modal/trader-information/".concat(e.uid)),children:[(0,Ms.jsxs)("a",{className:"sc-items__avatar avatar",children:[(0,Ms.jsx)(Yu,{avatar:e.avatar}),(0,Ms.jsx)("span",{className:(0,Ds.A)("status","status--".concat(e.isOnline?"on":"off")),title:(0,yt.tr)("social_trades.".concat(e.isOnline?"online":"offline"))})]}),(0,Ms.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Ms.jsx)("div",{className:"user-info__name",children:e.nickname}),(0,Ms.jsx)("div",{className:"user-info__pair","data-no-mfp":"true",onClick:function(t){t.preventDefault(),t.stopPropagation(),n((0,Bu.Kr)(e.asset))},children:o})]}),(0,Ms.jsxs)("div",{className:"sc-items__bet-info bet-info",children:[(0,Ms.jsx)("div",{className:"bet-info__sum bet-info__sum--win",children:"+".concat(r).concat(e.profit.toFixed(2))}),a>=0&&(0,Ms.jsx)("div",{className:"bet-info__time",children:(0,yt.tr)("social_trades.min_ago",a)})]})]})},Ku=(0,r.forwardRef)((function(t,e){var n=t.text;return(0,Ms.jsx)("div",{ref:e,className:"right-sidebar-modal__top-title",children:n})})),Zu=Ku;function Qu(){return(0,Ms.jsx)("svg",{viewBox:"0 0 384 512",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",height:16,children:(0,Ms.jsx)("path",{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37ZM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03ZM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82 12.957-8.226 29.573-8.226 42.53 0 15.89 10.06 36.5 7.65 49.73-5.82Zm11.139-88.494c-5.18 0-9.17-1.4-11.97-4.2-2.8-2.8-4.2-6.86-4.2-12.18v-11.97h-47.04c-5.18 0-9.31-1.155-12.39-3.465-3.08-2.31-4.62-5.845-4.62-10.605 0-2.8.63-5.635 1.89-8.505 1.26-2.87 3.5-6.545 6.72-11.025l54.39-79.17c2.38-3.64 5.005-6.335 7.875-8.085 2.87-1.75 6.265-2.625 10.185-2.625 4.62 0 8.26 1.365 10.92 4.095 2.66 2.73 3.99 6.825 3.99 12.285v81.48h7.77c9.38 0 14.07 4.27 14.07 12.81 0 8.54-4.69 12.81-14.07 12.81h-7.77v11.97c0 5.32-1.365 9.38-4.095 12.18-2.73 2.8-6.615 4.2-11.655 4.2Zm-183.12-1.89c-5.32 0-9.17-1.225-11.55-3.675-2.38-2.45-3.57-6.055-3.57-10.815 0-3.08.77-5.95 2.31-8.61 1.54-2.66 3.64-5.39 6.3-8.19l39.48-41.58c5.88-6.3 10.115-11.9 12.705-16.8s3.885-9.8 3.885-14.7c0-12.6-7.77-18.9-23.31-18.9-4.06 0-8.225.56-12.495 1.68-4.27 1.12-8.715 3.08-13.335 5.88-3.78 2.24-7.245 2.73-10.395 1.47-3.15-1.26-5.46-3.43-6.93-6.51-1.47-3.08-1.82-6.335-1.05-9.765.77-3.43 3.045-6.265 6.825-8.505 6.16-3.78 12.88-6.615 20.16-8.505 7.28-1.89 14.49-2.835 21.63-2.835 16.52 0 29.155 3.675 37.905 11.025 8.75 7.35 13.125 17.815 13.125 31.395 0 8.96-2.065 17.535-6.195 25.725-4.13 8.19-10.885 17.045-20.265 26.565l-28.56 28.98h48.72c9.1 0 13.65 4.41 13.65 13.23 0 8.96-4.55 13.44-13.65 13.44h-75.39Zm166.95-52.08v-48.93l-33.18 48.93h33.18Z"})})}function Ju(t){return Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(t)}function th(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?th(Object(n),!0).forEach((function(e){ih(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return rh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ih(t,e,n){var r;return r=function(t,e){if("object"!=Ju(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Ju(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oh=ih(ih(ih(ih(ih(ih(ih(ih(ih({},ki,{label:(0,yt.tr)("social_trades.top_24h_ranked"),icon:(0,Ms.jsx)(Qu,{})}),Ci,{label:(0,yt.tr)("social_trades.top_ranked"),icon:(0,Ms.jsx)("i",{className:"fa fa-star-o"})}),Ni,{label:(0,yt.tr)("social_trades.top_100_traders"),icon:(0,Ms.jsx)("i",{className:"fa fa-trophy"}),href:(0,je.hX)("cabinet/social-trading/top-ranking")}),Ii,{label:(0,yt.tr)("social_trades.search"),icon:(0,Ms.jsx)("i",{className:"fa fa-search"})}),Ri,{label:(0,yt.tr)("social_trades.copied_list"),icon:(0,Ms.jsx)("i",{className:"fa fa-files-o"}),counter:sn}),Li,{label:(0,yt.tr)("social_trades.list_of_traders_who_copy_me"),icon:(0,Ms.jsx)("i",{className:"fa fa-share"})}),Di,{label:(0,yt.tr)("social_trades.list_watched_players"),icon:(0,Ms.jsx)("i",{className:"fa fa-eye"})}),Mi,{label:(0,yt.tr)("social_trades.list_of_traders_who_watch_me"),icon:(0,Ms.jsx)("i",{className:"fa fa-rss"})}),Bi,{label:(0,yt.tr)("social_trades.settings"),icon:(0,Ms.jsx)("i",{className:"fa fa-cog"})}),ah=function(t){var e=t.counterName,n=(0,u.d4)((function(t){return t.counters[e]}));return(0,Ms.jsxs)(Ms.Fragment,{children:[" ",(0,Ms.jsxs)("span",{className:"mobile-drop-down-list__counter",children:["(",n,")"]})]})},sh=function(t){var e=t.currentTab,n=t.onTabClickHandler,i=nh((0,r.useState)(!1),2),o=i[0],a=i[1],s=(0,r.useRef)(null);(0,r.useEffect)((function(){return document.addEventListener("click",c),function(){document.removeEventListener("click",c)}}),[]);var c=function(t){s.current&&!s.current.contains(t.target)&&a(!1)};return(0,Ms.jsxs)("div",{ref:s,className:(0,Ds.A)("mobile-drop-down-list",o&&"open"),children:[(0,Ms.jsxs)("div",{className:"mobile-drop-down-list__title",onClick:function(){return a(!o)},children:[(0,Ms.jsx)("span",{className:"mobile-drop-down-list__icon",children:oh[e].icon}),(0,Ms.jsx)("span",{className:"mobile-drop-down-list__label",children:oh[e].label}),(0,Ms.jsx)("span",{className:"mobile-drop-down-list__arrow",children:(0,Ms.jsx)("i",{className:"fa fa-angle-down"})})]}),(0,Ms.jsx)("ul",{className:"mobile-drop-down-list__list",children:Object.keys(oh).map((function(t){var r,i=e===t,o=oh[t],s=o.href,c=o.counter,l=o.icon,u=o.label,h=void 0!==s,f=void 0!==c,d={};return h?d.href=s:d.onClick=(r=t,function(t){n(r)(t),a(!1)}),(0,Ms.jsx)("li",{className:(0,Ds.A)("mobile-drop-down-list__item",i&&"active"),children:(0,Ms.jsxs)("a",eh(eh({className:(0,Ds.A)("mobile-drop-down-list__link",h&&"mfp-ajax-modal")},d),{},{children:[(0,Ms.jsx)("span",{className:"mobile-drop-down-list__icon",children:l}),(0,Ms.jsxs)("span",{className:"mobile-drop-down-list__label",children:[u,f&&(0,Ms.jsx)(ah,{counterName:c})]})]}))},t)}))})]})},ch=function(t){var e=t.onTabClickHandler,n=(0,u.d4)((function(t){return t.global.isDemo})),r=(0,u.d4)(Wc.mG),i=Gi.endpoints.getTopTrades.useQuery(n),o=i.data,a=(void 0===o?{}:o).data,s=void 0===a?[]:a,c=i.isLoading,l="top-ranked-block";r&&(l+=" flex-vertical-block");var h=r?"flex-vertical-block__header":"main-tab-body__header",f=r?"flex-vertical-block__body":"main-tab-body__body";return(0,Ms.jsxs)("div",{className:l,children:[(0,Ms.jsxs)("div",{className:h,children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.social")}),(0,Ms.jsx)(sh,{currentTab:Ci,onTabClickHandler:e}),(0,Ms.jsx)(Mu,{isDemo:!1})]}),(0,Ms.jsx)("div",{className:f,children:(0,Ms.jsx)(ku,{children:c?(0,Ms.jsx)(Kl,{}):(0,Ms.jsx)("div",{className:"tabs",children:(0,Ms.jsx)("div",{className:"tabs__content all-assets-rank active",children:(0,Ms.jsx)("div",{className:"sc-items",children:s.map((function(t){return(0,Ms.jsx)(qu,{deal:t},t.id)}))})})})})})]})},lh=function(t){var e=t.deal,n=e.nickname,r=e.sum_profit,i=e.uid,o=e.count_trades,a=e.percent_win_trades,s=e.avatar,c=100*parseFloat(a);return(0,Ms.jsxs)("div",{className:"sc-items__item mfp-ajax-modal","data-uid":i,"data-href":(0,je.hX)("cabinet/ajax/modal/trader-information/".concat(i)),children:[(0,Ms.jsx)("div",{className:"sc-items__avatar",children:(0,Ms.jsx)(Yu,{avatar:s})}),(0,Ms.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Ms.jsx)("div",{className:"user-info__name",children:n}),(0,Ms.jsxs)("div",{className:"user-info__count-bets",children:[(0,yt.tr)("social_trades.number_of_bets"),": ",(0,Ms.jsx)("span",{children:o})]})]}),(0,Ms.jsxs)("div",{className:"sc-items__top-info top-info",children:[(0,Ms.jsxs)("div",{className:"top-info__profit",children:["+$",r]}),(0,Ms.jsxs)("div",{className:"top-info__deals",children:[(0,yt.tr)("social_trades.profitable_deals"),": ",(0,Ms.jsxs)("span",{children:[Math.round(c),"%"]})]})]})]})},uh=function(t){var e=t.onTabClickHandler,n=(0,u.d4)(Wc.mG),r=Gi.endpoints.getTop24Hour.useQuery(),i=r.data,o=(void 0===i?{}:i).data,a=void 0===o?[]:o,s=r.isLoading,c="all-top-24h-rank";n&&(c+=" flex-vertical-block");var l=n?"flex-vertical-block__header":"main-tab-body__header",h=n?"flex-vertical-block__body":"main-tab-body__body";return(0,Ms.jsxs)("div",{className:c,children:[(0,Ms.jsxs)("div",{className:l,children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.social")}),(0,Ms.jsx)(sh,{currentTab:ki,onTabClickHandler:e}),(0,Ms.jsx)(Mu,{isDemo:!1})]}),(0,Ms.jsx)("div",{className:h,children:(0,Ms.jsxs)(ku,{children:[s&&(0,Ms.jsx)(Kl,{}),a.length>0&&(0,Ms.jsx)("div",{className:"sc-items",children:a.map((function(t){return(0,Ms.jsx)(lh,{deal:t},t.uid)}))}),!s&&0===a.length&&(0,Ms.jsx)("div",{className:"no-items-block",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("social_trades.no_top_deals")})})]})})]})},hh={dataType:"json",headers:{Isdemo:uo,Istournament:+(0,fe.A)("is-tournament"),Ischart:+(0,fe.A)("is-chart")}},fh=["catch"];function dh(t){return dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(t)}function ph(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ph(Object(n),!0).forEach((function(e){yh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yh(t,e,n){return(e=gh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vh(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gh(r.key),r)}}function gh(t){var e=function(t,e){if("object"!=dh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dh(e)?e:String(e)}var wh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"request",value:function(t){var e=t.catch,n=vh(t,fh),r=new Promise((function(t,e){po().ajax(mh(mh({},hh),n)).done(t).fail(e)}));return"function"==typeof e?r.catch(e):r.catch((function(){return{}}))}},{key:"requestAbortable",value:function(t){var e=po().ajax(mh(mh({},hh),t)),n=Promise.resolve(e);return n.catch((function(){})),{promise:n,abort:function(){e.abort()}}}}],(n=null)&&bh(e.prototype,n),r&&bh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),xh=function(t){var e=t.user,n=e.uid,r=e.avatar,i=e.percent_win_trades_total,o=Math.round(100*i);return(0,Ms.jsxs)("div",{className:"sc-items__item mfp-ajax-modal","data-uid":n,"data-href":(0,je.hX)("cabinet/ajax/modal/trader-information/".concat(n)),children:[(0,Ms.jsx)("div",{className:"sc-items__avatar avatar",children:(0,Ms.jsx)(Yu,{avatar:r})}),(0,Ms.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Ms.jsx)("div",{className:"user-info__name",children:Wu(e)}),(0,Ms.jsx)("div",{className:"user-info__count-bets",children:(0,Ms.jsx)("span",{children:n})})]}),(0,Ms.jsx)("div",{className:"sc-items__top-info top-info",children:(0,Ms.jsxs)("div",{className:"top-info__deals",children:[(0,yt.tr)("social_trades.profitable_deals"),": ",(0,Ms.jsxs)("span",{children:[o,"%"]})]})})]})},jh=function(t){var e=t.users;return(0,Ms.jsxs)(Ms.Fragment,{children:[e.length>0&&(0,Ms.jsxs)("div",{className:"sc-items search-items",children:[e.map((function(t){return(0,Ms.jsx)(xh,{user:t},t.uid)})),(0,Ms.jsx)("div",{className:"btn-wrap",children:(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/social-trading/top-ranking"),className:"btn btn-green-light mfp-ajax-modal",children:(0,yt.tr)("social_trades.show_top_100")})})]}),0===e.length&&(0,Ms.jsx)("div",{className:"no-items-block",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("social_trades.not_found")})})]})},Oh=(n(2492),"top-right"),Sh="bottom-left",_h=n(77455),Th=n.n(_h);function Ah(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ah(Object(n),!0).forEach((function(e){Ph(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ph(t,e,n){return(e=Nh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ch(t){return Ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(t)}function kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nh(r.key),r)}}function Nh(t){var e=function(t,e){if("object"!=Ch(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ch(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ch(e)?e:String(e)}var Ih=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Th()({},{sticky:!1,position:"bottom-right",time:1e3},e)}var e,n,r;return e=t,n=[{key:"prepare",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={text:""};return"string"==typeof t?r.text=t:"object"===Ch(t)&&(r=t),"object"===Ch(e)&&Object.keys(e).length>0&&(r=Th()(r,e)),n.hasOwnProperty("class_name")&&(r.class_name=r.hasOwnProperty("class_name")?r.class_name+" "+n.class_name:n.class_name),r}},{key:"red",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.message(this.prepare(t,e,{class_name:"gritter-red"}))}},{key:"green",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.message(this.prepare(t,e,{class_name:"gritter-green"}))}},{key:"gold",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.message(this.prepare(t,e,{class_name:"gritter-gold"}))}},{key:"default",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.message(this.prepare(t,e,{class_name:"gritter-default"}))}},{key:"message",value:function(t){var e=Eh(Eh({},this.options),t);return po().gritter.options.position=e.position,Re.A.publish("event_sending_message_sound_on_iphone"),po().gritter.add(e)}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return po().gritter.remove(t,e)}}],n&&kh(e.prototype,n),r&&kh(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Rh=Ih;function Lh(t){return Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(t)}function Dh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dh(Object(n),!0).forEach((function(e){Uh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zh(r.key),r)}}function Hh(t,e,n){return e=Gh(e),function(t,e){if(e&&("object"===Lh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vh(t)}(t,Fh()?Reflect.construct(e,n||[],Gh(t).constructor):e.apply(t,n))}function Fh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fh=function(){return!!t})()}function Gh(t){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gh(t)}function Vh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wh(t,e){return Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wh(t,e)}function Uh(t,e,n){return(e=zh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zh(t){var e=function(t,e){if("object"!=Lh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lh(e)?e:String(e)}var Xh="initial",$h="ready",Yh="searching",qh=function(t){var e=t.onTabClickHandler;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.social")}),(0,Ms.jsx)(sh,{currentTab:Ii,onTabClickHandler:e})]})},Kh=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Uh(Vh(t=Hh(this,e,[].concat(r))),"state",{query:"",searchState:Xh,foundUsers:[],errors:[]}),Uh(Vh(t),"notify",new Rh({position:Oh,time:6e3})),Uh(Vh(t),"onInputChangeHandler",(function(e){var n=e.target.value.replace(/\D/g,"").trim();t.setState({query:n},(function(){t.state.query.length>4&&t.autocompleteSearchDebounced(t.state.query)}))})),Uh(Vh(t),"autocompleteSearch",(function(e){t.setState({searchState:Yh},(function(){var n,r;""!==e?(t.waitingQuery=e,t.cancelableRequest=(n=wh.request({url:(0,je.hX)("api/social-modal/search-user"),method:"POST",data:{q:e}}),r=!1,{promise:new Promise((function(t,e){n.then((function(n){return r?e({isCanceled:!0}):t(n)}),(function(t){return e(r?{isCanceled:!0}:t)}))})),cancel:function(){r=!0}}),t.cancelableRequest.promise.then((function(n){var r=n.items,i=n.status,o=n.message,a=n.errors,s=void 0===a?[]:a;if(e===t.waitingQuery){var c=[];i&&Object.keys(r).forEach((function(t){c.push(Mh(Mh({},r[t]),{},{uid:t}))})),t.setState({searchState:$h,foundUsers:c,errors:s}),o&&t.notify.red(o)}})).catch((function(e){e.isCanceled||t.setState({searchState:$h,foundUsers:[],errors:[]})}))):t.setState({searchState:$h,foundUsers:[],errors:[]})}))})),Uh(Vh(t),"autocompleteSearchDebounced",gs()((function(){t.autocompleteSearch(t.state.query)}),800)),t}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wh(t,e)}(e,t),n=e,r=[{key:"componentWillUnmount",value:function(){this.cancelableRequest&&this.cancelableRequest.cancel()}},{key:"render",value:function(){var t=this.state,e=t.searchState,n=t.foundUsers,r=t.query,i=t.errors,o=this.props,a=o.onTabClickHandler,s=o.isMobile,c="search-block";s&&(c+=" flex-vertical-block");var l=s?"flex-vertical-block__header":"main-tab-body__header",u=s?"flex-vertical-block__body":"main-tab-body__body";return(0,Ms.jsxs)("div",{className:c,children:[!s&&(0,Ms.jsx)(qh,{onTabClickHandler:a}),(0,Ms.jsxs)("div",{className:l,children:[s&&(0,Ms.jsx)(qh,{onTabClickHandler:a}),(0,Ms.jsx)("input",{type:"text",className:"form-control",placeholder:(0,yt.tr)("social_trades.placeholder"),value:r,onChange:this.onInputChangeHandler}),i.length>0&&(0,Ms.jsx)("div",{className:"validation-errors",dangerouslySetInnerHTML:{__html:i.join("<br/>")}})]}),(0,Ms.jsx)("div",{className:u,children:(0,Ms.jsxs)(ku,{children:[e===Yh&&(0,Ms.jsx)(Kl,{}),e===$h&&(0,Ms.jsx)(jh,{users:n})]})})]})}}],r&&Bh(n.prototype,r),i&&Bh(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),Zh=(0,u.Ng)((function(t){return{isMobile:t.global.isMobile}}))(Kh),Qh=function(t){var e=t.onTabClickHandler,n=(0,u.d4)(Wc.mG),r="copy-block";n&&(r+=" flex-vertical-block");var i=n?"flex-vertical-block__header":"main-tab-body__header",o=n?"flex-vertical-block__body":"main-tab-body__body";return(0,Ms.jsxs)("div",{className:r,children:[(0,Ms.jsxs)("div",{className:i,children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.social")}),(0,Ms.jsx)(sh,{currentTab:Ri,onTabClickHandler:e}),!n&&(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/profile/achievements/mining"),className:"title-position-icon",children:(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/svg/icons/copy-block-icon.svg"})}),(0,Ms.jsx)(Mu,{})]}),(0,Ms.jsx)("div",{className:o,children:(0,Ms.jsx)(ku,{children:(0,Ms.jsxs)("div",{className:"no-items-block",children:[(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("social_trades.copy_on_demo")}),(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/high-low"),className:"btn btn-warn",children:(0,yt.tr)("social_trades.switch_to_live")})]})})})]})},Jh=function(t){var e=t.user,n=(0,u.wA)(),r=(0,u.d4)(Cr.Ln),i=e.uid,o=e.avatar,a=e.nickname,s=e.asset,c=e.assetLabel,l=e.profit,h=e.isOnline,f=e.close_time,d=Uu(r,f,(0,yt.tr)("social_trades.time_ago_format"));return(0,Ms.jsxs)("div",{className:"sc-items__item mfp-ajax-modal","data-uid":i,"data-href":(0,je.hX)("cabinet/ajax/modal/trader-information/".concat(i)),children:[(0,Ms.jsxs)("a",{className:"sc-items__avatar avatar",children:[(0,Ms.jsx)(Yu,{avatar:o}),(0,Ms.jsx)("span",{className:(0,Ds.A)("status","status--".concat(h?"on":"off")),title:(0,yt.tr)("social_trades.".concat(h?"online":"offline"))})]}),(0,Ms.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Ms.jsx)("div",{className:"user-info__name",children:a}),(0,Ms.jsx)("div",{className:"user-info__pair","data-no-mfp":"true",onClick:function(t){t.preventDefault(),t.stopPropagation(),n((0,Bu.Kr)(s))},children:c})]}),(0,Ms.jsxs)("div",{className:"sc-items__top-info top-info",children:[(0,Ms.jsx)("div",{className:(0,Ds.A)("bet-info__sum","bet-info__sum--".concat(l<=0?"loss":"win")),children:zu(l)}),(0,Ms.jsx)("div",{className:"bet-info__time",children:d})]})]})},tf=function(t){var e=t.user,n=(0,u.d4)(Cr.Ln),r=e.uid,i=e.avatar,o=e.nickname,a=e.profit,s=e.isOnline,c=e.close_time,l=Uu(n,c,(0,yt.tr)("social_trades.time_ago_format"));return(0,Ms.jsxs)("div",{className:"sc-items__item mfp-ajax-modal","data-uid":r,"data-href":(0,je.hX)("cabinet/ajax/modal/trader-information/".concat(r,"?rfh=1")),children:[(0,Ms.jsxs)("div",{className:"sc-items__avatar avatar",children:[(0,Ms.jsx)(Yu,{avatar:i}),(0,Ms.jsx)("span",{className:(0,Ds.A)("status","status--".concat(s?"on":"off")),title:(0,yt.tr)("social_trades.".concat(s?"online":"offline"))})]}),(0,Ms.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Ms.jsx)("div",{className:"user-info__name",children:o}),(0,Ms.jsx)("div",{className:"user-info__stop-copy",title:(0,yt.tr)("social_trades.stopped_copy",l),children:l})]}),(0,Ms.jsxs)("div",{className:"sc-items__top-info top-info",children:[(0,Ms.jsx)("div",{className:(0,Ds.A)("bet-info__sum","bet-info__sum--".concat(a<=0?"loss":"win")),children:zu(a)}),(0,Ms.jsx)("div",{className:"bet-info__total-profit",children:(0,yt.tr)("social_trades.total_profit")})]})]})},ef=function(t){var e=t.openTopRankedHandler,n=t.children;return(0,Ms.jsxs)("div",{className:"no-items-block",children:[(0,Ms.jsx)("div",{className:"message message-info notification-message",children:n}),(0,Ms.jsx)("a",{className:"btn btn-green-light",onClick:e,children:(0,yt.tr)("social_trades.see_top_ranker_bets")})]})},nf=[Ha.Y5,Ha.Nm,Ha.B],rf=function(t){var e=t.onTabClickHandler,n=Gi.endpoints.getCopiedTrades.useQuery(),i=n.data,o=(void 0===i?{}:i).data,a=void 0===o?{}:o,s=a.copyList,c=void 0===s?[]:s,l=a.historyList,h=void 0===l?[]:l,f=n.isLoading,d=n.refetch,p=(0,r.useRef)([]);(0,r.useEffect)((function(){return nf.forEach((function(t){return p.current.push(Re.A.subscribe(t,d))})),function(){return p.current.forEach((function(t){return Re.A.unsubscribe(t)}))}}),[]);var m=(0,u.d4)(Wc.mG),y="copy-block";m&&(y+=" flex-vertical-block");var v=m?"flex-vertical-block__header":"main-tab-body__header",b=m?"flex-vertical-block__body":"main-tab-body__body";return(0,Ms.jsxs)("div",{className:y,children:[(0,Ms.jsxs)("div",{className:v,children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.social")}),(0,Ms.jsx)(sh,{currentTab:Ri,onTabClickHandler:e}),!m&&(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/profile/achievements/mining"),className:"title-position-icon",children:(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/svg/icons/copy-block-icon.svg"})}),(0,Ms.jsx)(Mu,{})]}),(0,Ms.jsx)("div",{className:b,children:(0,Ms.jsx)(ku,{children:f?(0,Ms.jsx)(Kl,{}):(0,Ms.jsxs)("div",{className:"copy-block__in",children:[c.length>0?(0,Ms.jsx)("div",{children:(0,Ms.jsx)("div",{className:"sc-items",children:c.map((function(t){return(0,Ms.jsx)(Jh,{user:t},t.uid)}))})}):(0,Ms.jsx)(ef,{openTopRankedHandler:function(){return e(ki)()},children:(0,yt.tr)("social_trades.empty_copied_traders_list")}),h.length>0&&(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"ssub-title",children:(0,yt.tr)("social_trades.history")}),(0,Ms.jsx)("div",{className:"sc-items",children:h.map((function(t){return(0,Ms.jsx)(tf,{user:t},t.uid)}))})]})]})})})]})};function of(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return af(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return af(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function af(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sf=function(t){var e=t.user,n=t.type,r=t.action,i=(0,u.d4)((function(t){return t.global.currentTime})),o=of(Gi.endpoints.updateWhoCopyWatchMe.useMutation(),2),a=o[0],s=o[1],c=e.uid,l=e.avatar,h=e.nickname,f=e.isOnline,d=e.date_created,p=Uu(i,hi(d),(0,yt.tr)("social_trades.time_ago_format"));return(0,Ms.jsxs)("div",{className:"sc-items__item mfp-ajax-modal","data-uid":c,"data-href":(0,je.hX)("cabinet/ajax/modal/trader-information/".concat(c,"?rfh=1&cm=1")),children:[(0,Ms.jsxs)("a",{className:"sc-items__avatar avatar",children:[(0,Ms.jsx)(Yu,{avatar:l}),(0,Ms.jsx)("span",{className:(0,Ds.A)("status","status--".concat(f?"on":"off")),title:(0,yt.tr)("social_trades.".concat(f?"online":"offline"))})]}),(0,Ms.jsxs)("div",{className:"sc-items__user-info user-info",children:[(0,Ms.jsx)("div",{className:"user-info__name",children:h}),(0,Ms.jsxs)("div",{className:"user-info__stop-copy",children:["ID: ",c]})]}),(0,Ms.jsxs)("div",{className:"sc-items__time-info time-info",children:[(0,Ms.jsx)("div",{className:"time-info__btn",children:s.isLoading?(0,Ms.jsx)("i",{className:"fa fa-spinner fa-spin"}):(0,Ms.jsx)("a",{onClick:function(){return a({action:r,type:n,uid:c})},"data-no-mfp":"true",className:(0,Ds.A)("btn",n===Fi.DISALLOW?"btn-danger-light":"btn-green-light"),children:(0,yt.tr)("social_trades.".concat(n,"_").concat(r,"_btn"))})}),(0,Ms.jsx)("div",{className:"time-info__label",children:p})]})]})};sf.propTypes={action:Rc().oneOf(Object.values(Hi)),type:Rc().oneOf(Object.values(Fi)),user:Rc().object};var cf=sf,lf=function(t){var e=t.onTabClickHandler,n=Gi.endpoints.getWhoCopyMe.useQuery(),r=n.data,i=(void 0===r?{}:r).data,o=void 0===i?{}:i,a=o.list,s=void 0===a?[]:a,c=o.blackList,l=void 0===c?[]:c,h=n.isLoading,f=(0,u.d4)(Wc.mG),d="list-of-traders-who-copy-me-block";f&&(d+=" flex-vertical-block");var p=f?"flex-vertical-block__header":"main-tab-body__header",m=f?"flex-vertical-block__body":"main-tab-body__body";return(0,Ms.jsxs)("div",{className:d,children:[(0,Ms.jsxs)("div",{className:p,children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.social")}),(0,Ms.jsx)(sh,{currentTab:Li,onTabClickHandler:e}),!f&&(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/social-trading-rewards"),className:"title-position-icon",children:(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/svg/icons/who-copy-me-icon.svg"})})]}),(0,Ms.jsx)("div",{className:m,children:(0,Ms.jsxs)(ku,{children:[(0,Ms.jsx)("div",{className:"ssub-title",children:(0,yt.tr)("social_trades.traders_who_copy_me")}),h?(0,Ms.jsx)(Kl,{}):(0,Ms.jsxs)(Ms.Fragment,{children:[s.length>0?(0,Ms.jsx)("div",{children:(0,Ms.jsx)("div",{className:"sc-items",children:s.map((function(t){return(0,Ms.jsx)(cf,{user:t,action:Hi.COPY,type:Fi.DISALLOW},t.uid)}))})}):(0,Ms.jsx)("div",{className:"no-items-block",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("social_trades.not_found")})}),(0,Ms.jsx)("div",{className:"ssub-title",children:(0,yt.tr)("social_trades.blocked_traders")}),l.length>0?(0,Ms.jsx)("div",{children:(0,Ms.jsx)("div",{className:"sc-items",children:l.map((function(t){return(0,Ms.jsx)(cf,{user:t,action:Hi.COPY,type:Fi.ALLOW},t.uid)}))})}):(0,Ms.jsx)("div",{className:"no-items-block",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("social_trades.not_found")})})]})]})})]})},uf=[Ha.AP,Ha.Xl,Ha.OH],hf=function(t){var e=t.onTabClickHandler,n=Gi.endpoints.getMyWatchList.useQuery(),i=n.data,o=(void 0===i?{}:i).data,a=void 0===o?[]:o,s=n.isLoading,c=n.refetch,l=(0,r.useRef)([]);(0,r.useEffect)((function(){return uf.forEach((function(t){return l.current.push(Re.A.subscribe(t,c))})),function(){return l.current.forEach((function(t){return Re.A.unsubscribe(t)}))}}),[]);var h=(0,u.d4)(Wc.mG),f="watch-block";h&&(f+=" flex-vertical-block");var d=h?"flex-vertical-block__header":"main-tab-body__header",p=h?"flex-vertical-block__body":"main-tab-body__body";return(0,Ms.jsxs)("div",{className:f,children:[(0,Ms.jsxs)("div",{className:d,children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.social")}),(0,Ms.jsx)(sh,{currentTab:Di,onTabClickHandler:e}),(0,Ms.jsx)(Mu,{})]}),(0,Ms.jsx)("div",{className:p,children:(0,Ms.jsx)(ku,{children:s?(0,Ms.jsx)(Kl,{}):(0,Ms.jsx)("div",{className:"copy-block__in",children:a.length>0?(0,Ms.jsx)("div",{children:(0,Ms.jsx)("div",{className:"sc-items",children:a.map((function(t){return(0,Ms.jsx)(Jh,{user:t},t.uid)}))})}):(0,Ms.jsx)(ef,{openTopRankedHandler:function(){return e(ki)()},children:(0,yt.tr)("social_trades.empty_watched_traders_list")})})})})]})},ff=function(t){var e=t.onTabClickHandler,n=Gi.endpoints.getWhoWatchMe.useQuery(),r=n.data,i=(void 0===r?{}:r).data,o=void 0===i?{}:i,a=o.list,s=void 0===a?[]:a,c=o.blackList,l=void 0===c?[]:c,h=n.isLoading,f=Object.values(s),d=Object.values(l),p=(0,u.d4)(Wc.mG),m="list-of-traders-who-watch-me-block";p&&(m+=" flex-vertical-block");var y=p?"flex-vertical-block__header":"main-tab-body__header",v=p?"flex-vertical-block__body":"main-tab-body__body";return(0,Ms.jsxs)("div",{className:m,children:[(0,Ms.jsxs)("div",{className:y,children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.social")}),(0,Ms.jsx)(sh,{currentTab:Mi,onTabClickHandler:e})]}),(0,Ms.jsx)("div",{className:v,children:(0,Ms.jsxs)(ku,{children:[(0,Ms.jsx)("div",{className:"ssub-title",children:(0,yt.tr)("social_trades.traders_who_watch_me")}),h?(0,Ms.jsx)(Kl,{}):(0,Ms.jsxs)(Ms.Fragment,{children:[f.length>0?(0,Ms.jsx)("div",{children:(0,Ms.jsx)("div",{className:"sc-items",children:f.map((function(t){return(0,Ms.jsx)(cf,{user:t,action:Hi.WATCH,type:Fi.DISALLOW},t.uid)}))})}):(0,Ms.jsx)("div",{className:"no-items-block",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("social_trades.not_found")})}),(0,Ms.jsx)("div",{className:"ssub-title",children:(0,yt.tr)("social_trades.blocked_watchers")}),d.length>0?(0,Ms.jsx)("div",{children:(0,Ms.jsx)("div",{className:"sc-items",children:d.map((function(t){return(0,Ms.jsx)(cf,{user:t,action:Hi.WATCH,type:Fi.ALLOW},t.uid)}))})}):(0,Ms.jsx)("div",{className:"no-items-block",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("social_trades.not_found")})})]})]})})]})},df=["className","ripple","children"];function pf(t){return pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(t)}function mf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mf(Object(n),!0).forEach((function(e){Sf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vf(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_f(r.key),r)}}function gf(t,e,n){return e=xf(e),function(t,e){if(e&&("object"===pf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jf(t)}(t,wf()?Reflect.construct(e,n||[],xf(t).constructor):e.apply(t,n))}function wf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wf=function(){return!!t})()}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xf(t)}function jf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Of(t,e){return Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Of(t,e)}function Sf(t,e,n){return(e=_f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _f(t){var e=function(t,e){if("object"!=pf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pf(e)?e:String(e)}var Tf={checked:Rc().bool,className:Rc().string,disabled:Rc().bool,onChange:Rc().func,ripple:Rc().bool},Af=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Sf(jf(t=gf(this,e,[].concat(i))),"rootRef",(0,r.createRef)()),t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Of(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){window.componentHandler.upgradeElements(this.rootRef.current)}},{key:"componentDidUpdate",value:function(t){if(this.props.disabled!==t.disabled){var e=this.props.disabled?"disable":"enable";this.rootRef.current.MaterialSwitch[e]()}if(this.props.checked!==t.checked){var n=this.props.checked?"on":"off";this.rootRef.current.MaterialSwitch[n]()}}},{key:"componentWillUnmount",value:function(){window.componentHandler.downgradeElements(this.rootRef.current)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.ripple,r=t.children,i=vf(t,df),o=(0,Ds.A)("mdl-switch mdl-js-switch",n&&"mdl-js-ripple-effect",e);return(0,Ms.jsxs)("label",{ref:this.rootRef,className:o,children:[(0,Ms.jsx)("input",yf({type:"checkbox",className:"mdl-switch__input"},i)),(0,Ms.jsx)("span",{className:"mdl-switch__label",children:r})]})}}])&&bf(n.prototype,i),o&&bf(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component);Af.propTypes=Tf;var Ef=Af,Pf=function(t){var e=t.condition,n=t.wrapper,r=t.children;return e?n(r):r},Cf=function(t){var e=t.onTabClickHandler,n=(0,u.wA)(),r=(0,u.d4)(Wc.mG),i=(0,u.d4)((function(t){return t.global.enabledSocialTrading})),o=(0,u.d4)((function(t){return t.global.enabledWatchlistingOfCopiedBets})),a=(0,u.d4)((function(t){return t.global.showRating})),s=(0,u.d4)((function(t){return t.global.showOnlyWatchedTraders})),c="settings-block";return r&&(c+=" flex-vertical-block"),(0,Ms.jsxs)("div",{className:c,style:{display:"block"},children:[(0,Ms.jsxs)(Pf,{condition:r,wrapper:function(t){return(0,Ms.jsx)("div",{className:"flex-vertical-block__header",children:t})},children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.social")}),(0,Ms.jsx)(sh,{currentTab:Bi,onTabClickHandler:e})]}),(0,Ms.jsxs)(Pf,{condition:r,wrapper:function(t){return(0,Ms.jsx)("div",{className:"flex-vertical-block__body",children:t})},children:[(0,Ms.jsx)(Ef,{checked:i,onChange:function(){return n((0,ba.Dx)(!i))},children:(0,yt.tr)("social_trades.social_trading")}),(0,Ms.jsx)(Ef,{checked:o,onChange:function(){return n((0,ba.qb)(!o))},children:(0,yt.tr)("social_trades.whatchlisting_copied_bets")}),(0,Ms.jsx)(Ef,{checked:!a,onChange:function(){return n((0,ba.Tz)(!a))},children:(0,yt.tr)("social_trades.hide_my_profile")}),(0,Ms.jsx)(Ef,{checked:s,onChange:function(){return n((0,ba.Bi)(!s))},children:(0,yt.tr)("social_trades.show_only_watched_traders")})]})]})};function kf(t){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(t)}function Nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nf(Object(n),!0).forEach((function(e){Rf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rf(t,e,n){var r;return r=function(t,e){if("object"!=kf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==kf(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lf=function(t){var e=t.currentTab,n=t.onTabClickHandler,r=(0,u.d4)(Wc.mG),i=(0,u.d4)((function(t){return t.global.isDemo})),o={onTabClickHandler:n};return(0,Ms.jsxs)(Pf,{condition:!r,wrapper:function(t){return(0,Ms.jsx)("div",{className:"main-tab-body tab-body",children:t})},children:[e===ki&&(0,Ms.jsx)(uh,If({},o)),e===Ci&&(0,Ms.jsx)(ch,If({},o)),e===Ii&&(0,Ms.jsx)(Zh,If({},o)),e===Ri&&i&&(0,Ms.jsx)(Qh,If({},o)),e===Ri&&!i&&(0,Ms.jsx)(rf,If({},o)),e===Li&&(0,Ms.jsx)(lf,If({},o)),e===Di&&(0,Ms.jsx)(hf,If({},o)),e===Mi&&(0,Ms.jsx)(ff,If({},o)),e===Bi&&(0,Ms.jsx)(Cf,If({},o))]})},Df=n(79106),Mf=n(33972);function Bf(t){return Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(t)}var Hf=["children","timeout","className","classNames"];function Ff(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ff(Object(n),!0).forEach((function(e){Vf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vf(t,e,n){var r;return r=function(t,e){if("object"!=Bf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Bf(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wf(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Uf=function(t){var e=t.children,n=t.timeout,i=void 0===n?1:n,o=t.className,a=void 0===o?"right-sidebar-modal":o,s=t.classNames,c=void 0===s?{enterDone:"active"}:s,l=Wf(t,Hf),u=(0,r.useRef)(null);return(0,Ms.jsx)(Df.A,{component:null,appear:!0,children:(0,Ms.jsx)(Mf.A,{timeout:i,nodeRef:u,classNames:c,children:(0,Ms.jsx)("div",Gf(Gf({ref:u,className:a},l),{},{children:e}))})})},zf=["children","onClickOutside","shouldCapture","chartId","setRef"];function Xf(t){return Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(t)}function $f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$f(Object(n),!0).forEach((function(e){nd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qf(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rd(r.key),r)}}function Zf(t,e,n){return e=Jf(e),function(t,e){if(e&&("object"===Xf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return td(t)}(t,Qf()?Reflect.construct(e,n||[],Jf(t).constructor):e.apply(t,n))}function Qf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qf=function(){return!!t})()}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jf(t)}function td(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ed(t,e){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ed(t,e)}function nd(t,e,n){return(e=rd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rd(t){var e=function(t,e){if("object"!=Xf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xf(e)?e:String(e)}var id=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return nd(td(t=Zf(this,e,[].concat(i))),"ref",(0,r.createRef)()),nd(td(t),"state",{isCapturing:!1,chartEl:null}),nd(td(t),"handleClickOutside",(function(e){t.ref.current&&!t.ref.current.contains(e.target)&&(e.stopPropagation(),t.props.onClickOutside(e))})),t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ed(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.chartId,r=e.shouldCapture,i=void 0===r||r,o=e.setRef;null!=n?this.setState({chartEl:document.getElementById(n)},(function(){i&&t.addListeners()})):i&&this.addListeners(),null!=o&&o(this.ref)}},{key:"componentDidUpdate",value:function(t){t.shouldCapture!==this.props.shouldCapture&&(this.props.shouldCapture&&!this.state.isCapturing&&this.addListeners(),!this.props.shouldCapture&&this.state.isCapturing&&this.removeListeners())}},{key:"componentWillUnmount",value:function(){this.state.isCapturing&&this.removeListeners()}},{key:"addListeners",value:function(){this.setState({isCapturing:!0}),document.addEventListener("mousedown",this.handleClickOutside);var t=this.state.chartEl;t&&t.addEventListener("touchstart",this.handleClickOutside)}},{key:"removeListeners",value:function(){this.setState({isCapturing:!1}),document.removeEventListener("mousedown",this.handleClickOutside);var t=this.state.chartEl;t&&t.removeEventListener("touchstart",this.handleClickOutside)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.onClickOutside,t.shouldCapture,t.chartId,t.setRef,qf(t,zf));return(0,Ms.jsx)("div",Yf(Yf({ref:this.ref},n),{},{children:e}))}}])&&Kf(n.prototype,i),o&&Kf(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component);id.propTypes={onClickOutside:Rc().func.isRequired,shouldCapture:Rc().bool,chartId:Rc().string,setRef:Rc().func};var od=id;function ad(t){return ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(t)}function sd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sd(Object(n),!0).forEach((function(e){ld(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ld(t,e,n){var r;return r=function(t,e){if("object"!=ad(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ad(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==ad(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ud(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return hd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fd=Pl((function(t){var e=t.onClickOutside,n=(0,u.d4)(Wc.AQ),i=ud((0,r.useState)(n?Ci:ki),2),o=i[0],a=i[1],s=(0,u.d4)(Wc.mG),c=s?{className:"right-sidebar-modal__overlay"}:{id:"sc-modal",className:"right-sidebar-modal sc-modal"};return(0,Ms.jsx)(Uf,cd(cd({},c),{},{children:(0,Ms.jsx)(Pf,{condition:s,wrapper:function(t){return(0,Ms.jsx)(od,{onClickOutside:e(me.lx.SOCIAL_TRADING),className:"right-sidebar-modal sc-modal",children:t})},children:(0,Ms.jsx)("div",{className:"tab-wrap",children:(0,Ms.jsx)(Lf,{currentTab:o,onTabClickHandler:function(t){return function(){return a(t)}}})})})}))})),dd=(0,u.Ng)((function(t){var e=t.global,n=t.counters;return{showTooltip:!e.isMobile&&e.enabledTooltipMessage,socialTradingListOfCopiedCount:n[sn]}}))((function(t){var e=t.showTooltip,n=t.socialTradingListOfCopiedCount,r=t.menuClick;return(0,Ms.jsxs)("a",{className:(0,Ds.A)("js-social-trading",e&&"tooltip2"),onClick:r,children:[(0,Ms.jsx)("i",{className:"fa fa-users"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("chart_settings.social_trading")}),n>0&&(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:n,type:sn})}),e&&(0,Ms.jsx)(Vc,{position:"left",children:(0,Ms.jsxs)(Ms.Fragment,{children:[(0,yt.tr)("chart_settings.social_trading"),(0,Ms.jsx)("br",{}),(0,yt.tr)("right_panel.social_trading_tooltip")]})})]})})),pd=(0,u.Ng)((function(t){return{isOpen:t.modals.states[me.lx.SOCIAL_TRADING]}}))((function(t){var e=t.isOpen,n=t.clickHandler;return(0,Ms.jsxs)("li",{className:(0,Ds.A)(e&&"active open-menu"),children:[(0,Ms.jsx)(dd,{menuClick:n}),e&&(0,Ms.jsx)(fd,{})]})})),md=n(83732),yd=n.n(md);yd().defaultStyles.content={},yd().defaultStyles.overlay={};var vd=function(t){var e=t.children,n=t.isOpen,r=t.onRequestClose,i=t.className,o=void 0===i?"Refactor":i;return(0,Ms.jsx)(yd(),{isOpen:n,onRequestClose:r,ariaHideApp:!1,closeTimeoutMS:200,className:o,children:e})},bd=function(t){var e=t.isOpen,n=void 0===e||e,r=t.onRequestClose,i=t.className,o=void 0===i?"":i,a=t.showCloseButton,s=void 0===a||a,c=t.children;return(0,Ms.jsx)(vd,{isOpen:n,onRequestClose:r,children:(0,Ms.jsxs)("div",{className:"".concat(o," zoom-anim-dialog po-modal"),children:[c,s&&(0,Ms.jsx)("a",{className:"modal-close",onClick:r,children:(0,Ms.jsx)("svg",{className:"svg-icon modal-close-icon",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ms.jsx)("path",{d:"M10.3432 7.5L14.6075 3.23565C15.1308 2.71236 15.1308 1.86392 14.6075 1.3402L13.6598 0.392472C13.1365 -0.130824 12.2881 -0.130824 11.7643 0.392472L7.5 4.65682L3.23565 0.392472C2.71236 -0.130824 1.86392 -0.130824 1.3402 0.392472L0.392472 1.3402C-0.130824 1.86349 -0.130824 2.71193 0.392472 3.23565L4.65682 7.5L0.392472 11.7643C-0.130824 12.2876 -0.130824 13.1361 0.392472 13.6598L1.3402 14.6075C1.86349 15.1308 2.71236 15.1308 3.23565 14.6075L7.5 10.3432L11.7643 14.6075C12.2876 15.1308 13.1365 15.1308 13.6598 14.6075L14.6075 13.6598C15.1308 13.1365 15.1308 12.2881 14.6075 11.7643L10.3432 7.5Z"})})})]})})},gd=function(t){var e=t.onRequestClose,n=(0,u.wA)(),r=(0,u.d4)((function(t){return t.global.enabledHotKeys})),i=(0,u.d4)((function(t){return t.chartSettings.visibleChartIds.length>1})),o=r&&!i;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"title",children:[(0,yt.tr)("hotkeys.title"),(0,Ms.jsxs)("span",{className:o?"active":"inactive",children:["[",(0,yt.tr)(o?"active":"inactive"),"]"]})]}),(0,Ms.jsxs)("div",{className:"rw",children:[(0,Ms.jsx)("div",{className:"l",children:(0,Ms.jsx)("div",{className:"img",children:(0,Ms.jsx)("img",{src:"/themes/cabinet/images/01keyboard_300px.jpg"})})}),(0,Ms.jsxs)("div",{className:"r",children:[(0,Ms.jsx)("div",{className:"title",children:(0,yt.tr)("hotkeys.conf")}),(0,Ms.jsxs)("table",{className:"table second-table",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"50%"}}),(0,Ms.jsx)("col",{style:{width:"50%"}})]}),(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"key",children:(0,Ms.jsx)("span",{className:"green",children:"Shift + W"})}),(0,Ms.jsxs)("div",{className:"var",children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("hotkeys.higher")})," (",(0,yt.tr)("hotkeys.new_trade"),")"]})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"key",children:(0,Ms.jsx)("span",{className:"red",children:"Shift + S"})}),(0,Ms.jsxs)("div",{className:"var",children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("hotkeys.lower")})," (",(0,yt.tr)("hotkeys.new_trade"),")"]})]})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"key",children:"Shift + A"}),(0,Ms.jsx)("div",{className:"var",children:(0,yt.tr)("hotkeys.dec_bet")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"key",children:"Shift + D"}),(0,Ms.jsx)("div",{className:"var",children:(0,yt.tr)("hotkeys.inc_bet")})]})]})]})]}),(0,Ms.jsxs)("table",{className:"table second-table",children:[(0,Ms.jsx)("colgroup",{children:(0,Ms.jsx)("col",{style:{width:"100%"}})}),(0,Ms.jsx)("tbody",{children:(0,Ms.jsx)("tr",{children:(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"key",children:(0,Ms.jsx)("span",{className:"red",children:"Shift + TAB"})}),(0,Ms.jsx)("div",{className:"var",children:(0,yt.tr)("hotkeys.next_fav")})]})})})]})]})]}),i&&(0,Ms.jsxs)("div",{className:"message notification-message message-warning",children:[(0,yt.tr)("hotkeys.multigraph_tooltip"),"."]}),!i&&(0,Ms.jsxs)("div",{className:"btn-wrap",children:[o&&(0,Ms.jsx)("a",{onClick:function(){n((0,ba.b7)(!1)),e()},className:"btn btn-danger-light",children:(0,yt.tr)("hotkeys.deactivate")}),!o&&(0,Ms.jsx)("a",{onClick:function(){n((0,ba.b7)(!0)),e()},className:"btn btn-green-light",children:(0,yt.tr)("hotkeys.activate")})]})]})},wd=function(t){var e=t.isOpen,n=t.onRequestClose;return(0,Ms.jsx)(bd,{isOpen:e,onRequestClose:n,className:"hotkeys-modal",children:(0,Ms.jsx)(gd,{onRequestClose:n})})};function xd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return jd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Od=(0,u.Ng)((function(t){var e=t.chartSettings,n=t.global;return{showTooltip:!n.isMobile&&n.enabledTooltipMessage,showEnabledIndicator:!n.isMobile&&n.enabledHotKeys&&1===e.visibleChartIds.length}}))((function(t){var e=t.showEnabledIndicator,n=t.showTooltip,i=xd((0,r.useState)(!1),2),o=i[0],a=i[1];return(0,Ms.jsxs)("li",{children:[(0,Ms.jsxs)("a",{onClick:function(){return a(!0)},className:(0,Ds.A)("hotkeys-icon",n&&"tooltip2"),children:[(0,Ms.jsx)("i",{className:"fa fa-keyboard-o"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("right_panel.hotkeys")}),n&&(0,Ms.jsx)(Vc,{position:"left",children:(0,Ms.jsxs)(Ms.Fragment,{children:[(0,yt.tr)("right_panel.hotkeys"),(0,Ms.jsx)("br",{}),(0,yt.tr)("right_panel.hotkeys_settings")]})}),e&&(0,Ms.jsx)("span",{className:"on"})]}),(0,Ms.jsx)(wd,{isOpen:o,onRequestClose:function(){return a(!1)}})]})})),Sd=Od,_d=function(){return(0,Ms.jsxs)("a",{onClick:function(){var t=window.document,e=t.documentElement,n=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,r=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen,i=t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement;try{i?r&&r.call(t):n&&n.call(e)}catch(o){}},children:[(0,Ms.jsx)("i",{className:"fa fa-arrows-alt"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("right_panel.full_screen")})]})},Td=(0,u.Ng)((function(t){var e=t.global,n=t.expresses;return{showTooltip:!e.isMobile&&e.enabledTooltipMessage,countOpened:n.opened.expressIds.length}}))((function(t){var e=t.menuClick,n=t.showTooltip,r=t.countOpened;return(0,Ms.jsxs)("a",{onClick:e,className:(0,Ds.A)(n&&"tooltip2"),children:[(0,Ms.jsx)("i",{className:"fa fa-bullseye"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("right_panel.express_trades")}),r>0&&(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:r,type:cn})}),n&&(0,Ms.jsx)(Vc,{position:"left",children:(0,Ms.jsxs)(Ms.Fragment,{children:[(0,yt.tr)("right_panel.express_trades"),(0,Ms.jsx)("br",{}),(0,yt.tr)("right_panel.express_tooltip")]})})]})})),Ad=n(90258);function Ed(t){return function(t){if(Array.isArray(t))return Pd(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Pd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pd(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cd(t){return{type:Pn,payload:t}}function kd(t){return{type:Nn,payload:t}}function Nd(t){return{type:In,payload:t}}function Id(t){return{type:Rn,payload:t}}function Rd(){return function(t,e){var n=function(t){var e=t.expresses,n=[];return e.opened.dealIds.forEach((function(t){n.push(e.opened.dealById[t].asset)})),Ed(new Set(n))}(e());n.length&&(n.forEach((function(t){hr.A.instance.subscribeAsset(t)})),t({type:Ln,payload:n}))}}var Ld=n(39155),Dd=n.n(Ld),Md=n(24885),Bd=n(75984);function Hd(t){return function(t){if(Array.isArray(t))return Gd(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Fd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fd(t,e){if(t){if("string"==typeof t)return Gd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gd(t,e):void 0}}function Gd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vd=function(t){return t.expresses.opened.dealById},Wd=function(t){return t.expresses.opened.dealIds},Ud=function(t){return t.expresses.closed.dealById},zd=function(t){return t.expresses.closed.dealIds},Xd=function(t){return t.expresses.new.assetSymbols},$d=function(t,e){return e.symbol},Yd=(0,Md.Mz)([zd,Ud],(function(t,e){return function(n){var r=t.filter((function(t){return e[t].expressId===n})).map((function(t){return e[t].closeTimestamp}));return r.sort((function(t,e){return e-t})),r.length>0?r[0]:""}})),qd=(0,Md.Mz)([Xd,Vs.rZ,Vd,Wd,Ud,zd,Cr.Ln],(function(t,e,n,r,i,o,a){if(!a)return[];var s=new Set([]),c=r.map((function(t){return n[t].asset}));return[].concat(Hd(t),Hd(c)).forEach((function(t){var n=e(t),r=n.label;n.is_otc?s.add(t):(0,x.an)(r).forEach((function(t){return s.add(t)}))})),Hd(s)})),Kd=(0,Md.Mz)([Xd,Vs.rZ],(function(t,e){var n=t.map((function(t){return e(t).payout}));return(0,qt.O7)(n)})),Zd=(0,Md.Mz)([Cr.tv,Cr.Ny],(function(t,e){return!e&&(t[me.lx.DEALS_WIDGET]||t[me.lx.SIGNALS_WIDGET])})),Qd=(0,Md.Mz)([function(t){return t.expresses.opened.expressById},Vd,Wd,Bd.sS],(function(t,e,n,r){return function(i){if(!t[i])return 1;var o=n.filter((function(t){return e[t].expressId===i&&e[t].status!==wn})).map((function(t){return e[t]}));if(!o.length)return 1;var a=1;o.map((function(t){return t.percentProfit})).forEach((function(t){return a*=1+t/100}));var s,c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Fd(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(o);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(l.status===bn){var u=r[l.asset];if(!u)return 1;var h=u.price;if(h===l.openPrice)a/=1+l.percentProfit/100;else{var f=(0,qt.nT)(l.command)&&h>l.openPrice,d=!(0,qt.nT)(l.command)&&h<l.openPrice;if(!f&&!d)return 1}}l.status===xn&&(a/=1+l.percentProfit/100)}}catch(p){c.e(p)}finally{c.f()}return(0,qn.xr)(a,2)}})),Jd=(0,u.Ng)((function(t){var e=t.expresses;return{currentTime:t.global.currentTime,expirationTimesByTimeframe:e.expirationTimes.byTimeframe}}))((function(t){var e=t.currentTime,n=t.timeframe,r=t.expirationTimesByTimeframe[n];if(!r)return null;var i=ci(r.fromTimestamp-e),o=t.className,a=void 0===o?"timeframe__block timeframe":o,s=t.tagName,c=void 0===s?"span":s,l=t.onClick,u=void 0===l?null:l,h=c,f=li(n),d=f.prefix,p=f.period;return(0,Ms.jsxs)(h,{className:a,onClick:u,children:["".concat(d).concat(p)," ",i]})})),tp=n(78561),ep=n.n(tp),np=(0,r.createContext)("chartId"),rp=(0,r.createContext)("chartSlotIndex"),ip=function(){var t=(0,r.useContext)(np);if(!t)throw new Error("useChartId must be used within ChartIdContext.Provider");return t};function op(t){return op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(t)}function ap(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sp(t,e,n){return(e=lp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lp(r.key),r)}}function lp(t){var e=function(t,e){if("object"!=op(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=op(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==op(e)?e:String(e)}function up(t,e,n){return e=fp(e),function(t,e){if(e&&("object"===op(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hp()?Reflect.construct(e,n||[],fp(t).constructor):e.apply(t,n))}function hp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hp=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fp(t)}function dp(t,e){return dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dp(t,e)}function pp(t,e,n,i){var o=function(n){function r(n,o){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(a=up(this,r,[n,o])).mapStateToProps=t?function(e,n){return t(e,n,o)}:null,a.mapDispatchToProps="function"==typeof e?function(t,n){return e(t,n,o)}:e,a.component=(0,u.Ng)(a.mapStateToProps,a.mapDispatchToProps)(i),a.shouldComponentUpdate=a.component.shouldComponentUpdate,a}var o,a,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dp(t,e)}(r,n),o=r,a=[{key:"render",value:function(){var t=this.component;return(0,Ms.jsx)(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ap(Object(n),!0).forEach((function(e){sp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.props))}}],a&&cp(o.prototype,a),s&&cp(o,s),Object.defineProperty(o,"prototype",{writable:!1}),r}(r.Component);return o.contextType=n,o}function mp(t,e,n){return function(r){return pp(t,e,n,r)}}var yp=mp((function(t,e,n){var r=t.expresses,i=t.global;return{asset:(0,Vs.rZ)(t)(e.symbol),currentTime:i.currentTime,expirationTimesByTimeframe:r.expirationTimes.byTimeframe,expirationTimeTimeframes:r.expirationTimes.allTimeframes,chartId:n}}),null,np)((function(t){var e=t.asset,n=t.timeframeClicked,i=t.currentTime,o=t.handleOnClickOutside,a=t.isOpen,s=t.currentTimeframe,c=t.expirationTimesByTimeframe,l=t.expirationTimeTimeframes,u=t.chartId;if(!l.length)return null;var h=function(t){return function(){return n(t)}},f=ep()(e.timeframes,e.timeframes.length/2),d=(0,r.useCallback)((function(t){if(null!==t&&a){var e=t.getBoundingClientRect().height;t.getBoundingClientRect().top+e+20>window.innerHeight&&setTimeout((function(){return t.style.top="-".concat(e+5,"px")}),0)}}),[a]);return(0,Ms.jsx)(Df.A,{component:null,children:a&&(0,Ms.jsx)(Mf.A,{timeout:1,nodeRef:d,children:(0,Ms.jsx)(od,{onClickOutside:o,shouldCapture:a,chartId:u,children:(0,Ms.jsxs)("div",{className:"timeframe__list-wrap",ref:d,children:[(0,Ms.jsx)("div",{className:"timeframe__title",children:(0,yt.tr)("chart_settings.deadline_time")}),(0,Ms.jsx)("div",{className:"timeframe__list",children:f.map((function(t,e){return(0,Ms.jsx)("div",{className:"timeframe__col",children:t.map((function(t){var e=t.time,n=c[e],r=n.timeframe,o=n.fromTimestamp-i,a=r===s;return(0,Ms.jsx)("a",{className:(0,Ds.A)("timeframe__item",a&&"selected"),onClick:h(e),children:ci(o)},e)}))},"col-".concat(e))}))})]})})})})}));function vp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return bp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gp=(0,Ms.jsx)(Gs.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/call-arrow.svg"}),wp=(0,Ms.jsx)(Gs.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/put-arrow.svg"}),xp=function(t){var e=t.symbol,n=t.isFirst,i=vp((0,r.useState)(!1),2),o=i[0],a=i[1],s=vp((0,r.useState)(60),2),c=s[0],l=s[1],h=(0,u.wA)(),f=(0,u.d4)((function(t){return(0,Vs.rZ)(t)(e)})),d=f.label,p=f.payout,m=(0,u.d4)((function(t){return qd(t)})),y=(0,u.d4)((function(t){return t.expresses.new.assetSymbols})),v=y.includes(e)||m.includes(e)||Dd()(m,(0,x.an)(d)).length>0,b=function(t){v||h(function(t){var e=t.symbol,n=t.actionType,r=t.timeframe;return{type:An,payload:{symbol:e,actionType:n,timeframe:r}}}({symbol:e,actionType:t,timeframe:c}))};return(0,Ms.jsxs)("div",{className:(0,Ds.A)("asset-item",n&&"first",o&&"list-opened",v&&"blocked"),children:[(0,Ms.jsx)("div",{className:"asset-item__l",children:(0,Ms.jsx)("a",{className:(0,Ds.A)("asset-item__put btn-put",v&&"disabled"),onClick:function(){y.includes(e)||b(Vt)},children:wp})}),(0,Ms.jsxs)("div",{className:"asset-item__c",children:[(0,Ms.jsx)("div",{className:"asset-item__top",children:(0,Ms.jsxs)("div",{className:"asset-item__label",children:[d,(0,Ms.jsxs)("span",{className:"asset-item__percent price-up",children:["+",p,"%"]})]})}),(0,Ms.jsx)("div",{className:"asset-item__bottom",children:(0,Ms.jsxs)("div",{className:"timeframe__block timeframe",children:[(0,Ms.jsx)(Jd,{className:"timeframe__current",tagName:"div",symbol:e,timeframe:c,onClick:function(){return a(!0)}}),(0,Ms.jsx)(yp,{timeframeClicked:function(t){a(!1),l(t)},handleOnClickOutside:function(){return a(!1)},isOpen:o,currentTimeframe:c,symbol:e})]})})]}),(0,Ms.jsx)("div",{className:"asset-item__r",children:(0,Ms.jsx)("a",{className:(0,Ds.A)("asset-item__call btn-call",v&&"disabled"),onClick:function(){y.includes(e)||b(Gt)},children:gp})})]})},jp=function(t){var e=t.searchTerm,n=t.isSearching,r=t.selectedAssetCategory,i=(0,u.d4)((function(t){return t.assets.symbols})),o=(0,u.d4)((function(t){return t.assets.assetBySymbol})),a=i.filter((function(t){var i=o[t],a=i.active,s=i.label,c=i.type,l=i.is_otc;if(!a||!l)return!1;if(n){var u=e.toLowerCase().replace("/[^w]/g","");return s.toLowerCase().includes(u)||t.toLowerCase().includes(u)}return c===r})).map((function(t){return o[t]})).slice().sort((function(t,e){return t.payout===e.payout?0:e.payout-t.payout}));return(0,Ms.jsxs)(Ms.Fragment,{children:[a.map((function(t,e){var n=t.symbol;return(0,Ms.jsx)(xp,{isFirst:0===e,symbol:n},n)})),0===a.length&&(0,Ms.jsx)("div",{className:"not-found find-not-found",children:(0,yt.tr)("expresses.not_found")})]})},Op=(0,u.Ng)((function(t){return{balance:t.global.balance}}),{changeSelectedAssetCategory:Id})((function(t){var e=t.children,n=t.balance,r=(0,yr.h7)(n,de.et.BEGINNER),i=(0,je.hX)("cabinet/deposit-step-1?amount=".concat(r));return(0,Ms.jsxs)("div",{className:"no-items-block",children:[(0,Ms.jsx)("div",{className:"message message-warning notification-message",style:{marginTop:"10px"},children:e}),(0,Ms.jsx)("div",{className:"button-wrapper",children:(0,Ms.jsx)("a",{className:"btn btn-green-light btn-block",href:i,children:(0,yt.tr)("user_levels.acquire_level")})})]})})),Sp=(0,u.Ng)((function(t,e){var n=t.assets,r=t.expresses,i=e.symbol,o=n.assetBySymbol[i],a=o.label,s=o.payout,c=r.new.assetBySymbol[i],l=c.actionType,u=c.timeframe;return{isCall:l===Gt,timeframe:u,expressAssetSymbols:r.new.assetSymbols,label:a,payout:s}}),(function(t){return(0,f.zH)({removeExpressItem:Cd,changeSymbolOnFirstChart:Bu.Kr},t)}))((function(t){var e=t.symbol,n=t.isCall,r=t.timeframe,i=t.removeExpressItem,o=t.changeSymbolOnFirstChart,a=t.label,s=t.payout;return(0,Ms.jsxs)("div",{className:"asset-item",children:[(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"asset-item__top",children:(0,Ms.jsxs)("div",{className:"asset-item__label",onClick:function(){return o(e)},children:[(0,Ms.jsx)("span",{className:"direction ".concat(n?"price-up":"price-down"),children:(0,Ms.jsx)("i",{className:"fa ".concat(n?"fa-caret-up":"fa-caret-down")})})," ",a," ",(0,Ms.jsxs)("span",{className:"asset-item__percent price-up",children:["+",s,"%"]})]})}),(0,Ms.jsx)("div",{className:"asset-item__bottom",children:(0,Ms.jsxs)("div",{className:"asset-item__exp",children:[(0,yt.tr)("chart_settings.deadline_time"),": ",(0,Ms.jsx)(Jd,{symbol:e,timeframe:r})]})})]}),(0,Ms.jsx)("div",{className:"asset-item__remove",children:(0,Ms.jsx)("a",{onClick:function(){Re.A.publish(ga),i(e)},children:(0,Ms.jsx)("i",{className:"fa fa-trash"})})})]})})),_p=(0,u.Ng)((function(t){return{expressAssetSymbols:t.expresses.new.assetSymbols}}))((function(t){return t.expressAssetSymbols.map((function(t){return(0,Ms.jsx)(Sp,{symbol:t},t)}))}));function Tp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ap(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ap(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ep=function(){var t=(0,u.wA)(),e=(0,u.d4)((function(t){return t.global.isDemo})),n=(0,u.d4)((function(t){return t.global.balance})),i=(0,u.d4)((function(t){return t.global.liveBalance})),o=(0,u.d4)((function(t){return t.expresses.new.assetSymbols})),a=(0,u.d4)((function(t){return t.assets.assetBySymbol})),s=(0,u.d4)((function(t){return t.expresses.new.amount})),c=(0,u.d4)((function(t){return t.expresses.new.amountString})),l=(0,u.d4)((function(t){return t.expresses.isConfirming})),h=(0,u.d4)(Fs.G3),f=(0,u.d4)((function(t){return Kd(t)})),d=Tp((0,r.useState)((0,qn.xr)(s*f)),2),p=d[0],m=d[1],y=o.map((function(t){return a[t].payout})).reduce((function(t,e){return t+e}),1);(0,r.useEffect)((function(){m((0,qn.xr)(s*f))}),[o,s,y]);var v=function(e){return function(r){var i=(0,yr.Ew)(n,h);t(function(t){return{type:Cn,payload:t}}((0,qn.RN)(r.target.value,e,i)))}},b=null==s||Number.isNaN(s)?0:s,g=o.length<de.Ay.EXPRESS.MIN_DEALS||b<=0,w="".concat(b===s?c:b),x=e||(0,yr.HI)(i),j=(0,qt.T$)(f);return(0,Ms.jsxs)(Ms.Fragment,{children:[!x&&(0,Ms.jsx)(Op,{children:(0,yt.tr)("expresses.low_balance",'"'.concat((0,yt.tr)("user_levels.beginner"),'"'))}),x&&o.length>0&&(0,Ms.jsxs)("div",{className:"new-tab__content",children:[(0,Ms.jsx)(_p,{}),o.length>=de.Ay.EXPRESS.MIN_DEALS&&(0,Ms.jsxs)("div",{className:"new-tab__express-info",children:[(0,Ms.jsxs)("div",{className:"new-tab__express-form",children:[(0,Ms.jsxs)("div",{className:"new-tab__express-form-col",children:[(0,Ms.jsxs)("div",{className:"new-tab__express-form-label",children:[(0,yt.tr)("control_panel.bid_amount"),":"]}),(0,Ms.jsx)("div",{className:"new-tab__express-form-value",children:(0,Ms.jsxs)("div",{className:"input-group",children:[(0,Ms.jsx)("input",{id:"amount",autoComplete:"off",type:"text",name:"amount",className:"form-control",value:w,onChange:v(0),onBlur:v(1)}),(0,Ms.jsx)("span",{className:"input-group-addon fs_amount_sub_text",children:"$"})]})})]}),(0,Ms.jsxs)("div",{className:"new-tab__express-form-col mw",children:[(0,Ms.jsx)("div",{className:"new-tab__express-form-label",children:(0,yt.tr)("expresses.total_payout")}),(0,Ms.jsxs)("div",{className:"new-tab__express-form-value",children:[j>0?"+":"",j,"%"]})]}),(0,Ms.jsxs)("div",{className:"new-tab__express-form-col mw",children:[(0,Ms.jsx)("div",{className:"new-tab__express-form-label",children:(0,yt.tr)("expresses.possible_profit")}),(0,Ms.jsxs)("div",{className:"new-tab__express-form-value",children:["$",p-s]})]})]}),(0,Ms.jsx)("div",{className:"button-wrapper",children:(0,Ms.jsxs)("button",{disabled:g||l,onClick:function(){return t(function(t){return{type:En,payload:t}}(s))},className:"btn ".concat(g?"btn-danger-light":"btn-green-light"),children:[l&&(0,Ms.jsxs)(Ms.Fragment,{children:["".concat((0,yt.tr)("expresses.confirming")," "),(0,Ms.jsx)("i",{className:"fa fa-spinner fa-spin fa-fw"})]}),!l&&(0,yt.tr)("expresses.confirm")]})})]})]}),x&&o.length<de.Ay.EXPRESS.MIN_DEALS&&(0,Ms.jsx)(Ms.Fragment,{children:(0,Ms.jsx)("div",{className:"no-items-block",children:(0,Ms.jsxs)("div",{className:"msg-block",children:[(0,Ms.jsx)("div",{className:"msg-block__icon",children:(0,Ms.jsx)("i",{className:"fa fa-exclamation-circle"})}),(0,yt.tr)("expresses.no_items",de.Ay.EXPRESS.MIN_DEALS)]})})})]})},Pp=(0,u.Ng)((function(t){return{currentTime:t.global.currentTime}}))((function(t){var e=t.currentTime,n=t.openTimestamp,r=t.closeTimestamp,i=r-e,o=r-n,a=Math.min(100,(0,qn.xr)(100-i/o*100));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"progress",children:(0,Ms.jsx)("div",{className:"progress-bar",style:{width:"".concat(a,"%")}})}),(0,Ms.jsx)("span",{className:"to-expiration-time",children:ci(i)})]})})),Cp=function(t){var e=t.deal,n=(0,u.d4)((function(t){return(0,Vs.P7)(t)(e.asset)})),r=e.openPrice,i=e.percentProfit,o=e.closeTimestamp,a=e.openTimestamp,s=e.command,c=e.status,l=e.closePrice,h=void 0===l?"":l,f="price-".concat((0,qt.nT)(s)?"up":"down"),d="fa ".concat((0,qt.nT)(s)?"fa-caret-up":"fa-caret-down"),p=c!==bn,m=c===gn,y=c===wn,v=function(){var t="".concat(r).concat(p?"/".concat(h):"");return m||y?(0,Ms.jsx)("div",{className:(0,Ds.A)(m&&"price-up",y&&"price-down"),children:t}):t};return(0,Ms.jsxs)("div",{className:"deals__item item",children:[(0,Ms.jsxs)("div",{className:"item__top",children:[(0,Ms.jsxs)("div",{className:"item__col flex flex-aic",children:[(0,Ms.jsx)("span",{className:f,children:(0,Ms.jsx)("i",{className:d})}),(0,Ms.jsx)("div",{className:(0,Ds.A)("item__label",!p&&"crop-text"),children:null!=n?n:e.asset}),(0,Ms.jsxs)("div",{className:"item__percent-profit price-up",children:[i>0?"+":"",i,"%"]})]}),!p&&(0,Ms.jsx)("div",{className:"item__col item__col--progress flex flex-aic",children:(0,Ms.jsx)(Pp,{openTimestamp:a,closeTimestamp:o})}),p&&(0,Ms.jsx)("div",{className:"item__col text-right",children:v()})]}),!p&&(0,Ms.jsxs)("div",{className:"item__bottom",children:[(0,Ms.jsxs)("div",{className:"item__col",children:[(0,Ms.jsx)("div",{className:"item__k",children:(0,yt.tr)("expresses.open_price")}),(0,Ms.jsx)("div",{className:"item__v",children:v()})]}),(0,Ms.jsxs)("div",{className:"item__col text-right",children:[(0,Ms.jsx)("div",{className:"item__k",children:(0,yt.tr)("expresses.current_price")}),(0,Ms.jsx)("div",{className:"item__v",children:"???????"})]})]})]})};function kp(t){var e=t.expressId,n=(0,u.d4)((function(t){return function(t){return(0,Md.Mz)([zd,Ud],(function(e,n){return e.filter((function(e){return n[e].expressId===t})).map((function(t){return n[t]}))}))}(e)(t)}));return n.map((function(t){return(0,Ms.jsx)(Cp,{deal:t},t.id)}))}var Np=function(t){var e=t.expressId,n=t.isOpen,r=(0,u.wA)(),i=(0,u.d4)((function(t){return t.expresses.closed.expressById[e]})),o=(0,u.d4)((function(t){return Yd(t)(e)})),a=i.amount,s=i.factor,c=i.status,l=(0,qn.xr)(a*s)-a;l<0&&(l=0);var h,f=c===jn,d=(f||c===On?l:0).toFixed(2),p=(0,qt.T$)(s),m=wi(i.openTimestamp),y=o?wi(o):"";return(0,Ms.jsxs)("div",{className:"ei",children:[(0,Ms.jsxs)("div",{onClick:(h=n?null:e,function(){return r(Nd(h))}),className:"ei__short-info short-info",children:[(0,Ms.jsxs)("div",{className:"short-info__col",children:[(0,Ms.jsxs)("div",{className:"short-info__k",children:[(0,yt.tr)("expresses.amount"),":"]}),(0,Ms.jsxs)("div",{className:"short-info__v",children:["$",a]})]}),(0,Ms.jsxs)("div",{className:"short-info__col",children:[(0,Ms.jsxs)("div",{className:"short-info__k",children:[(0,yt.tr)("expresses.total_payout"),":"]}),(0,Ms.jsxs)("div",{className:"short-info__v",children:[p>0?"+":"",p,"%"]})]}),(0,Ms.jsxs)("div",{className:"short-info__col text-right",children:[(0,Ms.jsxs)("div",{className:"short-info__k",children:[(0,yt.tr)("expresses.profit"),":"]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("short-info__v",f&&"price-up"),children:[f?"+":"","$",d]})]})]}),n&&(0,Ms.jsxs)("div",{className:"ei__deals deals",children:[(0,Ms.jsxs)("div",{className:"deals__id",children:[(0,Ms.jsxs)("div",{children:[(0,yt.tr)("expresses.express")," #"]})," ",e]}),(0,Ms.jsxs)("div",{className:"deals__times flex flex-aic flex-jcsb",children:[(0,Ms.jsxs)("div",{className:"deals__open-time",children:[(0,Ms.jsx)("div",{children:(0,yt.tr)("expresses.open_time")})," ",m]}),(0,Ms.jsxs)("div",{className:"deals__close-time text-right",children:[(0,Ms.jsx)("div",{children:(0,yt.tr)("expresses.close_time")})," ",y]})]}),(0,Ms.jsx)(kp,{expressId:e})]})]})},Ip=(0,r.memo)(Np),Rp=function(){var t=(0,u.d4)((function(t){return t.expresses.closed.expressIds})),e=(0,u.d4)((function(t){return t.global.isDemo})),n=(0,u.d4)((function(t){return t.expresses.selectedExpresses})),r=(0,u.d4)(Wc.AQ);return(0,Ms.jsxs)(Ms.Fragment,{children:[0===t.length&&(0,Ms.jsx)("div",{className:"no-items-block",children:(0,Ms.jsxs)("div",{className:"msg-block",children:[(0,Ms.jsx)("div",{className:"msg-block__icon",children:(0,Ms.jsx)("i",{className:"fa fa-exclamation-circle"})}),(0,yt.tr)("expresses.no_closed")]})}),t.length>0&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"ei-list",children:t.map((function(t){return(0,Ms.jsx)(Ip,{expressId:t,isOpen:n===t},t)}))}),!r&&(0,Ms.jsx)("div",{className:"more-btn",children:(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/".concat(e?"demo-":"","express-history/")),className:"btn btn-primary btn-block",children:(0,yt.tr)("more")})})]})]})},Lp=function(t){var e=t.deal,n=(0,u.d4)((function(t){return(0,Vs.P7)(t)(e.asset)})),r=(0,u.d4)((function(t){return(0,Bd._r)(t)(e.asset)})),i=(0,u.d4)((function(t){return(0,Vs.L5)(t)(e.asset)})),o=e.openPrice,a=e.percentProfit,s=e.closeTimestamp,c=e.openTimestamp,l=e.command,h=e.status,f=e.closePrice,d=void 0===f?"":f,p=(0,qt.nT)(l),m="price-".concat(p?"up":"down"),y="fa ".concat(p?"fa-caret-up":"fa-caret-down"),v=h!==bn,b=h===gn,g=h===wn,w=p&&o<r||!p&&o>r,x="";return w&&(x="price-up"),w||o===r||(x="price-down"),(0,Ms.jsxs)("div",{className:"deals__item item",children:[(0,Ms.jsxs)("div",{className:"item__top",children:[(0,Ms.jsxs)("div",{className:"item__col flex flex-aic",children:[(0,Ms.jsx)("span",{className:m,children:(0,Ms.jsx)("i",{className:y})}),(0,Ms.jsx)("div",{className:"item__label crop-text",children:n}),(0,Ms.jsxs)("div",{className:"item__percent-profit price-up",children:[a>0?"+":"",a,"%"]})]}),!v&&(0,Ms.jsx)("div",{className:"item__col item__col--progress flex flex-aic",children:(0,Ms.jsx)(Pp,{openTimestamp:c,closeTimestamp:s})})]}),(0,Ms.jsxs)("div",{className:"item__bottom",children:[(0,Ms.jsxs)("div",{className:"item__col",children:[(0,Ms.jsx)("div",{className:"item__k",children:(0,yt.tr)("expresses.open_price")}),(0,Ms.jsx)("div",{className:(0,Ds.A)("item__v",b&&"price-up",g&&"price-down"),children:"".concat((0,qn.xr)(o,i,!0)).concat(v?"/".concat((0,qn.xr)(d,i,!0)):"")})]}),(0,Ms.jsxs)("div",{className:"item__col text-right",children:[(0,Ms.jsx)("div",{className:"item__k",children:(0,yt.tr)("expresses.current_price")}),(0,Ms.jsx)("div",{className:(0,Ds.A)("item__v",x),children:(0,qn.xr)(r,i,!0)})]})]})]})},Dp=function(t){var e,n=t.expressId,r=(0,u.wA)(),i=(0,u.d4)((function(t){return function(t){return(0,Md.Mz)([Wd,Vd],(function(e,n){return e.filter((function(e){return n[e].expressId===t})).map((function(t){return n[t]}))}))}(n)(t)})),o=(0,u.d4)((function(t){return t.expresses.opened.expressById[n]})),a=(0,u.d4)((function(t){return t.expresses.selectedExpresses})),s=(0,u.d4)((function(t){return Qd(t)(n)})),c=o.amount,l=o.factor,h=Math.trunc(100*(l-1)),f=n===a,d=(0,qn.xr)(c*s-c,2);return(0,Ms.jsxs)("div",{className:"ei",children:[(0,Ms.jsxs)("div",{onClick:(e=f?null:n,function(){return r(Nd(e))}),className:"ei__short-info short-info",children:[(0,Ms.jsxs)("div",{className:"short-info__col",children:[(0,Ms.jsxs)("div",{className:"short-info__k",children:[(0,yt.tr)("expresses.amount"),":"]}),(0,Ms.jsxs)("div",{className:"short-info__v",children:["$",c]})]}),(0,Ms.jsxs)("div",{className:"short-info__col",children:[(0,Ms.jsxs)("div",{className:"short-info__k",children:[(0,yt.tr)("expresses.total_payout"),":"]}),(0,Ms.jsxs)("div",{className:"short-info__v",children:[h>0?"+":"",h,"%"]})]}),(0,Ms.jsxs)("div",{className:"short-info__col text-right",children:[(0,Ms.jsxs)("div",{className:"short-info__k",children:[(0,yt.tr)("expresses.expected_profit"),":"]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("short-info__v",d>0&&"price-up"),children:[d>0?"+":"","$",d]})]})]}),f&&(0,Ms.jsx)("div",{className:"ei__deals deals",children:i.map((function(t){return(0,Ms.jsx)(Lp,{deal:t},t.id)}))})]})},Mp=function(){var t=(0,u.wA)(),e=(0,u.d4)((function(t){return t.expresses.opened.expressIds}));return(0,Ms.jsxs)(Ms.Fragment,{children:[0===e.length&&(0,Ms.jsxs)("div",{className:"no-items-block",children:[(0,Ms.jsxs)("div",{className:"msg-block",children:[(0,Ms.jsx)("div",{className:"msg-block__icon",children:(0,Ms.jsx)("i",{className:"fa fa-exclamation-circle"})}),(0,yt.tr)("expresses.no_opened")]}),(0,Ms.jsx)("div",{className:"button-wrapper",children:(0,Ms.jsx)("a",{className:"btn btn-green-light btn-block",onClick:function(){return t(kd(Sn))},children:(0,yt.tr)("expresses.create_new")})})]}),e.length>0&&(0,Ms.jsx)("div",{className:"ei-list",children:e.map((function(t){return(0,Ms.jsx)(Dp,{expressId:t},t)}))})]})};function Bp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Hp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fp=[gt,xt,jt],Gp=function(t){switch(t){case gt:return(0,Ms.jsx)("i",{className:"fa fa-usd"});case xt:return(0,Ms.jsx)("i",{className:"fa fa-tint"});case jt:return(0,Ms.jsx)("i",{className:"fa fa-file-text-o"});case St:return(0,Ms.jsx)("i",{className:"fa fa-star"});case _t:return(0,Ms.jsx)("i",{className:"fa fa-search"});case"deals":return(0,Ms.jsx)("i",{className:"fa fa-bullseye"});case Tt:return(0,Ms.jsx)("i",{className:"fa fa-question"});default:return""}},Vp=function(t){var e=t.searchTerm,n=t.isSearching,i=t.selectedAssetCategory,o=t.changeSearchTerm,a=Bp((0,r.useState)(!1),2),s=a[0],c=a[1],l=(0,u.wA)(),h=function(t){return function(){o(""),l(Id(t))}};return(0,Ms.jsxs)("div",{className:"flex-vertical-block__body-nav",children:[(0,Ms.jsx)("div",{className:"flex-vertical-block__body-nav-title",children:(0,yt.tr)("expresses.select_assets")}),(0,Ms.jsxs)("div",{className:"flex-vertical-block__body-nav-list-wrap",children:[(0,Ms.jsxs)("div",{className:"flex-vertical-block__body-nav-list",children:[Fp.map((function(t){return(0,Ms.jsx)("a",{className:(0,Ds.A)(i===t&&!n&&"active"),onClick:h(t),children:Gp(t)},t)})),(0,Ms.jsx)("a",{onClick:function(){c(!0)},children:Gp(_t)})]}),s&&(0,Ms.jsxs)("div",{className:"search-full-block",children:[(0,Ms.jsx)("input",{type:"text",placeholder:"EUR/USD OTC",value:e,onChange:function(t){return o(t.target.value)}}),(0,Ms.jsx)("i",{onClick:function(){c(!1),o("")},className:"fa fa-times-circle"})]})]})]})},Wp="left-top",Up="right-top",zp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wp;if(!t)return{};var n=t.getBoundingClientRect()||{},r=n.top,i=void 0===r?0:r,o=n.left,a=void 0===o?0:o,s=n.right,c=void 0===s?0:s,l=n.bottom,u=void 0===l?0:l,h={top:i+document.body.scrollTop,left:a+document.body.scrollLeft,elementHeight:Math.round(100*t.offsetHeight)/100,elementWidth:Math.round(100*t.offsetWidth)/100};return e===Up?{top:h.top+h.elementHeight,rectTop:i,rectBottom:u,right:window.innerWidth-c-document.body.scrollLeft}:{top:h.top+h.elementHeight,rectTop:i,rectBottom:u,left:h.left}},Xp=Pl((function(t){var e=t.openerNode,n=t.onDropdownClose;return(0,Ms.jsx)(Uf,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Ms.jsx)(od,{onClickOutside:n,className:"drop-down-modal drop-down-modal__signal-settings",style:zp(e),children:(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"divider mb-15",children:(0,yt.tr)("expresses.howto-title")}),(0,Ms.jsx)("div",{className:"s-text mb-10",children:(0,yt.tr)("expresses.howto-desc")})]})})})}));function $p(t){return $p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(t)}function Yp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yp(Object(n),!0).forEach((function(e){Kp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kp(t,e,n){var r;return r=function(t,e){if("object"!=$p(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==$p(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jp={},tm=(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/svg/icons/help-icon.svg"}),em=Pl((function(t){var e=t.onClickOutside,n=(0,u.wA)(),i=Zp((0,r.useState)(""),2),o=i[0],a=i[1],s=(0,u.d4)((function(t){return t.expresses.opened.expressIds.length})),c=(0,u.d4)((function(t){return t.expresses.selectedTab})),l=(0,u.d4)((function(t){return t.expresses.selectedAssetCategory})),h=(0,u.d4)((function(t){return t.global.isMobile})),f=(0,r.useRef)(null),d=Zp((0,r.useState)(!1),2),p=d[0],m=d[1];(0,r.useEffect)((function(){return n(Rd()),function(){n((function(t,e){var n=e(),r=n.expresses.subscribedSymbols,i=(0,Ad.Nx)(n);r.forEach((function(t){i.includes(t)||hr.A.instance.unsubscribeAsset(t)})),t({type:Ln,payload:[]})}))}}),[]);var y=o.length>0,v=function(t){return function(){a(""),n(kd(t))}},b=h?od:"div",g=h?{onClickOutside:function(t){a(""),e(t)}}:Jp;return(0,Ms.jsx)(Uf,{className:"right-sidebar-modal__overlay",children:(0,Ms.jsx)(b,qp(qp({className:"right-sidebar-modal active express-modal"},g),{},{children:(0,Ms.jsx)("div",{className:"tab-wrap",children:(0,Ms.jsxs)("div",{className:"flex-vertical-block",children:[(0,Ms.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Ms.jsx)(Zu,{ref:f,text:(0,yt.tr)("right_panel.express_trades")}),!h&&(0,Ms.jsx)("a",{onClick:function(){return m(!0)},className:(0,Ds.A)("title-position-icon",p&&"active"),children:tm}),p&&(0,Ms.jsx)(Xp,{openerNode:f.current,onDropdownClose:function(){return m(!1)}}),(0,Ms.jsxs)("ul",{className:(0,Ds.A)(h&&"tab-nav-mobile-sidebar",!h&&"tab-nav tab-nav--v2"),children:[(0,Ms.jsx)("li",{className:(0,Ds.A)(c===Sn&&"active"),children:(0,Ms.jsx)("a",{onClick:v(Sn),children:(0,Ms.jsx)("span",{children:(0,yt.tr)("expresses.new")})})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(c===_n&&"active"),children:(0,Ms.jsxs)("a",{onClick:v(_n),children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("expresses.opened")}),s>0&&(0,Ms.jsx)("span",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:s,type:cn})})]})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(c===Tn&&"active"),children:(0,Ms.jsx)("a",{onClick:v(Tn),children:(0,Ms.jsx)("span",{children:(0,yt.tr)("expresses.closed")})})})]})]}),(0,Ms.jsx)("div",{className:"flex-vertical-block__body",children:(0,Ms.jsxs)(ku,{children:[c===Sn&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(Ep,{}),(0,Ms.jsx)(Vp,{searchTerm:o,isSearching:y,changeSearchTerm:a,selectedAssetCategory:l}),(0,Ms.jsx)(jp,{isSearching:y,searchTerm:o,selectedAssetCategory:l})]}),c===_n&&(0,Ms.jsx)(Mp,{}),c===Tn&&(0,Ms.jsx)(Rp,{})]})})]})})}))})})),nm=(0,u.Ng)((function(t){return{isOpen:t.modals.states[me.lx.EXPRESSES]}}))((function(t){var e=t.isOpen,n=t.clickHandler;return(0,Ms.jsxs)("li",{className:(0,Ds.A)(e&&"active open-menu"),children:[(0,Ms.jsx)(Td,{menuClick:n}),e&&(0,Ms.jsx)(em,{onClickOutside:n})]})}));function rm(t){return rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(t)}function im(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function om(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?im(Object(n),!0).forEach((function(e){am(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):im(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function am(t,e,n){var r;return r=function(t,e){if("object"!=rm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==rm(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sm=(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/svg/icons/sidebar/signals.svg"}),cm=function(){var t=(0,u.wA)(),e=(0,u.d4)((function(t){return t.modals.states[me.lx.SIGNALS_WIDGET]})),n=(0,u.d4)(Cr.WN);return(0,Ms.jsx)("li",{className:(0,Ds.A)(e&&"active open-menu"),children:(0,Ms.jsxs)("a",{onClick:function(){t((0,ys.Ep)(om(om({},me.n5),{},am({},me.lx.SIGNALS_WIDGET,!e))))},className:(0,Ds.A)("js-tour-signals-icon",n&&"tooltip2"),children:[sm,(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("right_panel.signals")}),n&&(0,Ms.jsx)(Vc,{position:"left",children:(0,Ms.jsxs)(Ms.Fragment,{children:[(0,yt.tr)("right_panel.signals"),(0,Ms.jsx)("br",{}),(0,yt.tr)("right_panel.signals_tooltip")]})})]})})};function lm(t){return lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(t)}function um(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?um(Object(n),!0).forEach((function(e){fm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fm(t,e,n){var r;return r=function(t,e){if("object"!=lm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==lm(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dm=(0,u.Ng)((function(t){var e=t.deals,n=t.global,r=t.modals,i=e.openedIds,o=e.openedById;return{countOpened:i.filter((function(t){return o[t].closeTimestamp>=n.currentTime})).length,showTooltip:!n.isMobile&&n.enabledTooltipMessage,isOpen:r.states[me.lx.DEALS_WIDGET]}}),{changeModalStates:ys.Ep})((function(t){var e=t.isOpen,n=t.countOpened,r=t.showTooltip,i=t.changeModalStates;return(0,Ms.jsx)("li",{className:(0,Ds.A)(e&&"active open-menu"),children:(0,Ms.jsxs)("a",{onClick:function(){i(hm(hm({},me.n5),{},fm({},me.lx.DEALS_WIDGET,!e)))},className:(0,Ds.A)(r&&"tooltip2"),children:[(0,Ms.jsx)("i",{className:"fa fa-history"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("deals.trades")}),n>0&&(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:n,type:Ye})}),r&&(0,Ms.jsx)(Vc,{position:"left",children:(0,Ms.jsxs)(Ms.Fragment,{children:[(0,yt.tr)("deals.trades"),(0,Ms.jsx)("br",{}),(0,yt.tr)("deals.bets_history")]})})]})})}));function pm(t){return pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(t)}var mm=["children","WrapperComponent","className","TooltipComponent"];function ym(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ym(Object(n),!0).forEach((function(e){bm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bm(t,e,n){var r;return r=function(t,e){if("object"!=pm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==pm(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gm(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var wm=(0,r.forwardRef)((function(t,e){var n=(0,u.d4)((function(t){return t.global.enabledTooltipMessage})),r=(0,u.d4)((function(t){return t.global.isMobile})),i=n&&!r,o=t.children,a=t.WrapperComponent,s=void 0===a?"a":a,c=t.className,l=void 0===c?null:c,h=t.TooltipComponent,f=gm(t,mm),d=(0,Ds.A)(i&&"tooltip2",l);return(0,Ms.jsxs)(s,vm(vm({},f),{},{ref:e,className:d,children:[o,(0,Ms.jsx)(h,{})]}))}));wm.propTypes={TooltipComponent:Rc().func.isRequired,WrapperComponent:Rc().string};var xm=function(t){var e=t.menuClick,n=t.activeTournamentCount;return(0,Ms.jsxs)(wm,{className:"js-tournament",onClick:e,TooltipComponent:function(){return(0,Ms.jsx)(Vc,{position:"left",children:(0,Ms.jsxs)(Ms.Fragment,{children:[(0,yt.tr)("right_panel.tournaments"),(0,Ms.jsx)("br",{}),(0,yt.tr)("right_panel.tournaments_tooltip")]})})},children:[(0,Ms.jsx)("i",{className:"fa fa-trophy"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("right_panel.tournaments")}),n>0&&(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:n,type:on})})]})};xm.propTypes={menuClick:Rc().func.isRequired};var jm=(0,u.Ng)((function(t){return{activeTournamentCount:t.counters[on]}}))(xm);function Om(t){return Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(t)}function Sm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sm(Object(n),!0).forEach((function(e){Tm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tm(t,e,n){var r;return r=function(t,e){if("object"!=Om(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Om(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Om(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Am=function(t){return(0,Ms.jsx)("div",_m(_m({className:"r-loading"},t),{},{children:(0,Ms.jsx)(ql,{type:Hl})}))},Em=function(){return(0,Ms.jsx)("div",{"data-testid":"loading-tab",children:(0,Ms.jsx)(Am,{})})},Pm={getAllData:function(){return wh.request({url:(0,je.hX)("api/tournaments/all-data")})},getById:function(t){return wh.request({url:(0,je.hX)("api/tournaments/detail/".concat(t,"?format=json"))})}};function Cm(t){return Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(t)}function km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nm(r.key),r)}}function Nm(t){var e=function(t,e){if("object"!=Cm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cm(e)?e:String(e)}function Im(t,e,n){return e=Lm(e),function(t,e){if(e&&("object"===Cm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Rm()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function Rm(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Rm=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lm(t)}function Dm(t,e){return Dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dm(t,e)}var Mm=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.tpl_close='<a class="gritter-close" href="#" tabindex="1"><i class="fa fa-times"></i></a>',Im(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dm(t,e)}(e,t),n=e,r&&km(n.prototype,r),i&&km(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Rh),Bm=Mm,Hm=function(){return function(t,e){if(!e().tournaments.isInitialLoading)return t(ke.startLoadingInitialData()),Pm.getAllData().then((function(n){var r=n.data,i=n.hideStatistics;if(!0===n.status){r.hideStatistics=i,t(ke.loadTournamentInitialData(r));var o=e().tournaments,a=o.detailsModal,s=a.isLoading,c=a.loadingId,l=a.startTab;if(!s&&c>0&&t(Um(c,l)),!o.enabledRatingWidget){var u=o.tournaments.find((function(t){return t.id===o.currentTournament.id}));u&&t(ke.updateCurrentTournamentRank({changed:u.changed,rank:u.rank}))}}}))}};function Fm(t){return function(e){return e(ke.startLoadingTournamentModal({modalId:me.lx.TOURNAMENT_HISTORY,id:t})),wh.request({url:(0,je.hX)("api/tournaments/history/".concat(t,"?format=json")),catch:function(){return e(ke.errorLoadingTournamentModal({modalId:me.lx.TOURNAMENT_HISTORY}))}}).then((function(t){var n=t.data,r=t.hideStatistics;!0===t.status?(n.hideStatistics=r,e(ke.finishLoadingTournamentModal({modalId:me.lx.TOURNAMENT_HISTORY,data:n}))):e(ke.errorLoadingTournamentModal({modalId:me.lx.TOURNAMENT_HISTORY}))}))}}function Gm(t){return function(e){return e(ke.startTournamentRegistration()),wh.request({url:t,catch:function(){return e(ke.errorTournamentRegistration())}}).then((function(t){var n=t.data,r=t.status,i=t.message;!0===r?(Re.A.publish(Ha.Jh),e(ke.finishTournamentRegistration(n.tournament))):(i&&new Rh({position:Sh,time:3e3}).red(i),e(ke.errorTournamentRegistration()))}))}}function Vm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.DESCRIPTION;return function(n){return n(ke.startLoadingTournamentModal({modalId:me.lx.TOURNAMENT_DETAILS,id:t})),Pm.getById(t).then((function(t){var r=t.data;!0===t.status?n(ke.finishLoadingTournamentModal({modalId:me.lx.TOURNAMENT_DETAILS,detailsTab:e,data:r})):n(ke.errorLoadingTournamentModal({modalId:me.lx.TOURNAMENT_DETAILS}))})).catch((function(){return n(ke.errorLoadingTournamentModal({modalId:me.lx.TOURNAMENT_DETAILS}))}))}}function Wm(t){return function(e){return e(ke.startOpeningNextTournament()),wh.request({url:(0,je.hX)("api/tournaments/next-tournament/".concat(t)),catch:function(){return e(ke.errorOpeningNextTournament())}}).then((function(t){var n=t.id;!0===t.status?(e(ke.finishOpeningNextTournament()),e(zm(n,be.DESCRIPTION))):e(ke.errorOpeningNextTournament())}))}}var Um=function(t,e){return function(n,r){var i=null,o=-1,a=r().tournaments.tournaments.findIndex((function(e){return e.id===t}));a>=0&&(i=ge.ALL_TOURNAMENTS,o=a),o<0||(n(ke.selectTournamentTab(i)),n(Vm(t,e)))}};function zm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.DESCRIPTION;return function(n,r){n((0,ys.V7)({modalId:me.lx.TOURNAMENTS,value:!0})),r().tournaments.tournaments.length>0?n(Um(t,e)):n(ke.preselectTournament({loadingId:t,startTab:e}))}}function Xm(t){return function(e){e(ke.toggleRatingWidget(t))}}var $m=function(t){return t.tournaments.tournaments},Ym=function(t){return t.global.isTournamentStarted},qm=function(t){return t.tournaments.enabledRatingWidget},Km=(0,Md.Mz)([function(t){return t.tournaments.hideStatistics}],(function(t){return t})),Zm=(0,Md.Mz)([function(t){return t.tournaments.errorMessage}],(function(t){return t})),Qm=(0,Md.Mz)([$m],(function(t){return t})),Jm=(0,Md.Mz)([function(t){return t.tournaments.detailsModal.data}],(function(t){return null!==t?t.tournament:null})),ty=(0,Md.Mz)([function(t){return t.tournaments.stats}],(function(t){return null!==t})),ey=(0,Md.Mz)([Wc.vl,gc.Ay,Wc.mG,qm],(function(t,e,n,r){return t&&e&&!n&&r})),ny=(0,Md.Mz)([gc.N3,gc.Ei],(function(t,e){return t&&e})),ry=function(t){var e=t.message,n=void 0===e?(0,yt.tr)("no_data"):e;return(0,Ms.jsx)("div",{className:"no-items-block",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:n})})};function iy(t,e,n){return new Array(e-String(t).length+1).join(n||"0")+t}n(95616);var oy=function(t){t*=1e3;var e=6e4,n=36e5,r=864e5,i=Math.floor(t/r);t-=i*r;var o=Math.floor(t/n);t-=o*n;var a=Math.floor(t/e);t-=a*e;var s=Math.floor(t/1e3);return{d:i,H:iy(o,2,"0"),i:iy(a,2,"0"),s:iy(s,2,"0")}},ay=function(t){var e=(0,yt.tr)("short_days"),n="";return t.d>0&&(n=t.d+" "+e+" "),n+t.H+":"+t.i+":"+t.s};function sy(t){return sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(t)}var cy=["seconds"];function ly(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ly(Object(n),!0).forEach((function(e){hy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hy(t,e,n){var r;return r=function(t,e){if("object"!=sy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==sy(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fy(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var dy=function(t){var e=t.seconds,n=fy(t,cy);return(0,Ms.jsx)("div",uy(uy({},n),{},{children:ay(oy(e))}))},py=function(t){var e=t.space,n=void 0!==e&&e;return(0,Ms.jsxs)(Ms.Fragment,{children:[n&&" ",(0,Ms.jsx)(ql,{className:null,type:Ml})]})},my="images/cabinet/tournaments",yy=function(t,e){return(0,Ms.jsx)("img",{src:(0,je.pc)("".concat(my,"/").concat(t,".png")),srcSet:"\n                ".concat((0,je.pc)("".concat(my,"/").concat(t,".png"))," 1x, \n                ").concat((0,je.pc)("".concat(my,"/").concat(t,"@2x.webp"))," 2x\n            "),alt:e,className:"tournament__img"})},vy=function(){return(0,Ms.jsx)(Vc,{position:"left",text:"tournaments.cup_tooltip_text"})};function by(t){return"light"===t?"/images/cabinet/tournaments/cup_registered1-l.svg":"/images/cabinet/tournaments/cup_registered1-d.svg"}function gy(t){var e=t.fee,n=t.prize;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"tkv",children:[(0,Ms.jsx)("div",{className:"tkv__k",children:(0,yt.tr)("tournaments.prize_f")}),(0,Ms.jsxs)("div",{className:"tkv__v",children:["$",n]})]}),(0,Ms.jsxs)("div",{className:"tkv",children:[(0,Ms.jsx)("div",{className:"tkv__k",children:(0,yt.tr)("tournaments.participation")}),(0,Ms.jsx)("div",{className:"tkv__v",children:e>0?"$".concat(e):(0,yt.tr)("tournaments.free")})]})]})}var wy=function(){var t=(0,u.d4)(Qm),e=(0,u.d4)(ty),n=(0,u.wA)(),r=(0,u.d4)((function(t){return t.global.currentTime})),i=(0,u.d4)((function(t){return t.modals.states[me.lx.TOURNAMENT_DETAILS]})),o=(0,u.d4)((function(t){return t.tournaments.detailsModal})),a=o.isLoading,s=o.loadingId,c=(0,u.d4)(Jm),l=(0,u.d4)((function(t){return t.global.isMobile})),h=(0,u.d4)((function(t){return t.global.theme})),f=(0,Ms.jsx)(Gs.k,{className:"svg-icon-wrap",src:by(h)});if(!e)return(0,Ms.jsx)(Em,{});if(0===t.length)return(0,Ms.jsx)(ry,{});var d=function(t){return function(){a||n(Vm(t))}};return(0,Ms.jsx)("div",{className:"tournaments-list",children:t.map((function(t){var e=t.id,n=t.type,o=t.isRegistered,u=t.prize,h=t.timeStart,p=t.timeEnd,m=t.title,y=t.link,v=t.rank,b=t.changed,g=t.balance,w=t.fee,x=s>0&&e===s||i&&null!==c&&c.id===e,j=s>0&&e!==s||i&&null!==c&&c.id!==e,O=r>=h&&r<=p;return(0,Ms.jsxs)("div",{className:(0,Ds.A)("tournament","tournament--".concat(n),x&&"tournament--active",j&&"tournament--not-active",o&&"tournament--registered"),children:[(0,Ms.jsxs)("div",{className:"tournament__content",onClick:d(e),children:[(0,Ms.jsx)("div",{className:"tournament__img-wrap",children:yy(n,m)}),(0,Ms.jsx)("div",{className:"tournament__name",children:m}),!o&&(0,Ms.jsx)(gy,{fee:w,prize:u}),o&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"tkv",children:[(0,Ms.jsx)("div",{className:"tkv__k",children:(0,yt.tr)("tournaments.detail_modal.text10")}),(0,Ms.jsxs)("div",{className:"tkv__v",children:[de.Ay.TOURNAMENT_CURRENCY,g]})]}),O&&(0,Ms.jsxs)("div",{className:"tkv",children:[(0,Ms.jsx)("div",{className:"tkv__k",children:(0,yt.tr)("tournaments.your_position")}),(0,Ms.jsxs)("div",{className:"tkv__v",children:[O&&(0,Ms.jsxs)("div",{className:"tournament__place-rank-wrap flex flex-aic",children:[(0,Ms.jsx)("div",{className:"tournament__place-rank",children:v}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("tournament-rank-position-offset","tournament-rank-position-offset--".concat(b>=0?"up":"down")),children:[b>0&&"+",b]})]}),!O&&"-"]})]}),!O&&(0,Ms.jsx)(gy,{fee:w,prize:u}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("tournament__cup",!l&&"tooltip2"),children:[f,!l&&(0,Ms.jsx)(vy,{})]})]})]}),(0,Ms.jsxs)("div",{className:"tournament__footer flex flex-aic flex-jcsb",children:[O&&(0,Ms.jsxs)("div",{className:"tournament__time-to-end",children:[(0,Ms.jsxs)("div",{className:"tournament__time-to-end-label",children:[(0,yt.tr)("tournaments.till_the_end"),":"]}),(0,Ms.jsx)(dy,{className:"tournament__time",seconds:p-r})]}),!O&&(0,Ms.jsxs)("div",{className:"tournament__time-to-end",children:[(0,Ms.jsxs)("div",{className:"tournament__time-to-end-label",children:[(0,yt.tr)("tournaments.to_start"),":"]}),(0,Ms.jsx)(dy,{className:"tournament__time",seconds:h-r})]}),o&&(0,Ms.jsxs)(Ms.Fragment,{children:[O&&(0,Ms.jsxs)("a",{href:y,className:(0,Ds.A)("tournament__btn btn btn-blue-light",a&&e===s&&"tournament__btn-ajax-loading"),children:[(0,yt.tr)("tournaments.continue"),a&&e===s&&(0,Ms.jsx)(py,{})]}),!O&&(0,Ms.jsxs)("a",{href:y,className:(0,Ds.A)("tournament__btn btn btn-blue-light",a&&e===s&&"tournament__btn-ajax-loading"),children:[(0,yt.tr)("tournaments.waiting_room"),a&&e===s&&(0,Ms.jsx)(py,{})]})]}),!o&&(0,Ms.jsxs)("a",{className:(0,Ds.A)("tournament__btn btn btn-green",a&&e===s&&"tournament__btn-ajax-loading"),onClick:d(e),children:[(0,yt.tr)("tournaments.join"),a&&e===s&&(0,Ms.jsx)(py,{})]})]})]},e)}))})},xy=function(){var t=(0,u.d4)(ty),e=(0,u.d4)(Km),n=(0,u.d4)(Zm),i=(0,u.wA)();return(0,r.useEffect)((function(){t||n||i(Hm())}),[]),t||n?n?(0,Ms.jsx)(ry,{message:n}):e?(0,Ms.jsx)(ry,{message:(0,yt.tr)("tournaments.tournaments_unavailable")}):(0,Ms.jsx)(wy,{}):(0,Ms.jsx)(Em,{})},jy=function(){var t=(0,u.d4)((function(t){return t.tournaments.history}));if(0===t.length)return null;var e=(0,u.d4)((function(t){return t.tournaments.historyModal.isLoading})),n=(0,u.wA)(),r=function(t){return function(){e||n(Fm(t))}};return(0,Ms.jsxs)("div",{className:"stats__history history",children:[e&&(0,Ms.jsx)(ql,{className:"ajax-loader-v2 js-ajax-loader-v2 ajax-loader-v2--absolute ajax-loader-v2--block"}),(0,Ms.jsx)("div",{className:"history__title",children:(0,yt.tr)("tournaments.history_title")}),(0,Ms.jsxs)("table",{className:"table table--no-bordered-v1",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"40%"}}),(0,Ms.jsx)("col",{style:{width:"50%"}}),(0,Ms.jsx)("col",{style:{width:"10%"}})]}),(0,Ms.jsx)("thead",{children:(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("th",{children:(0,yt.tr)("tournaments.name")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("tournaments.finished")}),(0,Ms.jsx)("th",{children:"#"})]})}),(0,Ms.jsx)("tbody",{children:t.map((function(t){var e=t.id,n=t.title,i=t.dateFinish,o=t.rank,a=Ti(i);return(0,Ms.jsxs)("tr",{onClick:r(e),children:[(0,Ms.jsx)("td",{children:n}),(0,Ms.jsx)("td",{children:Ai(a)}),(0,Ms.jsx)("td",{children:o})]},e)}))})]})]})},Oy=function(){var t=(0,u.d4)((function(t){return t.tournaments.stats}));return(0,Ms.jsx)("div",{className:"stats__info info",children:(0,Ms.jsxs)("table",{children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"60%"}}),(0,Ms.jsx)("col",{style:{width:"40%"}})]}),(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{className:"info__k",children:[(0,yt.tr)("tournaments.win_cnt"),":"]}),(0,Ms.jsx)("td",{className:"info__v",children:t.wonTournaments})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{className:"info__k",children:[(0,yt.tr)("tournaments.total_prize"),":"]}),(0,Ms.jsxs)("td",{className:"info__v",children:["$",t.totalPrizeAmount]})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{className:"info__k",children:[(0,yt.tr)("tournaments.top_prize"),":"]}),(0,Ms.jsxs)("td",{className:"info__v",children:["$",t.mostValuablePrize]})]})]})]})})},Sy=function(){var t=(0,u.d4)(ty),e=(0,u.d4)(Zm),n=(0,u.wA)();return(0,r.useEffect)((function(){t||e||n(Hm())}),[]),t||e?e?(0,Ms.jsx)(ry,{message:e}):(0,Ms.jsxs)("div",{className:"stats",children:[(0,Ms.jsx)(Oy,{}),(0,Ms.jsx)(jy,{})]}):(0,Ms.jsx)(Em,{})},_y="ALL_TOURNAMENTS",Ty=(0,u.Ng)((function(t){return{activeTournamentCount:t.counters[on]}}))((function(t){var e=t.activeTournamentCount,n=(0,u.d4)((function(t){return t.tournaments.selectedTab})),i=(0,u.d4)((function(t){return t.global.isMobile})),o=(0,u.wA)(),a=function(t){return function(){return o(ke.selectTournamentTab(t))}},s=(0,r.useRef)(null);return(0,Ms.jsxs)("div",{className:"flex-vertical-block",children:[(0,Ms.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.tournaments")}),(0,Ms.jsx)("ul",{className:(0,Ds.A)(i?"tab-nav-mobile-sidebar":"tab-nav tab-nav--v2"),children:Object.keys(ge).map((function(t){return(0,Ms.jsx)("li",{className:(0,Ds.A)(t===n&&"active"),children:(0,Ms.jsxs)("a",{onClick:a(t),children:[(0,yt.tr)("tournaments.".concat(ge[t])),t===_y&&e>0&&(0,Ms.jsx)(qc,{count:e,type:on})]})},t)}))})]}),(0,Ms.jsx)("div",{className:"flex-vertical-block__body",children:(0,Ms.jsx)(ku,{className:"tab-body",containerRef:function(t){return s.current=t},children:(0,Ms.jsxs)("div",{style:{display:"block"},children:[n===ge.ALL_TOURNAMENTS&&(0,Ms.jsx)(xy,{}),n===ge.STATISTICS&&(0,Ms.jsx)(Sy,{})]})})})]})})),Ay=Pl((function(){return(0,Ms.jsx)(Uf,{className:"right-sidebar-modal tournaments-modal",children:(0,Ms.jsx)(Ty,{})})})),Ey=function(t){var e=t.currentTournamentId,n=(0,u.wA)(),r=(0,u.d4)((function(t){return t.tournaments.isJoiningNext}));return(0,Ms.jsx)("div",{className:"bottom-btn-wrap",children:(0,Ms.jsxs)("a",{onClick:function(){r||n(Wm(e))},className:(0,Ds.A)("btn btn-green btn-block",r&&"btn-ajax-loading"),children:[(0,yt.tr)("tournaments.join_next"),r&&(0,Ms.jsx)(py,{space:!0})]})})};Ey.propTypes={currentTournamentId:Rc().number.isRequired};var Py=Ey,Cy=function(t){var e=t.tournamentId,n=(0,u.wA)(),r=(0,u.d4)((function(t){return t.tournaments.isTakingPrize}));return(0,Ms.jsx)("div",{className:"bottom-btn-wrap",children:(0,Ms.jsxs)("a",{onClick:function(){return n((t=e,function(e){return e(ke.startTakingTournamentPrize()),wh.request({url:(0,je.hX)("api/tournaments/take-prize/".concat(t)),catch:function(){return e(ke.errorTakingTournamentPrize())}}).then((function(t){var n=t.message,r=!0===t.status;e(r?ke.finishTakingTournamentPrize(t):ke.errorTakingTournamentPrize()),new Rh({position:Sh,time:3e3})[r?"green":"red"](n)}))}));var t},className:(0,Ds.A)("btn btn-green btn-block",r&&"btn-ajax-loading"),children:[(0,yt.tr)("tournaments.take_prize"),r&&(0,Ms.jsx)(py,{})]})})};Cy.propTypes={tournamentId:Rc().number.isRequired};var ky=Cy,Ny=function(t){var e=t.children;return(0,u.d4)((function(t){return t.global.isMobile}))?(0,Ms.jsx)("span",{className:"adaptive-label",children:e}):null},Iy=function(t){var e=t.users;return(0,Ms.jsx)(ku,{className:"history-rating",children:(0,Ms.jsxs)("table",{className:"table table-adaptive",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"5%"}}),(0,Ms.jsx)("col",{style:{width:"45%"}}),(0,Ms.jsx)("col",{style:{width:"25%"}}),(0,Ms.jsx)("col",{style:{width:"25%"}})]}),(0,Ms.jsx)("thead",{children:(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("th",{children:"#"}),(0,Ms.jsx)("th",{children:(0,yt.tr)("tournaments.trader_id")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("tournaments.result")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("tournaments.prize")})]})}),(0,Ms.jsx)("tbody",{children:e.map((function(t){var e=t.isMe,n=t.name,r=t.rank,i=t.prize,o=t.sum;return(0,Ms.jsxs)("tr",{className:(0,Ds.A)(e&&"active-tr"),children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)(Ny,{children:"#"}),r]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)(Ny,{children:(0,yt.tr)("tournaments.trader_id")}),n," ",e&&(0,Ms.jsx)("span",{className:"tournament-me-label",children:(0,yt.tr)("me")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)(Ny,{children:(0,yt.tr)("tournaments.result")}),"".concat(de.Ay.TOURNAMENT_CURRENCY).concat(o)]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)(Ny,{children:(0,yt.tr)("tournaments.prize")}),"$",i]})]},r)}))})]})})},Ry=function(){var t=(0,u.d4)((function(t){return t.tournaments.historyModal})).data,e=t.tournament,n=e.id,r=e.title,i=e.isCalculated,o=e.prize,a=e.isPrizeTaken,s=e.rank,c=e.users,l=o>0,h=(0,u.d4)(Km);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"title",children:[(0,yt.tr)("tournaments.t_history")," ",'"'.concat(r,'"')]}),!i&&(0,Ms.jsx)("div",{className:"place-info-block",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.waiting")})})}),i&&l&&(0,Ms.jsx)("div",{className:"place-info-block win",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,Ms.jsxs)("div",{children:[(0,yt.tr)("tournaments.gratz"),"! ",(0,yt.tr)("tournaments.pos",s),". ",(0,yt.tr)("tournaments.you_won",o)]})})}),i&&!l&&(0,Ms.jsx)("div",{className:"place-info-block lose",children:(0,Ms.jsxs)("div",{className:"message message-info notification-message",children:[(0,Ms.jsxs)("p",{children:[(0,yt.tr)("tournaments.no_win"),"."]}),(0,Ms.jsxs)("p",{children:[(0,yt.tr)("tournaments.pos",s),"."]})]})}),!t&&(0,Ms.jsx)(ry,{}),t&&(0,Ms.jsx)(Iy,{users:c}),i&&l&&(0,Ms.jsxs)(Ms.Fragment,{children:[a&&(0,Ms.jsx)(Py,{currentTournamentId:n}),!a&&(0,Ms.jsx)(ky,{tournamentId:n})]}),i&&!l&&!h&&(0,Ms.jsx)(Py,{currentTournamentId:n})]})},Ly=Pl((function(t){var e=t.isOpen,n=(0,u.wA)();return(0,Ms.jsx)(bd,{isOpen:e,onRequestClose:function(){return n((0,ys.V7)({modalId:me.lx.TOURNAMENT_HISTORY,value:!1}))},className:"tournament-history-modal",children:(0,Ms.jsx)(Ry,{})})})),Dy=Ly,My=(0,Ms.jsx)(Gs.k,{className:"svg-icon-wrap",src:"/images/cabinet/tournaments/detail-modal/cup.svg"}),By=function(t){var e=t.tournament,n=(0,u.d4)((function(t){return t.global.currentTime})),r=e.totalPrize,i=e.rebuy,o=e.usersCount,a=e.timeEnd,s=e.timeStart,c=e.link,l=e.users,h=e.changed,f=e.tournamentBalance,d=l.find((function(t){return t.isMe})),p=n>=s&&n<=a;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"msg msg1 flex flex-aic",children:[My,(0,Ms.jsx)("span",{children:(0,yt.tr)("tournaments.detail_modal.text1")})]}),(0,Ms.jsxs)("div",{className:"td-desc__info",children:[(0,Ms.jsxs)("table",{className:"table pc-table",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"33.3333%"}}),(0,Ms.jsx)("col",{style:{width:"33.3333%"}}),(0,Ms.jsx)("col",{style:{width:"33.3333%"}})]}),(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:[de.Ay.TOURNAMENT_CURRENCY,f]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.detail_modal.text10")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k flex flex-aic",children:[p&&(0,Ms.jsxs)(Ms.Fragment,{children:[d.rank," ",(0,Ms.jsxs)("div",{className:(0,Ds.A)("tournament-rank-position-offset","tournament-rank-position-offset--".concat(h>=0?"up":"down")),children:[h>0&&"+",h]})]}),!p&&"-"]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.detail_modal.text11")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:[p&&(0,Ms.jsx)(dy,{seconds:a-n}),!p&&(0,Ms.jsx)(dy,{seconds:s-n})]}),(0,Ms.jsxs)("div",{className:"v",children:[p&&(0,yt.tr)("tournaments.till_the_end"),!p&&(0,yt.tr)("tournaments.to_start")]})]})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",r]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.prize_f")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"k",children:o}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.users_cnt")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",i]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.rebuy_fee")})]})]})]})]}),(0,Ms.jsxs)("table",{className:"table mobile-table",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"50%"}}),(0,Ms.jsx)("col",{style:{width:"50%"}})]}),(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:[de.Ay.TOURNAMENT_CURRENCY,f]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.detail_modal.text10")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k flex flex-aic",children:[d.rank," ",(0,Ms.jsxs)("div",{className:(0,Ds.A)("tournament-rank-position-offset","tournament-rank-position-offset--".concat(h>=0?"up":"down")),children:[h>0&&"+",h]})]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.detail_modal.text11")})]})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",r]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.prize_f")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"k",children:o}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.users_cnt")})]})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:[p&&(0,Ms.jsx)(dy,{seconds:a-n}),!p&&(0,Ms.jsx)(dy,{seconds:s-n})]}),(0,Ms.jsxs)("div",{className:"v",children:[p&&(0,yt.tr)("tournaments.till_the_end"),!p&&(0,yt.tr)("tournaments.to_start")]})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",i]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.rebuy_fee")})]})]})]})]})]}),(0,Ms.jsxs)("div",{className:"target target--open",children:[(0,Ms.jsx)("div",{className:"target__title",children:(0,yt.tr)("tournaments.goal")}),(0,Ms.jsxs)("div",{className:"target__text",children:[(0,yt.tr)("tournaments.prizes_to"),"."]})]}),(0,Ms.jsx)("a",{href:c,className:"btn btn-green btn-block",children:(0,yt.tr)("tournaments.continue")})]})};function Hy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gy=function(t){var e=t.tournament,n=(0,u.d4)((function(t){return t.global.currentTime})),i=Hy((0,r.useState)(!1),2),o=i[0],a=i[1],s=e.fee,c=e.type,l=e.totalPrize,h=e.startBalance,f=e.rebuy,d=e.usersCount,p=e.timeStart,m=e.timeEnd,y=e.prizePercent,v=e.prizeMinFund,b=n>=p&&n<=m;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"td-desc__info",children:[(0,Ms.jsxs)("table",{className:"table pc-table",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"33.3333%"}}),(0,Ms.jsx)("col",{style:{width:"33.3333%"}}),(0,Ms.jsx)("col",{style:{width:"33.3333%"}})]}),(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",s]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.part_fee")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"k",children:"".concat(de.Ay.TOURNAMENT_CURRENCY).concat(h)}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.start_balance")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:[b&&(0,Ms.jsx)(dy,{seconds:m-n}),!b&&(0,Ms.jsx)(dy,{seconds:p-n})]}),(0,Ms.jsxs)("div",{className:"v",children:[b&&(0,yt.tr)("tournaments.till_the_end"),!b&&(0,yt.tr)("tournaments.to_start")]})]})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",l]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.prize_f")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"k",children:d}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.users_cnt")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",f]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.rebuy_fee")})]})]})]})]}),(0,Ms.jsxs)("table",{className:"table mobile-table",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"50%"}}),(0,Ms.jsx)("col",{style:{width:"50%"}})]}),(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",s]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.part_fee")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"k",children:"".concat(de.Ay.TOURNAMENT_CURRENCY).concat(h)}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.start_balance")})]})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",l]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.prize_f")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)("div",{className:"k",children:d}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.users_cnt")})]})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:[b&&(0,Ms.jsx)(dy,{seconds:m-n}),!b&&(0,Ms.jsx)(dy,{seconds:p-n})]}),(0,Ms.jsxs)("div",{className:"v",children:[b&&(0,yt.tr)("tournaments.till_the_end"),!b&&(0,yt.tr)("tournaments.to_start")]})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsxs)("div",{className:"k",children:["$",f]}),(0,Ms.jsx)("div",{className:"v",children:(0,yt.tr)("tournaments.rebuy_fee")})]})]})]})]})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("target",o&&"target--open"),children:[(0,Ms.jsxs)("div",{className:"target__title",onClick:function(){return a(!o)},children:[(0,yt.tr)("tournaments.tournament_regulations"),(0,Ms.jsx)("div",{className:"target__arrow",children:(0,Ms.jsx)("i",{className:"fa fa-chevron-down"})})]}),o&&(0,Ms.jsxs)("div",{className:"target__text",children:[0===s&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.free_tournament_terms.t1")}),(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.terms.t1")}),(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.terms.t2","".concat(de.Ay.TOURNAMENT_CURRENCY).concat(h))}),(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.terms.t3",v,"day_off"===c?3:10)})]}),0!==s&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.paid_tournament_terms.t1",s)}),(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.terms.t1")}),(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.terms.t2","".concat(de.Ay.TOURNAMENT_CURRENCY).concat(h))}),(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.terms.t3",v,"day_off"===c?3:10)}),(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.paid_tournament_terms.t2","".concat(y,"%"))})]})]})]})]})},Vy=function(t){var e=t.amount;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"text11",dangerouslySetInnerHTML:{__html:(0,yt.tr)("tournaments.insuff_funds","<span>".concat((0,qn.xr)(e),"</span>"))}}),(0,Ms.jsx)("div",{className:"btn-wrap",children:(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/deposit-step-1"),className:"btn btn-block btn-green-light",children:(0,yt.tr)("dep")})})]})};Vy.propTypes={amount:Rc().number.isRequired};var Wy=Vy,Uy=function(t){var e=t.message;return(0,Ms.jsx)("div",{className:"message message-unverify-profile message-error notification-message",children:e})};function zy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xy(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $y=function(t){var e=t.tournament,n=(0,u.d4)((function(t){return t.global.isDemoProfile})),i=(0,u.d4)((function(t){return t.tournaments.isRegistering})),o=zy((0,r.useState)(!1),2),a=o[0],s=o[1],c=(0,u.wA)(),l=(0,u.d4)((function(t){return t.global.isS})),h=e.id,f=e.ticketId;return(0,Ms.jsxs)(Ms.Fragment,{children:[n&&(0,Ms.jsx)("div",{className:"btn-wrap",children:(0,Ms.jsx)("a",{href:(0,je.hX)("register?tournament-id=".concat(h)),className:"btn btn-green",children:(0,yt.tr)("register")})}),!n&&!l&&(0,Ms.jsxs)("div",{className:"btn-wrap flex flex-aic",children:[(0,Ms.jsxs)("a",{onClick:function(){if(!i){var t=(0,je.hX)("api/tournaments/register/".concat(h,"?format=json"));s(!1),c(Gm(t))}},className:(0,Ds.A)("btn btn-green btn-block",i&&!a&&"btn-ajax-loading"),children:[(0,yt.tr)("tournaments.confirm_p"),i&&!a&&(0,Ms.jsx)(py,{})]}),f>0&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"btn-wrap-divider",children:(0,yt.tr)("or").toUpperCase()}),(0,Ms.jsxs)("a",{onClick:function(){if(!i){var t=(0,je.hX)("cabinet/profile/achievements/market/register-tournament/".concat(f,"/").concat(h,"?format=json"));s(!0),c(Gm(t))}},className:(0,Ds.A)("btn btn-gold btn-block",i&&a&&"btn-ajax-loading"),children:[(0,yt.tr)("tournaments.use_ticker"),i&&a&&(0,Ms.jsx)(py,{})]})]})]})]})},Yy=function(t){var e=t.url;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"text11 success",children:[(0,Ms.jsx)("h4",{children:(0,yt.tr)("tournaments.succ_reg")}),(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.press_cont")})]}),(0,Ms.jsx)("div",{className:"btn-wrap",children:(0,Ms.jsx)("a",{href:e,className:"btn btn-green btn-block",children:(0,yt.tr)("tournaments.cont")})})]})};Yy.propTypes={url:Rc().string.isRequired};var qy=Yy,Ky=function(){return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(Uy,{message:(0,yt.tr)("tournaments.for_verify")}),(0,Ms.jsx)("div",{className:"btn-wrap",children:(0,Ms.jsx)("a",{className:"btn btn-green-light btn-block",href:(0,je.hX)("cabinet/profile"),children:(0,yt.tr)("tournaments.verify")})})]})},Zy=function(t){var e,n=t.tournament,r=n.id,i=n.fee,o=(0,u.d4)((function(t){return t.global.liveBalance})),a=(0,u.d4)((e=r,(0,Md.Mz)([$m],(function(t){return t.find((function(t){return t.id===e}))})))),s=(0,u.d4)(ny),c=null!=a&&a.isRegistered,l=!c&&(s||i>0),h=o<i;return(0,Ms.jsxs)(Ms.Fragment,{children:[!l&&!c&&(0,Ms.jsx)(Ky,{}),l&&h&&(0,Ms.jsx)(Wy,{amount:i-o}),l&&!h&&(0,Ms.jsx)($y,{tournament:n}),c&&(0,Ms.jsx)(qy,{url:a.link})]})},Qy=function(t){var e=t.tournament,n=(0,u.d4)((function(t){return t.global.isDemoProfile})),r=(0,u.d4)((function(t){return t.global.liveBalance})),i=(0,u.d4)((function(t){return t.global.isS})),o=e.fee;return(0,Ms.jsxs)(Ms.Fragment,{children:[n&&(0,Ms.jsxs)("div",{className:"text11",children:[(0,yt.tr)("tournaments.open_real"),"."]}),!n&&(0,Ms.jsxs)("div",{className:"text11",children:[i&&(0,yt.tr)("tournaments.not_available"),!i&&(0,Ms.jsxs)(Ms.Fragment,{children:[o>0&&"".concat((0,yt.tr)("tournaments.real_acc_debited",o,r)),0===o&&" ".concat((0,yt.tr)("tournaments.free_tour")," ")]})]})]})},Jy=function(t){var e=t.tournament,n=e.isRegistered;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)(ku,{className:"td-desc",children:[n&&(0,Ms.jsx)(By,{tournament:e}),!n&&(0,Ms.jsx)(Gy,{tournament:e}),!n&&(0,Ms.jsx)(Qy,{tournament:e})]}),!n&&(0,Ms.jsx)(Zy,{tournament:e})]})};function tv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nv=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).debounce,e=void 0===t?200:t,n=tv((0,r.useState)({innerWidth:window.innerWidth,innerHeight:window.innerHeight}),2),i=n[0],o=n[1];return(0,r.useEffect)((function(){var t=gs()((function(){var t=window,e=t.innerWidth,n=t.innerHeight;o({innerWidth:e,innerHeight:n})}),e);return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),i};function rv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return iv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iv(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ov=function(t){var e=t.users,n=t.date,i=t.tournament,o=(0,r.useRef)(null),a=nv().innerHeight,s=rv((0,r.useState)(0),2),c=s[0],l=s[1],u=i.link,h=i.isRegistered;if((0,r.useEffect)((function(){if(null!==o.current){var t=o.current.getBoundingClientRect(),e=t.top,n=t.height;l(e+n)}}),[]),0===e.length)return(0,Ms.jsx)(ry,{});var f=c>a;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)(ku,{className:"td-rating",children:[(0,Ms.jsxs)("div",{className:"text1",children:[(0,yt.tr)("tournaments.detail_modal.text12")," ",(0,Ms.jsx)("span",{children:(0,yt.tr)("tournaments.detail_modal.text13",n)})]}),(0,Ms.jsx)("div",{className:"rating-table-wrap",children:(0,Ms.jsxs)("table",{className:(0,Ds.A)("table table-adaptive",f&&"fixed-me-bottom"),children:[(0,Ms.jsx)("thead",{children:(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("th",{children:"#"}),(0,Ms.jsx)("th",{children:(0,yt.tr)("tournaments.trader_id")}),(0,Ms.jsx)("th",{children:"".concat((0,yt.tr)("tournaments.result"),", ").concat(de.Ay.TOURNAMENT_CURRENCY)}),(0,Ms.jsx)("th",{children:(0,yt.tr)("tournaments.prize")})]})}),(0,Ms.jsx)("tbody",{children:e.map((function(t){var e=t.isMe,n=t.name,r=t.prize,i=t.rank,a=t.sum;return(0,Ms.jsxs)("tr",{className:(0,Ds.A)(e&&"active-tr",e&&f&&"its-me show_"),ref:e?o:null,children:[(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)(Ny,{children:"#"}),(0,Ms.jsx)("span",{className:(0,Ds.A)(i<=3&&"rank-".concat(i)),children:i})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)(Ny,{children:(0,yt.tr)("tournaments.trader_id")}),n," ",e&&(0,Ms.jsx)("span",{className:"tournament-me-label",children:(0,yt.tr)("me")})]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)(Ny,{children:"".concat((0,yt.tr)("tournaments.result"),", ").concat(de.Ay.TOURNAMENT_CURRENCY)}),a]}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)(Ny,{children:(0,yt.tr)("tournaments.prize")}),"$",r]})]},i)}))})]})})]}),!h&&(0,Ms.jsx)(Zy,{tournament:i}),h&&(0,Ms.jsx)("a",{href:u,className:"btn btn-green btn-block",children:(0,yt.tr)("tournaments.continue")})]})},av=function(t){var e=t.tournament,n=e.id,r=e.rebuy,i=e.startBalance,o=e.url,a=e.tournamentBalance,s=e.countOpened,c=(0,u.d4)((function(t){return t.global.liveBalance})),l=(0,u.d4)((function(t){return t.tournaments.isRebuying})),h=(0,u.d4)((function(t){return t.global.isTournament})),f=(0,u.wA)(),d=0;c<r?d=2:(a>=i||s>0)&&(d=3);return(0,Ms.jsxs)(ku,{className:"td-rebuy",children:[0===d&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"target target--open target--rebuy",children:[(0,Ms.jsx)("table",{children:(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("tournaments.before_rebuy_msg1")}),(0,Ms.jsxs)("td",{children:["$",(0,qn.xr)(c)]})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("tournaments.before_rebuy_msg2")}),(0,Ms.jsx)("td",{children:"".concat(de.Ay.TOURNAMENT_CURRENCY).concat((0,qn.xr)(Number(a)))})]})]})}),(0,Ms.jsx)("p",{children:(0,yt.tr)("tournaments.before_rebuy_msg3",r,"".concat(de.Ay.TOURNAMENT_CURRENCY).concat((0,qn.xr)(Number(i))))}),(0,Ms.jsx)("div",{className:"btn-wrap",children:(0,Ms.jsxs)("a",{onClick:function(t){return function(){return f(function(t){return function(e){return e(ke.startRebuyTournament()),wh.request({url:(0,je.hX)("api/tournaments/rebuy/".concat(t)),catch:function(){return e(ke.errorRebuyTournament())}}).then((function(n){var r=n.balance,i=n.liveBalance,o=n.message,a=void 0===o?"":o,s=!0===n.status;e(s?ke.finishRebuyTournament({id:t,message:a,liveBalance:i,tournamentBalance:r}):ke.errorRebuyTournament()),new Bm({time:3e6,to:".tournament-detail-modal"})[s?"green":"red"](a)}))}}(t))}}(n),className:(0,Ds.A)("btn btn-green-light btn-block",l&&"btn-ajax-loading"),children:[(0,yt.tr)("tournaments.confirm_rebuy"),l&&(0,Ms.jsx)(py,{})]})})]}),!h&&(0,Ms.jsx)(Ms.Fragment,{children:(0,Ms.jsx)("a",{href:o,className:"btn btn-green btn-block",children:(0,yt.tr)("tournaments.go")})})]}),1===d&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"text11",children:[(0,Ms.jsxs)("p",{children:[(0,yt.tr)("tournaments.disabled_rebuy"),":"]}),(0,Ms.jsx)("div",{className:"message message-info notification-message",style:{marginTop:"10px"},children:(0,yt.tr)("tournaments.top_up_for_rebuy",r)})]}),(0,Ms.jsx)("div",{className:"btn-wrap",children:(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/deposit-step-1/"),className:"btn btn-green-light btn-block",children:(0,yt.tr)("dep")})})]}),2===d&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"text11",children:[(0,Ms.jsxs)("p",{children:[(0,yt.tr)("tournaments.disabled_rebuy"),":"]}),(0,Ms.jsxs)("div",{className:"message message-info notification-message",style:{marginTop:"10px"},children:[(0,yt.tr)("tournaments.not_enough_for_rebuy"),(0,yt.tr)("tournaments.top_up_for_rebuy",r)]})]}),(0,Ms.jsx)("div",{className:"btn-wrap",children:(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/deposit-step-1/"),className:"btn btn-green-light btn-block",children:(0,yt.tr)("dep")})})]}),3===d&&(0,Ms.jsxs)("div",{className:"text11",children:[(0,Ms.jsxs)("p",{children:[(0,yt.tr)("tournaments.disabled_rebuy"),":"]}),(0,Ms.jsxs)("div",{className:"message message-info notification-message",style:{marginTop:"10px"},children:[a>=i&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("p",{children:["-"," ",(0,yt.tr)("tournaments.tour_balance_high","".concat(de.Ay.TOURNAMENT_CURRENCY).concat(a))]}),(0,Ms.jsxs)("p",{children:["-"," ",(0,yt.tr)("tournaments.min_balance_for_rebuy","".concat(de.Ay.TOURNAMENT_CURRENCY).concat(i))]})]}),s>0&&(0,Ms.jsxs)("p",{children:["- ",(0,yt.tr)("tournaments.have_opened_bets"),"."]})]})]})]})},sv=function(t){var e=t.tournament;return(0,Ms.jsx)(av,{tournament:e})};function cv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return lv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lv(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uv=function(){var t=(0,u.d4)((function(t){return t.tournaments.detailsModal})),e=t.data,n=t.startTab,i=(0,u.d4)((function(t){return t.global.currentTime})),o=e.tournament,a=e.date,s=cv((0,r.useState)(n),2),c=s[0],l=s[1],h=function(t){return function(){return l(t)}},f=o.isRegistered,d=o.title,p=o.users,m=o.timeStart,y=o.timeEnd,v=i>=m&&i<=y,b=[be.DESCRIPTION];return v&&b.push(be.RATING),f&&v&&b.push(be.REBUY),(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"title",children:[(0,yt.tr)("tournaments.detail_modal.title")," ",'"'.concat(d,'"')]}),b.length>1&&(0,Ms.jsx)("ul",{className:(0,Ds.A)("td-tabs",f?"td-tabs--three-tabs":"td-tabs--two-tabs"),children:b.map((function(t){return(0,Ms.jsx)("li",{className:(0,Ds.A)("td-tabs__item",c===t&&"td-tabs__item--active"),children:(0,Ms.jsx)("a",{className:"td-tabs__link",onClick:h(t),children:(0,yt.tr)(t)})},t)}))}),c===be.DESCRIPTION&&(0,Ms.jsx)(Jy,{tournament:o}),c===be.RATING&&(0,Ms.jsx)(ov,{tournament:o,date:a,users:p}),(c===be.REG||c===be.REBUY)&&(0,Ms.jsx)(sv,{selectedTab:c,tournament:o})]})},hv=function(t){var e=t.isOpen,n=(0,u.wA)();return(0,Ms.jsx)(bd,{isOpen:e,onRequestClose:function(){return n((0,ys.V7)({modalId:me.lx.TOURNAMENT_DETAILS,value:!1}))},className:"tournament-detail-modal",children:(0,Ms.jsx)(uv,{})})},fv=hv,dv=function(t){if(window.location.hash.startsWith("#".concat(t))){var e=+window.location.hash.substr(t.length+1);if(e>1)return e}return null},pv=function(t){var e=t.clickHandler,n=(0,u.d4)((function(t){return t.modals.states})),i=n[me.lx.TOURNAMENTS],o=n[me.lx.TOURNAMENT_DETAILS],a=n[me.lx.TOURNAMENT_HISTORY],s=(0,u.wA)();return(0,r.useEffect)((function(){var t=dv("tid=");t&&s(zm(t,be.DESCRIPTION));var e=dv("next-tournament-");e&&s(Wm(e));var n=dv("history-tournament-");n&&s(Fm(n))}),[]),(0,Ms.jsxs)("li",{className:(0,Ds.A)(i&&"active open-menu"),children:[(0,Ms.jsx)(jm,{menuClick:e}),i&&(0,Ms.jsx)(Ay,{}),(0,Ms.jsx)(Dy,{isOpen:a}),(0,Ms.jsx)(fv,{isOpen:o})]})},mv=pv,yv=n(20494),vv="by-time",bv="by-price",gv="list",wv=n(84894);function xv(t){return xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(t)}var jv=["children","selectedSymbol","onChangeSymbol"];function Ov(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ov(Object(n),!0).forEach((function(e){_v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ov(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _v(t,e,n){var r;return r=function(t,e){if("object"!=xv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==xv(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tv(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Av=function(t){t.children;var e=t.selectedSymbol,n=t.onChangeSymbol,i=Tv(t,jv),o=(0,u.d4)((function(t){return t.assets.assetBySymbol})),a=(0,r.useRef)();(0,r.useEffect)((function(){a.current&&po()(a.current).selectpicker({liveSearchStyle:function(t,e){e=e.replace(/([.+?^$\\])/g,"$1").replace(/[*%]/g,".*");var n=new RegExp(e,"i"),r=t.replace("/","");return t.search(n)>=0||r.search(n)>=0}})}),[]),(0,r.useEffect)((function(){po()(a.current).selectpicker("refresh")}),[e]);var s={};for(var c in o){var l=o[c];l.active&&(s[l.type]||(s[l.type]=[]),s[l.type].push(l))}s=function(t){var e={};return t.currency&&(e.currency=t.currency),t.cryptocurrency&&(e.cryptocurrency=t.cryptocurrency),t.commodity&&(e.commodity=t.commodity),t.stock&&(e.stock=t.stock),t.index&&(e.index=t.index),e}(s);var h=[];for(var f in s){var d=s[f];d.sort((function(t,e){return t.label===e.label?0:t.label>e.label?1:-1}));var p=d.map((function(t){var e=t.label,n=t.symbol;return(0,Ms.jsx)("option",{value:n,children:e},n)}));h.push((0,Ms.jsx)("optgroup",{label:Rt(f),children:p},f))}return(0,Ms.jsxs)("div",Sv(Sv({},i),{},{children:[(0,Ms.jsx)("label",{htmlFor:"field-symbol",children:(0,yt.tr)("pending.form_asset")}),(0,Ms.jsx)("select",{ref:a,className:"form-control selectpicker","data-live-search":"true",value:e,"data-size":"7",onChange:function(t){return n(t.target.value)},children:h})]}))};n(17972);function Ev(t){return Ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(t)}var Pv=["children","openTime","onChangeOpenTime"];function Cv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cv(Object(n),!0).forEach((function(e){Nv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nv(t,e,n){var r;return r=function(t,e){if("object"!=Ev(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ev(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Ev(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iv(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rv(t){return(0,Qr.a3)(t,!0)}var Lv,Dv="YYYY-MM-DD HH:mm:ss",Mv=function(t){t.children;var e=t.openTime,n=t.onChangeOpenTime,i=Iv(t,Pv),o=(0,u.d4)((function(t){return t.global.currentTime})),a=(0,r.useRef)(),s=xi(o),c=function(t){return function(e){if(t){var r=hi(e.target.value);if(Number.isNaN(r)||r<=s)return n(Rv(s+120))}n(e.target.value)}};return(0,r.useEffect)((function(){n(Rv(s+120))}),[]),(0,r.useEffect)((function(){a.current&&void 0!==po().fn.datetimepicker&&po()(a.current).datetimepicker({format:Dv,widgetPositioning:{horizontal:"left",vertical:"bottom"}}).on("dp.change",(function(t){n(t.date?t.date.format(Dv):Rv(s+120))}))}),[a]),(0,Ms.jsxs)("div",kv(kv({},i),{},{children:[(0,Ms.jsx)("label",{htmlFor:"field-open_time",className:"open-time-label",children:(0,yt.tr)("pending.form_open_time")}),(0,Ms.jsxs)("div",{className:"input-group date",ref:a,children:[(0,Ms.jsx)("span",{className:"input-group-addon",children:(0,Ms.jsx)("i",{className:"fa fa-clock-o"})}),(0,Ms.jsx)("input",{type:"text",className:"form-control",value:e,onChange:c(!1),onBlur:c(!0)})]}),(0,Ms.jsxs)("div",{className:"current-time",children:[(0,yt.tr)("analytics-modal.current_time"),":"," ",(0,Ms.jsx)("span",{className:"open-time-number",onClick:function(){return n(Rv(s+120))},children:Rv(s)})]})]}))};function Bv(t){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(t)}function Hv(t,e,n){var r;return r=function(t,e){if("object"!=Bv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Bv(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fv={SMA:"SMA",WMA:"WMA",EMA:"EMA",SMMA:"SMMA"},Gv={GREEN:"#86da0e",CYAN:"#00ffcc",YELLOW:"#f1c40f",ORANGE:"#e67e22",RED:"#ff0000",BROWN:"#d35400",BLUE:"#2256ff",PURPLE:"#ff00ff",GRAY:"#c0c0c0",WHITE:"#ffffff",BLACK:"#000000"},Vv={W1:1,W2:2,W3:3,W4:4,W5:5},Wv={CLOSE:"close",OPEN:"open",HIGH:"high",LOW:"low",HL2:"hl2",HLC3:"hlc3",OHLC4:"ohlc4",HLCC4:"hlcc4"},Uv={LINE:"line",HISTOGRAM:"histogram"},zv={lineWidth:{in:Object.values(Vv)},color:{in:Object.values(Gv)},opacity:{min:0,max:100},show:{in:[!0,!1]},ma:{in:Object.values(Fv)},source:{in:Object.values(Wv)},figure:{in:Object.values(Uv)},level:{min:1,max:100},label:{type:String.name}},Xv=(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Lv={},de.W.ACCELERATOR_OSCILLATOR,{isBottom:!0,config:{lines:{main:{opacity:80,colors:{up:{color:Gv.GREEN},down:{color:Gv.RED}}}},aoPeriodShort:5,aoPeriodLong:34,acPeriod:5},rules:{aoPeriodShort:{min:1,max:200},aoPeriodLong:{min:1,max:200},acPeriod:{min:1,max:100}}}),de.W.ADX,{isBottom:!0,config:{lines:{adx:{lineWidth:Vv.W1,color:Gv.BROWN},plusDI:{lineWidth:Vv.W1,color:Gv.CYAN},minusDI:{lineWidth:Vv.W1,color:Gv.YELLOW}},adxSmoothing:14,diLength:14},rules:{adxSmoothing:{min:1,max:100},diLength:{min:1,max:100}}}),de.W.ALLIGATOR,{isBottom:!1,config:{lines:{lips:{lineWidth:Vv.W1,color:Gv.GREEN},teeth:{lineWidth:Vv.W1,color:Gv.BROWN},jaws:{lineWidth:Vv.W1,color:Gv.BLUE}},lips:{period:5,shift:3},teeth:{period:8,shift:5},jaws:{period:13,shift:8}},rules:{period:{min:1,max:100},shift:{min:1,max:100}}}),de.W.AROON,{isBottom:!0,config:{lines:{up:{lineWidth:Vv.W1,color:Gv.BLUE},down:{lineWidth:Vv.W1,color:Gv.RED}},period:25},rules:{period:{min:1,max:100}}}),de.W.ATR,{isBottom:!0,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.BLUE}},period:14},rules:{period:{min:1,max:100}}}),de.W.AWESOME_OSCILLATOR,{isBottom:!0,config:{lines:{main:{figure:Uv.HISTOGRAM,lineWidth:Vv.W1,opacity:80,colors:{up:{color:Gv.GREEN},down:{color:Gv.RED}}}},periodShort:5,periodLong:34},rules:{periodShort:{min:1,max:200},periodLong:{min:1,max:200}}}),de.W.BEARS_POWER,{isBottom:!0,config:{lines:{main:{color:Gv.GREEN,figure:Uv.LINE,lineWidth:Vv.W1}},period:13},rules:{period:{min:1,max:100}}}),de.W.BOLLINGER_BANDS,{isBottom:!1,config:{lines:{top:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:60},middle:{lineWidth:Vv.W1,color:Gv.CYAN,opacity:60},bottom:{lineWidth:Vv.W1,color:Gv.YELLOW,opacity:60},background:{color:Gv.GREEN,opacity:10}},period:5,deviation:1},rules:{period:{min:5,max:250},deviation:{min:1,max:50,precision:2}}}),de.W.BOLLINGER_BANDS_WIDTH,{isBottom:!0,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:90}},period:20,deviation:2},rules:{period:{min:5,max:250},deviation:{min:1,max:50,precision:2}}}),de.W.BULLS_POWER,{isBottom:!0,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,figure:Uv.LINE}},period:13},rules:{period:{min:1,max:100}}}),Hv(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Lv,de.W.CCI,{isBottom:!0,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.YELLOW},background:{color:Gv.YELLOW,opacity:8},overbought:{lineWidth:Vv.W1,color:Gv.YELLOW,level:100,opacity:50},oversold:{lineWidth:Vv.W1,color:Gv.YELLOW,level:-100,opacity:50}},period:20},rules:{period:{min:1,max:200},level:{min:-200,max:200}}}),de.W.DONCHIAN_CHANNEL,{isBottom:!1,config:{lines:{middle:{lineWidth:Vv.W1,color:Gv.ORANGE,opacity:60},top:{lineWidth:Vv.W1,color:Gv.BLUE,opacity:60},bottom:{lineWidth:Vv.W1,color:Gv.BLUE,opacity:60},background:{color:Gv.BLUE,opacity:10}},period:20},rules:{period:{min:5,max:200}}}),de.W.DEMARKER,{isBottom:!0,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.CYAN,figure:Uv.LINE},overbought:{lineWidth:Vv.W1,color:Gv.GREEN,level:70,opacity:60},oversold:{lineWidth:Vv.W1,color:Gv.RED,level:30,opacity:60}},period:14},rules:{period:{min:1,max:100}}}),de.W.ENVELOPE,{isBottom:!1,config:{lines:{top:{lineWidth:Vv.W1,color:Gv.GREEN},middle:{lineWidth:Vv.W1,color:Gv.CYAN},bottom:{lineWidth:Vv.W1,color:Gv.YELLOW},background:{color:Gv.GREEN,opacity:10}},period:14,deviation:.02,ma:Fv.SMA,source:Wv.CLOSE},rules:{period:{min:1,max:200},deviation:{min:.01,max:100,precision:2}}}),de.W.FRACTAL,{isBottom:!1,config:{lines:{up:{color:Gv.GREEN},down:{color:Gv.RED}},period:2},rules:{period:{min:2,max:100}}}),de.W.FRACTAL_CHAOS_BANDS,{isBottom:!1,config:{lines:{up:{color:Gv.GREEN},down:{color:Gv.RED},background:{color:Gv.GREEN,opacity:10}},period:2},rules:{period:{min:2,max:100}}}),de.W.ICHIMOKU_CLOUD,{isBottom:!1,config:{lines:{tenkanSen:{lineWidth:Vv.W1,color:Gv.YELLOW},kijunSen:{lineWidth:Vv.W1,color:Gv.RED},chikouSpan:{lineWidth:Vv.W1,color:Gv.CYAN},senkouSpanA:{color:Gv.GREEN,opacity:10,lineWidth:Vv.W1},senkouSpanB:{color:Gv.ORANGE,opacity:10,lineWidth:Vv.W1}},tenkanSen:9,kijunSen:26,senkouSpanB:52},rules:{tenkanSen:{min:1,max:99},kijunSen:{min:1,max:200},senkouSpanB:{min:1,max:200}}}),de.W.KELTNER_CHANNEL,{isBottom:!1,config:{lines:{top:{lineWidth:Vv.W1,color:Gv.BLUE},middle:{lineWidth:Vv.W1,color:Gv.BLUE},bottom:{lineWidth:Vv.W1,color:Gv.BLUE},background:{color:Gv.BLUE,opacity:10}},emaPeriod:20,atrPeriod:10,multiplier:1},rules:{emaPeriod:{min:1,max:100},atrPeriod:{min:1,max:100},multiplier:{min:1,max:5}}}),de.W.MACD,{isBottom:!0,config:{lines:{histogram:{colors:{up:{color:Gv.GREEN,opacity:70},down:{color:Gv.RED,opacity:70}}},macd:{lineWidth:Vv.W1,color:Gv.GREEN},signal:{lineWidth:Vv.W1,color:Gv.RED}},fastPeriod:12,slowPeriod:26,signalPeriod:9},rules:{fastPeriod:{min:1,max:100},slowPeriod:{min:1,max:100},signalPeriod:{min:1,max:100}}}),de.W.MOMENTUM,{isBottom:!0,config:{lines:{main:{figure:Uv.HISTOGRAM,lineWidth:Vv.W1,opacity:80,colors:{up:{color:Gv.GREEN},down:{color:Gv.RED}}}},period:10,source:Wv.CLOSE},rules:{period:{min:1,max:100}}}),Hv(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Hv(Lv,de.W.MOVING_AVERAGE,{isBottom:!1,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN}},ma:Fv.SMA,period:10},rules:{period:{min:1,max:250}}}),de.W.OSMA,{isBottom:!0,config:{lines:{histogram:{color:Gv.GREEN,opacity:80}},fastPeriod:12,slowPeriod:26,signalPeriod:9},rules:{fastPeriod:{min:1,max:250},slowPeriod:{min:1,max:250},signalPeriod:{min:1,max:250}}}),de.W.PARABOLIC_SAR,{isBottom:!1,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN}},acceleration:.02,accelerationMax:.2},rules:{acceleration:{min:.001,max:10,precision:3},accelerationMax:{min:.1,max:10,precision:2}}}),de.W.RSI,{isBottom:!0,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN},overbought:{lineWidth:Vv.W1,color:Gv.CYAN,level:70,opacity:60},middle:{lineWidth:Vv.W1,color:Gv.GRAY,level:50,opacity:30},oversold:{lineWidth:Vv.W1,color:Gv.YELLOW,level:30,opacity:60}},period:14},rules:{period:{min:1,max:100}}}),de.W.RATE_OF_CHANGE,{isBottom:!0,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.YELLOW}},period:14},rules:{period:{min:1,max:100}}}),de.W.SCHAFF_TREND_CYCLE,{isBottom:!0,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.BLUE},overbought:{lineWidth:Vv.W1,color:Gv.CYAN,level:75,opacity:60},oversold:{lineWidth:Vv.W1,color:Gv.YELLOW,level:25,opacity:60}},fast:23,slow:50,cycle:10,macdD:3,pfD:3},rules:{fast:{min:1,max:100},slow:{min:1,max:100},cycle:{min:1,max:100},macdD:{min:1,max:100},pfD:{min:1,max:100}}}),de.W.STOCHASTIC_OSCILLATOR,{isBottom:!0,config:{lines:{kPeriod:{lineWidth:Vv.W1,color:Gv.BLUE},dPeriod:{lineWidth:Vv.W1,color:Gv.ORANGE},overbought:{lineWidth:Vv.W1,color:Gv.CYAN,level:80,opacity:60},oversold:{lineWidth:Vv.W1,color:Gv.YELLOW,level:20,opacity:60}},kPeriod:14,dPeriod:3,mPeriod:3,ma:Fv.SMA},rules:{kPeriod:{min:1,max:100},dPeriod:{min:1,max:100},mPeriod:{min:1,max:100}}}),de.W.SUPERTREND,{isBottom:!1,config:{lines:{up:{lineWidth:Vv.W2,color:Gv.RED,opacity:80},down:{lineWidth:Vv.W2,color:Gv.GREEN,opacity:80}},atrPeriod:10,multiplier:3},rules:{atrPeriod:{min:1,max:100},multiplier:{min:1,max:5,precision:2}}}),de.W.VORTEX,{isBottom:!0,config:{lines:{viPlus:{lineWidth:Vv.W1,color:Gv.GREEN},viMinus:{lineWidth:Vv.W1,color:Gv.RED}},period:14},rules:{period:{min:2,max:100}}}),de.W.WILLIAMS_R,{isBottom:!0,config:{lines:{main:{lineWidth:Vv.W1,color:Gv.CYAN,figure:Uv.LINE},upperBand:{lineWidth:Vv.W1,color:Gv.GREEN,level:-20,opacity:60},lowerBand:{lineWidth:Vv.W1,color:Gv.RED,level:-80,opacity:60}},period:14},rules:{period:{min:1,max:100},level:{min:-100,max:0}}}),Hv(Lv,de.W.ZIG_ZAG,{isBottom:!1,config:{lines:{main:{lineWidth:Vv.W2,color:Gv.YELLOW}},deviation:5,depth:12,backstep:3},rules:{deviation:{min:1,max:100},depth:{min:1,max:100},backstep:{min:1,max:100}}})),$v=Object.keys(Xv).filter((function(t){return Xv[t].isBottom})),Yv=function(t){return $v.includes(t)},qv=n(17748),Kv=n.n(qv);n(58953);function Zv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qv(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jv={TEXT:"text",NUMBER:"number"},tb=function(t){var e=t.value,n=t.onParamChanged,i=t.path,o=t.children,a=t.className,s=void 0===a?"":a,c=t.type,l=void 0===c?Jv.TEXT:c,u=Zv((0,r.useState)(!1),2),h=u[0],f=u[1];return(0,Ms.jsxs)("div",{className:(0,Ds.A)("input-wrapper",h&&"focused",s),children:[(0,Ms.jsx)("div",{className:"input-wrapper__input",children:(0,Ms.jsx)("input",{type:l,value:e,onChange:n(i),onBlur:function(t){n(i)(t),f(!1)},onFocus:function(){return f(!0)}})}),o]})};tb.propTypes={value:Rc().oneOfType([Rc().string,Rc().number]).isRequired,onParamChanged:Rc().func.isRequired,path:Rc().string.isRequired,className:Rc().string,type:Rc().oneOf(Object.values(Jv))};var eb=tb,nb=function(){return(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 225 45",height:"16",width:"16",children:(0,Ms.jsx)("path",{d:"M58.2 30.7V15.3h108.4v15.4H58.2zM0 22.6C0 10.1 10.1 0 22.5 0 35 0 45.1 10.2 45 22.7 44.9 34.9 35 44.9 22.7 45 10.2 45.1 0 35 0 22.6zm225-.3c.1 12.5-10 22.6-22.5 22.6-12.4.1-22.5-10.1-22.5-22.5C180 10.2 190 .1 202.2 0c12.5-.1 22.7 9.9 22.8 22.3z"})})},rb=function(){return(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44.99 225.08",height:"16",width:"16",children:(0,Ms.jsx)("path",{d:"M14.34 58.24h15.4v108.42h-15.4zM22.55 45A22.5 22.5 0 1145 22.32 22.54 22.54 0 0122.55 45zm0 180.08A22.5 22.5 0 1145 202.4a22.53 22.53 0 01-22.45 22.68z"})})},ib=function(){return(0,Ms.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",height:"16",width:"16",children:[(0,Ms.jsx)("path",{d:"M5 12l-1-1 6.8-6.8 1.1 1.1C8.2 8.8 8.7 8.4 5 12zm-2.9-.2c1.2 0 2.1 1 2.1 2.2 0 1.1-1 2.1-2.1 2C.9 16 0 15 0 13.9s1-2.1 2.1-2.1z"}),(0,Ms.jsx)("circle",{cx:"13.9",cy:"2.1",r:"2.1"})]})},ob=function(){return(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 171 171.1",height:"16",width:"16",children:(0,Ms.jsx)("path",{d:"M53.3 128.4c-3.9-3.9-7.3-7.5-11-11.2C81.2 78.4 120.4 39.2 159.7 0L171 11.3c-39.3 39-78.4 78-117.7 117.1zm-30.4-2.2c12.5.2 22.3 10.5 22 23-.3 12.2-10.5 22.1-22.7 21.9C9.8 171-.2 160.7 0 148.3c.2-12.4 10.5-22.4 22.9-22.1z"})})},ab=function(){return(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 224.6 174",height:"16",width:"16",children:(0,Ms.jsx)("path",{d:"M81.1 159.5v-15.4h143.4v15.4H81.1zm61.5-128.8H.3V15.2h142.3v15.5zm55.5-7.7c.5 11.4-8.7 22.4-22.6 22.8-12.1.3-22.7-10.8-22.6-23.1.1-12.2 10.9-23 22.8-22.7 12.7.3 22.4 10.3 22.4 23zM48.5 128.7c12.8.1 22.6 9.9 22.5 22.7 0 12.7-10 22.6-22.8 22.6-12.5-.1-22.4-10.4-22.3-23.2 0-12.3 10-22.2 22.6-22.1zm102.6-48.8c26.6-.1 45.7 0 72.3 0h1.2v15.5h-90.5c9-8.4 17-15.5 17-15.5zm-151 16V80.2h89.4c-5.5 5.4-8.6 8.5-15.9 15.7H.1zm126.2-12.1c-6 6-11.8 11.7-18.4 18.3-3.6-3.6-7.2-7.3-10.8-11.1 5.9-5.6 12.1-12 18.4-18 2.9 3 7.2 7.2 10.8 10.8zm29.3-29.3l-17.3 17.3c-3.7-3.7-7.3-7.4-11-11.1 5.7-5.6 11.6-11.4 17.6-17.2 3.2 3.3 6.9 7.1 10.7 11zm-59.4 59.4c-5.3 5.3-11.2 11.1-17.6 17.3-3.5-3.8-7.1-7.6-10.7-11.6 6-5.8 11.8-11.5 17.6-17.2 3.4 3.7 7 7.6 10.7 11.5zm128.3-83.1h-16.2V15.2h16.2v15.6zM0 159.6v-15.3h15.6v15.3H0z"})})};function sb(t){return sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(t)}function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cb(Object(n),!0).forEach((function(e){ub(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ub(t,e,n){var r;return r=function(t,e){if("object"!=sb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==sb(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hb=function(t){return(0,Ms.jsx)("svg",lb(lb({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 224.6 224.7",height:"16",width:"16"},t),{},{children:(0,Ms.jsx)("path",{d:"M47 175.2c-5-2.8-9.3-5.2-14-7.8 27.3-48.7 54.4-96.9 81.7-145.6 4.8 2.7 9.2 5.2 14 7.9-27.2 48.6-54.3 96.8-81.7 145.5zm9.8 16.3c-2.6-4.9-4.9-9.2-7.5-14.1 49.3-26 98.2-51.8 147.8-77.9 2.4 4.6 4.8 9.1 7.4 14.3-49.2 25.9-98.2 51.6-147.7 77.7zM15.3 0h15.4v166.4H15.3V0zm42.9 209.4V194h166.4v15.4H58.2zm-34.6 15.3C10.7 224.8 0 214.2 0 201.3c0-12.5 10.1-22.6 22.6-22.5 12.7 0 23.2 10.5 23.4 23.2.1 12.4-9.9 22.7-22.4 22.7z"})}))},fb=function(){return(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 206 198.1",height:"16",width:"16",children:(0,Ms.jsx)("path",{d:"M147.9 31.1c2.5 4.9 4.8 9.3 7.3 14.2-32.4 16.7-64.5 33.2-96.9 50-2.5-4.8-4.8-9.2-7.4-14.2 32.4-16.7 64.4-33.2 97-50zm-12.6 103.6c0 12.2-10.1 22.5-22.1 22.6-12.5 0-22.8-10-22.9-22.3-.1-12.2 9.9-22.6 21.9-22.8 12.7-.3 23 9.8 23.1 22.5zM205.8 23c-.2 12.4-10.7 22.3-23.1 22-12.2-.3-22-10.5-21.8-22.8C161 9.7 171.2-.2 183.8 0c12.4.2 22.3 10.5 22 23zM.8 104.5C1 92.2 11.4 82 23.2 82.3c12.9.3 22.8 10.6 22.5 23.2-.3 12.2-10.7 22.2-22.7 21.9C10.5 127.1.5 116.8.8 104.5zm84.6 53.3c-26.1 13.4-52 26.7-78.5 40.3-2.2-4.7-4.4-9.3-6.9-14.6 25.9-13.3 51.6-26.5 77.8-39.9 2.6 4.8 4.9 9.2 7.6 14.2zm62.4-32.6c-2.6-5-4.8-9.3-7.4-14.3 19.7-10.2 39.1-20.3 58.9-30.5 2.3 5 4.3 9.5 6.7 14.6-19.2 10-38.3 19.9-58.2 30.2z"})})},db=function(){return(0,Ms.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ms.jsx)("path",{d:"M1.5 1.5H11v1H1.5v-1zm13 12H5v1h9.5v-1z"}),(0,Ms.jsx)("circle",{r:"1.75",cx:"2",cy:"14"}),(0,Ms.jsx)("circle",{cx:"14",cy:"2",r:"1.75"}),(0,Ms.jsx)("path",{d:"M1.5 2.5h1V11h-1zm12 2.5h1v8.5h-1z"})]})},pb=function(){return(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"12",viewBox:"0 0 14.95 10.56",children:(0,Ms.jsx)("path",{d:"M14.35 1.18c.21.41.4.77.61 1.18-2.69 1.38-7.5 3.87-10.18 5.26-.21-.4-.4-.76-.61-1.18 2.69-1.38 7.49-3.87 10.19-5.26ZM0 8.38c.02-1.02.88-1.87 1.86-1.84 1.07.02 1.89.88 1.87 1.92-.02 1.01-.89 1.84-1.88 1.82A1.875 1.875 0 0 1 0 8.38Zm10.23-7.2C8.07 2.29 5.92 3.39 3.72 4.52c-.18-.39-.36-.77-.57-1.21C5.3 2.21 7.43 1.11 9.6 0c.22.4.41.76.63 1.18ZM6.29 10.56c2.2-1.13 4.35-2.23 6.51-3.34-.22-.41-.41-.78-.63-1.18C10.1 7.1 8.06 8.15 6.01 9.2l-.29.15c.21.44.39.82.57 1.21Z"})})};function mb(t){return mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mb(t)}function yb(t,e,n){var r;return r=function(t,e){if("object"!=mb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==mb(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vb={VALUES:"values",PERCENTS:"percents"},bb=yb(yb(yb(yb(yb(yb(yb(yb(yb({},de.Ay.CHART.DRAWINGS.ANDREWS_PITCHFORK,{icon:pb,label:(0,yt.tr)("drawings.pitchfork"),config:{lines:{median:{lineWidth:Vv.W1,color:Gv.RED,opacity:80},level_0382:{lineWidth:Vv.W1,color:Gv.YELLOW,opacity:80,level:.382,show:!1},level_0618:{lineWidth:Vv.W1,color:Gv.ORANGE,opacity:80,level:.618,show:!1},level_1:{lineWidth:Vv.W1,color:Gv.BROWN,opacity:80,level:1},level_15:{lineWidth:Vv.W1,color:Gv.RED,opacity:80,level:1.5,show:!1},level_2:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:80,level:2},bg:{opacity:20}}},rules:{level:{min:0,max:3,precision:3}}}),de.Ay.CHART.DRAWINGS.HORIZONTAL_LINE,{icon:nb,label:(0,yt.tr)("drawings.horizontal-line"),config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:90}}}}),de.Ay.CHART.DRAWINGS.VERTICAL_LINE,{icon:rb,label:(0,yt.tr)("drawings.vertical-line"),config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:90}}}}),de.Ay.CHART.DRAWINGS.RAY,{icon:ob,label:(0,yt.tr)("drawings.ray"),config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:90}}}}),de.Ay.CHART.DRAWINGS.FIBONACCI_RETRACEMENT,{icon:ab,label:(0,yt.tr)("drawings.fibonacci-retracement"),config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:90},level:{color:Gv.GRAY},value:{color:Gv.GREEN}},levels:vb.VALUES},rules:{levels:{in:Object.values(vb)}}}),de.Ay.CHART.DRAWINGS.FIBONACCI_FAN,{icon:hb,label:(0,yt.tr)("drawings.fibonacci-fan"),config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:90},level:{color:Gv.GRAY}}}}),de.Ay.CHART.DRAWINGS.TREND_LINE,{icon:ib,label:(0,yt.tr)("drawings.trend-line"),config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:90}}}}),de.Ay.CHART.DRAWINGS.PARALLEL_CHANNEL,{icon:fb,label:(0,yt.tr)("drawings.parallel-channel"),config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:100},bg:{color:Gv.GREEN,opacity:20}}}}),de.Ay.CHART.DRAWINGS.RECTANGLE,{icon:db,label:(0,yt.tr)("drawings.rectangle"),config:{lines:{main:{lineWidth:Vv.W1,color:Gv.GREEN,opacity:100},bg:{color:Gv.GREEN,opacity:20}}}}),gb={main:(0,yt.tr)("drawings.line_main"),bg:(0,yt.tr)("drawings.line_bg"),level:(0,yt.tr)("drawings.levels"),value:(0,yt.tr)("drawings.levels_values"),histogram:(0,yt.tr)("drawings.histogram"),median:(0,yt.tr)("drawings.median")};function wb(t){return wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wb(t)}function xb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return jb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jb(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ob(t,e){if(kl()(t,e))return ve()(t,e);var n=e.split("."),r=n.length>0?n[n.length-1]:e;return null!=t&&null!=t[r]?t[r]:null!=zv[r]?zv[r]:null}function Sb(t){return t&&null!=t.min&&null!=t.max}function _b(t){return""===t||"-"===t||0===t}function Tb(t){var e=t.value,n=t.min,r=t.max,i=t.precision,o=void 0===i?2:i,a=t.step,s=void 0===a?0:a,c=t.fixValue,l=void 0!==c&&c,u=t.fixModulo,h=t.defaultValue,f=t.allowZero,d=void 0!==f&&f,p=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t=t.toString(),(t=e?t.replace(n?/[^\d]/g:/[^\-\d]/g,""):t.replace(",",".").replace(/[^\-\d\\.]/g,"")).trim()}(e,0===o,n>=0),m=o>0?parseFloat(p):parseInt(p,10);if((_b(p)||_b(m))&&!l)return p;var y=Math.pow(10,o),v=m*y%(s*y)/y;if(Number.isNaN(m))return h;if(l&&void 0===u&&(u=!0),u&&0!==s&&0!==v&&(m=(0,qn.xr)(m-v,o)),m<n&&l)return d&&0===m?0:n;if(m>r)return r;var b=xb(p.split("."),2),g=b[0],w=b[1],x=void 0===w?"":w;return x.length>o?Number("".concat(g,".").concat(x.substring(0,o))):l?m:p}function Ab(t,e,n){return function(e,r){return function(i){var o,a=void 0!==r||void 0===i||"blur"===i.type,s=void 0!==r?r:"checkbox"===(o=i).currentTarget.type?o.currentTarget.checked:o.currentTarget.value,c=a||!function(t){return void 0!==t&&Object.values(Jv).includes(t.currentTarget.type)}(i),l=Pb(t,e,s,a);n((function(t){return Kv()(t,e,l)}),c)}}}function Eb(t){switch(t){case de.W.AROON:case de.W.ATR:case de.W.BEARS_POWER:case de.W.BULLS_POWER:case de.W.CCI:case de.W.DONCHIAN_CHANNEL:case de.W.DEMARKER:case de.W.MOMENTUM:case de.W.RSI:case de.W.VORTEX:case de.W.WILLIAMS_R:case de.W.RATE_OF_CHANGE:case de.W.FRACTAL:case de.W.FRACTAL_CHAOS_BANDS:return!0}return!1}function Pb(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Ob(t.rules,e);return Sb(i)?function(t,e,n,r){var i=t.config,o=Ob(t.rules,e),a=o.precision,s=void 0===a?0:a;return Tb({value:n,min:o.min,max:o.max,precision:s,fixValue:r,defaultValue:ve()(i,e)})}(t,e,n,r):function(t){return t&&t.in&&Array.isArray(t.in)}(i)?function(t,e,n){var r=t.config;return Ob(t.rules,e).in.includes(n)?n:ve()(r,e)}(t,e,n):function(t){return void 0!==t.type}(i)?function(t,e,n){var r=Ob(t.rules,e).type;return wb(n).toLowerCase()===r.toLowerCase()?n:null}(t,e,n):null}function Cb(t){return Cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cb(t)}var kb=["children","symbol","openPrice","setOpenPrice"];function Nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ib(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nb(Object(n),!0).forEach((function(e){Rb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rb(t,e,n){var r;return r=function(t,e){if("object"!=Cb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Cb(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lb(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Db=function(t){t.children;var e=t.symbol,n=t.openPrice,i=t.setOpenPrice,o=Lb(t,kb),a=(0,u.d4)(Bd.sS),s=(0,u.d4)(yv.CL),c=(0,u.d4)(yv.$s),l=ve()(a,"".concat(e,".price"),0),h=(0,u.d4)((function(t){return(0,Vs.L5)(t)(e)}));(0,r.useEffect)((function(){i(null!=s&&c===e?s:l)}),[e]),(0,r.useEffect)((function(){l>0&&0===n&&i(l)}),[l]);var f=function(t){return function(e){var n=e.target.value.replace(",",".");n.includes(".")||(n=n.replace(/^0+/,""));var r=Tb({value:n,min:0,max:Number.MAX_VALUE,fixValue:t,defaultValue:0,precision:h});(_b(r)||isNaN(r))&&(r=0),i(r)}};return(0,Ms.jsxs)("div",Ib(Ib({},o),{},{children:[(0,Ms.jsx)("label",{htmlFor:"field-open_price",className:"open-price-label",children:(0,Ms.jsx)("span",{children:(0,yt.tr)("pending.form_open_price")})}),(0,Ms.jsxs)("div",{className:"input-group",children:[(0,Ms.jsx)("span",{className:"input-group-addon",children:(0,Ms.jsx)("i",{className:"fa fa-line-chart"})}),(0,Ms.jsx)("input",{type:"text",className:"form-control",value:n,onChange:f(!1),onBlur:f(!0)})]}),(0,Ms.jsxs)("div",{className:"current-time",children:[(0,yt.tr)("pending.form_current_price"),":"," ",(0,Ms.jsx)("span",{className:"open-time-number",onClick:function(){return i(l)},children:(0,qn.xr)(l,h,!0)})]})]}))},Mb=(0,Ms.jsx)(Gs.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/call-arrow2.svg"}),Bb=(0,Ms.jsx)(Gs.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/put-arrow2.svg"}),Hb=10,Fb=98,Gb=60,Vb=0,Wb=1;function Ub(t){return Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ub(t)}var zb=["children","minPayout","onMinPayoutChange"];function Xb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xb(Object(n),!0).forEach((function(e){Yb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yb(t,e,n){var r;return r=function(t,e){if("object"!=Ub(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ub(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Ub(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qb(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Kb=function(t){t.children;var e=t.minPayout,n=t.onMinPayoutChange,r=qb(t,zb),i=function(t){return function(e){var r=parseInt(e.target.value,10);t?Number.isNaN(r)?r=Gb:r<Hb?r=Hb:r>Fb&&(r=Fb):Number.isNaN(r)?r="":r<0?r=0:r>Fb&&(r=Fb),n(r)}};return(0,Ms.jsxs)("div",$b($b({},r),{},{children:[(0,Ms.jsx)("label",{htmlFor:"field-min_payout",children:(0,yt.tr)("pending.form_payout")}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("input-group"),children:[(0,Ms.jsx)("span",{className:"input-group-addon",children:(0,yt.tr)("pending.form_from")}),(0,Ms.jsx)("input",{type:"text",name:"min_payout",className:"form-control",id:"field-min_payout",value:e,onChange:i(!1),onBlur:i(!0)}),(0,Ms.jsx)("span",{className:"input-group-addon",children:"%"})]})]}))};function Zb(t){return Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(t)}var Qb=["children","amount","onChangeAmount"];function Jb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jb(Object(n),!0).forEach((function(e){eg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eg(t,e,n){var r;return r=function(t,e){if("object"!=Zb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Zb(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ng(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var rg=function(t){t.children;var e=t.amount,n=t.onChangeAmount,r=ng(t,Qb),i=(0,u.d4)((function(t){return t.global.balance})),o=(0,u.d4)((function(t){return t.global.currency})),a=(0,u.d4)(Fs.G3),s=(0,yr.Ew)(i,a),c=function(t){return function(e){var r=Tb({value:e.target.value.replace(/[^0-9]/,"").replace(/^0+/,""),min:1,max:s,fixValue:t,precision:0,defaultValue:1});(_b(r)||isNaN(r))&&(r=0),n(r)}};return(0,Ms.jsxs)("div",tg(tg({},r),{},{children:[(0,Ms.jsx)("label",{htmlFor:"field-amount",children:(0,yt.tr)("pending.form_amount")}),(0,Ms.jsxs)("div",{className:"input-group",children:[(0,Ms.jsx)("input",{type:"text",className:"form-control",value:e,onChange:c(!1),onBlur:c(!0)}),(0,Ms.jsx)("span",{className:"input-group-addon",children:o})]})]}))};function ig(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60);return{hour:e,min:n,sec:Math.floor(t-60*n-3600*e)}}function og(t){return og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(t)}function ag(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ag(Object(n),!0).forEach((function(e){cg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cg(t,e,n){var r;return r=function(t,e){if("object"!=og(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=og(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==og(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ug(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ug(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ug(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hg={HOUR:3600,MINUTE:60,SECONOD:1},fg=function(t){var e=lg((0,r.useState)(cg(cg(cg({},hg.HOUR,"0"),hg.MINUTE,"0"),hg.SECONOD,"0")),2),n=e[0],i=e[1],o=function(t){var e=ig(t),n=e.hour,r=e.min,o=e.sec;i(cg(cg(cg({},hg.HOUR,"".concat(n)),hg.MINUTE,"".concat(r)),hg.SECONOD,"".concat(o)))};return(0,r.useEffect)((function(){return o(t)}),[]),{hms:n,setHMSPart:function(t,e){i((function(n){return sg(sg({},n),{},cg({},t,"".concat(e)))}))},setHMS:o}},dg=function(){return(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&(navigator.maxTouchPoints>1||void 0!==navigator.standalone))&&!window.MSStream},pg=function(){var t=(0,u.d4)((function(t){return t.global.isMobile})),e=Boolean((0,fe.A)("is-tablet"))||dg();return t||e},mg=n(85727),yg=n.n(mg),vg=n(12284),bg=n.n(vg);function gg(t){return gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(t)}var wg=["children","symbol","timeframe","onChangeTimeframe"];function xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xg(Object(n),!0).forEach((function(e){Og(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Og(t,e,n){var r;return r=function(t,e){if("object"!=gg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==gg(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sg(t){return function(t){if(Array.isArray(t))return _g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return _g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tg(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ag(t){t.children;var e=t.symbol,n=t.timeframe,i=t.onChangeTimeframe,o=Tg(t,wg),a=fg(n),s=a.hms,c=a.setHMS,l=pg(),h=(0,u.d4)((function(t){return(0,Vs.rZ)(t)(e)}));(0,r.useEffect)((function(){return c(n)}),[n]);var f=(0,x.Sp)({asset:h}),d=Math.max.apply(Math,Sg(h.timeframes.map((function(t){return t.time})))),p=function(t,e){if(0!==h.timeframes.length){var n=parseInt(function(t){return bg()("".concat(t),"0").replace(/[^-0-9]/g,"")}(e),10);n=Number.isNaN(n)?0:yg()(n,0,59);var r=Object.values(hg).reduce((function(e,r){return e+(r===t?n:parseInt(s[r],10))*r}),0);i(yg()(r,f,d))}},m=function(t){return i(yg()(t,f,d))},y=function(t){return function(){return m(n+1*t)}},v=function(t){return function(){return m(n-1*t)}},b=function(t){return function(e){return p(t,e.currentTarget.value)}},g=function(t){return function(e){return p(t,e.currentTarget.value)}};return(0,Ms.jsxs)("div",jg(jg({},o),{},{children:[(0,Ms.jsx)("label",{htmlFor:"field-close_period",children:(0,yt.tr)("pending.form_timeframe")}),(0,Ms.jsx)("div",{className:"quick-timeframe-selector__in",children:Object.values(hg).map((function(t){return(0,Ms.jsxs)("div",{className:"rw",children:[(0,Ms.jsx)("a",{className:"btn-plus",onClick:y(t),children:"+"}),(0,Ms.jsx)("div",{className:"input-field-wrapper",children:(0,Ms.jsx)("input",{type:"text",autoComplete:"off",value:(0,Jr.wl)(s[t]),onBlur:b(t),onChange:g(t),readOnly:l})}),(0,Ms.jsx)("a",{className:"btn-minus",onClick:v(t),children:"-"})]},"keys-".concat(t))}))})]}))}function Eg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Pg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pg(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cg(t){var e=Gb;return t&&t<e&&(e=Math.max(30,t-10)),e}var kg=function(t){var e=t.tab,n=(0,u.wA)(),i=(0,u.d4)(Wc.vu),o=(0,u.d4)(yv.CL),a=(0,u.d4)(yv.$s),s=(0,u.d4)(yv.T5),c=(0,u.d4)(yv.tx),l=(0,u.d4)(yv.Zq),h=Eg((0,r.useState)(i),2),f=h[0],d=h[1],p=Eg((0,r.useState)(null),2),m=p[0],y=p[1],v=Eg((0,r.useState)(0),2),b=v[0],g=v[1],w=Eg((0,r.useState)(null!=o?o:0),2),x=w[0],j=w[1],O=Eg((0,r.useState)(Cg(s)),2),S=O[0],_=O[1],T=Eg((0,r.useState)(null!=l?l:60),2),A=T[0],E=T[1],P=Eg((0,r.useState)(null!=c?c:1),2),C=P[0],k=P[1];(0,r.useEffect)((function(){null!==o&&j(o),null!==a&&d(a),null!==s&&_(Cg(s)),null!==c&&k(c),null!==l&&E(l)}),[o,a,s,c,l]),(0,r.useEffect)((function(){return null!==m&&n((0,Ad.ev)({symbol:m})),y(f),n((0,Ad.mt)({symbol:f})),function(){n((0,Ad.ev)({symbol:f}))}}),[f]);var N=function(t){return function(){var r=b;b&&(r=Ai(_i(b)));var i={openType:e===vv?wv.g.BY_TIME:wv.g.BY_PRICE,amount:C,asset:f,openTime:r,openPrice:x,timeframe:A,minPayout:S,command:t};n((0,Ad.sZ)(i))}};return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("form",{method:"post",children:[(0,Ms.jsx)(Av,{className:"form-group",id:"pending-trades_asset",selectedSymbol:f,onChangeSymbol:d}),e===vv&&(0,Ms.jsx)(Mv,{id:"pending-trades_open-time",className:"form-group",openTime:b,onChangeOpenTime:function(t){return g(t)}}),e===bv&&(0,Ms.jsx)(Db,{className:"form-group",id:"pending-trades_open-price",symbol:f,openPrice:x,setOpenPrice:j}),(0,Ms.jsx)(Kb,{className:"form-group",id:"pending-trades_min-payout",minPayout:S,onMinPayoutChange:_}),(0,Ms.jsx)(Ag,{className:"form-group quick-timeframe-selector",id:"pending-trades_timeframe",symbol:f,timeframe:A,onChangeTimeframe:E}),(0,Ms.jsx)(rg,{className:"form-group",id:"pending-trades_amount",amount:C,onChangeAmount:k}),(0,Ms.jsxs)("div",{className:"form-group call-put-btn-wrap",children:[(0,Ms.jsxs)("a",{className:"btn btn-put",id:"pending-trades_lower-btn",onClick:N(Wb),children:[Bb,(0,Ms.jsx)("span",{className:"btn-text",children:(0,yt.tr)("control_panel.lower")})]}),(0,Ms.jsxs)("a",{className:"btn btn-call",id:"pending-trades_higher-btn",onClick:N(Vb),children:[Mb,(0,Ms.jsx)("span",{className:"btn-text",children:(0,yt.tr)("control_panel.higher")})]})]})]}),(0,Ms.jsx)("div",{className:"info",children:(0,Ms.jsx)("p",{children:(0,yt.tr)("pending.form_info")})})]})},Ng=function(){return(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("pending.no_current")})},Ig=function(t){var e=t.openTime;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("i",{className:"fa fa-clock-o"})," ",e]})},Rg=function(t){var e=t.symbol,n=t.openPrice,r=(0,u.d4)((function(t){return(0,Vs.L5)(t)(e)}));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("i",{className:"fa fa-line-chart"})," ",(0,qn.xr)(n,r,!0)]})};var Lg=function(t){var e=t.dateFrom,n=t.dateTo,r=(0,u.d4)((function(t){return t.global.currentTime})),i=hi(n),o=i-r,a=function(t,e,n){var r=Math.round(100*(1-(n-e)/(n-t)));return r>100?r=100:r<0&&(r=0),r}(hi(e),r,i),s=o<=0?"00:00:00":ay(oy(o));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"progress",children:(0,Ms.jsx)("div",{className:"progress-bar",style:{width:"".concat(a,"%")}})}),(0,Ms.jsxs)("div",{className:"formatted-date",children:[(0,yt.tr)("analytics-modal.time_left"),": ",s]})]})},Dg=function(t,e){var n=(0,r.useRef)(!1);(0,r.useEffect)((function(){n.current?t():n.current=!0}),e)};function Mg(t){return Mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(t)}var Bg=["children"];function Hg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hg(Object(n),!0).forEach((function(e){Gg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gg(t,e,n){var r;return r=function(t,e){if("object"!=Mg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Mg(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vg(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Wg=function(t){var e=t.children,n=Vg(t,Bg),i=(0,r.useRef)(),o=(0,r.useRef)(e);return Dg((function(){var t,n,r,a,s,c,l,u;o.current!==e&&i.current&&(t={element:i.current},n=t.element,r=t.fromColor,a=void 0===r?"inherit":r,s=t.toColor,c=void 0===s?"#ff8b2b":s,l=t.speed,u=void 0===l?1e3:l,n&&(n.style.color=c,n.style.transition="none",setTimeout((function(){n.style.transition="color ".concat(u/1e3,"s ease"),n.style.color=a}),50))),o.current=e}),[e]),(0,Ms.jsx)("div",Fg(Fg({ref:i},n),{},{children:e}))},Ug=function(t){var e=t.symbol,n=(0,u.d4)((function(t){return(0,Vs.L5)(t)(e)})),r=(0,u.d4)((function(t){return(0,Bd._r)(t)(e)}));return(0,Ms.jsx)(Wg,{className:"price",children:(0,qn.xr)(r,n,!0)})},zg=(0,Md.Mz)([function(t){return t.pendingOrders.byId}],(function(t){return function(e){var n;return null!==(n=t[e])&&void 0!==n?n:null}})),Xg=function(t){var e=t.command,n=(0,qt.nT)(e);return(0,Ms.jsx)("i",{className:(0,Ds.A)("fa",n?"fa-arrow-up":"fa-arrow-down",n?"icon-call":"icon-put")})},$g=function(t){var e=t.pendingId,n=(0,u.wA)(),r=(0,u.d4)((function(t){return zg(t)(e)})),i=(0,u.d4)((function(t){return t.global.currency})),o=r.openType,a=r.openTime,s=r.openPrice,c=r.timeframe,l=r.command,h=r.symbol,f=r.minPayout,d=r.amount,p=r.dateCreated,m=r.ticket,y=(0,u.d4)((function(t){return(0,Vs.P7)(t)(h)})),v=(0,qt.y0)(o),b=li(c),g=b.prefix,w=b.period;return(0,Ms.jsxs)("div",{className:"current-item",children:[(0,Ms.jsxs)("div",{className:"current-item__row",children:[(0,Ms.jsx)(Xg,{command:l}),y]}),(0,Ms.jsxs)("div",{className:"current-item__row flex-jcsb",children:[(0,Ms.jsxs)("div",{className:"current-item__key",style:{flex:"0 0 145px"},children:[v&&(0,Ms.jsx)(Ig,{openTime:Ai(Ti(a))}),!v&&(0,Ms.jsx)(Rg,{symbol:h,openPrice:s})]}),(0,Ms.jsxs)("div",{className:"current-item__key",children:[g,w]}),(0,Ms.jsxs)("div",{className:"current-item__key",children:[i,d]}),(0,Ms.jsxs)("div",{className:"current-item__key",children:[f,"%"]})]}),(0,Ms.jsxs)("div",{className:"current-item__row",children:[(0,Ms.jsxs)("div",{className:"current-item__progress",children:[v&&(0,Ms.jsx)(Lg,{dateFrom:p,dateTo:a}),!v&&(0,Ms.jsx)(Ug,{symbol:h})]}),(0,Ms.jsx)("div",{className:"current-item__actions",children:(0,Ms.jsx)("a",{onClick:function(t){return function(){return n((0,Ad.E8)({ticket:t}))}}(m),className:"btn btn-danger-light btn-sm btn-cancel btn-block flex flex-aic flex-jcc",children:(0,Ms.jsx)("i",{className:"fa fa-times"})})})]})]})},Yg=function(){var t=(0,u.d4)((function(t){return t.pendingOrders.ids}));return(0,Ms.jsx)("div",{className:"current-items",children:t.map((function(t){return(0,Ms.jsx)($g,{pendingId:t},t)}))})},qg=function(){var t=(0,u.d4)((function(t){return t.pendingOrders.ids.length}));return(0,Ms.jsxs)("div",{className:"pending-order-list",children:[0===t&&(0,Ms.jsx)(Ng,{}),t>0&&(0,Ms.jsx)(Yg,{})]})},Kg=Pl((function(t){var e=t.openerNode,n=t.onDropdownClose;return(0,Ms.jsx)(Uf,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Ms.jsx)(od,{onClickOutside:n,className:"drop-down-modal drop-down-modal__signal-settings",style:zp(e),children:(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"divider mb-15",children:(0,yt.tr)("pending.form_more_title")}),(0,Ms.jsx)("div",{className:"s-text mb-10",children:(0,yt.tr)("expresses.howto-desc")}),(0,Ms.jsx)("div",{className:"s-text mb-10",children:(0,yt.tr)("pending.form_more_1")}),(0,Ms.jsx)("div",{className:"s-text",children:(0,yt.tr)("pending.form_more_2")})]})})})}));function Zg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qg(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jg=(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/svg/icons/help-icon.svg"}),tw=function(t){var e=t.tab,n=t.handleTabChange,i=(0,u.d4)((function(t){return t.pendingOrders.ids.length})),o=(0,r.useRef)(i),a=Zg((0,r.useState)(!1),2),s=a[0],c=a[1],l=(0,u.d4)((function(t){return t.global.isMobile})),h=(0,r.useRef)(null);Dg((function(){o.current=i}),[i]);return(0,Ms.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Ms.jsx)(Zu,{ref:h,text:(0,yt.tr)("pending.title")}),!l&&(0,Ms.jsx)("a",{onClick:function(){return c(!0)},className:(0,Ds.A)("title-position-icon",s&&"active"),children:Jg}),(0,Ms.jsxs)("ul",{className:"tab-nav tab-nav--v2",children:[(0,Ms.jsx)("li",{className:(0,Ds.A)(e===vv&&"active"),children:(0,Ms.jsx)("a",{onClick:n(vv),id:"pending-trades_by-time-tab",children:(0,yt.tr)("pending.tab_by_time")})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(e===bv&&"active"),children:(0,Ms.jsx)("a",{onClick:n(bv),id:"pending-trades_by-price-tab",children:(0,yt.tr)("pending.tab_by_price")})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(e===gv&&"active"),children:(0,Ms.jsxs)("a",{onClick:n(gv),id:"pending-trades_current-tab",children:[(0,yt.tr)("pending.tab_current"),i>0&&(0,Ms.jsx)(qc,{count:i,type:Qe})]})})]}),(0,Ms.jsxs)("div",{className:"tab-text",children:[e===vv&&(0,yt.tr)("pending.tab_by_time_desc"),e===bv&&(0,yt.tr)("pending.tab_by_price_desc"),e===gv&&(0,yt.tr)("pending.tab_current_desc")]}),s&&(0,Ms.jsx)(Kg,{openerNode:h.current,onDropdownClose:function(){return c(!1)}})]})};function ew(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rw="by-time",iw="by-price",ow="list",aw=Pl((function(){var t=(0,u.wA)(),e=(0,u.d4)(yv.fQ),n=ew((0,r.useState)(e?iw:rw),2),i=n[0],o=n[1],a=(0,u.d4)(yv.$4);(0,r.useEffect)((function(){return a.forEach((function(e){return t((0,Ad.mt)({symbol:e}))})),function(){t((0,Ad.wm)()),t((0,Ad.cQ)())}}),[]),(0,r.useEffect)((function(){var t=Re.A.subscribe(Ha.sF,(function(){o(iw)}));return function(){Re.A.unsubscribe(t)}}),[]);return(0,Ms.jsx)(Uf,{className:"right-sidebar-modal pending-order-modal",children:(0,Ms.jsxs)("div",{className:"flex-vertical-block",children:[(0,Ms.jsx)(tw,{tab:i,handleTabChange:function(t){return function(){return o(t)}}}),(0,Ms.jsx)(ku,{children:(0,Ms.jsxs)("div",{className:"flex-vertical-block__body",children:[(i===rw||i===iw)&&(0,Ms.jsx)(kg,{tab:i}),i===ow&&(0,Ms.jsx)(qg,{})]})})]})})})),sw=function(t){var e=t.menuClick,n=(0,u.d4)((function(t){return t.pendingOrders.ids.length})),r=(0,u.d4)((function(t){return(0,Cr.WN)(t)}));return(0,Ms.jsxs)("a",{className:(0,Ds.A)(r&&"tooltip2"),onClick:e,children:[(0,Ms.jsx)("i",{className:"fa fa-hourglass-end"}),(0,Ms.jsx)("span",{className:"nlabel",children:(0,yt.tr)("right_panel.pending_order")}),n>0&&(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:n,type:Ye})}),r&&(0,Ms.jsx)(Vc,{position:"left",children:(0,Ms.jsx)(Ms.Fragment,{children:(0,yt.tr)("right_panel.pending_order")})})]})},cw=function(t){var e=t.clickHandler,n=(0,u.d4)((function(t){return t.modals.states[me.lx.PENDING_ORDERS]})),r=(0,u.d4)((function(t){return t.assets.symbols.length>0})),i=(0,u.d4)((function(t){return null!==t.global.currentTime})),o=n&&r&&i;return(0,Ms.jsxs)("li",{className:(0,Ds.A)(o&&"active open-menu"),children:[(0,Ms.jsx)(sw,{menuClick:e}),o&&(0,Ms.jsx)(aw,{})]})},lw=function(){var t=(0,u.wA)(),e=(0,u.d4)((function(t){return t.global.isTournament})),n=(0,u.d4)((function(t){return t.modals.states})),i=(0,u.d4)(Ym),o=(0,u.d4)((function(t){return t.global.hideTournament})),a=(0,u.d4)(Wc.AQ),s=(0,u.d4)(Wc.$N);(0,r.useEffect)((function(){var t=document.body;if(t){var e=!1;for(var r in n){var i="open-".concat(r);n[r]&&!t.classList.contains(i)&&(t.classList.add(i),e=!0),!n[r]&&t.classList.contains(i)&&(t.classList.remove(i),e=!0)}e&&Oa()}}),[n]);var c=function(e){return function(){!a||e!==me.lx.EXPRESSES&&e!==me.lx.TOURNAMENTS&&e!==me.lx.PENDING_ORDERS?s&&e===me.lx.EXPRESSES?t((0,ys.V7)({modalId:me.lx.ONLY_REAL_TRADING,value:!0})):n[e]?t((0,ys.V7)({modalId:e,value:!1})):t((0,ys.Xt)(e)):t((0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!0}))}};return(0,Ms.jsxs)("nav",{children:[(0,Ms.jsxs)("ul",{children:[e&&(0,Ms.jsxs)(Ms.Fragment,{children:[i&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(dm,{}),(0,Ms.jsx)(cm,{})]}),(0,Ms.jsx)(mv,{clickHandler:c(me.lx.TOURNAMENTS)}),i&&(0,Ms.jsx)(cw,{clickHandler:c(me.lx.PENDING_ORDERS)})]}),!e&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(dm,{}),(0,Ms.jsx)(cm,{}),(0,Ms.jsx)(pd,{clickHandler:c(me.lx.SOCIAL_TRADING)}),(0,Ms.jsx)(nm,{clickHandler:c(me.lx.EXPRESSES)}),!o&&(0,Ms.jsx)(mv,{clickHandler:c(me.lx.TOURNAMENTS)}),(0,Ms.jsx)(cw,{clickHandler:c(me.lx.PENDING_ORDERS)})]}),(0,Ms.jsx)(Sd,{})]}),(0,Ms.jsxs)("ul",{className:"bottom",children:[(0,Ms.jsx)("li",{children:(0,Ms.jsx)(_d,{})}),(0,Ms.jsx)("li",{className:"tooltip2",children:(0,Ms.jsx)(Fc,{})})]})]})};function uw(t){return uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(t)}function hw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fw(r.key),r)}}function fw(t){var e=function(t,e){if("object"!=uw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uw(e)?e:String(e)}function dw(t,e,n){return e=mw(e),function(t,e){if(e&&("object"===uw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pw()?Reflect.construct(e,n||[],mw(t).constructor):e.apply(t,n))}function pw(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pw=function(){return!!t})()}function mw(t){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mw(t)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yw(t,e)}var vw=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),dw(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}(e,t),n=e,r=[{key:"componentDidMount",value:function(){var t=this;this.eventTokenOpen=Re.A.subscribe(Ta,(function(e,n){var r=n.val,i=t.props,o=i.closeOtherModals;!0!==i.modalStates[r]&&o(r)})),this.eventTokenClose=Re.A.subscribe(Aa,(function(e,n){var r=n.val;t.props.changeModalState({val:r,value:!1})}))}},{key:"componentWillUnmount",value:function(){Re.A.unsubscribe(this.eventTokenOpen),Re.A.unsubscribe(this.eventTokenClose)}},{key:"render",value:function(){return this.props.isMobile?null:(0,Ms.jsx)(lw,{})}}],r&&hw(n.prototype,r),i&&hw(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),bw=(0,u.Ng)((function(t){var e=t.global,n=t.modals;return{isMobile:e.isMobile,modalStates:n.states}}),{changeModalState:ys.V7,changeModalStates:ys.Ep,closeOtherModals:ys.Xt})(vw),gw=bw;function ww(){var t=(0,u.d4)((function(t){return t.modals.states[me.lx.TOURNAMENT_RATINGS]}));return(0,Ms.jsx)(Ms.Fragment,{children:t&&(0,Ms.jsx)(Nu,{})})}var xw=Pl((function(t){var e=t.openerNode,n=t.onDropdownClose,r=t.tooltipAmount,i=(0,u.wA)(),o=(0,u.d4)((function(t){return t.global.balance})),a=(0,u.d4)((function(t){return t.global.isMobile})),s=zp(e);return s.marginTop=4,a&&(s.left="auto",s.right=4),(0,Ms.jsxs)(od,{onClickOutside:n,className:"tooltip-content need-deposit-tooltip",shouldCapture:!0,style:s,children:[(0,Ms.jsx)("a",{className:"tooltip-close",onClick:n,children:(0,Ms.jsx)("i",{className:"fa fa-times"})}),(0,Ms.jsx)("div",{className:"need-deposit-tooltip__title",children:(0,yt.tr)("modals.need-deposit.title")}),(0,Ms.jsx)("div",{className:"need-deposit-tooltip__balance",dangerouslySetInnerHTML:{__html:(0,yt.tr)("modals.need-deposit.your_balance","<span>".concat((0,qn.xr)(o,2,!0),"</span>"))}}),(0,Ms.jsxs)("div",{className:"need-deposit-tooltip__sum",children:[(0,yt.tr)("modals.need-deposit.amount"),": ",(0,Ms.jsxs)("span",{children:["$",(0,qn.xr)(r,2,!0)]})]}),(0,Ms.jsx)("div",{className:"need-deposit-tooltip__text",children:(0,yt.tr)("modals.need-deposit.desc")}),(0,Ms.jsx)("div",{className:"btn-wrap",children:(0,Ms.jsx)("a",{className:"btn btn-sm btn-green-light",onClick:function(){i((0,ba.wk)()),n()},children:(0,yt.tr)("modals.need-deposit.deposit")})})]})}));function jw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ow(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sw(){var t=(0,u.wA)(),e=(0,r.useRef)(),n=jw((0,r.useState)(!1),2),i=n[0],o=n[1],a=jw((0,r.useState)(0),2),s=a[0],c=a[1];(0,r.useEffect)((function(){var t=Re.A.subscribe(Ha.ZW,(function(t,e){var n=e.amount;o(!0),c(n)}));return function(){Re.A.unsubscribe(t)}}),[]);var l=(0,u.d4)((function(t){return t.global.balance}));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"balance-info-block js-tour-balance-info-block",ref:e,children:[(0,Ms.jsx)("div",{className:"balance-info-block__label",children:"QT Demo "}),(0,Ms.jsxs)("div",{className:"balance-info-block__data",children:[(0,Ms.jsx)("div",{className:"balance-info-block__icon",children:(0,Ms.jsxs)("svg",{className:"balance-icon",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",children:[(0,Ms.jsx)("path",{d:"M7.88323 17.8549H16.6422C17.4291 17.8549 17.8226 18.809 17.2668 19.3648L12.8898 23.7418C12.5455 24.0861 11.9849 24.0861 11.6406 23.7418L7.26356 19.3648C6.7029 18.8041 7.09634 17.8549 7.88323 17.8549ZM16.6422 6.14508H7.88815C7.10126 6.14508 6.70782 5.19098 7.26356 4.63525L11.6406 0.258197C11.9849 -0.0860656 12.5455 -0.0860656 12.8898 0.258197L17.2668 4.63525C17.8275 5.19098 17.434 6.14508 16.6422 6.14508Z"}),(0,Ms.jsx)("path",{d:"M12.5883 8.90763L16.7244 10.1765C17.0735 10.2847 17.0735 10.747 16.7244 10.8503L12.5883 12.1191C12.2883 12.2126 12.0277 12.1585 11.8949 12.1191L8.99323 11.2289C8.81126 11.3568 8.69815 11.5535 8.68831 11.7748C8.8211 11.8585 8.91946 12.0011 8.91946 12.1732C8.91946 12.3306 8.83585 12.4683 8.7129 12.5519L9.09159 14.2535C9.12602 14.4011 9.0129 14.5437 8.86044 14.5437H8.02929C7.87684 14.5437 7.76372 14.4011 7.79815 14.2535L8.17684 12.5519C8.05388 12.4683 7.97028 12.3355 7.97028 12.1732C7.97028 11.9962 8.06864 11.8486 8.21126 11.765C8.2211 11.5044 8.31946 11.2683 8.47684 11.0716L7.75388 10.8503C7.4047 10.747 7.4047 10.2847 7.75388 10.1765L11.8949 8.90763C12.1211 8.83878 12.3621 8.83878 12.5883 8.90763Z"}),(0,Ms.jsx)("path",{d:"M11.7522 12.5765C11.944 12.6355 12.3031 12.7044 12.726 12.5765L14.8752 11.9175L15.0867 13.5994C15.0867 14.1257 13.8129 14.5486 12.2391 14.5486C10.6654 14.5486 9.39159 14.1257 9.39159 13.5994L9.60306 11.9175L11.7522 12.5765Z"})]})}),(0,Ms.jsxs)("div",{className:"balance-info-block__balance",children:["$",(0,Ms.jsx)("div",{children:(0,qn.xr)(l,2,!0)})]}),(0,Ms.jsx)("div",{className:"balance-info-block__restore-demo",onClick:function(){return t((0,ba.wk)())},children:(0,Ms.jsx)("i",{className:"fa fa-refresh"})})]})]}),i&&(0,Ms.jsx)(xw,{openerNode:e.current,onDropdownClose:function(){return o(!1)},tooltipAmount:s})]})}var _w=function(){function t(){}return t.isEventSupported=function(t){var e;return e={reset:"form",error:"img",change:"input",submit:"form",select:"input",abort:"img",load:"img"},function(n,r){var i;return r=r||document.createElement(e[n]||"div"),(i=(n="on"+n)in r)||(r.setAttribute||(r=document.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(n,""),i="function"==typeof r[n],void 0!==r[n]&&(r[n]=t),r.removeAttribute(n))),r=null,i}},t}(),Tw=function(){function t(){this.bindObj=window.addEventListener?"addEventListener":"attachEvent",this.unbindObj=window.removeEventListener?"removeEventListener":"detachEvent",this.prefixObj="addEventListener"!==this.bindObj?"on":""}return t.prototype.bind=function(t,e,n,r){return t[this.bindObj](this.prefixObj+e,n,r||!1),n},t.prototype.unbind=function(t,e,n,r){return t[this.unbindObj](this.prefixObj+e,n,r||!1),n},t}(),Aw=function(){function t(){var t;t=this,this.support="",this.callbacks={},["wheel","mousewheel","DOMMouseScroll"].forEach((function(e){_w.isEventSupported(e)&&0===t.support.length&&(t.support=e)}))}return t.prototype.bind=function(t,e,n){var r,i;r=new Tw,i=function(t){var n;t||(t=window.event),(n={}).deltaMode="MozMousePixelScroll"===t.type?0:1,n.target=t.target||t.srcElement,n.originalEvent=t,n.type="wheel",n.deltaX=0,n.deltaZ=0,n.preventDefault=function(){t.preventDefault?t.preventDefault():t.returnValue=!1},"mousewheel"===this.support?(t.wheelDeltaX&&(n.deltaX=-.2*t.wheelDeltaX),t.wheelDelta&&(n.deltaY=t.wheelDelta>0?-5:5),t.wheelDeltaY&&(n.deltaY=-.2*t.wheelDeltaY)):n.deltaY=t.detail,e(n)},"DOMMouseScroll"===this.support&&r.bind(t,"MozMousePixelScroll",e,n||!1),r.bind(t,this.support,"wheel"===this.support?e:i,n||!1),this.callbacks[e]=i},t.prototype.unbind=function(t,e,n){var r;r=new Tw,this.callbacks[e]&&("DOMMouseScroll"===this.support&&r.unbind(t,"MozMousePixelScroll",e,n),r.unbind(t,this.support,"wheel"===this.support?e:this.callbacks[e],n),delete this.callbacks[e])},t}(),Ew=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||1!=+pe.A.cookies.get("dpr")?Math.min(window.devicePixelRatio||1,2):1};var Pw=function(t){var e,n=(((e=document.documentElement)||(e=document.body.parentNode))&&"number"==typeof e.scrollLeft?e:document.body).scrollLeft,r=(((e=document.documentElement)||(e=document.body.parentNode))&&"number"==typeof e.scrollTop?e:document.body).scrollTop,i=t.getBoundingClientRect();return{top:i.top+r,left:i.left+n}};function Cw(t){var e=t.target.nodeName.toLowerCase();return"input"===e||"textarea"===e}function kw(t){return kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kw(t)}function Nw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rw(r.key),r)}}function Iw(t,e,n){return(e=Rw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rw(t){var e=function(t,e){if("object"!=kw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kw(e)?e:String(e)}var Lw="event_scroll",Dw="event_pan",Mw="event_touch_start",Bw="event_touch_end",Hw="event_stop",Fw="event_mouse_move",Gw="event_pinch_moved",Vw="event_pinch_ended",Ww="event_mouse_down",Uw="event_mouse_up",zw=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Iw(this,"onMouseDownHandler",(function(t){if(2!==t.button&&3!==t.which){var e=n.getMousePosition(t),r=e.x,i=e.y;n.canvas===t.target&&(n.startPosX=r,n.startPosY=i,n.mousePressed=!0,n.listeners[Ww].forEach((function(e){return e(r,i,t.ctrlKey||t.metaKey)})))}})),Iw(this,"onMouseUpHandler",(function(t){n.mousePressed=!1;var e=n.getMousePosition(t),r=e.x,i=e.y,o=Math.abs(n.startPosX-r),a=Math.abs(n.startPosY-i);(o<=3||a<=3)&&n.listeners[Uw].forEach((function(e){return e(r,i,t.ctrlKey||t.metaKey)})),n.listeners[Hw].forEach((function(t){return t(r,i)}))})),Iw(this,"onMouseMoveHandler",(function(t){if(n.canvas===t.target||!n.mousePressed){var e=n.getMousePosition(t),r=e.x,i=e.y;n.x===r&&n.y===i||(n.x=r,n.y=i,n.mousePressed&&n.listeners[Dw].forEach((function(t){return t(n.x,n.y)})),n.listeners[Fw].forEach((function(t){return t(n.x,n.y)})))}})),Iw(this,"onMouseLeaveHandler",(function(t){var e=n.getMousePosition(t),r=e.x,i=e.y;n.x=r,n.y=i,n.mousePressed&&(n.listeners[Hw].forEach((function(t){return t(n.x,n.y)})),n.mousePressed=!1),n.listeners[Fw].forEach((function(t){return t(-1,-1)}))})),Iw(this,"onTouchStartHandler",(function(t){if(n.addTouches(t.changedTouches||[]),n.touches.length)if(1===n.touches.length){n.mousePressed=!0;var e=n.getTouchPosition(n.touches[0]),r=e.x,i=e.y;n.startPosX=r,n.startPosY=i,n.listeners[Mw].forEach((function(e){return e(r,i,t.ctrlKey||t.metaKey)}))}else{var o=n.getTouchPosition(n.touches[0]),a=o.x,s=o.y,c=n.getTouchPosition(n.touches[1]),l=c.x,u=c.y;n.listeners[Gw].forEach((function(t){return t(a,s,l,u)}))}})),Iw(this,"onTouchEndHandler",(function(t){n.removeTouches(t.changedTouches),n.mousePressed=!1;var e=t.changedTouches;if(e.length)if(1===e.length){var r=n.getTouchPosition(e[0]),i=r.x,o=r.y,a=Math.abs(n.startPosX-i),s=Math.abs(n.startPosY-o);(a>3||s>3)&&n.listeners[Hw].forEach((function(t){return t(i,o)})),n.listeners[Bw].forEach((function(t){return t(i,o)}))}else{var c=n.getTouchPosition(e[0]),l=c.x,u=c.y,h=n.getTouchPosition(e[1]),f=h.x,d=h.y;n.listeners[Vw].forEach((function(t){return t(l,u,f,d)}))}})),Iw(this,"onTouchMoveHandler",(function(t){if(t.stopPropagation(),t.preventDefault(),n.updateTouches(t.changedTouches||{}),n.touches.length)if(1===n.touches.length){var e=n.getTouchPosition(n.touches[0]),r=e.x,i=e.y;n.x=r,n.y=i,n.mousePressed&&n.listeners[Dw].forEach((function(t){return t(r,i)}))}else{var o=n.getTouchPosition(n.touches[0]),a=o.x,s=o.y,c=n.getTouchPosition(n.touches[1]),l=c.x,u=c.y;n.listeners[Gw].forEach((function(t){return t(a,s,l,u)}))}})),Iw(this,"onTouchCancelHandler",(function(t){t.stopPropagation(),t.preventDefault();var e=t.changedTouches;if(1===e.length){var r=n.getTouchPosition(e[0]),i=r.x,o=r.y;n.x=i,n.y=o,n.mousePressed&&(n.listeners[Hw].forEach((function(t){return t(i,o)})),n.mousePressed=!1),n.listeners[Fw].forEach((function(t){return t(-1,-1)}))}})),Iw(this,"onWheel",(function(t){t.defaultPrevented||(n.listeners[Lw].forEach((function(e){return e(-t.deltaY/n.deltaDivider,t.offsetX,t.offsetY)})),t.preventDefault())})),this.isIE=!1,this.mousePressed=!1,this.deltaDivider=1e3,this.x=0,this.y=0,this.width=0,this.height=0,this.touches=[],this.startPosX=0,this.startPosY=0,this.listeners=this.prepareInputEventsListeners(),this.wheelEvent=function(t){t||(t=window.event),n.listeners[Lw].forEach((function(e){e(t.deltaY/-n.deltaDivider,t.offsetX,t.offsetY)})),t.preventDefault()},"undefined"!=typeof navigator&&(this.isIE=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0),this.container=document.getElementById(e),this.canvas=document.querySelector("#".concat(e," canvas")),this.wheel=new Aw,this.containerOffset={left:0,top:0},this.setControls()}var e,n,r;return e=t,n=[{key:"addEventListener",value:function(t,e){var n=(0,ho.A)();return this.listeners[t].set(n,e),n}},{key:"addEventListeners",value:function(t,e){var n=this,r=[];return t.forEach((function(t){return r.push(n.addEventListener(t,e))})),r}},{key:"removeEventListener",value:function(t,e){this.listeners[t].delete(e)}},{key:"removeAllListeners",value:function(){this.listeners=this.prepareInputEventsListeners()}},{key:"prepareInputEventsListeners",value:function(){var t={};return[Lw,Dw,Mw,Bw,Hw,Fw,Gw,Vw,Uw,Ww].forEach((function(e){t[e]=new Map})),t}},{key:"setSize",value:function(t,e){var n=Ew();this.width=t,this.height=e,this.canvas.height=e*n,this.canvas.width=t*n,this.canvas.style.width="".concat(t,"px"),this.canvas.style.height="".concat(e,"px"),this.canvas.style.setProperty("position","absolute"),this.containerOffset=Pw(this.container)}},{key:"addTouches",value:function(t){var e=this;Array.from(t).forEach((function(t){e.canvas===t.target&&e.touches.push(t)}))}},{key:"updateTouches",value:function(t){var e=this;Array.from(t).forEach((function(t){if(e.canvas===t.target){var n=e.touches.findIndex((function(e){return e.identifier===t.identifier}));-1!==n&&(e.touches[n]=t)}}))}},{key:"removeTouches",value:function(t){var e=this;Array.from(t).forEach((function(t){var n=e.touches.findIndex((function(e){return e.identifier===t.identifier}));-1!==n&&e.touches.splice(n,1)}))}},{key:"getMousePosition",value:function(t){var e=this.containerOffset;return{x:t.pageX-e.left,y:t.pageY-e.top}}},{key:"getTouchPosition",value:function(t){var e=this.containerOffset;return{x:t.clientX-e.left,y:t.clientY-e.top}}},{key:"setControls",value:function(){this.isIE?this.wheel.bind(this.container,this.wheelEvent,!0):this.container.addEventListener("wheel",this.onWheel),this.container.addEventListener("mousedown",this.onMouseDownHandler),this.container.addEventListener("mouseup",this.onMouseUpHandler),this.container.addEventListener("mousemove",this.onMouseMoveHandler),this.container.addEventListener("mouseleave",this.onMouseLeaveHandler),this.container.addEventListener("touchstart",this.onTouchStartHandler),this.container.addEventListener("touchend",this.onTouchEndHandler),this.container.addEventListener("touchmove",this.onTouchMoveHandler),this.container.addEventListener("touchcancel",this.onTouchCancelHandler)}},{key:"unsetControls",value:function(){this.isIE?this.wheel.unbind(this.container,this.wheelEvent,!0):this.container.removeEventListener("wheel",this.onWheel),this.container.removeEventListener("mousedown",this.onMouseDownHandler),this.container.removeEventListener("mouseup",this.onMouseUpHandler),this.container.removeEventListener("mousemove",this.onMouseMoveHandler),this.container.removeEventListener("mouseleave",this.onMouseLeaveHandler),this.container.removeEventListener("touchstart",this.onTouchStartHandler),this.container.removeEventListener("touchend",this.onTouchEndHandler),this.container.removeEventListener("touchmove",this.onTouchMoveHandler),this.container.removeEventListener("touchcancel",this.onTouchCancelHandler)}},{key:"getCanvas",value:function(){return this.canvas}}],n&&Nw(e.prototype,n),r&&Nw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xw(t){return Xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xw(t)}function $w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yw(r.key),r)}}function Yw(t){var e=function(t,e){if("object"!=Xw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xw(e)?e:String(e)}var qw=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.EK.Linear;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.curveType=n,this.time=0,this.startTime=0,this.fromValue=0,this.toValue=0,this.currentValue=0,this.duration=e,this.timeout=0,this.enabled=!0,this.circular=!1,this.circularTo=!1,this.calculated=!1,this.calculateToOne=!1}var e,n,r;return e=t,(n=[{key:"setTime",value:function(t){0===this.startTime&&(this.startTime=t,this.calculated=!1),this.time!==t&&(this.calculated=!1),this.time=t}},{key:"setEnabled",value:function(t){this.enabled!==t&&(this.enabled=t,this.calculated=!1)}},{key:"setToValue",value:function(t){this.toValue!==t&&(this.toValue=t,this.startTime=this.time,this.calculated=!1)}},{key:"getValue",value:function(){return this.calculateValue()}},{key:"calculateValue",value:function(){if(0===this.fromValue&&0===this.toValue)return 0;if(this.fromValue===this.toValue||!this.enabled)return this.toValue;var t=0,e=0,n=0;if(this.circular){var r=Math.floor(this.time/this.duration)*this.duration,i=r%2==0;t=this.time-r,n=i?this.toValue-this.fromValue:this.fromValue-this.toValue,e=i?this.fromValue:this.toValue}else t=this.time-(this.startTime+this.timeout),n=this.toValue-this.fromValue,e=this.fromValue;if(t>this.duration&&(t=this.duration),t<=0)return e;if(this.calculated)return this.currentValue;switch(this.curveType){case w.EK.Linear:this.currentValue=this.linear(t,e,n,this.duration);break;case w.EK.EaseOutQuad:this.currentValue=this.easeOutQuad(t,e,n,this.duration);break;case w.EK.EaseInOutQuad:this.currentValue=this.easeInOutQuad(t,e,n,this.duration);break;case w.EK.EaseOutQuart:this.currentValue=this.easeOutQuart(t,e,n,this.duration);break;case w.EK.EaseOutQuint:this.currentValue=this.easeOutQuint(t,e,n,this.duration)}return this.currentValue===this.toValue&&(this.circular||this.circularTo?this.circularTo&&this.resetStartTime():this.fromValue=this.toValue),this.calculated=!0,this.currentValue}},{key:"resetStartTime",value:function(){this.startTime=0}},{key:"reset",value:function(){this.fromValue=0,this.startTime=0,this.calculated=!1,this.toValue=0}},{key:"linear",value:function(t,e,n,r){return n*t/r+e}},{key:"easeOutQuad",value:function(t,e,n,r){return-n*(t/=r)*(t-2)+e}},{key:"easeInOutQuad",value:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},{key:"easeInQuart",value:function(t,e,n,r){return n*(t/=r)*t*t*t+e}},{key:"easeOutQuart",value:function(t,e,n,r){return t/=r,-n*(--t*t*t*t-1)+e}},{key:"easeOutQuint",value:function(t,e,n,r){return t/=r,n*(--t*t*t*t*t+1)+e}},{key:"easeInOutSine",value:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e}}])&&$w(e.prototype,n),r&&$w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Kw=qw;function Zw(t){return Zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zw(t)}function Qw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jw(r.key),r)}}function Jw(t){var e=function(t,e){if("object"!=Zw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zw(e)?e:String(e)}var tx=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color=t.convertHEXA2RGBA(e),this.hex=parseInt(e.replace(/^#/,"").substr(0,6),16),this.alpha=n}var e,n,r;return e=t,r=[{key:"convertHEXA2RGBA",value:function(t){return"rgba("+parseInt(t.substr(0,2),16)+","+parseInt(t.substr(2,2),16)+","+parseInt(t.substr(4,2),16)+","+this.alpha+")"}},{key:"fromRGBA",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new this("FFFFFFFF");return n.setRGBA(t),null!==e&&e>=0&&e<=1&&n.setAlpha(e),n}}],(n=[{key:"convertRGBA2HEXNUM",value:function(t){var e=t.match(/^(.*?)(rgb|rgba)\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)/i),n=("0"+parseInt(e[3],10).toString(16)).slice(-2)+("0"+parseInt(e[4],10).toString(16)).slice(-2)+("0"+parseInt(e[5],10).toString(16)).slice(-2),r=parseFloat(e[6]);return[parseInt(n,16),r]}},{key:"getHEXNUM",value:function(){return this.hex}},{key:"getVec4Array",value:function(){var t=this.getRGBAComponents();return[t[0]/255,t[1]/255,t[2]/255,t[3]]}},{key:"getAlpha",value:function(){return this.alpha}},{key:"setAlpha",value:function(t){this.alpha=t}},{key:"setRGBA",value:function(t){var e=this.convertRGBA2HEXNUM(t);this.hex=e[0],this.alpha=e[1],this.color=t}},{key:"parseRGBComponent",value:function(t){var e=parseInt(t);return 0<=e&&e<=255?e:255}},{key:"getRGBAComponents",value:function(){var t=this.color.substring(this.color.indexOf("(")+1,this.color.lastIndexOf(")")).split(/,\s*/);return t.length<3?[255,255,255,this.alpha]:[this.parseRGBComponent(t[0]),this.parseRGBComponent(t[1]),this.parseRGBComponent(t[2]),this.alpha]}},{key:"lerp",value:function(t,e,n){return t*(1-n)+e*n}}])&&Qw(e.prototype,n),r&&Qw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ex(t){return ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ex(t)}function nx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rx(r.key),r)}}function rx(t){var e=function(t,e){if("object"!=ex(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ex(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ex(e)?e:String(e)}var ix={LIGHT:"light",BLUE:"dark-blue"};function ox(t){return function(t){return t===ix.BLUE||t===ix.LIGHT}(t)?t:ix.BLUE}var ax=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.theme=this.getCurrentTheme(),this.initColors(),this.events()}var e,n,r;return e=t,(n=[{key:"initColors",value:function(){var t=this.theme===ix.BLUE;this.candleValues=new tx("7e91a7",1),this.timerTimeColor=new tx("738299",1),this.gridLineColor=new tx("738299",.25),this.gridTextColor=new tx(t?"888A95":"4a76a8",1),this.gridTextColorLight=new tx(t?"a2a4ac":"7294bb",1),this.deadLineColor=new tx("4a76a8",.8),this.expirationLineColor=new tx("4a76a8",.5),this.deadLineTextColor=new tx("86a3c5",1),this.expirationLineTextColor=new tx("86a3c5",1),this.betElementTextColor=new tx("FFFFFF",1),this.betElementTextColorTooltipOff=new tx(t?"FFFFFF":"4a76a8",1),this.loaderBg=new tx("535661",1),this.loaderBg2=new tx("5f616c",1),this.valueLineColor=new tx("4a76a8",.8),this.valuePointCenterColor=new tx("00b6f9",1),this.callLineColor=new tx("49A744",1),this.putLineColor=new tx("FC380A",1),this.expressColor=new tx("4a76a8",1),this.upBgFrom=new tx("1b222f",.1),this.upBgTo=new tx("369245",.1),this.downBgFrom=new tx("f2372e",.1),this.downBgTo=new tx("1b222f",.1),this.dragPointCenterColor=new tx(t?"FFFFFF":"7294bb",1),this.plotLineColor=new tx("4a76a8",1),this.plotLineGradientTopColor=new tx("4a76a8",.4),this.plotLineGradientBottomColor=new tx("4a76a8",.1),this.priceChartTopColor=new tx("4a76a8",.7),this.priceChartBottomColor=new tx("191D2D",.2),this.indicatorBottomBgColor=t?new tx("202432",.8):new tx("ffffff",.075),this.indicatorBottomBorderColor=new tx("4a76a8",.5),this.indicatorBottomNullLineColor=new tx("4a76a8",.15),this.indicatorLevelTextColor=new tx("738299",1),this.minMaxElementBg=t?new tx("32364F",.45):new tx("ECEEF1",1),this.minMaxElementText=new tx(t?"74869F":"A5AFBB",1)}},{key:"getCurrentTheme",value:function(){var t=(0,fe.A)("theme");return Object.values(ix).includes(t)?t:ix.BLUE}},{key:"events",value:function(){var t=this;Re.A.subscribe(Ha.yi,(function(e,n){t.theme=n.val,t.initColors()}))}},{key:"setTheme",value:function(t){this.theme=t,this.initColors()}}])&&nx(e.prototype,n),r&&nx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),sx=n(19198),cx=n(53804);function lx(t){return lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(t)}function ux(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hx(r.key),r)}}function hx(t){var e=function(t,e){if("object"!=lx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lx(e)?e:String(e)}var fx=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pointsManager=n,this.averageShift=0,this.elementType=w.Eq.Common,this.maxVal=de.Ay.CHART.DBL_MIN,this.minVal=de.Ay.CHART.DBL_MAX,this.lastMaxVal=de.Ay.CHART.DBL_MIN,this.lastMinVal=de.Ay.CHART.DBL_MAX,this.lastFromTime=0,this.lastToTime=0,this.fromTime=0,this.toTime=0,this.yShift=0,this.position=w.vh.Overlay,this.lastExpirationTime=0,this.expirationTime=0,this.lastToExpTime=0,this.toEndExpTime=0,this.pointerX=0,this.pointerY=0,this.lastPointerX=0,this.lastPointerY=0,this.endTime=0,this.lastEndTime=0,this.width=0,this.worldHeight=0,this.widthLast=0,this.worldHeightLast=0,this.currentTime=0,this.lastCurrentTime=0,this.height=0,this.heightLast=0,this.topMarginPixels=0,this.bottomMarginPixels=0,this.lastBottomMarginPixels=0,this.startTime=0,this.secondWidth=0,this.shift=0,this.pointsInElement=1,this.showCursorPointer=!1,this.pointerInElement=!1,this.pointerInElementValueY=0,this.pointerInElementValueSymbol="",this.period=1,this.points=[],this.hoverCallBtn=!1,this.hoverPutBtn=!1,this.core=e,this.colors=ax,this.options=[],this.expresses=[],this.selectedPlotType=null,this.lastSelectedPlotType=null,this.chartId="chart-1",this.currentDigit=5,this.forceCleared=!1,this.assetId=0,this.symbol=0,this.currency="",this.theme="",this.lastTheme="",this.isMinMaxCalculated=!1,this.isMobile=!1,this.interactiveGraphics=null,this.lastSelectedCandleTime=null,this.prevLastValue=0,this.candleUpHex=de.Ay.CHART.CANDLE_COLOR.up,this.lastCandleUpHex=null,this.candleDownHex=de.Ay.CHART.CANDLE_COLOR.down,this.lastCandleDownHex=null,this.shadowStyle=w.QJ.REGULAR,this.hoveredDoubleUp=null,this.hoveredRollover=null,this.candlesCount=0,this.lastCandlesCount=0}var e,n,r;return e=t,(n=[{key:"needToDraw",value:function(){return!0}},{key:"draw",value:function(){}},{key:"onAfterDraw",value:function(){}},{key:"formatStringPrice",value:function(t){return(0,sx.T)(t,this.currentDigit)}},{key:"getXFromTime",value:function(t){return this.pointsManager.getXFromTime(t)}},{key:"getYFromValue",value:function(t){var e=(t-this.minVal)/(this.maxVal-this.minVal);return this.yShift+this.height-this.bottomMarginPixels-(this.height-(this.topMarginPixels+this.bottomMarginPixels))*e}},{key:"getValueFrom",value:function(){return this.getValueFromY(this.yShift+this.height)}},{key:"getValueTo",value:function(){return this.getValueFromY(this.yShift)}},{key:"getValueFromY",value:function(t){var e=this.height-(this.topMarginPixels+this.bottomMarginPixels),n=(this.yShift+this.height-this.bottomMarginPixels-t)/e;return this.minVal+(this.maxVal-this.minVal)*n}},{key:"getTimeFromX",value:function(t){return this.pointsManager.getTimeFromX(t)}},{key:"filterPoints",value:function(t){var e=this.pointsManager.getSecondsInCandle(),n=this.getTimeFrom()-e,r=this.getTimeTo()+e,i=[];if(t&&t.length>0)for(var o=0;o<t.length;o++){var a=t[o];n<=a.time&&a.time<=r&&i.push(a)}return i}},{key:"getTimeFrom",value:function(){var t=this.averageShift*this.pointsInElement;return isNaN(t)&&(t=0),this.getTimeFromX(this.shift)-t}},{key:"getTimeTo",value:function(){var t=this.averageShift*this.pointsInElement;return isNaN(t)&&(t=0),this.getTimeFromX(this.shift+this.width)-t}},{key:"isDarkTheme",value:function(){return this.theme===ix.BLUE}},{key:"isCurrentTimeChanged",value:function(){return this.currentTime!==this.lastCurrentTime}},{key:"isChangedMinMax",value:function(){return this.lastMinVal!==this.minVal||this.lastMaxVal!==this.maxVal}},{key:"isChangedFromTo",value:function(){return this.lastFromTime!==this.fromTime||this.lastToTime!==this.toTime}},{key:"isChangedExpirationTime",value:function(){return this.expirationTime!==this.lastExpirationTime}},{key:"isChangedToExpTime",value:function(){return this.lastToExpTime!==this.toEndExpTime}},{key:"isPointerChanged",value:function(){return this.lastPointerX!==this.pointerX||this.lastPointerY!==this.pointerY}},{key:"isSizeChanged",value:function(){return this.width!==this.widthLast||this.worldHeight!==this.worldHeightLast}},{key:"isElementHeightChanged",value:function(){return this.height!==this.heightLast}},{key:"isEndTimeChanged",value:function(){return this.endTime!==this.lastEndTime}},{key:"isThemeChanged",value:function(){return this.theme!==this.lastTheme}},{key:"isBottomMarginChanged",value:function(){return this.bottomMarginPixels!==this.lastBottomMarginPixels}},{key:"isLineChart",value:function(){return(0,g.Mt)(this.selectedPlotType)}},{key:"isPlotTypeChanged",value:function(){return this.selectedPlotType!==this.lastSelectedPlotType}},{key:"isLastValueChanged",value:function(){return this.prevLastValue!==this.pointsManager.getLastValue()}},{key:"isCandlesCountChanged",value:function(){return this.candlesCount!==this.lastCandlesCount}},{key:"isCandleColorChanged",value:function(){return this.candleDownHex!==this.lastCandleDownHex||this.candleUpHex!==this.lastCandleUpHex}},{key:"destroy",value:function(){}},{key:"isClickedOnElement",value:function(t,e){if(!this.interactiveGraphics)return!1;var n=this.core,r=n.renderer,i=n.stage,o=r.plugins.interaction.hitTest(new cx.bRX(t,e),i);return!!o&&(Array.isArray(this.interactiveGraphics)?this.interactiveGraphics.some((function(t){return t===o})):o===this.interactiveGraphics)}},{key:"getSpritePath",value:function(t){return this.core.isIE?de.Ay.CHART.EMPTY_1_PX:t}}])&&ux(e.prototype,n),r&&ux(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),dx=fx;function px(t){return px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},px(t)}function mx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yx(r.key),r)}}function yx(t){var e=function(t,e){if("object"!=px(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=px(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==px(e)?e:String(e)}var vx=function(){function t(e,n,r,i,o){var a,s,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,c="\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform mat3 mappedMatrix;\nuniform sampler2D uSampler;\nuniform vec4 fromColor;\nuniform vec4 toColor;\nuniform float direction;\nuniform float flip;\nuniform float alpha;\n\nvoid main(void) {\n    vec4 result = texture2D(uSampler, vTextureCoord);\n    vec3 mapCoord = vec3(vTextureCoord, 1.0) * mappedMatrix;\n    vec4 mixCol;\n    vec4 colorA;\n    vec4 colorB;\n    \n    if (result.a > 0.0) {\n        if(flip == 1.0) {\n            colorA = toColor;\n            colorB = fromColor;\n        } else {\n            colorA = fromColor;\n            colorB = toColor;\n        }\n        if(direction == 1.0) {\n            mixCol = mix(colorA, colorB, mapCoord.x);\n        } else {\n            mixCol = mix(colorA, colorB, mapCoord.y);\n        }\n        gl_FragColor = mix(result, mixCol, alpha);\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n",(s=yx(s="fragShader"))in a?Object.defineProperty(a,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[s]=c,this.filter=new cx.dJT(null,this.fragShader,{mappedMatrix:new cx.uqu,fromColor:new Float32Array(e.getVec4Array()),toColor:new Float32Array(n.getVec4Array()),alpha:o,direction:r?1:0,flip:i?1:0});var l=this.calculateNormalizedScreenSpaceMatrix.bind(this.filter);this.filter.apply=function(t,e,n,r,i){l(this.uniforms.mappedMatrix,i),t.applyFilter(this,e,n,r,i)}}var e,n,r;return e=t,(n=[{key:"calculateNormalizedScreenSpaceMatrix",value:function(t,e){var n=e.sourceFrame,r=e.destinationFrame,i=t.identity();i.translate(n.x/r.width,n.y/r.height);var o=r.width/n.width,a=r.height/n.height;return i.scale(o,a),i}}])&&mx(e.prototype,n),r&&mx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),bx=n(89061);function gx(t){return gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gx(t)}function wx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xx(r.key),r)}}function xx(t){var e=function(t,e){if("object"!=gx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gx(e)?e:String(e)}function jx(t,e,n){return e=_x(e),function(t,e){if(e&&("object"===gx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ox()?Reflect.construct(e,n||[],_x(t).constructor):e.apply(t,n))}function Ox(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ox=function(){return!!t})()}function Sx(){return Sx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_x(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Sx.apply(this,arguments)}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_x(t)}function Tx(t,e){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tx(t,e)}var Ax=function(t){function e(t,n,r,i){var o,a=i.showArea;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=jx(this,e,[t,n])).showArea=a,o.minMaxElement=r,o.firstPointTimeMainLine=0,o.lastPointTimeMainLine=0,o.firstPointTimeTailLine=0,o.lastPointTimeTailLine=0,o.dividerCount=0,o.changedShowArea=!1,o.init(),o}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tx(t,e)}(e,t),n=e,r=[{key:"init",value:function(){this.mainLineChartId="main-line",this.tailLineChartId="tail-line",this.areaGradientId="area-gradient",this.areaAlpha=0,this.areaShaderFilter=null,this.core.isWebGLRenderer()?(this.areaAlpha=.01,this.initColors()):this.areaAlpha=.15}},{key:"normalizeY",value:function(t){return t<0?0:t>this.height?this.height:t}},{key:"updateShowArea",value:function(t){this.showArea=t,this.changedShowArea=!0,this.showArea||this.destroyArea()}},{key:"initColors",value:function(){this.core.isWebGLRenderer()&&(this.areaShaderFilter=new vx(new tx("4a76a8",.8),new tx("4a76a8",.4),!1,!1,.2))}},{key:"drawMinMaxElements",value:function(t){for(var e={value:Number.MIN_VALUE,time:0},n={value:Number.MAX_VALUE,time:0},r=this.getTimeFrom(),i=this.getTimeTo(),o=0;o<t.length;o++){var a=t[o];r<=a.time&&a.time<=i&&(a.value>e.value&&(e={value:a.value,time:a.time}),a.value<n.value&&(n={value:a.value,time:a.time}))}this.minMaxElement.drawMaxValue(e),this.minMaxElement.drawMinValue(n)}},{key:"drawArea",value:function(t,e){var n=this.core.getDynamicGraphics(w.Rp.CANDLES,e,{smooth:!0}).graphics,r=this.yShift+this.height;n.beginFill(this.colors.plotLineGradientTopColor.getHEXNUM(),this.areaAlpha),n.moveTo(t[0].x,r),n.lineTo(t[0].x,this.normalizeY(t[0].y));for(var i=0;i<t.length;i++){var o=t[i],a=o.x,s=o.y;n.lineTo(a,this.normalizeY(s))}n.lineTo(t[t.length-1].x,r),n.lineTo(t[0].x,r),n.endFill(),this.core.isWebGLRenderer()&&(n.filters=[this.areaShaderFilter.filter])}},{key:"drawLine",value:function(t,e){var n=this.core.getDynamicGraphics(w.Rp.CANDLES,e,{smooth:!0}).graphics;n.lineStyle({width:2,scaleMode:bx.sb.VERTICAL,color:this.colors.plotLineColor.getHEXNUM(),alpha:.8,join:cx.u2q.ROUND});for(var r=0;r<t.length;r++){var i=t[r],o=i.x,a=i.y;0===r?n.moveTo(o,a+1):n.lineTo(o,a+1)}}},{key:"draw",value:function(){this.isThemeChanged()&&this.initColors();for(var t=this.filterPoints(this.pointsManager.getReducedAndAnimatedPoints()),e=t.length,n=[],r=0;r<e;r++){var i=this.getXFromTime(t[r].time);if(r+1<e){var o=this.getXFromTime(t[r+1].time);if(i<0&&o<0)continue}n.push({x:this.getXFromTime(t[r].time),y:this.getYFromValue(t[r].value)})}if(!(n.length<3)){(!this.dividerCount||this.dividerCount>n.length-2)&&(this.dividerCount=n.length-2);var a=n.slice(0,this.dividerCount),s=n.slice(this.dividerCount-1);s.length>100&&(this.dividerCount=0);var c=this.shouldRedrawMainPart(a[0],a[a.length-1]),l=this.shouldRedrawTailPart(s[0],s[s.length-1]);c&&(this.firstPointTimeMainLine=a[0].x,this.lastPointTimeMainLine=a[a.length-1].x,this.core.clearDynamicGraphicsNew(this.mainLineChartId),this.drawLine(a,this.mainLineChartId)),l&&(this.firstPointTimeTailLine=s[0].x,this.lastPointTimeTailLine=s[s.length-1].x,this.core.clearDynamicGraphicsNew(this.tailLineChartId),this.drawLine(s,this.tailLineChartId)),(c||l)&&(this.core.clearDynamicGraphicsNew(this.areaGradientId),this.showArea&&this.drawArea(n,this.areaGradientId)),this.drawMinMaxElements(t)}}},{key:"onAfterDraw",value:function(){Sx(_x(e.prototype),"onAfterDraw",this).call(this),this.changedShowArea=!1}},{key:"baseShouldRedraw",value:function(){return this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isElementHeightChanged()||this.forceCleared||this.changedShowArea}},{key:"shouldRedrawMainPart",value:function(t,e){return this.baseShouldRedraw()||t.x!==this.firstPointTimeMainLine||e.x!==this.lastPointTimeMainLine}},{key:"shouldRedrawTailPart",value:function(t,e){return this.baseShouldRedraw()||t.x!==this.firstPointTimeTailLine||e.x!==this.lastPointTimeTailLine}},{key:"clear",value:function(){this.minMaxElement.clear(),this.core.clearDynamicGraphicsNew(this.mainLineChartId),this.core.clearDynamicGraphicsNew(this.tailLineChartId),this.core.clearDynamicGraphicsNew(this.areaGradientId)}},{key:"destroy",value:function(){Sx(_x(e.prototype),"destroy",this).call(this),this.destroyArea(),this.minMaxElement.destroy(),this.core.destroyDynamicGraphicsNew(w.Rp.CANDLES,this.mainLineChartId),this.core.destroyDynamicGraphicsNew(w.Rp.CANDLES,this.tailLineChartId),this.core.destroyDynamicGraphicsNew(w.Rp.CANDLES,this.areaGradientId)}},{key:"destroyArea",value:function(){this.core.isWebGLRenderer()&&(this.core.getDynamicGraphics(w.Rp.CANDLES,this.areaGradientId).graphics.filters=[])}}],r&&wx(n.prototype,r),i&&wx(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),Ex=Ax;function Px(t){return Px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(t)}function Cx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kx(r.key),r)}}function kx(t){var e=function(t,e){if("object"!=Px(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Px(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Px(e)?e:String(e)}function Nx(t,e,n){return e=Rx(e),function(t,e){if(e&&("object"===Px(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ix()?Reflect.construct(e,n||[],Rx(t).constructor):e.apply(t,n))}function Ix(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ix=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rx(t)}function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lx(t,e)}var Dx="highText",Mx="lowText",Bx="openText",Hx="closeText",Fx=(0,yt.tr)("chart_settings.high_label"),Gx=(0,yt.tr)("chart_settings.low_label"),Vx=(0,yt.tr)("chart_settings.open_label"),Wx=(0,yt.tr)("chart_settings.close_label"),Ux=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Nx(this,e,[t,n])).renderedCandleValues=!1,r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lx(t,e)}(e,t),n=e,(r=[{key:"candleUpColor",get:function(){return new tx(this.candleUpHex,1)}},{key:"candleDownColor",get:function(){return new tx(this.candleDownHex,1)}},{key:"drawCandleValues",value:function(t){var e=this.pointsManager.plot.globalSettings,n=e.enabledTooltipMessage;if(!e.isMobile&&!this.isLineChart()&&n&&t){this.renderedCandleValues=!0;var r=this.height-de.Ay.CHART.TIMELINE_HEIGHT-35,i=this.getText(Bx,Vx+(t?" "+this.formatStringPrice(t.enterValue):""));i.x=22,i.y=r-60;var o=this.getText(Hx,Wx+(t?" "+this.formatStringPrice(t.exitValue):""));o.x=22,o.y=r-42;var a=this.getText(Dx,Fx+(t?" "+this.formatStringPrice(t.maxValue):""));a.x=22,a.y=r-24;var s=this.getText(Mx,Gx+(t?" "+this.formatStringPrice(t.minValue):""));s.x=22,s.y=r-6}else this.renderedCandleValues&&(this.destroyCandleValues(),this.renderedCandleValues=!1)}},{key:"getText",value:function(t,e){var n=this.colors.candleValues.getHEXNUM();return this.core.getText(w.Rp.GRID,t,e,de.Ay.CHART.TEXT_STYLE_CANDLE_VALUES,n)}},{key:"destroyCandleValues",value:function(){this.core.destroyText(Dx),this.core.destroyText(Mx),this.core.destroyText(Bx),this.core.destroyText(Hx)}},{key:"clear",value:function(){this.core.clearText(Dx),this.core.clearText(Mx),this.core.clearText(Bx),this.core.clearText(Hx)}},{key:"destroy",value:function(){this.destroyCandleValues()}}])&&Cx(n.prototype,r),i&&Cx(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx);function zx(t){return zx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(t)}function Xx(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $x(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qx(r.key),r)}}function qx(t){var e=function(t,e){if("object"!=zx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zx(e)?e:String(e)}function Kx(t,e,n){return e=Jx(e),function(t,e){if(e&&("object"===zx(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Zx()?Reflect.construct(e,n||[],Jx(t).constructor):e.apply(t,n))}function Zx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zx=function(){return!!t})()}function Qx(){return Qx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jx(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Qx.apply(this,arguments)}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jx(t)}function tj(t,e){return tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tj(t,e)}var ej=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Kx(this,e,[t,n])).mainCandlesGraphId="candles-main-".concat(i.chartId),i.tailCandlesGraphId="candles-tail-".concat(i.chartId),i.prevRenderedMainCandles=0,i.prevRenderedTailCandle=null,i.minMaxElement=r,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tj(t,e)}(e,t),n=e,r=[{key:"getCandleHash",value:function(t){return"".concat(t.time,":").concat(t.enterValue,":").concat(t.maxValue,":").concat(t.minValue,":").concat(t.exitValue)}},{key:"drawCandlesPart",value:function(t,e){for(var n=this.core.getDynamicGraphics(w.Rp.CANDLES,e,{smooth:!0}).graphics,r=this.pointsManager.candleWidth,i=this.shadowStyle===w.QJ.THICK?2:1,o=r/i<3?Math.min(1,i/2):i,a=0;a<t.length;a++){var s=t[a],c=Math.min(this.getYFromValue(s.maxValue),this.getYFromValue(s.minValue)),l=Math.max(this.getYFromValue(s.maxValue),this.getYFromValue(s.minValue)),u=this.getXFromTime(s.time)-r/2,h=Math.min(this.getYFromValue(s.enterValue),this.getYFromValue(s.exitValue)),f=Math.max(this.getYFromValue(s.enterValue),this.getYFromValue(s.exitValue))-h;f<=0&&(f=1);var d=s.exitValue>s.enterValue?this.candleUpColor:this.candleDownColor;n.lineStyle(o,d.getHEXNUM(),1),c<h&&(n.moveTo(u+this.pointsManager.candleWidth/2,c),n.lineTo(u+this.pointsManager.candleWidth/2,h)),h+f<l&&(n.moveTo(u+this.pointsManager.candleWidth/2,h+f),n.lineTo(u+this.pointsManager.candleWidth/2,l)),n.lineStyle(1,d.getHEXNUM(),1),n.beginFill(d.getHEXNUM(),this.isDarkTheme()?1:.7,!0),n.drawRect(u,h,r,f),n.endFill()}}},{key:"drawMinMaxElements",value:function(t){var e,n={value:Number.MIN_VALUE,time:0},r={value:Number.MAX_VALUE,time:0},i=Xx(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.maxValue>n.value&&(n={value:o.maxValue,time:o.time}),o.minValue<r.value&&(r={value:o.minValue,time:o.time})}}catch(a){i.e(a)}finally{i.f()}this.minMaxElement.drawMaxValue(n),this.minMaxElement.drawMinValue(r)}},{key:"draw",value:function(){var t=this.pointsManager.candles;if(0!==t.length){for(var e=[],n=this.pointsManager.candleWidth,r=null,i=0;i<t.length;i++){var o=t[i];if(!(o.time<this.fromTime||o.time>this.toTime)){e.push(o);var a=this.getXFromTime(o.time)-n/2;this.pointerX>0&&this.pointerX>=a&&this.pointerX<=a+n&&(r=o)}}this.drawCandleValues(r),this.drawMinMaxElements(e);var s=e.slice(0,e.length-1),c=e.length>0?e[e.length-1]:null;this.shouldRedrawMainPart(s)&&(this.prevRenderedMainCandles=s.length,this.core.clearDynamicGraphicsNew(this.mainCandlesGraphId),this.drawCandlesPart(s,this.mainCandlesGraphId)),this.shouldRedrawTailPart(c)&&(this.prevRenderedTailCandle=this.getCandleHash(c),this.core.clearDynamicGraphicsNew(this.tailCandlesGraphId),this.drawCandlesPart([c],this.tailCandlesGraphId))}}},{key:"baseShouldRedraw",value:function(){return this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isElementHeightChanged()||this.isCandleColorChanged()||this.forceCleared}},{key:"shouldRedrawMainPart",value:function(t){return this.baseShouldRedraw()||t.length!==this.prevRenderedMainCandles}},{key:"shouldRedrawTailPart",value:function(t){return!!t&&(this.baseShouldRedraw()||this.prevRenderedTailCandle!==this.getCandleHash(t))}},{key:"clear",value:function(){Qx(Jx(e.prototype),"clear",this).call(this),this.core.clearDynamicGraphic(this.mainCandlesGraphId),this.core.clearDynamicGraphic(this.tailCandlesGraphId),this.minMaxElement.clear()}},{key:"destroy",value:function(){Qx(Jx(e.prototype),"destroy",this).call(this),this.core.destroyDynamicGraphicsNew(w.Rp.CANDLES,this.mainCandlesGraphId),this.core.destroyDynamicGraphicsNew(w.Rp.CANDLES,this.tailCandlesGraphId),this.minMaxElement.destroy()}}],r&&Yx(n.prototype,r),i&&Yx(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(Ux);function nj(t){return nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nj(t)}function rj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ij(r.key),r)}}function ij(t){var e=function(t,e){if("object"!=nj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nj(e)?e:String(e)}function oj(t,e,n){return e=sj(e),function(t,e){if(e&&("object"===nj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,aj()?Reflect.construct(e,n||[],sj(t).constructor):e.apply(t,n))}function aj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(aj=function(){return!!t})()}function sj(t){return sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sj(t)}function cj(t,e){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cj(t,e)}var lj=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),oj(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cj(t,e)}(e,t),n=e,r=[{key:"drawCandlesPart",value:function(t,e){var n=this.pointsManager.candleWidth,r=n/3,i=this.width/100*de.Ay.CHART.BAR_MAX_WIDTH_IN_PERCENTS_OF_SCREEN;r>i&&(r=i);for(var o=r/2,a=this.core.getDynamicGraphics(w.Rp.CANDLES,e,{smooth:!0}).graphics,s=0;s<t.length;s++){var c=t[s],l=Math.min(this.getYFromValue(c.maxValue),this.getYFromValue(c.minValue)),u=Math.max(this.getYFromValue(c.maxValue),this.getYFromValue(c.minValue)),h=this.getXFromTime(c.time)-n/2,f=this.getYFromValue(c.enterValue),d=this.getYFromValue(c.exitValue),p=c.exitValue>c.enterValue?this.candleUpColor:this.candleDownColor;a.lineStyle(1,p.getHEXNUM(),1);var m=f-o<l?f-o:l;d-o<l&&(m=d-o);var y=f+o>u?f+o:u;d+o>u&&(y=d+o);var v=m<f-o?f-o:m,b=y>f+o?f+o:y,g=m<d-o?d-o:m,x=y>d+o?d+o:y,j=[h,v,h,b];b!==y&&j.push(h+r,b,h+r,y),y!==x&&j.push(h+2*r,y,h+2*r,x),j.push(h+3*r,x,h+3*r,g),g!==m&&j.push(h+2*r,g,h+2*r,m),v!==m&&j.push(h+r,m,h+r,v),j.push(h,v),a.beginFill(p.getHEXNUM(),this.isDarkTheme()?1:.7),a.drawPolygon(j),a.endFill()}}}],r&&rj(n.prototype,r),i&&rj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(ej);function uj(t){return uj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uj(t)}function hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fj(r.key),r)}}function fj(t){var e=function(t,e){if("object"!=uj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uj(e)?e:String(e)}function dj(t,e,n){return e=mj(e),function(t,e){if(e&&("object"===uj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pj()?Reflect.construct(e,n||[],mj(t).constructor):e.apply(t,n))}function pj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pj=function(){return!!t})()}function mj(t){return mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mj(t)}function yj(t,e){return yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yj(t,e)}var vj=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=dj(this,e,[t,n])).animator=new Kw(1.5,w.EK.EaseOutQuart),r.animator.setToValue(1),r.animator.circularTo=!0,r.graphicsGlow=r.core.getGraphics(w.my.POINT_GLOW),r.graphicsDot=r.core.getGraphics(w.my.POINT_DOT),r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yj(t,e)}(e,t),n=e,(r=[{key:"isVisible",value:function(){return this.pointsManager.points.length>0&&this.getTimeFrom()<=this.pointsManager.currentTime&&this.pointsManager.currentTime<=this.getTimeTo()}},{key:"draw",value:function(){if(this.isVisible()&&(this.animator.setTime(this.ts),this.pointsManager.points.length>0)){var t=this.getXFromTime(this.pointsManager.currentTime),e=this.getYFromValue(this.pointsManager.currentValue),n=this.animator.getValue(),r=20*n;r<.1&&(r=.1);var i=1-n;this.graphicsGlow.beginFill(39673,i,!0),this.graphicsGlow.lineStyle(0,39673,i),this.graphicsGlow.drawCircle(0,0,r),this.graphicsGlow.endFill(),this.graphicsGlow.position.x=t,this.graphicsGlow.position.y=e,this.graphicsDot.beginFill(this.colors.valuePointCenterColor.getHEXNUM(),this.colors.valuePointCenterColor.getAlpha(),!0),this.graphicsDot.lineStyle(0,16777215,0),this.graphicsDot.drawCircle(0,0,4),this.graphicsDot.endFill(),this.graphicsDot.position.x=t,this.graphicsDot.position.y=e}}}])&&hj(n.prototype,r),i&&hj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),bj=vj;function gj(t){return gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gj(t)}function wj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xj(r.key),r)}}function xj(t){var e=function(t,e){if("object"!=gj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gj(e)?e:String(e)}function jj(t,e,n){return e=_j(e),function(t,e){if(e&&("object"===gj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Oj()?Reflect.construct(e,n||[],_j(t).constructor):e.apply(t,n))}function Oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Oj=function(){return!!t})()}function Sj(){return Sj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_j(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Sj.apply(this,arguments)}function _j(t){return _j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_j(t)}function Tj(t,e){return Tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tj(t,e)}var Aj=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=jj(this,e,[t,n])).showTooltip=!0,r.textDestroyed=!1,r.changedShowTooltip=!1,r.eventTokens=[],r.handleEvent(),r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tj(t,e)}(e,t),n=e,(r=[{key:"handleEvent",value:function(){var t=this,e=Re.A.subscribe("CORE/TEXT_DESTROYED",(function(){t.textDestroyed=!0}));this.eventTokens.push(e)}},{key:"getCoords",value:function(){return{x:this.getXFromTime(this.isLineChart()?this.time:Math.floor(this.time/this.pointsInElement)*this.pointsInElement),y:this.getYFromValue(this.value)}}},{key:"shouldRerender",value:function(){return this.isChangedFromTo()||this.isChangedMinMax()||this.isSizeChanged()||this.isElementHeightChanged()||this.textDestroyed||this.changedShowTooltip}},{key:"changeShowTooltip",value:function(t){this.changedShowTooltip=!0,this.showTooltip=t}},{key:"onAfterDraw",value:function(){Sj(_j(e.prototype),"onAfterDraw",this).call(this),this.changedShowTooltip=!1,this.textDestroyed=!1}},{key:"destroy",value:function(){Sj(_j(e.prototype),"destroy",this).call(this),this.eventTokens.forEach((function(t){Re.A.unsubscribe(t)}))}}])&&wj(n.prototype,r),i&&wj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),Ej=Aj;function Pj(t){return Pj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pj(t)}function Cj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kj(r.key),r)}}function kj(t){var e=function(t,e){if("object"!=Pj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pj(e)?e:String(e)}function Nj(t,e,n){return e=Lj(e),function(t,e){if(e&&("object"===Pj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ij()?Reflect.construct(e,n||[],Lj(t).constructor):e.apply(t,n))}function Ij(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ij=function(){return!!t})()}function Rj(){return Rj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lj(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Rj.apply(this,arguments)}function Lj(t){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lj(t)}function Dj(t,e){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dj(t,e)}var Mj=function(t){function e(t,n,r){var i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Nj(this,e,[t,n])).id=r.id,i.isCall=r.isCall,i.text=r.text,i.orderId=0,i.setChangeableData(r),i.hoveredDoubleUp=null,i.hoveredRollover=null,i.showTooltip=o,i.rect=null,i.fadedOpacity=.2,i.changedData=!1,i.dashedLineShader=new bx.sM({dash:5,gap:5}),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dj(t,e)}(e,t),n=e,r=[{key:"setChangeableData",value:function(t){this.closeTime=t.closeTime,this.value=t.value,this.time=t.time,this.text=t.text,this.data=t,this.changedData=!0}},{key:"setHoveredDoubleUp",value:function(t){this.hoveredDoubleUp=t}},{key:"setHoveredRollover",value:function(t){this.hoveredRollover=t}},{key:"checkClickOpen",value:function(t,e){return this.rect&&this.rect.containsPoint({x:t,y:e})}},{key:"changeShowTooltip",value:function(t){Rj(Lj(e.prototype),"changeShowTooltip",this).call(this,t),this.rendered=!1,this.clearAll()}},{key:"changeOrderId",value:function(t){this.orderId!==t&&(this.rendered=!1,this.clearAll()),this.orderId=t}},{key:"getRectColor",value:function(){return this.isCall?this.colors.callLineColor:this.colors.putLineColor}},{key:"getRectAlpha",value:function(){return this.showTooltip?this.isFadedColor()?this.fadedOpacity:.85:.01}},{key:"isFadedColor",value:function(){var t=null!==this.hoveredDoubleUp&&this.hoveredDoubleUp!==this.id,e=null!==this.hoveredRollover&&this.hoveredRollover!==this.id;return!this.isMobile&&(t||e)}},{key:"getTextColor",value:function(){return this.showTooltip?this.colors.betElementTextColor.getHEXNUM():this.colors.betElementTextColorTooltipOff.getHEXNUM()}},{key:"isRolloverDoubleUpChanged",value:function(){return this.oldHoverDoubleUp!==this.hoveredDoubleUp||this.oldHoverRollover!==this.hoveredRollover}},{key:"shouldRerender",value:function(){return this.changedData||this.oldOrderId!==this.orderId||this.isRolloverDoubleUpChanged()||this.isChangedFromTo()||this.isChangedMinMax()||this.isSizeChanged()||this.isElementHeightChanged()||this.isThemeChanged()||this.isCurrentTimeChanged()}},{key:"drawRollover",value:function(t){var e=this,n=t.y;if(this.clearRolloverLine(),this.hoveredRollover){var r=this.pointsManager.plot.options.find((function(t){return t.id===e.hoveredRollover}));if(r){var i=r.data,o=i.openTimestamp,a=i.closeTimestamp,s=a-o+a,c=this.getXFromTime(a),l=this.getXFromTime(s);if(c&&c<this.width){var u=this.core.getDynamicGraphics(w.Rp.DEALS,"lineGraphics-rollover-".concat(this.id),{smooth:!0}),h=r.isCall?this.colors.callLineColor.getHEXNUM():this.colors.putLineColor.getHEXNUM();u.graphics.lineStyle({width:1,color:h,alpha:.8,shader:this.dashedLineShader}),u.graphics.moveTo(c,n),u.graphics.lineTo(l,n)}}}}},{key:"onAfterDraw",value:function(){Rj(Lj(e.prototype),"onAfterDraw",this).call(this),this.changedData=!1,this.oldOrderId=this.orderId,this.oldHoverDoubleUp=this.hoveredDoubleUp,this.oldHoverRollover=this.hoveredRollover}},{key:"clearRolloverLine",value:function(){this.core.clearDynamicGraphicsNew("lineGraphics-rollover-".concat(this.id))}},{key:"clearAll",value:function(){this.clearRolloverLine()}},{key:"destroy",value:function(){Rj(Lj(e.prototype),"destroy",this).call(this),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"lineGraphics-rollover-".concat(this.id))}}],r&&Cj(n.prototype,r),i&&Cj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(Ej);function Bj(t){return Bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bj(t)}function Hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fj(r.key),r)}}function Fj(t){var e=function(t,e){if("object"!=Bj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bj(e)?e:String(e)}function Gj(t,e,n){return e=Uj(e),function(t,e){if(e&&("object"===Bj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vj()?Reflect.construct(e,n||[],Uj(t).constructor):e.apply(t,n))}function Vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vj=function(){return!!t})()}function Wj(){return Wj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Uj(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Wj.apply(this,arguments)}function Uj(t){return Uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uj(t)}function zj(t,e){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zj(t,e)}var Xj=function(t){function e(t,n,r){var i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Gj(this,e,[t,n,r,o])).rippleAnimator=new Kw(.4,w.EK.EaseOutQuint),i.rippleAnimator.calculateToOne=!0,i.rippleAnimator.setToValue(1),i.rippleAnimator.enabled=!1,i.animator=new Kw(.4,w.EK.EaseOutQuint),i.animator.calculateToOne=!0,i.animator.timeout=.15,i.animator.setToValue(1),i.animator.enabled=!1,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zj(t,e)}(e,t),n=e,(r=[{key:"reanimate",value:function(){this.rippleAnimator.reset(),this.rippleAnimator.setToValue(1),this.rippleAnimator.enabled=!0,this.animator.reset(),this.animator.setToValue(1),this.animator.enabled=!0}},{key:"drawRipples",value:function(t,e,n,r){if(t<1){var i=this.core.getDynamicGraphics(w.Rp.DEALS,"rippleGraphics-".concat(this.id));i.isNew&&(i.graphics.lineStyle(1,r.getHEXNUM(),1),i.graphics.beginFill(16777215,0,!0),i.graphics.drawCircle(0,0,5),i.graphics.endFill()),i.graphics.alpha=1-t,i.graphics.setTransform(e,n,5*t,5*t),i=null}else this.core.clearDynamicGraphicsNew("rippleGraphics-".concat(this.id))}},{key:"roundedRect",value:function(t,e,n,r){var i=this.isFadedColor()?this.fadedOpacity:1,o=10,a=this.core.getText(w.Rp.DEALS_TEXT,"rectangleGraphics-".concat(this.id),this.text,de.Ay.CHART.TEXT_STYLE_BET,this.getTextColor());a.alpha=i;var s=a.width+20,c=a.height+7,l=this.isCall?-(c+o):o,u=this.showTooltip?0:8,h=this.core.getDynamicGraphics(w.Rp.DEALS,"rectangleGraphics-".concat(this.id),{touch:!0});if(h.isNew||this.changedShowTooltip){var f=this.getRectAlpha();h.graphics.beginFill(r.getHEXNUM(),f,!0),h.graphics.drawRoundedRect(0-s/2,l,s,c,3),h.graphics.moveTo(0,this.isCall?-5:5),h.graphics.lineTo(-5,this.isCall?-10:o),h.graphics.lineTo(5,this.isCall?-10:o),h.graphics.closePath(),h.graphics.endFill(),this.rect=h.graphics}h.graphics.setTransform(e,n,t,t),h.graphics.alpha=t;var d=this.core.getDynamicGraphics(w.Rp.DEALS_TEXT,"triangleIconGraphics-".concat(this.id));if(d.isNew){var p=this.getTextColor();d.graphics.beginFill(p,1,!0),d.graphics.lineStyle(1,p,i),this.isCall?(d.graphics.moveTo(0,5),d.graphics.lineTo(-3,o),d.graphics.lineTo(3,o)):(d.graphics.moveTo(0,-5),d.graphics.lineTo(-3,-10),d.graphics.lineTo(3,-10)),d.graphics.closePath(),d.graphics.endFill()}this.isCall?d.graphics.setTransform(e-1-(a.width+6)/2+3,n-o-c+3+u,t,t):d.graphics.setTransform(e-1-(a.width+6)/2+3,n+o+c-3-u,t,t),d.graphics.alpha=this.isFadedColor()?this.fadedOpacity:t,a.setTransform(e-(a.width+6)/2+6+2,n-1+l+4+(this.isCall?u:-u),t,t),a.alpha=this.isFadedColor()?this.fadedOpacity:t}},{key:"drawLine",value:function(t,e,n){var r=this.isFadedColor()?this.fadedOpacity:1;if(this.value>0){this.core.clearDynamicGraphicsNew("lineGraphics-".concat(this.id));var i=this.core.getDynamicGraphics(w.Rp.DEALS,"lineGraphics-".concat(this.id)),o=this.getXFromTime(this.closeTime)-t;i.graphics.lineStyle(1,n.getHEXNUM(),r),i.graphics.moveTo(0,0),i.graphics.lineTo(o,0),i.graphics.setTransform(t,e,1,1),this.valueLine=i}var a=this.core.getDynamicGraphics(w.Rp.DEALS,"dotGraphics-".concat(this.id));a.isNew&&(a.graphics.beginFill(n.getHEXNUM(),1,!0),a.graphics.lineStyle(0,n.getHEXNUM(),0),a.graphics.drawCircle(0,0,3),a.graphics.endFill()),a.graphics.setTransform(t,e,1,1),a.graphics.alpha=r}},{key:"draw",value:function(){this.rippleAnimator.setTime(this.ts),this.animator.setTime(this.ts);var t=this.animator.getValue(),e=this.rippleAnimator.getValue();if(!(t>=1&&e>=1)||this.shouldRerender()){this.isRolloverDoubleUpChanged()&&this.clearAll();var n=this.getCoords(),r=n.x,i=n.y,o=this.getRectColor();this.drawLine(r,i,o),this.roundedRect(t,r,i,o),this.drawRipples(e,r,i,o),this.id===this.hoveredRollover&&this.drawRollover({y:i})}}},{key:"clearAll",value:function(){Wj(Uj(e.prototype),"clearAll",this).call(this),this.core.clearDynamicGraphicsNew("rippleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("triangleIconGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotGraphics-".concat(this.id))}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"lineGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"dotGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"rippleGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS_TEXT,"triangleIconGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"rectangleGraphics-".concat(this.id)),this.core.destroyText("rectangleGraphics-".concat(this.id))}}])&&Hj(n.prototype,r),i&&Hj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(Mj),$j=Xj;function Yj(t){return Yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yj(t)}function qj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nO(r.key),r)}}function Kj(t,e,n){return e=Jj(e),function(t,e){if(e&&("object"===Yj(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Zj()?Reflect.construct(e,n||[],Jj(t).constructor):e.apply(t,n))}function Zj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zj=function(){return!!t})()}function Qj(){return Qj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jj(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Qj.apply(this,arguments)}function Jj(t){return Jj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jj(t)}function tO(t,e){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tO(t,e)}function eO(t,e,n){return(e=nO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nO(t){var e=function(t,e){if("object"!=Yj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yj(e)?e:String(e)}var rO=eO(eO({},ix.BLUE,cx.WpD.string2hex("#222639")),ix.LIGHT,cx.WpD.string2hex("#ffffff")),iO=eO(eO({},ix.BLUE,cx.WpD.string2hex("#464A58")),ix.LIGHT,cx.WpD.string2hex("#DCE1E5")),oO=eO(eO({},ix.BLUE,cx.WpD.string2hex("#8EA5C0")),ix.LIGHT,cx.WpD.string2hex("#314E70")),aO=eO(eO({},ix.BLUE,cx.WpD.string2hex("#ffffff")),ix.LIGHT,cx.WpD.string2hex("#314E70")),sO=eO(eO({},ix.BLUE,cx.WpD.string2hex("#1e2229")),ix.LIGHT,cx.WpD.string2hex("#ffffff")),cO=eO(eO({},ix.BLUE,cx.WpD.string2hex("#2D3142")),ix.LIGHT,cx.WpD.string2hex("#ffffff")),lO=function(t){function e(t,n,r,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=Kj(this,e,[t,n,r])).infoOpened=!1,o.setData(r),o.radius=16,o.offsetY=10,o.PADDING_X=7,o.MAX_ELEMENT_SIZE=150,o.COPY_BTN_MARGIN_X=10,o.LINE_PADDING=3,o.PADDING_Y=10,o.PADDING_Y_FROM_LABEL=5,o.COPY_BTN_TEXT_PADDING=3,o.isStartedRendering=!1,o.isFullyRendered=!1,o.avatarRect=null,o.copyBtn=null,o.infoRect=null,o.theme=ox(i),o.image=r.imageSrc?r.imageSrc:de.Ay.CHART.DEFAULT_AVATAR_SRC,o.createElements(),o}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tO(t,e)}(e,t),n=e,r=[{key:"getAvatarTextKey",value:function(t){return"c-avatar-text-".concat(t?"opened":"closed","-").concat(this.id)}},{key:"getAvatarRectangleKey",value:function(t){return"c-avatar-rect-".concat(t?"opened":"closed","-").concat(this.id)}},{key:"getAvatarInnerRectKey",value:function(t){return"c-avatar-rect-inner-".concat(t?"opened":"closed","-").concat(this.id)}},{key:"getAvatarTriangleKey",value:function(t){return"c-avatar-triangle-".concat(t?"opened":"closed","-").concat(this.id)}},{key:"isShowCopyBtn",get:function(){var t=this.calculateCopyPayout(),e=this.option.closeTimestamp-30;return t>0&&this.serverTime<e}},{key:"setData",value:function(t){this.option=t,this.clearAll()}},{key:"createElements",value:function(){var t=Math.ceil(1e3*this.option.time);this.container=this.core.getDynamicContainer(w.Rp.SOCIAL_DEALS,"sd-container-".concat(this.id),{sortableChildren:!0,zIndex:t+1e3}),this.containerExpanded=this.core.getDynamicContainer(w.Rp.SOCIAL_DEALS_CONTAINER_UP,"sd-container-expanded-".concat(this.id),{sortableChildren:!0,zIndex:t})}},{key:"reanimate",value:function(){this.avatarRect=null,this.rippleAnimator.enabled=!0,this.animator.enabled=!0,this.isStartedRendering=!1,this.isFullyRendered=!1}},{key:"closeInfo",value:function(){this.infoOpened=!1,this.clearExtendedInfo(),this.draw()}},{key:"openInfo",value:function(){this.infoOpened=!0,this.clearCollapsedInfo(),this.draw()}},{key:"checkClickOutside",value:function(t,e){return!this.checkClickOpen(t,e)&&!this.checkClickCopy(t,e)&&!this.checkClickInfo(t,e)}},{key:"checkClickOpen",value:function(t,e){return null!=this.avatarRect&&this.avatarRect.containsPoint({x:t,y:e})}},{key:"checkClickCopy",value:function(t,e){return!(!this.isShowCopyBtn||!this.copyBtn)&&this.copyBtn.containsPoint({x:t,y:e})}},{key:"checkClickInfo",value:function(t,e){return!(!this.infoOpened||!this.infoRect)&&this.infoRect.containsPoint({x:t,y:e})}},{key:"isVisible",value:function(){var t=this.getTimeFrom()<=this.time&&this.time<=this.getTimeTo(),e=this.getValueFrom()<=this.value&&this.value<=this.getValueTo();return t&&e}},{key:"getProfitableLabel",value:function(){var t=this.core.getText(w.Rp.SOCIAL_DEALS,"profitableDealsTextLabel"+this.id,"".concat((0,yt.tr)("chart_settings.profitable_deals"),": "),de.Ay.CHART.TEXT_STYLE_SOCIAL_BET_LABEL,oO[this.theme],!1,this.containerExpanded);return t.zIndex=10,t}},{key:"getProfitableValue",value:function(){var t=this.core.getText(w.Rp.SOCIAL_DEALS,"profitableDealsText"+this.id,"".concat(this.option.percentProfitable,"%"),de.Ay.CHART.TEXT_STYLE_BET,aO[this.theme],!1,this.containerExpanded);return t.zIndex=10,t}},{key:"calculateCopyPayout",value:function(){var t=(this.serverTime-Math.floor(this.time))*de.Ay.PAYOUT_REDUCE,e=this.option.percentProfit-t;return e<10&&(e=0),e}},{key:"getCopyPayoutLabel",value:function(){var t=this.core.getText(w.Rp.SOCIAL_DEALS,"payoutTextLabel"+this.id,"".concat((0,yt.tr)("deals.copy_payout"),": "),de.Ay.CHART.TEXT_STYLE_SOCIAL_BET_LABEL,oO[this.theme],!1,this.containerExpanded);return t.zIndex=10,t}},{key:"getCopyPayoutValue",value:function(){var t=this.calculateCopyPayout(),e=this.core.getText(w.Rp.SOCIAL_DEALS,"payoutText"+this.id,"".concat(t,"%"),de.Ay.CHART.TEXT_STYLE_BET,aO[this.theme],!1,this.containerExpanded);return e.zIndex=10,e}},{key:"drawDot",value:function(t,e,n,r){var i=this.isFadedColor()?this.fadedOpacity:n,o=this.core.getDynamicGraphics(w.Rp.SOCIAL_DEALS_BG_LAYER,"sd-dot-".concat(this.id));o.isNew&&(this.option.isClosed?(o.graphics.lineStyle(0,0,0),o.graphics.beginFill(r.getHEXNUM(),1)):(o.graphics.lineStyle(1,r.getHEXNUM(),1),o.graphics.beginFill(sO[this.theme],1)),o.graphics.drawCircle(0,0,3),o.graphics.endFill()),o.graphics.setTransform(t,e,n,n),o.graphics.alpha=i}},{key:"drawCollapsedInfo",value:function(t,e,n){var r=this.animator.getValue(),i=n,o=e,a=this.isFadedColor()?this.fadedOpacity:r,s=this.core.getText(w.Rp.SOCIAL_DEALS,this.getAvatarTextKey(this.infoOpened),this.getString(),de.Ay.CHART.TEXT_STYLE_BET,this.option.isClosed?aO[this.theme]:this.colors.betElementTextColor.getHEXNUM(),!1,this.infoOpened?this.containerExpanded:this.container);s.visible=!0,s.zIndex=10,s.alpha=a;var c=s.width,l=s.height,u=c+2*this.PADDING_X,h=l+4;this.isOpenTop()?i+=this.offsetY:i-=h+this.offsetY;var f=o-c/2,d=this.core.getDynamicGraphics(w.Rp.SOCIAL_DEALS,this.getAvatarRectangleKey(this.infoOpened),{touch:!0,parent:this.infoOpened?this.containerExpanded:this.container});if(d.graphics.zIndex=2,this.avatarRect=d.graphics,d.isNew&&(d.graphics.beginFill(t.getHEXNUM(),1),d.graphics.drawRoundedRect(0,0,u,h,9),d.graphics.endFill()),d.graphics.setTransform(o-u/2,i),d.graphics.alpha=a,this.option.isClosed){var p=this.core.getDynamicGraphics(w.Rp.SOCIAL_DEALS,this.getAvatarInnerRectKey(this.infoOpened),{touch:!0,parent:this.infoOpened?this.containerExpanded:this.container});p.zIndex=19,p.isNew&&(p.graphics.beginFill(cO[this.theme],1),p.graphics.drawRoundedRect(0,0,c-2+2*this.PADDING_X,h-2,9),p.graphics.endFill()),p.graphics.setTransform(o+1-c/2-this.PADDING_X,i+1),p.graphics.alpha=a}var m=this.core.getDynamicGraphics(w.Rp.SOCIAL_DEALS,this.getAvatarTriangleKey(this.infoOpened),{parent:this.infoOpened?this.containerExpanded:this.container});m.zIndex=20,m.isNew&&(m.graphics.beginFill(t.getHEXNUM(),1),this.isOpenTop()?(m.graphics.moveTo(0,5),m.graphics.lineTo(-5,this.offsetY),m.graphics.lineTo(5,this.offsetY)):(m.graphics.moveTo(0,-5),m.graphics.lineTo(-5,-this.offsetY),m.graphics.lineTo(5,-this.offsetY)),m.graphics.endFill()),m.graphics.setTransform(e,n,r,r),m.graphics.alpha=a;var y=i+2;s.setTransform(1+f,y,r,r),s.alpha=a}},{key:"drawExpandedInfo",value:function(t,e,n){var r,i,o=this.animator.getValue(),a=n,s=e,c=this.isFadedColor()?this.fadedOpacity:o,l=this.getProfitableLabel(),u=this.getProfitableValue(),h=0,f=0;this.calculateCopyPayout()?(r=this.getCopyPayoutLabel(),i=this.getCopyPayoutValue(),h=r.width+i.width,f=i.height):(this.clearPayoutLabels(),this.clearRectangle());var d=this.core.getDynamicGraphics(w.Rp.SOCIAL_DEALS,"drawUserInfoUserInfoRectangle".concat(this.id),{parent:this.containerExpanded,touch:!0});d.graphics.interactive=!0,d.graphics.cursor="pointer",d.graphics.zIndex=1,this.infoRect=d.graphics;var p=this.core.getText(w.Rp.SOCIAL_DEALS,"drawUserInfoUserInfoName"+this.id,this.option.socialName,de.Ay.CHART.TEXT_STYLE_BET_BOLD,aO[this.theme],!1,this.containerExpanded);p.zIndex=4;var m=this.core.getDynamicGraphics(w.Rp.SOCIAL_DEALS,"drawUserInfoUserCopyBtn"+this.id,{touch:!0,parent:this.containerExpanded});m.graphics.zIndex=4,this.copyBtn=m.graphics,m.graphics.cursor=this.isShowCopyBtn?"pointer":"default";var y=this.core.getText(w.Rp.SOCIAL_DEALS,"drawUserInfoUserCopyBtnText".concat(this.id),(0,yt.tr)("deals.copy"),de.Ay.CHART.TEXT_STYLE_SOCIAL_BET_LABEL,this.colors.betElementTextColor.getHEXNUM(),!1,this.containerExpanded);y.zIndex=5;var v,b,g=y.width,x=y.height,j=l.width+u.width,O=Math.max(p.width,j,h)+20,S=this.avatarRect.height,_=x+2*this.COPY_BTN_TEXT_PADDING,T=S/2+this.PADDING_Y_FROM_LABEL+this.PADDING_Y+p.height+this.LINE_PADDING+u.height;f&&(T+=this.LINE_PADDING+f,T+=2*this.LINE_PADDING+_),this.isOpenTop()?(v=(a+=this.offsetY)+S/2,b=a+S+this.PADDING_Y_FROM_LABEL):b=(v=(a-=S+this.offsetY)+S/2-T)+this.PADDING_Y;var A=b+p.height+this.LINE_PADDING,E=A,P=A;f&&(P=(E+=f+this.LINE_PADDING)+r.height+2*this.LINE_PADDING),d.isNew&&(d.graphics.lineStyle(1,iO[this.theme]),d.graphics.beginFill(rO[this.theme],1),d.graphics.drawRoundedRect(0,0,O,T,3),d.graphics.endFill()),d.graphics.setTransform(s-O/2,v),d.graphics.alpha=c,p.setTransform(s-p.width/2,b),p.alpha=c,l.setTransform(s-j/2,A),l.alpha=c,u.setTransform(s-j/2+l.width,A-1),u.alpha=c,r&&i&&(r.setTransform(s-h/2,E),r.alpha=c,i.setTransform(s-h/2+r.width,E-1),i.alpha=c);var C=d.graphics.width-2*this.COPY_BTN_MARGIN_X;m.isNew&&(m.graphics.beginFill(t.getHEXNUM(),1),m.graphics.drawRoundedRect(0,0,C,_,4),m.graphics.endFill()),m.graphics.setTransform(s-C/2,P),m.graphics.alpha=this.isShowCopyBtn?c:0,y.setTransform(s-g/2,P+this.COPY_BTN_TEXT_PADDING),y.alpha=this.isShowCopyBtn?c:0}},{key:"getString",value:function(){if(!this.option.isClosed)return this.text;var t=this.option.profit+this.option.amount;return t>0?"+".concat(this.currency).concat(t.toFixed(2)):"".concat(this.currency).concat(t)}},{key:"shouldRerender",value:function(){return!!Qj(Jj(e.prototype),"shouldRerender",this).call(this)||!this.isFullyRendered||this.calculateCopyPayout()>0&&this.infoOpened||this.infoOpened!==this.oldInfoOpened||this.oldOpenSide!==this.getOpenSide()||this.oldIsShowCopyBtn!==this.isShowCopyBtn&&this.infoOpened}},{key:"getOpenSide",value:function(){return this.getYFromValue(this.option.openPrice)<this.worldHeight-this.MAX_ELEMENT_SIZE-this.bottomMarginPixels?1:-1}},{key:"isOpenTop",value:function(){return 1===this.getOpenSide()}},{key:"draw",value:function(){if(this.isVisible()){if(this.shouldRerender()){(this.oldOpenSide!==this.getOpenSide()||this.isThemeChanged())&&this.clearAll(),this.isStartedRendering=!0,this.rippleAnimator.setTime(this.ts),this.animator.setTime(this.ts);var t=this.animator.getValue(),e=this.rippleAnimator.getValue();!this.isFullyRendered&&t>=1&&e>=1&&(this.isFullyRendered=!0);var n=this.isCall?this.colors.callLineColor:this.colors.putLineColor,r=this.getCoords(),i=r.x,o=r.y;this.drawDot(i,o,t,n),this.drawRipples(e,i,o,n),this.drawCollapsedInfo(n,i,o),this.infoOpened&&this.drawExpandedInfo(n,i,o)}}else this.isStartedRendering&&(this.isFullyRendered=!1,this.isStartedRendering=!1,this.clearAll())}},{key:"onAfterDraw",value:function(){Qj(Jj(e.prototype),"onAfterDraw",this).call(this),this.oldInfoOpened=this.infoOpened,this.oldIsShowCopyBtn=this.isShowCopyBtn,this.oldOpenSide=this.getOpenSide()}},{key:"clearPointer",value:function(){this.core.clearDynamicGraphicsNew("sd-dot-".concat(this.id))}},{key:"clearTriangle",value:function(){this.core.clearDynamicGraphicsNew(this.getAvatarTriangleKey(!1)),this.core.clearDynamicGraphicsNew(this.getAvatarTriangleKey(!0))}},{key:"clearAll",value:function(){Qj(Jj(e.prototype),"clearAll",this).call(this),this.clearPointer(),this.clearTriangle(),this.clearCollapsedInfo(),this.clearExtendedInfo()}},{key:"clearCollapsedInfo",value:function(){this.core.clearDynamicGraphicsNew(this.getAvatarRectangleKey(!1)),this.core.clearDynamicGraphicsNew(this.getAvatarInnerRectKey(!1)),this.core.clearText(this.getAvatarTextKey(!1)),this.clearTriangle()}},{key:"clearPayoutLabels",value:function(){this.core.clearText("payoutTextLabel".concat(this.id)),this.core.clearText("payoutText".concat(this.id))}},{key:"clearRectangle",value:function(){this.core.clearDynamicGraphicsNew("drawUserInfoUserInfoRectangle".concat(this.id))}},{key:"clearExtendedInfo",value:function(){this.core.clearDynamicGraphicsNew(this.getAvatarRectangleKey(!0)),this.core.clearDynamicGraphicsNew(this.getAvatarInnerRectKey(!0)),this.core.clearDynamicGraphicsNew(this.getAvatarTriangleKey(!0)),this.core.clearText(this.getAvatarTextKey(!0)),this.core.clearDynamicGraphicsNew("drawUserInfoUserCopyBtn"+this.id),this.core.clearText("drawUserInfoUserCopyBtnText"+this.id),this.core.clearText("drawUserInfoUserInfoName"+this.id),this.core.clearText("profitableDealsTextLabel"+this.id),this.core.clearText("profitableDealsText"+this.id),this.core.clearSprite("sprite-avatar-"+this.id),this.clearPayoutLabels(),this.clearRectangle()}},{key:"destroyPointer",value:function(){this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS_BG_LAYER,"sd-dot-".concat(this.id))}},{key:"destroyCollapsedInfo",value:function(){this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS,this.getAvatarRectangleKey(!1)),this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS,this.getAvatarInnerRectKey(!1)),this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS,this.getAvatarTriangleKey(!1)),this.core.destroyText(this.getAvatarTextKey(!1))}},{key:"destroyExtendedInfo",value:function(){this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS,this.getAvatarRectangleKey(!0)),this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS,this.getAvatarInnerRectKey(!0)),this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS,this.getAvatarTriangleKey(!0)),this.core.destroyText(this.getAvatarTextKey(!0)),this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS,"drawUserInfoUserInfoRectangle"+this.id),this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS,"drawUserInfoUserInfoRectangle"+this.id),this.core.destroyDynamicGraphicsNew(w.Rp.SOCIAL_DEALS,"drawUserInfoUserCopyBtn"+this.id),this.core.destroyText("drawUserInfoUserInfoName"+this.id),this.core.destroyText("payoutTextLabel"+this.id),this.core.destroyText("payoutText"+this.id),this.core.destroyText("profitableDealsTextLabel"+this.id),this.core.destroyText("profitableDealsText"+this.id),this.core.destroyText("drawUserInfoUserCopyBtnText"+this.id)}},{key:"destroyRipples",value:function(){this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"rippleGraphics-".concat(this.id))}},{key:"destroy",value:function(){Qj(Jj(e.prototype),"destroy",this).call(this),this.destroyPointer(),this.destroyRipples(),this.destroyCollapsedInfo(),this.destroyExtendedInfo(),this.core.destroyDynamicContainer(w.Rp.SOCIAL_DEALS,"sd-container-".concat(this.id)),this.core.destroyDynamicContainer(w.Rp.SOCIAL_DEALS_CONTAINER_UP,"sd-container-expanded-".concat(this.id)),this.container=null,this.avatarRect=null}}],r&&qj(n.prototype,r),i&&qj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}($j);function uO(t,e){var n=e.fontFamily,r=e.fontSize,i=new cx.xJt({fontFamily:n,fontSize:r}),o=cx.Z1e.measureText(t,i);return{width:Math.round(o.maxLineWidth),height:Math.round(o.height)}}function hO(t){return hO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hO(t)}function fO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xO(r.key),r)}}function dO(t,e,n){return e=yO(e),function(t,e){if(e&&("object"===hO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pO()?Reflect.construct(e,n||[],yO(t).constructor):e.apply(t,n))}function pO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pO=function(){return!!t})()}function mO(){return mO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yO(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},mO.apply(this,arguments)}function yO(t){return yO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yO(t)}function vO(t,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vO(t,e)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bO(Object(n),!0).forEach((function(e){wO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wO(t,e,n){return(e=xO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xO(t){var e=function(t,e){if("object"!=hO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hO(e)?e:String(e)}var jO={WIDTH:5,HEIGHT:5},OO={X:20,Y:7},SO={LEFT:2,RIGHT:2,TOP:2,BOTTOM:2},_O=5,TO=3,AO=gO(gO({},de.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),EO=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),dO(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vO(t,e)}(e,t),n=e,(r=[{key:"timeToCloseText",get:function(){var t=ig(Math.ceil(this.closeTime-this.currentTime));return t.hour>0?"".concat((0,Jr.wl)(t.hour),":").concat((0,Jr.wl)(t.min),":").concat((0,Jr.wl)(t.sec)):"".concat((0,Jr.wl)(t.min),":").concat((0,Jr.wl)(t.sec))}},{key:"roundedRect",value:function(t){var e=t.y,n=t.rightBorderX,r=t.color,i=this.isFadedColor()?this.fadedOpacity:1,o=this.core.getText(w.Rp.DEALS_TEXT,"rectangleGraphics-".concat(this.id),this.text,de.Ay.CHART.TEXT_STYLE_BET,this.getTextColor());o.alpha=i;var a=this.core.getText(w.Rp.DEALS_TEXT,"text-exp-".concat(this.id),this.timeToCloseText,AO,this.getTextColor());a.alpha=i>.5?.5:i;var s=Math.max(o.width,a.width)+OO.X,c=o.height+OO.Y+a.height,l=this.core.getDynamicGraphics(w.Rp.DEALS,"rectangleGraphics-".concat(this.id),{touch:!0});if(l.isNew||this.changedShowTooltip){var u=this.getRectAlpha();l.graphics.beginFill(r.getHEXNUM(),u,!0),l.graphics.drawRoundedRect(-s/2,-OO.Y/2,s,c,3),l.graphics.endFill(),this.rect=l.graphics}l.graphics.setTransform(n-s/2,e-(c-TO)/2,1,1);var h=this.core.getDynamicGraphics(w.Rp.DEALS_TEXT,"triangleIconGraphics-".concat(this.id));if(h.isNew){var f=this.getTextColor();h.graphics.beginFill(f,1,!0),h.graphics.lineStyle(1,f,i),h.graphics.moveTo(0,this.isCall?-jO.HEIGHT:jO.HEIGHT),h.graphics.lineTo(-3,0),h.graphics.lineTo(3,0),h.graphics.closePath(),h.graphics.endFill()}return h.graphics.alpha=i,h.graphics.setTransform(n-s/2-1-(o.width+jO.WIDTH)/2+jO.WIDTH/2,this.isCall?e-c/2-jO.HEIGHT+OO.Y/2+o.height:e-c/2-jO.HEIGHT+o.height-1,1,1),o.setTransform(n-s/2-(o.width+jO.WIDTH)/2+jO.WIDTH+2,e-c/2+OO.Y/2,1,1),a.setTransform(n-s/2-a.width/2,o.y+14,1,1),l.graphics.width}},{key:"drawLine",value:function(t){var e=t.color,n=t.x,r=t.y,i=t.rightBorderX;this.core.clearDynamicGraphicsNew("lineGraphics-full-".concat(this.id));var o=this.core.getDynamicGraphics(w.Rp.DEALS,"lineGraphics-full-".concat(this.id)),a=this.isFadedColor()?this.fadedOpacity:.8,s=this.getXFromTime(this.closeTime)-n;o.graphics.lineStyle({width:1,color:e.getHEXNUM(),alpha:a}),o.graphics.moveTo(0,0),o.graphics.lineTo(s,0),o.graphics.setTransform(n,r,1,1),this.core.clearDynamicGraphicsNew("lineGraphics-short-".concat(this.id));var c=this.core.getDynamicGraphics(w.Rp.DEALS,"lineGraphics-short-".concat(this.id)),l=this.isFadedColor()?(0,qn.xr)(this.fadedOpacity/2,2):.3,u=n-i;c.graphics.lineStyle({width:1,color:e.getHEXNUM(),alpha:l}),c.graphics.moveTo(0,0),c.graphics.lineTo(u,0),c.graphics.setTransform(i,r,1,1)}},{key:"drawDot",value:function(t){var e=t.color,n=t.x,r=t.y,i=this.core.getDynamicGraphics(w.Rp.DEALS,"dotGraphics-".concat(this.id));i.isNew&&(i.graphics.beginFill(this.colors.betElementTextColor.getHEXNUM(),1,!0),i.graphics.lineStyle(1,e.getHEXNUM()),i.graphics.drawCircle(0,0,TO),i.graphics.endFill()),i.graphics.alpha=this.isFadedColor()?this.fadedOpacity:1,i.graphics.setTransform(n,r,1,1)}},{key:"drawLineAndDot",value:function(t){var e=t.x,n=t.y,r=t.rightBorderX,i=t.color;this.value<=0||(this.drawLine({color:i,x:e,rightBorderX:r,y:n}),this.drawDot({color:i,x:e,y:n}),this.id===this.hoveredRollover&&this.drawRollover({y:n}))}},{key:"getFullBlockSize",value:function(){var t=uO(this.text,de.Ay.CHART.TEXT_STYLE_BET),e=uO(this.timeToCloseText,de.Ay.CHART.TEXT_STYLE_BET);return{width:Math.ceil(Math.max(t.width,e.width)+OO.X),height:Math.ceil(t.height+OO.Y+e.height)}}},{key:"getElementBound",value:function(t,e){void 0===e&&(e=this.getCoords().y);var n=this.getFullBlockSize(),r=n.width,i=n.height,o=e-i/2;return{left:t-r-(SO.LEFT+SO.RIGHT),right:t,top:o-SO.TOP,bottom:o+i+SO.BOTTOM,width:r+SO.LEFT+SO.RIGHT,height:i+SO.TOP+SO.BOTTOM}}},{key:"draw",value:function(){var t=this;if(this.shouldRerender()){this.isRolloverDoubleUpChanged()&&this.clearAll();var e=this.getCoords(),n=e.x,r=e.y,i=n-_O;if(this.rightBorderX=i,this.orderId>0){for(var o=[],a=[i],s=0;s<this.options.length;s++){var c=this.options[s];if(c){if(c.orderId>=this.orderId)break;var l=c.getElementBound(c.rightBorderX);o.push(l);var u=l.left>i?i:l.left;a.push(u)}}for(var h=[],f=function(){var e=a[d],n=t.getElementBound(e);if(o.some((function(e){return t.isBoundsIntersects(e,n)})))return 1;h.push(e)},d=0;d<a.length;d++)f();h.length&&(this.rightBorderX=Math.max.apply(Math,h))}var p=this.getRectColor();this.drawLineAndDot({x:n,y:r,rightBorderX:this.rightBorderX,color:p}),this.roundedRect({x:n,y:r,rightBorderX:this.rightBorderX,color:p})}}},{key:"isBoundsIntersects",value:function(t,e){return t.left<e.right&&e.left<t.right&&t.top<e.bottom&&e.top<t.bottom}},{key:"clearAll",value:function(){mO(yO(e.prototype),"clearAll",this).call(this),this.core.clearDynamicGraphicsNew("rectangleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("triangleIconGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("lineGraphics-full-".concat(this.id)),this.core.clearDynamicGraphicsNew("lineGraphics-short-".concat(this.id))}},{key:"destroy",value:function(){mO(yO(e.prototype),"destroy",this).call(this),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"lineGraphics-full-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"lineGraphics-short-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"dotGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS_TEXT,"triangleIconGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"rectangleGraphics-".concat(this.id)),this.core.destroyText("rectangleGraphics-".concat(this.id)),this.core.destroyText("text-exp-".concat(this.id))}}])&&fO(n.prototype,r),i&&fO(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(Mj),PO=EO;function CO(t){return CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CO(t)}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NO(r.key),r)}}function NO(t){var e=function(t,e){if("object"!=CO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=CO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==CO(e)?e:String(e)}var IO=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=e,this.time=n,this.minValue=r,this.maxValue=i,this.exitValue=e}var e,n,r;return e=t,(n=[{key:"isEqual",value:function(t){return t&&t.time===this.time&&t.value===this.value}}])&&kO(e.prototype,n),r&&kO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),RO=IO;function LO(t){return LO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LO(t)}function DO(t,e,n){var r;return r=function(t,e){if("object"!=LO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=LO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==LO(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MO=DO(DO({ARROW_SPRITE_SIZE:16,BET:{MARGIN_Y:6,PADDING_X:5,PADDING_Y:2,DOT_WIDTH:3}},ix.BLUE,{rectBorder:cx.WpD.string2hex("#464A58"),rectBg:cx.WpD.string2hex("#222639"),buttonBg:cx.WpD.string2hex("#2D3142"),textColor:cx.WpD.string2hex("#FFFFFF"),callColor:cx.WpD.string2hex("#32AC41"),putColor:cx.WpD.string2hex("#F13227"),chartLineColor:cx.WpD.string2hex("#0099FA")}),ix.LIGHT,{rectBorder:cx.WpD.string2hex("#DCE1E5"),rectBg:cx.WpD.string2hex("#FFFFFF"),buttonBg:cx.WpD.string2hex("#F6F8FB"),textColor:cx.WpD.string2hex("#314E70"),callColor:cx.WpD.string2hex("#32AC41"),putColor:cx.WpD.string2hex("#F13227"),chartLineColor:cx.WpD.string2hex("#0099FA")});function BO(t){return BO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BO(t)}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FO(r.key),r)}}function FO(t){var e=function(t,e){if("object"!=BO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=BO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==BO(e)?e:String(e)}var GO=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chart=e}var e,n,r;return e=t,(n=[{key:"draw",value:function(){}},{key:"clear",value:function(){}},{key:"destroy",value:function(){}}])&&HO(e.prototype,n),r&&HO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function VO(t){return VO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VO(t)}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UO(r.key),r)}}function UO(t){var e=function(t,e){if("object"!=VO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=VO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==VO(e)?e:String(e)}function zO(t,e,n){return e=YO(e),function(t,e){if(e&&("object"===VO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,XO()?Reflect.construct(e,n||[],YO(t).constructor):e.apply(t,n))}function XO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(XO=function(){return!!t})()}function $O(){return $O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=YO(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},$O.apply(this,arguments)}function YO(t){return YO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},YO(t)}function qO(t,e){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qO(t,e)}var KO=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zO(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qO(t,e)}(e,t),n=e,(r=[{key:"rectKey",get:function(){return"c-chart-rect-".concat(this.chart.id)}},{key:"draw",value:function(){var t=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.rectKey,{parent:this.chart.container});t.isNew&&(t.graphics.zIndex=2,t.graphics.lineStyle(1,MO[this.chart.theme].rectBorder,1),t.graphics.beginFill(MO[this.chart.theme].rectBg,1),t.graphics.drawRoundedRect(0,0,this.chart.width,this.chart.height,10),t.graphics.endFill()),t.graphics.setTransform(this.chart.posX,this.chart.posY)}},{key:"clear",value:function(){$O(YO(e.prototype),"clear",this).call(this),this.chart.renderer.clearDynamicGraphicsNew(this.rectKey)}},{key:"destroy",value:function(){$O(YO(e.prototype),"destroy",this).call(this),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.rectKey)}}])&&WO(n.prototype,r),i&&WO(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(GO);function ZO(t){return ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZO(t)}function QO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JO(r.key),r)}}function JO(t){var e=function(t,e){if("object"!=ZO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ZO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ZO(e)?e:String(e)}function tS(t,e,n){return e=rS(e),function(t,e){if(e&&("object"===ZO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,eS()?Reflect.construct(e,n||[],rS(t).constructor):e.apply(t,n))}function eS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(eS=function(){return!!t})()}function nS(){return nS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rS(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},nS.apply(this,arguments)}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rS(t)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iS(t,e)}var oS=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),tS(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}(e,t),n=e,(r=[{key:"gradientKey",get:function(){return"c-chart-rect-gradient-".concat(this.chart.id)}},{key:"lineKey",get:function(){return"c-chart-rect-line-".concat(this.chart.id)}},{key:"maskKey",get:function(){return"c-chart-mask-".concat(this.chart.id)}},{key:"normalizeY",value:function(t){return t<0?0:t>this.chart.height?this.chart.height:t}},{key:"getMask",value:function(){var t=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.maskKey,{parent:this.chart.container});return t.graphics.zIndex=1,t.graphics.beginFill(16724736),t.graphics.drawRoundedRect(0,0,this.chart.width,this.chart.height,10),t.graphics.endFill(),t.graphics}},{key:"drawAreaGradient",value:function(){var t=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.gradientKey,{parent:this.chart.container});if(t.isNew){var e=this.chart.coords[0],n=this.chart.coords[this.chart.coords.length-1];t.graphics.zIndex=3,t.graphics.beginFill(this.chart.colors.plotLineGradientTopColor.getHEXNUM(),.15),t.graphics.moveTo(e.x,this.chart.height),t.graphics.lineTo(e.x,this.normalizeY(e.y));for(var r=0;r<this.chart.coords.length;r++){var i=this.chart.coords[r],o=i.x,a=i.y;t.graphics[0===r?"moveTo":"lineTo"](o,this.normalizeY(a))}t.graphics.lineTo(n.x,this.chart.height),t.graphics.lineTo(e.x,this.chart.height),t.graphics.endFill()}t.graphics.setTransform(this.chart.posX,this.chart.posY);var s=this.getMask();s.setTransform(this.chart.posX,this.chart.posY),t.graphics.mask=s}},{key:"drawChartLine",value:function(){var t=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.lineKey,{parent:this.chart.container,smooth:!0});if(t.isNew){t.graphics.zIndex=3,t.graphics.lineStyle({width:2,scaleMode:bx.sb.VERTICAL,color:MO[this.chart.theme].chartLineColor,alpha:1,join:cx.u2q.ROUND});for(var e=0;e<this.chart.coords.length;e++){var n=this.chart.coords[e],r=n.x,i=n.y;0===e?t.graphics.moveTo(r,i):t.graphics.lineTo(r,i)}}t.graphics.setTransform(this.chart.posX,this.chart.posY)}},{key:"draw",value:function(){this.chart.points.length&&(this.drawAreaGradient(),this.drawChartLine())}},{key:"clear",value:function(){nS(rS(e.prototype),"clear",this).call(this),this.chart.renderer.clearDynamicGraphicsNew(this.gradientKey),this.chart.renderer.clearDynamicGraphicsNew(this.maskKey),this.chart.renderer.clearDynamicGraphicsNew(this.lineKey)}},{key:"destroy",value:function(){nS(rS(e.prototype),"destroy",this).call(this),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.gradientKey),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.maskKey),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.lineKey)}}])&&QO(n.prototype,r),i&&QO(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(GO);function aS(t){return aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aS(t)}function sS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sS(Object(n),!0).forEach((function(e){lS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lS(t,e,n){return(e=hS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hS(r.key),r)}}function hS(t){var e=function(t,e){if("object"!=aS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aS(e)?e:String(e)}function fS(t,e,n){return e=mS(e),function(t,e){if(e&&("object"===aS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dS()?Reflect.construct(e,n||[],mS(t).constructor):e.apply(t,n))}function dS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(dS=function(){return!!t})()}function pS(){return pS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mS(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},pS.apply(this,arguments)}function mS(t){return mS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mS(t)}function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yS(t,e)}var vS=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=fS(this,e,[t])).lineShader=new bx.sM({dash:3,gap:3}),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}(e,t),n=e,(r=[{key:"triangleUpSpriteKey",get:function(){return"icon-triangle-up-".concat(this.chart.id)}},{key:"triangleDownSpriteKey",get:function(){return"icon-triangle-down-".concat(this.chart.id)}},{key:"getLineKey",value:function(t){return"c-chart-deal-line-".concat(t.id)}},{key:"getDashedLineKey",value:function(t){return"c-chart-deal-dashed-line-".concat(t.id)}},{key:"getDotKey",value:function(t){return"c-chart-deal-line-dot-".concat(t.id)}},{key:"getLabelKey",value:function(t){return"c-chart-bet-label-".concat(t.id)}},{key:"getRectKey",value:function(t){return"c-chart-bet-rect-".concat(t.id)}},{key:"getTriangleUpSprite",value:function(){var t=this.chart.renderer.getSprite(this.chart.containerIndex,this.triangleUpSpriteKey,"/themes/cabinet/images/triangle-up.svg",!1,this.chart.container).sprite;return t.zIndex=7,t}},{key:"getTriangleDownSprite",value:function(){var t=this.chart.renderer.getSprite(this.chart.containerIndex,this.triangleDownSpriteKey,"/themes/cabinet/images/triangle-down.svg",!1,this.chart.container).sprite;return t.zIndex=7,t}},{key:"getTriangleSprite",value:function(t){return(0,qt.nT)(t.command)?this.getTriangleUpSprite():this.getTriangleDownSprite()}},{key:"draw",value:function(){if(this.chart.points.length){var t=this.chart.getCurrentDeal(),e=(0,qt.nT)(t.command)?MO[this.chart.theme].callColor:MO[this.chart.theme].putColor,n=this.chart.getXFromTime(this.chart.getDealOpenTimestampMs(t)),r=this.chart.getYFromValue(t.openPrice),i=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.getLineKey(t),{parent:this.chart.container,smooth:!0}),o=this.chart.getXFromTime(this.chart.getDealCloseTimestampMs(t))-n;i.isNew&&(i.graphics.zIndex=4,i.graphics.lineStyle(1,e),i.graphics.moveTo(0,0),i.graphics.lineTo(o,0)),i.graphics.setTransform(n+this.chart.posX,r+this.chart.posY);var a=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.getDashedLineKey(t),{parent:this.chart.container,smooth:!0});if(a.isNew){a.graphics.zIndex=4,a.graphics.lineStyle({width:1,color:MO[this.chart.theme].chartLineColor,alpha:.8,shader:this.lineShader});var s=this.chart.coords.find((function(t){return Math.ceil(t.x)===Math.ceil(n+o)}));s&&(a.graphics.moveTo(o,0),a.graphics.lineTo(o,s.y-r))}a.graphics.setTransform(n+this.chart.posX,r+this.chart.posY);var c=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.getDotKey(t),{parent:this.chart.container,smooth:!0});c.isNew&&(c.graphics.zIndex=5,c.graphics.beginFill(e,1,!0),c.graphics.lineStyle(0,e,0),c.graphics.drawCircle(0,0,3),c.graphics.endFill()),c.graphics.setTransform(n+this.chart.posX,r+this.chart.posY);var l=cS(cS({},de.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),u=this.getTriangleSprite(t),h=this.chart.renderer.getText(this.chart.containerIndex,this.getLabelKey(t),"".concat(this.chart.currency).concat(t.amount),l,this.chart.colors.betElementTextColor.getHEXNUM(),null,this.chart.container);h.zIndex=7;var f=12+h.width+2*MO.BET.PADDING_X,d=h.height+2*MO.BET.PADDING_Y,p=this.chart.height/2>r?MO.BET.MARGIN_Y:-(d+MO.BET.MARGIN_Y),m=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.getRectKey(t),{smooth:!0,parent:this.chart.container});m.isNew&&(m.graphics.zIndex=6,m.graphics.beginFill(e,1,!0),m.graphics.drawRoundedRect(0,p,f,d,10),m.graphics.endFill());var y=(0,qt.nT)(t)?1:2;u.setTransform(this.chart.posX+n+MO.BET.PADDING_X-MO.BET.DOT_WIDTH,this.chart.posY+r+p+MO.BET.PADDING_Y+2.5+y,.5,.5),m.graphics.setTransform(this.chart.posX+n-MO.BET.DOT_WIDTH,this.chart.posY+r),h.setTransform(this.chart.posX+n+4-MO.BET.DOT_WIDTH+8+MO.BET.PADDING_X,this.chart.posY+r+p+MO.BET.PADDING_Y)}}},{key:"clear",value:function(){var t=this;pS(mS(e.prototype),"clear",this).call(this),this.chart.deals.forEach((function(e){t.chart.renderer.clearDynamicGraphicsNew(t.getLineKey(e)),t.chart.renderer.clearDynamicGraphicsNew(t.getDotKey(e)),t.chart.renderer.clearDynamicGraphicsNew(t.getRectKey(e)),t.chart.renderer.clearDynamicGraphicsNew(t.getDashedLineKey(e)),t.chart.renderer.clearText(t.getLabelKey(e))})),this.chart.renderer.clearSprite(this.triangleDownSpriteKey),this.chart.renderer.clearSprite(this.triangleUpSpriteKey)}},{key:"destroy",value:function(){var t=this;pS(mS(e.prototype),"destroy",this).call(this),this.chart.deals.forEach((function(e){t.chart.renderer.destroyDynamicGraphicsNew(t.chart.containerIndex,t.getLineKey(e)),t.chart.renderer.destroyDynamicGraphicsNew(t.chart.containerIndex,t.getDotKey(e)),t.chart.renderer.destroyDynamicGraphicsNew(t.chart.containerIndex,t.getRectKey(e)),t.chart.renderer.destroyDynamicGraphicsNew(t.chart.containerIndex,t.getDashedLineKey(e)),t.chart.renderer.destroyText(t.getLabelKey(e))})),this.chart.renderer.destroySprite(this.chart.containerIndex,this.triangleDownSpriteKey),this.chart.renderer.destroySprite(this.chart.containerIndex,this.triangleUpSpriteKey)}}])&&uS(n.prototype,r),i&&uS(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(GO);function bS(t){return bS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bS(t)}function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gS(Object(n),!0).forEach((function(e){xS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xS(t,e,n){return(e=OS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OS(r.key),r)}}function OS(t){var e=function(t,e){if("object"!=bS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bS(e)?e:String(e)}function SS(t,e,n){return e=AS(e),function(t,e){if(e&&("object"===bS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_S()?Reflect.construct(e,n||[],AS(t).constructor):e.apply(t,n))}function _S(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_S=function(){return!!t})()}function TS(){return TS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=AS(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},TS.apply(this,arguments)}function AS(t){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},AS(t)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ES(t,e)}var PS=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),SS(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}(e,t),n=e,(r=[{key:"labelKey",get:function(){return"c-chart-deal-count-label-".concat(this.chart.id)}},{key:"rectKey",get:function(){return"c-chart-deal-count-rect-".concat(this.chart.id)}},{key:"draw",value:function(){if(!(this.chart.deals.length<=1)){var t=this.chart.renderer.getText(this.chart.containerIndex,this.labelKey,"".concat(this.chart.currentDealIndex+1," of ").concat(this.chart.deals.length),wS(wS({},de.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),MO[this.chart.theme].textColor,null,this.chart.container);t.zIndex=3;var e=t.width+12,n=t.height+6,r=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.rectKey,{smooth:!0,parent:this.chart.container});r.isNew&&(r.graphics.zIndex=2,r.graphics.beginFill(MO[this.chart.theme].buttonBg,1,!0),r.graphics.drawRoundedRect(0,0,e,n,10),r.graphics.endFill());var i=this.chart.posX+this.chart.width/2-e/2,o=this.chart.posY-n/2;r.graphics.setTransform(i,o),t.setTransform(i+6,o+3)}}},{key:"clear",value:function(){TS(AS(e.prototype),"clear",this).call(this),this.chart.renderer.clearDynamicGraphicsNew(this.rectKey),this.chart.renderer.clearText(this.labelKey)}},{key:"destroy",value:function(){TS(AS(e.prototype),"destroy",this).call(this),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.rectKey),this.chart.renderer.destroyText(this.labelKey)}}])&&jS(n.prototype,r),i&&jS(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(GO);function CS(t){return CS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CS(t)}function kS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NS(r.key),r)}}function NS(t){var e=function(t,e){if("object"!=CS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=CS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==CS(e)?e:String(e)}function IS(t,e,n){return e=DS(e),function(t,e){if(e&&("object"===CS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,RS()?Reflect.construct(e,n||[],DS(t).constructor):e.apply(t,n))}function RS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(RS=function(){return!!t})()}function LS(){return LS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=DS(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},LS.apply(this,arguments)}function DS(t){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DS(t)}function MS(t,e){return MS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},MS(t,e)}var BS=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=IS(this,e,[t])).isSubscribed=!1,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MS(t,e)}(e,t),n=e,(r=[{key:"leftIconSpriteKey",get:function(){return"icon-move-left-".concat(this.chart.id)}},{key:"leftIconCircle",get:function(){return"left-button-circle-".concat(this.chart.id)}},{key:"rightIconSpriteKey",get:function(){return"icon-move-right-".concat(this.chart.id)}},{key:"rightIconCircle",get:function(){return"right-button-circle-".concat(this.chart.id)}},{key:"getIconLeftSprite",value:function(){var t=this.chart.theme===ix.BLUE?"/themes/cabinet/images/close-arrow-left-blue.svg":"/themes/cabinet/images/close-arrow-left-light.svg",e=this.chart.renderer.getSprite(this.chart.containerIndex,this.leftIconSpriteKey,t,!0,this.chart.container).sprite;return e.zIndex=6,e}},{key:"getIconRightSprite",value:function(){var t=this.chart.theme===ix.BLUE?"/themes/cabinet/images/close-arrow-right-blue.svg":"/themes/cabinet/images/close-arrow-right-light.svg",e=this.chart.renderer.getSprite(this.chart.containerIndex,this.rightIconSpriteKey,t,!0,this.chart.container).sprite;return e.zIndex=6,e}},{key:"subscribe",value:function(){var t=this;if(!(this.chart.deals.length<=1)){var e=this.getIconLeftSprite(),n=this.getIconRightSprite();e.removeAllListeners(),n.removeAllListeners(),this.chart.show&&(e.on("pointerdown",(function(){return t.chart.emit("moveLeft")})),n.on("pointerdown",(function(){return t.chart.emit("moveRight")}))),this.isSubscribed=!0}}},{key:"drawMoveLeftButton",value:function(){var t=this.getIconLeftSprite(),e=this.chart.originRectX,n=this.chart.posY;t.setTransform(e-7,n-7,.5,.5);var r=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.leftIconCircle,{parent:this.chart.container});r.isNew&&(r.graphics.zIndex=5,r.graphics.beginFill(MO[this.chart.theme].buttonBg,1,!0),r.graphics.drawCircle(0,0,10),r.graphics.endFill()),r.graphics.setTransform(e,n)}},{key:"drawMoveRightButton",value:function(){var t=this.getIconRightSprite(),e=this.chart.originRectX+this.chart.originRectWidth,n=this.chart.posY;t.setTransform(e-7,n-7,.5,.5);var r=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.rightIconCircle,{parent:this.chart.container});r.isNew&&(r.graphics.zIndex=5,r.graphics.beginFill(MO[this.chart.theme].buttonBg,1,!0),r.graphics.drawCircle(0,0,10),r.graphics.endFill()),r.graphics.setTransform(e,n)}},{key:"draw",value:function(){this.chart.deals.length<=1||(this.drawMoveLeftButton(),this.drawMoveRightButton(),this.isSubscribed||this.subscribe())}},{key:"clear",value:function(){LS(DS(e.prototype),"clear",this).call(this),this.chart.renderer.clearDynamicGraphicsNew(this.leftIconCircle),this.chart.renderer.destroySprite(this.chart.containerIndex,this.leftIconSpriteKey),this.chart.renderer.clearDynamicGraphicsNew(this.rightIconCircle),this.chart.renderer.destroySprite(this.chart.containerIndex,this.rightIconSpriteKey),this.isSubscribed=!1}},{key:"destroy",value:function(){LS(DS(e.prototype),"destroy",this).call(this),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.leftIconCircle),this.chart.renderer.destroySprite(this.chart.containerIndex,this.leftIconSpriteKey),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.rightIconCircle),this.chart.renderer.destroySprite(this.chart.containerIndex,this.rightIconSpriteKey),this.isSubscribed=!1}}])&&kS(n.prototype,r),i&&kS(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(GO);function HS(t){return HS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HS(t)}function FS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GS(r.key),r)}}function GS(t){var e=function(t,e){if("object"!=HS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=HS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==HS(e)?e:String(e)}function VS(t,e,n){return e=zS(e),function(t,e){if(e&&("object"===HS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,WS()?Reflect.construct(e,n||[],zS(t).constructor):e.apply(t,n))}function WS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(WS=function(){return!!t})()}function US(){return US="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zS(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},US.apply(this,arguments)}function zS(t){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zS(t)}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},XS(t,e)}var $S=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=VS(this,e,[t])).isSubscribed=!1,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XS(t,e)}(e,t),n=e,(r=[{key:"closeSpriteKey",get:function(){return"icon-close-button-".concat(this.chart.id)}},{key:"closeCircleKey",get:function(){return"close-button-circle-".concat(this.chart.id)}},{key:"subscribe",value:function(){var t=this,e=this.getCloseButtonSprite();e.removeAllListeners(),this.chart.show&&e.on("pointerdown",(function(){return t.chart.emit("close")})),this.isSubscribed=!0}},{key:"getCloseButtonSprite",value:function(){var t=this.chart.theme===ix.BLUE?"/themes/cabinet/images/close-icon-blue.svg":"/themes/cabinet/images/close-icon-light.svg",e=this.chart.renderer.getSprite(this.chart.containerIndex,this.closeSpriteKey,t,!0,this.chart.container).sprite;return e.zIndex=6,e}},{key:"draw",value:function(){var t=this.getCloseButtonSprite(),e=this.chart.posX+this.chart.width-20,n=this.chart.posY;t.setTransform(e-7,n-7,.5,.5);var r=this.chart.renderer.getDynamicGraphics(this.chart.containerIndex,this.closeCircleKey,{parent:this.chart.container});r.isNew&&(r.graphics.zIndex=5,r.graphics.beginFill(MO[this.chart.theme].buttonBg,1,!0),r.graphics.drawCircle(0,0,10),r.graphics.endFill()),r.graphics.setTransform(e,n),this.isSubscribed||this.subscribe()}},{key:"clear",value:function(){US(zS(e.prototype),"clear",this).call(this),this.chart.renderer.clearDynamicGraphicsNew(this.closeCircleKey),this.chart.renderer.destroySprite(this.chart.containerIndex,this.closeSpriteKey),this.isSubscribed=!1}},{key:"destroy",value:function(){US(zS(e.prototype),"destroy",this).call(this),this.chart.renderer.destroyDynamicGraphicsNew(this.chart.containerIndex,this.closeCircleKey),this.chart.renderer.destroySprite(this.chart.containerIndex,this.closeSpriteKey),this.isSubscribed=!1}}])&&FS(n.prototype,r),i&&FS(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(GO);function YS(t){return YS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YS(t)}function qS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function KS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qS(Object(n),!0).forEach((function(e){ZS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ZS(t,e,n){return(e=JS(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JS(r.key),r)}}function JS(t){var e=function(t,e){if("object"!=YS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=YS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==YS(e)?e:String(e)}function t_(t,e,n){return e=r_(e),function(t,e){if(e&&("object"===YS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,e_()?Reflect.construct(e,n||[],r_(t).constructor):e.apply(t,n))}function e_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(e_=function(){return!!t})()}function n_(){return n_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},n_.apply(this,arguments)}function r_(t){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r_(t)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i_(t,e)}var o_=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t_(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}(e,t),n=e,(r=[{key:"getLabelKey",value:function(t){return"chart-profit-label-".concat(t.id)}},{key:"getValueKey",value:function(t){return"chart-profit-value-".concat(t.id)}},{key:"draw",value:function(){var t=this.chart.getCurrentDeal(),e=KS(KS({},de.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),n=(0,qn.xr)(Math.max(0,t.profit),2,!0),r=MO[this.chart.theme],i=r.callColor,o=r.textColor,a=this.chart.renderer.getText(this.chart.containerIndex,this.getLabelKey(t),"".concat((0,yt.tr)("deals.profit"),": "),e,o,null,this.chart.container);a.zIndex=7;var s=this.chart.renderer.getText(this.chart.containerIndex,this.getValueKey(t),"".concat(n>0?"+":"").concat(this.chart.currency).concat(n),e,n>0?i:o,null,this.chart.container);s.zIndex=7;var c=5;this.chart.deals.length>1&&(c=12);var l=a.width+s.width;a.setTransform(this.chart.posX+this.chart.width/2-l/2,this.chart.posY+c),s.setTransform(this.chart.posX+this.chart.width/2-l/2+a.width,this.chart.posY+c)}},{key:"clear",value:function(){var t=this;n_(r_(e.prototype),"clear",this).call(this),this.chart.deals.forEach((function(e){t.chart.renderer.clearText(t.getLabelKey(e)),t.chart.renderer.clearText(t.getValueKey(e))}))}},{key:"destroy",value:function(){var t=this;n_(r_(e.prototype),"destroy",this).call(this),this.chart.deals.forEach((function(e){t.chart.renderer.destroyText(t.getLabelKey(e)),t.chart.renderer.destroyText(t.getValueKey(e))}))}}])&&QS(n.prototype,r),i&&QS(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(GO),a_=n(36479),s_=n.n(a_);function c_(t){return c_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c_(t)}function l_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u_(r.key),r)}}function u_(t){var e=function(t,e){if("object"!=c_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c_(e)?e:String(e)}var h_=function(){function t(e){var n=e.id,r=e.renderer,i=e.container,o=e.style,a=e.theme,s=e.currency;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.renderer=r,this.container=i,this.width=200,this.height=90,this.containerIndex=w.Rp.CLOSED_ORDER,this.secondWidth=0,this.startPoint=new RO(0,0),this.endPoint=new RO(0,0),this.minValue=0,this.maxValue=0,this.points=[],this.deals=[],this.originRectX=0,this.originRectY=0,this.originRectWidth=0,this.originRectHeight=0,this.posX=0,this.posY=0,this.style=o,this.theme=a,this.currency=s,this.topMarginPixels=30,this.bottomMarginPixels=15,this.colors=ax,this.coords=[],this.currentDealIndex=0,this.show=!1,this.eventListeners={},this.shouldRerender=!1,this.elements=[],this.createElements()}var e,n,r;return e=t,n=[{key:"createElements",value:function(){this.elements=[new KO(this),new oS(this),new vS(this),new PS(this),new BS(this),new $S(this),new o_(this)]}},{key:"setTheme",value:function(t){this.colors.setTheme(t),this.theme=t,this.shouldRerender=!0}},{key:"closeChart",value:function(){this.show=!1,this.shouldRerender=!0}},{key:"toggleChart",value:function(){this.show=!this.show,this.shouldRerender=!0}},{key:"setOriginSizes",value:function(t){var e=t.x,n=t.y,r=t.width,i=t.height;this.originRectX=e,this.originRectY=n,this.originRectWidth=r,this.originRectHeight=i}},{key:"emit",value:function(t){void 0===this.eventListeners[t]&&(this.eventListeners[t]=[]),this.eventListeners[t].forEach((function(t){return t()}))}},{key:"on",value:function(t,e){void 0===this.eventListeners[t]&&(this.eventListeners[t]=[]),this.eventListeners[t].push(e)}},{key:"moveLeft",value:function(){this.points=[],this.clear(),this.currentDealIndex=this.currentDealIndex-1<0?this.deals.length-1:this.currentDealIndex-1,this.shouldRerender=!0}},{key:"moveRight",value:function(){this.points=[],this.clear(),this.currentDealIndex=this.currentDealIndex+1>this.deals.length-1?0:this.currentDealIndex+1,this.shouldRerender=!0}},{key:"calculateCoordinates",value:function(){this.posX=this.originRectX-this.width/2+this.originRectWidth/2,this.posY=this.originRectY-this.height+this.originRectHeight/2,this.coords=[];for(var t=this.points.length>60?this.simplifyPoints(this.points):this.points,e=0;e<t.length;e++){var n=t[e],r=this.getXFromTime(n.time);if(e+1<t.length){var i=this.getXFromTime(t[e+1].time);if(r<0&&i<0)continue}this.coords.push({x:this.getXFromTime(n.time),y:this.getYFromValue(n.value)})}}},{key:"setPoints",value:function(t){this.points=t.sort((function(t,e){return t.time-e.time})),this.startPoint=t.length?t[0]:new RO(0,0),this.endPoint=t.length?t[t.length-1]:new RO(0,0);var e=this.endPoint.time-this.startPoint.time;this.secondWidth=this.width/e,this.calculateMinMax(),this.shouldRerender=!0}},{key:"simplifyPoints",value:function(t){var e=this,n=t.map((function(t){return{x:e.getXFromTime(t.time),y:e.getYFromValue(t.value)}})),r=s_()(n,4,!0).map((function(t){return new RO(e.getValueFromY(t.y),e.getTimeFromX(t.x))})),i=this.getCurrentDeal();if((0,qt.L5)(i)&&!(0,qt.u8)(i)){var o=i.openPrice,a=i.closePrice;r=r.concat([new RO(o,this.getDealOpenTimestampMs(i)),new RO(a,this.getDealCloseTimestampMs(i))]).sort((function(t,e){return t.time-e.time}))}return r}},{key:"setDeals",value:function(t){this.deals=t,this.calculateMinMax()}},{key:"findFirstTimeBefore",value:function(t){if(!this.points.length)return t;for(var e=this.points[0].time,n=1;n<this.points.length&&!(this.points[n].time>=t);n++)e=this.points[n].time;return e}},{key:"getXFromTime",value:function(t){return(t-this.startPoint.time)*this.secondWidth}},{key:"getYFromValue",value:function(t){if(this.maxValue-this.minValue==0)return 0;var e=(t-this.minValue)/(this.maxValue-this.minValue);return this.height-this.bottomMarginPixels-(this.height-(this.topMarginPixels+this.bottomMarginPixels))*e}},{key:"getTimeFromX",value:function(t){return this.startPoint.time+t/this.secondWidth}},{key:"getValueFromY",value:function(t){var e=this.height-(this.topMarginPixels+this.bottomMarginPixels),n=(this.height-this.bottomMarginPixels-t)/e;return this.minValue+(this.maxValue-this.minValue)*n}},{key:"calculateMinMax",value:function(){for(var t=de.Ay.CHART.FLT_MIN,e=de.Ay.CHART.FLT_MAX,n=this.points.length,r=0;r<n;r++){var i=this.points[r].value;i<e&&(e=i),i>t&&(t=i)}this.deals.forEach((function(n){var r=n.openPrice;r>t&&(t=r),r<e&&(e=r)})),e===t&&(t+=.1*t,e-=.1*e),this.minValue=e,this.maxValue=t}},{key:"getDealOpenTimestampMs",value:function(t){var e=t.openTimestamp,n=t.openMs;return parseFloat("".concat(e,".").concat((0,Jr.pJ)(n)))}},{key:"getDealCloseTimestampMs",value:function(t){var e=t.closeMs,n=(0,qt.tY)(t),r=parseFloat("".concat(n,".").concat((0,Jr.pJ)(e)));if(0===e&&!(0,qt.u8)(t)){var i=this.findFirstTimeBefore(r);if(Math.abs(i-n)<2)return i}return r}},{key:"getCurrentDeal",value:function(){return this.deals[this.currentDealIndex]}},{key:"draw",value:function(){this.calculateCoordinates(),this.elements.forEach((function(t){return t.draw()}))}},{key:"onAfterDraw",value:function(){this.shouldRerender=!1}},{key:"clear",value:function(){this.elements.forEach((function(t){return t.clear()}))}},{key:"destroy",value:function(){this.elements.forEach((function(t){return t.destroy()}))}}],n&&l_(e.prototype,n),r&&l_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),f_=h_;function d_(t){return d_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d_(t)}function p_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p_(Object(n),!0).forEach((function(e){j_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O_(r.key),r)}}function v_(t,e,n){return e=w_(e),function(t,e){if(e&&("object"===d_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b_()?Reflect.construct(e,n||[],w_(t).constructor):e.apply(t,n))}function b_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b_=function(){return!!t})()}function g_(){return g_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},g_.apply(this,arguments)}function w_(t){return w_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w_(t)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x_(t,e)}function j_(t,e,n){return(e=O_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O_(t){var e=function(t,e){if("object"!=d_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d_(e)?e:String(e)}var S_,__,T_={YELLOW:{color:cx.WpD.string2hex("#FFC107"),icon:"/themes/cabinet/images/close-yellow.svg"},GREEN:{color:cx.WpD.string2hex("#32AC41"),icon:"/themes/cabinet/images/close-green.svg"},RED:{color:cx.WpD.string2hex("#F13227"),icon:"/themes/cabinet/images/close-red.svg"}},A_=j_(j_({},ix.BLUE,cx.WpD.string2hex("#000000")),ix.LIGHT,cx.WpD.string2hex("#ffffff")),E_=j_(j_({},ix.BLUE,cx.WpD.string2hex("#ffffff")),ix.LIGHT,cx.WpD.string2hex("#2A5885")),P_=cx.WpD.string2hex("#32AC41"),C_=function(t){function e(t,n,r,i,o,a){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=v_(this,e,[t,n])).option=r,s.showedAt=o,s.currency=i,s.value=r.value,s.time=r.time,s.id=r.id,s.theme=ox(a),s.payout=r.profit,s.amount=r.amount,s.profit=Math.max(0,s.payout-s.amount),s.isRendered=!1,s.style=s.getStyle(),s.wsChartLoadListeners=[],s.createElements(),s}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}(e,t),n=e,r=[{key:"reanimate",value:function(){this.isRendered=!1}},{key:"isOpenedPriceChart",value:function(){return this.priceChart.show}},{key:"getRegularZIndex",value:function(){return Math.ceil(1e3*this.option.time)}},{key:"getOpenedZIndex",value:function(){return 10*this.getRegularZIndex()}},{key:"createElements",value:function(){var t=this;this.container=this.core.getDynamicContainer(w.Rp.CLOSED_ORDER,"sd-container-".concat(this.id),{sortableChildren:!0,zIndex:this.getRegularZIndex()}),this.priceChart=new f_({id:this.id,container:this.container,renderer:this.core,style:this.style,theme:this.theme,currency:this.currency}),this.priceChart.setDeals(this.option.deals),this.priceChart.on("close",(function(){return t.pointsManager.plot.removeClosedOption(t.id)})),this.priceChart.on("hide",(function(){return t.toggleChart()})),this.priceChart.on("moveLeft",(function(){t.priceChart.moveLeft(),t.loadPoints()})),this.priceChart.on("moveRight",(function(){t.priceChart.moveRight(),t.loadPoints()})),this.getRectangleGraphics().removeAllListeners().on("pointerdown",(function(){t.pointsManager.plot.globalSettings.isTryDemo||(t.pointsManager.plot.showFullClosedOption(t.id),t.core.containers[w.Rp.CLOSED_ORDER].sortChildren())}))}},{key:"closeChart",value:function(){this.priceChart.closeChart(),this.clearEventListeners(),this.container.zIndex=this.getRegularZIndex()}},{key:"toggleChart",value:function(){this.priceChart.toggleChart(),this.clearEventListeners(),this.priceChart.show&&!this.priceChart.points.length&&this.loadPoints(),this.container.zIndex=this.priceChart.show?this.getOpenedZIndex():this.getRegularZIndex(),this.core.containers[w.Rp.CLOSED_ORDER].sortChildren(),this.priceChart.show||(this.showedAt=this.pointsManager.plot.currentServerTime)}},{key:"clearEventListeners",value:function(){this.wsChartLoadListeners.forEach((function(t){hr.A.instance.removeEventListener("".concat(Qi).concat(ya.Qz),t)})),this.wsChartLoadListeners=[]}},{key:"loadPoints",value:function(){var t=this,e=this.priceChart.getCurrentDeal();this.priceChart.clear(),this.clearEventListeners();var n=!1,r=e.openTimestamp-2,i=e.closeTimestamp+2,o=this.pointsManager.points[0].time,a=this.pointsManager.points[this.pointsManager.points.length-1].time;if(r>o&&i<a&&(n=!0),n){var s=this.pointsManager.points.filter((function(t){return r<=t.time&&t.time<=i}));this.priceChart.setPoints(s)}else{var c=hr.A.instance.addEventListener("".concat(Qi).concat(ya.Qz),(function(e){t.handleLoadedOrderChart(e)}));this.wsChartLoadListeners.push(c),hr.A.instance.loadOrderChart(m_(m_({},e),{},{symbolId:this.assetId,digits:this.currentDigit}))}}},{key:"handleLoadedOrderChart",value:function(t){var e=this.priceChart.getCurrentDeal();if(t.id===e.id){var n=t.points.map((function(t){var e=t.price,n=t.time,r=t.open;return new RO(void 0!==r?r:e,n)}));this.priceChart.setPoints(n)}}},{key:"isVisible",value:function(){var t=this.getTimeFrom()<=this.time&&this.time<=this.getTimeTo(),e=this.getValueFrom()<=this.value&&this.value<=this.getValueTo();return t&&e}},{key:"getStyle",value:function(){return this.profit>0?T_.GREEN:this.payout>0?T_.YELLOW:T_.RED}},{key:"getIconGraphics",value:function(){var t=this.core.getSprite(w.Rp.CLOSED_ORDER,"icon-".concat(this.id),this.style.icon,!0,this.container).sprite;return t.zIndex=11,t}},{key:"getTextGraphics",value:function(){var t=this.core.getText(w.Rp.CLOSED_ORDER,"c-avatar-text-".concat(this.id),"".concat(this.currency).concat(this.payout.toFixed(2)),de.Ay.CHART.TEXT_STYLE_BET,E_[this.theme],"center",this.container);return t.visible=!0,t.zIndex=11,t}},{key:"getRectangleGraphics",value:function(){return this.core.getDynamicGraphics(w.Rp.CLOSED_ORDER,"c-avatar-rect-".concat(this.id),{touch:!0,parent:this.container}).graphics}},{key:"drawRectangleGraphics",value:function(t,e){var n=this.getRectangleGraphics();return n.zIndex=10,n.lineStyle(1,this.style.color,1),n.beginFill(A_[this.theme],1),n.drawRoundedRect(0,0,t,e,32),n.endFill(),n}},{key:"drawChart",value:function(t,e,n,r){this.priceChart.setOriginSizes({x:t,y:e,width:n,height:r}),this.priceChart.draw()}},{key:"getTriangleGraphics",value:function(){var t=this.core.getDynamicGraphics(w.Rp.CLOSED_ORDER,"c-avatar-triangle-".concat(this.id),{parent:this.container});return t.graphics.zIndex=11,t.isNew&&(t.graphics.beginFill(this.style.color,1),t.graphics.moveTo(0,-5),t.graphics.lineTo(-5,-12),t.graphics.lineTo(5,-12),t.graphics.endFill()),t.graphics}},{key:"getDotPointer",value:function(){var t=this.core.getDynamicGraphics(w.Rp.CLOSED_ORDER,"sd-dot-".concat(this.id),{parent:this.container});return t.isNew&&(t.graphics.beginFill(P_,1),t.graphics.drawCircle(0,0,3),t.graphics.endFill()),t.graphics}},{key:"drawBubble",value:function(){var t=this.getCoords(),e=t.x,n=t.y,r=n,i=e,o=this.getTextGraphics(),a=o.width,s=o.height,c=a+16+2+20,l=Math.max(s,16)+2,u=i-c/2,h=r-=l+12;this.drawRectangleGraphics(c,l).setTransform(u,h),this.getTriangleGraphics().setTransform(e,n);var f=i-c/2+1+10+2,d=r+1;o.setTransform(f,d);var p=f+a+10-2;this.getIconGraphics().setTransform(p,d,.5,.5),this.getDotPointer().setTransform(e,n),!this.isThemeChanged()&&this.priceChart.show||this.priceChart.clear(),this.priceChart.show&&this.drawChart(u,h,c,l)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isThemeChanged()&&this.priceChart.setTheme(this.theme),!this.isVisible()&&this.isRendered)return this.clearAll(),void(this.isRendered=!1);this.isVisible()&&(!this.isRendered||t||this.shouldRerender())&&(this.isRendered=!0,this.drawBubble())}},{key:"onAfterDraw",value:function(){g_(w_(e.prototype),"onAfterDraw",this).call(this),this.priceChart.onAfterDraw()}},{key:"shouldRerender",value:function(){return g_(w_(e.prototype),"shouldRerender",this).call(this)||this.priceChart.shouldRerender}},{key:"clearAll",value:function(){this.core.clearDynamicGraphicsNew("sd-dot-".concat(this.id)),this.core.clearDynamicGraphicsNew("c-avatar-rect-".concat(this.id)),this.core.clearDynamicGraphicsNew("c-avatar-triangle-".concat(this.id)),this.core.clearText("c-avatar-text-".concat(this.id)),this.core.destroySprite(w.Rp.CLOSED_ORDER,"icon-".concat(this.id)),this.priceChart.clear()}},{key:"destroy",value:function(){g_(w_(e.prototype),"destroy",this).call(this),this.priceChart.destroy();var t=this.getIconGraphics();t&&t.removeAllListeners(),this.core.destroyDynamicContainer(w.Rp.CLOSED_ORDER,"sd-container-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.CLOSED_ORDER,"sd-dot-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.CLOSED_ORDER,"c-avatar-rect-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.CLOSED_ORDER,"c-avatar-triangle-".concat(this.id)),this.core.destroyText("c-avatar-text-".concat(this.id)),this.core.destroySprite(w.Rp.CLOSED_ORDER,"icon-".concat(this.id)),this.container=null}}],r&&y_(n.prototype,r),i&&y_(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(Ej),k_=C_,N_=n(81121),I_=n(17405),R_=n(48839),L_=n(6741),D_=n(2783);function M_(t){return M_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M_(t)}function B_(){return B_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},B_.apply(this,arguments)}function H_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V_(r.key),r)}}function G_(t,e,n){return e&&F_(t.prototype,e),n&&F_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V_(t){var e=function(t,e){if("object"!=M_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=M_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M_(e)?e:String(e)}function W_(t,e,n){return e=z_(e),function(t,e){if(e&&("object"===M_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,U_()?Reflect.construct(e,n||[],z_(t).constructor):e.apply(t,n))}function U_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(U_=function(){return!!t})()}function z_(t){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z_(t)}function X_(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$_(t,e)}!function(t){t[t.NONE=0]="NONE",t[t.FILL=1]="FILL",t[t.JOINT_BEVEL=4]="JOINT_BEVEL",t[t.JOINT_MITER=8]="JOINT_MITER",t[t.JOINT_ROUND=12]="JOINT_ROUND",t[t.JOINT_CAP_BUTT=16]="JOINT_CAP_BUTT",t[t.JOINT_CAP_SQUARE=18]="JOINT_CAP_SQUARE",t[t.JOINT_CAP_ROUND=20]="JOINT_CAP_ROUND",t[t.FILL_EXPAND=24]="FILL_EXPAND",t[t.CAP_BUTT=32]="CAP_BUTT",t[t.CAP_SQUARE=64]="CAP_SQUARE",t[t.CAP_ROUND=96]="CAP_ROUND",t[t.CAP_BUTT2=128]="CAP_BUTT2"}(S_||(S_={})),function(t){t.NONE="none",t.NORMAL="normal",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(__||(__={}));var Y_=function(t){function e(){return H_(this,e),W_(this,e,[N_.gP.WHITE,{uniforms:{resolution:1,expand:1,scaleMode:1,styleLine:new Float32Array([1,.5]),miterLimit:5},program:e.getProgram()}])}return X_(e,t),G_(e,null,[{key:"getProgram",value:function(){return e._prog||(e._prog=new N_.BP("precision highp float;\nconst float FILL = 1.0;\nconst float BEVEL = 4.0;\nconst float MITER = 8.0;\nconst float ROUND = 12.0;\nconst float JOINT_CAP_BUTT = 16.0;\nconst float JOINT_CAP_SQUARE = 18.0;\nconst float JOINT_CAP_ROUND = 20.0;\n\nconst float FILL_EXPAND = 24.0;\n\nconst float CAP_BUTT = 1.0;\nconst float CAP_SQUARE = 2.0;\nconst float CAP_ROUND = 3.0;\nconst float CAP_BUTT2 = 4.0;\n\n// === geom ===\nattribute vec2 aPrev;\nattribute vec2 aPoint1;\nattribute vec2 aPoint2;\nattribute vec2 aNext;\nattribute float aVertexJoint;\nattribute float vertexNum;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\n\nvarying vec4 vDistance;\nvarying vec4 vArc;\nvarying float vType;\n\nuniform float resolution;\nuniform float expand;\nuniform float miterLimit;\nuniform float scaleMode;\nuniform vec2 styleLine;\n\nvec2 doBisect(vec2 norm, float len, vec2 norm2, float len2,\n    float dy, float inner) {\n    vec2 bisect = (norm + norm2) / 2.0;\n    bisect /= dot(norm, bisect);\n    vec2 shift = dy * bisect;\n    if (inner > 0.5) {\n        if (len < len2) {\n            if (abs(dy * (bisect.x * norm.y - bisect.y * norm.x)) > len) {\n                return dy * norm;\n            }\n        } else {\n            if (abs(dy * (bisect.x * norm2.y - bisect.y * norm2.x)) > len2) {\n                return dy * norm;\n            }\n        }\n    }\n    return dy * bisect;\n}\n\nvoid main(void){\n    vec2 pointA = (translationMatrix * vec3(aPoint1, 1.0)).xy;\n    vec2 pointB = (translationMatrix * vec3(aPoint2, 1.0)).xy;\n\n    vec2 xBasis = pointB - pointA;\n    float len = length(xBasis);\n    vec2 forward = xBasis / len;\n    vec2 norm = vec2(forward.y, -forward.x);\n\n    float type = aVertexJoint;\n\n    float lineWidth = styleLine.x;\n    if (scaleMode > 2.5) {\n        lineWidth *= length(translationMatrix * vec3(1.0, 0.0, 0.0));\n    } else if (scaleMode > 1.5) {\n        lineWidth *= length(translationMatrix * vec3(0.0, 1.0, 0.0));\n    } else if (scaleMode > 0.5) {\n        vec2 avgDiag = (translationMatrix * vec3(1.0, 1.0, 0.0)).xy;\n        lineWidth *= sqrt(dot(avgDiag, avgDiag) * 0.5);\n    }\n    float capType = floor(type / 32.0);\n    type -= capType * 32.0;\n    vArc = vec4(0.0);\n    lineWidth *= 0.5;\n    float lineAlignment = 2.0 * styleLine.y - 1.0;\n\n    vec2 pos;\n\n    if (capType == CAP_ROUND) {\n        if (vertexNum < 3.5) {\n            gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n            return;\n        }\n        type = JOINT_CAP_ROUND;\n        capType = 0.0;\n    }\n\n    if (type >= BEVEL) {\n        float dy = lineWidth + expand;\n        float inner = 0.0;\n        if (vertexNum >= 1.5) {\n            dy = -dy;\n            inner = 1.0;\n        }\n\n        vec2 base, next, xBasis2, bisect;\n        float flag = 0.0;\n        float sign2 = 1.0;\n        if (vertexNum < 0.5 || vertexNum > 2.5 && vertexNum < 3.5) {\n            next = (translationMatrix * vec3(aPrev, 1.0)).xy;\n            base = pointA;\n            flag = type - floor(type / 2.0) * 2.0;\n            sign2 = -1.0;\n        } else {\n            next = (translationMatrix * vec3(aNext, 1.0)).xy;\n            base = pointB;\n            if (type >= MITER && type < MITER + 3.5) {\n                flag = step(MITER + 1.5, type);\n                // check miter limit here?\n            }\n        }\n        xBasis2 = next - base;\n        float len2 = length(xBasis2);\n        vec2 norm2 = vec2(xBasis2.y, -xBasis2.x) / len2;\n        float D = norm.x * norm2.y - norm.y * norm2.x;\n        if (D < 0.0) {\n            inner = 1.0 - inner;\n        }\n\n        norm2 *= sign2;\n\n        if (abs(lineAlignment) > 0.01) {\n            float shift = lineWidth * lineAlignment;\n            pointA += norm * shift;\n            pointB += norm * shift;\n            if (abs(D) < 0.01) {\n                base += norm * shift;\n            } else {\n                base += doBisect(norm, len, norm2, len2, shift, 0.0);\n            }\n        }\n\n        float collinear = step(0.0, dot(norm, norm2));\n\n        vType = 0.0;\n        float dy2 = -1000.0;\n        float dy3 = -1000.0;\n\n        if (abs(D) < 0.01 && collinear < 0.5) {\n            if (type >= ROUND && type < ROUND + 1.5) {\n                type = JOINT_CAP_ROUND;\n            }\n            //TODO: BUTT here too\n        }\n\n        if (vertexNum < 3.5) {\n            if (abs(D) < 0.01) {\n                pos = dy * norm;\n            } else {\n                if (flag < 0.5 && inner < 0.5) {\n                    pos = dy * norm;\n                } else {\n                    pos = doBisect(norm, len, norm2, len2, dy, inner);\n                }\n            }\n            if (capType >= CAP_BUTT && capType < CAP_ROUND) {\n                float extra = step(CAP_SQUARE, capType) * lineWidth;\n                vec2 back = -forward;\n                if (vertexNum < 0.5 || vertexNum > 2.5) {\n                    pos += back * (expand + extra);\n                    dy2 = expand;\n                } else {\n                    dy2 = dot(pos + base - pointA, back) - extra;\n                }\n            }\n            if (type >= JOINT_CAP_BUTT && type < JOINT_CAP_SQUARE + 0.5) {\n                float extra = step(JOINT_CAP_SQUARE, type) * lineWidth;\n                if (vertexNum < 0.5 || vertexNum > 2.5) {\n                    dy3 = dot(pos + base - pointB, forward) - extra;\n                } else {\n                    pos += forward * (expand + extra);\n                    dy3 = expand;\n                    if (capType >= CAP_BUTT) {\n                        dy2 -= expand + extra;\n                    }\n                }\n            }\n        } else if (type >= JOINT_CAP_ROUND && type < JOINT_CAP_ROUND + 1.5) {\n            if (inner > 0.5) {\n                dy = -dy;\n                inner = 0.0;\n            }\n            vec2 d2 = abs(dy) * forward;\n            if (vertexNum < 4.5) {\n                dy = -dy;\n                pos = dy * norm;\n            } else if (vertexNum < 5.5) {\n                pos = dy * norm;\n            } else if (vertexNum < 6.5) {\n                pos = dy * norm + d2;\n                vArc.x = abs(dy);\n            } else {\n                dy = -dy;\n                pos = dy * norm + d2;\n                vArc.x = abs(dy);\n            }\n            dy2 = 0.0;\n            vArc.y = dy;\n            vArc.z = 0.0;\n            vArc.w = lineWidth;\n            vType = 3.0;\n        } else if (abs(D) < 0.01) {\n            pos = dy * norm;\n        } else {\n            if (type >= ROUND && type < ROUND + 1.5) {\n                if (inner > 0.5) {\n                    dy = -dy;\n                    inner = 0.0;\n                }\n                if (vertexNum < 4.5) {\n                    pos = doBisect(norm, len, norm2, len2, -dy, 1.0);\n                } else if (vertexNum < 5.5) {\n                    pos = dy * norm;\n                } else if (vertexNum > 7.5) {\n                    pos = dy * norm2;\n                } else {\n                    pos = doBisect(norm, len, norm2, len2, dy, 0.0);\n                    float d2 = abs(dy);\n                    if (length(pos) > abs(dy) * 1.5) {\n                        if (vertexNum < 6.5) {\n                            pos.x = dy * norm.x - d2 * norm.y;\n                            pos.y = dy * norm.y + d2 * norm.x;\n                        } else {\n                            pos.x = dy * norm2.x + d2 * norm2.y;\n                            pos.y = dy * norm2.y - d2 * norm2.x;\n                        }\n                    }\n                }\n                vec2 norm3 = normalize(norm + norm2);\n\n                float sign = step(0.0, dy) * 2.0 - 1.0;\n                vArc.x = sign * dot(pos, norm3);\n                vArc.y = pos.x * norm3.y - pos.y * norm3.x;\n                vArc.z = dot(norm, norm3) * lineWidth;\n                vArc.w = lineWidth;\n\n                dy = -sign * dot(pos, norm);\n                dy2 = -sign * dot(pos, norm2);\n                dy3 = vArc.z - vArc.x;\n                vType = 3.0;\n            } else {\n                float hit = 0.0;\n                if (type >= BEVEL && type < BEVEL + 1.5) {\n                    if (dot(norm, norm2) > 0.0) {\n                        type = MITER;\n                    }\n                }\n\n                if (type >= MITER && type < MITER + 3.5) {\n                    if (inner > 0.5) {\n                        dy = -dy;\n                        inner = 0.0;\n                    }\n                    float sign = step(0.0, dy) * 2.0 - 1.0;\n                    pos = doBisect(norm, len, norm2, len2, dy, 0.0);\n                    if (length(pos) > abs(dy) * miterLimit) {\n                        type = BEVEL;\n                    } else {\n                        if (vertexNum < 4.5) {\n                            dy = -dy;\n                            pos = doBisect(norm, len, norm2, len2, dy, 1.0);\n                        } else if (vertexNum < 5.5) {\n                            pos = dy * norm;\n                        } else if (vertexNum > 6.5) {\n                            pos = dy * norm2;\n                        }\n                        vType = 1.0;\n                        dy = -sign * dot(pos, norm);\n                        dy2 = -sign * dot(pos, norm2);\n                        hit = 1.0;\n                    }\n                }\n                if (type >= BEVEL && type < BEVEL + 1.5) {\n                    if (inner > 0.5) {\n                        dy = -dy;\n                        inner = 0.0;\n                    }\n                    float d2 = abs(dy);\n                    vec2 pos3 = vec2(dy * norm.x - d2 * norm.y, dy * norm.y + d2 * norm.x);\n                    vec2 pos4 = vec2(dy * norm2.x + d2 * norm2.y, dy * norm2.y - d2 * norm2.x);\n                    if (vertexNum < 4.5) {\n                        pos = doBisect(norm, len, norm2, len2, -dy, 1.0);\n                    } else if (vertexNum < 5.5) {\n                        pos = dy * norm;\n                    } else if (vertexNum > 7.5) {\n                        pos = dy * norm2;\n                    } else {\n                        if (vertexNum < 6.5) {\n                            pos = pos3;\n                        } else {\n                            pos = pos4;\n                        }\n                    }\n                    vec2 norm3 = normalize(norm + norm2);\n                    float sign = step(0.0, dy) * 2.0 - 1.0;\n\n                    dy = -sign * dot(pos, norm);\n                    dy2 = -sign * dot(pos, norm2);\n                    dy3 = (-sign * dot(pos, norm3)) + lineWidth;\n                    vType = 4.0;\n                    hit = 1.0;\n                }\n                if (hit < 0.5) {\n                    gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n                    return;\n                }\n            }\n        }\n\n        pos += base;\n        vDistance = vec4(dy, dy2, dy3, lineWidth) * resolution;\n        vArc = vArc * resolution;\n    }\n\n    gl_Position = vec4((projectionMatrix * vec3(pos, 1.0)).xy, 0.0, 1.0);\n}","precision highp float;\nvarying vec4 vDistance;\nvarying vec4 vArc;\nvarying float vType;\nuniform vec4 uColor;\n\nvoid main(void){\n    float alpha = 1.0;\n    float lineWidth = vDistance.w;\n    if (vType < 0.5) {\n        float left = max(vDistance.x - 0.5, -vDistance.w);\n        float right = min(vDistance.x + 0.5, vDistance.w);\n        float near = vDistance.y - 0.5;\n        float far = min(vDistance.y + 0.5, 0.0);\n        float top = vDistance.z - 0.5;\n        float bottom = min(vDistance.z + 0.5, 0.0);\n        alpha = max(right - left, 0.0) * max(bottom - top, 0.0) * max(far - near, 0.0);\n    } else if (vType < 1.5) {\n        float a1 = clamp(vDistance.x + 0.5 - lineWidth, 0.0, 1.0);\n        float a2 = clamp(vDistance.x + 0.5 + lineWidth, 0.0, 1.0);\n        float b1 = clamp(vDistance.y + 0.5 - lineWidth, 0.0, 1.0);\n        float b2 = clamp(vDistance.y + 0.5 + lineWidth, 0.0, 1.0);\n        alpha = a2 * b2 - a1 * b1;\n    } else if (vType < 2.5) {\n        alpha *= max(min(vDistance.x + 0.5, 1.0), 0.0);\n        alpha *= max(min(vDistance.y + 0.5, 1.0), 0.0);\n        alpha *= max(min(vDistance.z + 0.5, 1.0), 0.0);\n    } else if (vType < 3.5) {\n        float a1 = clamp(vDistance.x + 0.5 - lineWidth, 0.0, 1.0);\n        float a2 = clamp(vDistance.x + 0.5 + lineWidth, 0.0, 1.0);\n        float b1 = clamp(vDistance.y + 0.5 - lineWidth, 0.0, 1.0);\n        float b2 = clamp(vDistance.y + 0.5 + lineWidth, 0.0, 1.0);\n        float alpha_miter = a2 * b2 - a1 * b1;\n\n        float alpha_plane = max(min(vDistance.z + 0.5, 1.0), 0.0);\n\n        float d = length(vArc.xy);\n        float circle_hor = max(min(vArc.w, d + 0.5) - max(-vArc.w, d - 0.5), 0.0);\n        float circle_vert = min(vArc.w * 2.0, 1.0);\n        float alpha_circle = circle_hor * circle_vert;\n\n        alpha = min(alpha_miter, max(alpha_circle, alpha_plane));\n    } else {\n        float a1 = clamp(vDistance.x + 0.5 - lineWidth, 0.0, 1.0);\n        float a2 = clamp(vDistance.x + 0.5 + lineWidth, 0.0, 1.0);\n        float b1 = clamp(vDistance.y + 0.5 - lineWidth, 0.0, 1.0);\n        float b2 = clamp(vDistance.y + 0.5 + lineWidth, 0.0, 1.0);\n        alpha = a2 * b2 - a1 * b1;\n        alpha *= max(min(vDistance.z + 0.5, 1.0), 0.0);\n    }\n    gl_FragColor = uColor * alpha;\n}\n")),e._prog}}]),e}(I_.PX);Y_._prog=null;var q_=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return H_(this,e),(t=W_(this,e)).joinStyle=L_.u2.MITER,t.capStyle=L_.Mp.SQUARE,t.lastLen=0,t.lastPointNum=0,t.lastPointData=0,t.updateId=0,t.points=[],t._floatView=null,t._u32View=null,t._buffer=null,t._quad=null,t._indexBuffer=null,t._vertexNums=null,t.support32=!1,t.stridePoints=2,t.strideFloats=3,t.strideBytes=12,t.legacyGeom=null,t.legacyBuffer=null,t.initGeom(n),t.reset(),t}return X_(e,t),G_(e,[{key:"initGeom",value:function(t){this._buffer=new N_.hp(new Float32Array(0),t,!1),this._vertexNums=new N_.hp(new Float32Array([0,1,2,3,4,5,6,7,8]),!0,!1),this._indexBuffer=new N_.hp(new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,4,7,8]),!0,!0),this.addAttribute("aPrev",this._buffer,2,!1,D_.QE.FLOAT,12,0,!0).addAttribute("aPoint1",this._buffer,2,!1,D_.QE.FLOAT,12,12,!0).addAttribute("aPoint2",this._buffer,2,!1,D_.QE.FLOAT,12,24,!0).addAttribute("aNext",this._buffer,2,!1,D_.QE.FLOAT,12,36,!0).addAttribute("aVertexJoint",this._buffer,1,!1,D_.QE.FLOAT,12,20,!0).addAttribute("vertexNum",this._vertexNums,1,!1,D_.QE.FLOAT).addIndex(this._indexBuffer)}},{key:"moveTo",value:function(t,e){var n=this.points;n.push(t),n.push(e)}},{key:"lineTo",value:function(t,e){var n=this.points;n.push(t),n.push(e)}},{key:"lineBy",value:function(t,e){var n=this.points,r=this.stridePoints,i=n[n.length-r],o=n[n.length-r+1];n.push(i+t),n.push(o+e)}},{key:"invalidate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.lastPointNum=Math.min(t,this.lastPointNum),this.updateId++}},{key:"reset",value:function(){this.lastLen>0&&this.clearBufferData(),this.updateId++,this.lastLen=0,this.lastPointData=0,this.points.length=0,this.instanceCount=0}},{key:"clearBufferData",value:function(){var t=this.points,e=this.strideBytes,n=this.stridePoints;this.lastPointNum=0,this.lastPointData=0;var r=Math.max(0,t.length/n+3),i=new ArrayBuffer(e*r);this.lastLen=t.length,this._floatView=new Float32Array(i),this._u32View=new Uint32Array(i),this._buffer.update(i)}},{key:"updateBuffer",value:function(){var t=this.points,e=this.stridePoints,n=this.strideFloats;if(this.lastLen>t.length&&(this.lastLen=-1),(this.lastLen<t.length||this.lastPointNum<this.lastLen)&&this.clearBufferData(),this.lastPointNum!=this.lastLen){var r=this.jointType(),i=this.capType(),o=i;i===S_.CAP_ROUND&&(o=S_.JOINT_CAP_ROUND),i===S_.CAP_BUTT&&(o=S_.JOINT_CAP_BUTT),i===S_.CAP_SQUARE&&(o=S_.JOINT_CAP_SQUARE);var a=this._floatView;this._u32View;this.lastPointNum>0&&this.lastPointNum--,this.lastPointNum>0&&this.lastPointNum--,this.lastPointData=Math.min(this.lastPointData,this.lastPointNum);for(var s=(Math.round(this.lastPointNum/e)+2)*n,c=this.lastPointNum;c<t.length;c+=e)a[s++]=t[c],a[s++]=t[c+1],isNaN(t[c])||isNaN(t[c+1])?(a[s-2]=.5*(t[c+2]+t[c-2]),a[s-1]=.5*(t[c+3]+t[c-1]),a[s]=0,s++):(a[s]=r,0==c?i!==S_.CAP_ROUND&&(a[s]+=i):(isNaN(t[c-2])||isNaN(t[c-1]))&&(a[s]+=S_.CAP_BUTT),c+2*e>=t.length||isNaN(t[c+4])||isNaN(t[c+5])?a[s]+=o-r:(c+e>=t.length||isNaN(t[c+2])||isNaN(t[c+3]))&&(a[s]=0),s++);a[s++]=t[t.length-4],a[s++]=t[t.length-3],a[s++]=0,a[0]=t[0],a[1]=t[1],a[2]=0,a[3]=t[2],a[4]=t[3],a[5]=i===S_.CAP_ROUND?i:0,this._buffer.update(),this.instanceCount=Math.round(t.length/e),this.lastPointNum=this.lastLen,this.lastPointData=this.lastLen,this.legacyGeom&&this.updateLegacy()}}},{key:"initLegacy",value:function(t){if(!this.legacyGeom){var e=[0,1,2,0,2,3];this.support32=t,this.legacyGeom=new N_.V2,this.legacyBuffer=new N_.hp(new Float32Array(0),!1,!1),this.legacyGeom.addAttribute("aPrev",this.legacyBuffer,2,!1,D_.QE.FLOAT).addAttribute("aPoint1",this.legacyBuffer,2,!1,D_.QE.FLOAT).addAttribute("aPoint2",this.legacyBuffer,2,!1,D_.QE.FLOAT).addAttribute("aNext",this.legacyBuffer,2,!1,D_.QE.FLOAT).addAttribute("aVertexJoint",this.legacyBuffer,1,!1,D_.QE.FLOAT).addAttribute("vertexNum",this.legacyBuffer,1,!1,D_.QE.FLOAT).addIndex(new N_.hp(t?new Uint32Array(e):new Uint16Array(e),!1,!0))}}},{key:"updateLegacy",value:function(){var t=this.legacyBuffer,e=this._floatView,n=(this._u32View,this.strideFloats),r=this._floatView.length/n-3,i=10*r*9;t.data.length!==i&&(t.data=new Float32Array(i),this.legacyGeom.getIndex().update(function(t,e,n){for(var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t.length,o=r?new Uint32Array(i*n):new Uint16Array(i*n),a=0;a<n;a++)for(var s=0;s<i;s++)o[a*i+s]=t[s]+e*a;return o}(this._indexBuffer.data,9,r,this.support32)));for(var o=t.data,a=0,s=0;s<i;a+=n)for(var c=0;c<9;c++)o[s++]=e[a],o[s++]=e[a+1],o[s++]=e[a+3],o[s++]=e[a+4],o[s++]=e[a+6],o[s++]=e[a+7],o[s++]=e[a+9],o[s++]=e[a+10],o[s++]=e[a+5],o[s++]=c}},{key:"capType",value:function(){var t;switch(this.capStyle){case L_.Mp.SQUARE:t=S_.CAP_SQUARE;break;case L_.Mp.ROUND:t=S_.CAP_ROUND;break;default:t=S_.CAP_BUTT}return t}},{key:"goodJointType",value:function(){var t;switch(this.joinStyle){case L_.u2.BEVEL:t=S_.JOINT_BEVEL;break;case L_.u2.ROUND:t=S_.JOINT_ROUND;break;default:t=S_.JOINT_MITER+3}return t}},{key:"jointType",value:function(){var t;switch(this.joinStyle){case L_.u2.BEVEL:t=S_.JOINT_BEVEL;break;case L_.u2.ROUND:t=S_.JOINT_ROUND;break;default:t=S_.JOINT_MITER}return t}}]),e}(N_.V2),K_=function(t){function e(t){var n;H_(this,e);var r=new q_,i=new Y_,o=__.NORMAL;return t&&(void 0!==t.lineWidth&&(i.uniforms.styleLine[0]=t.lineWidth),void 0!==t.nativeLineWidth&&(i.uniforms.styleLine[0]=t.nativeLineWidth,o=__.NONE),void 0!==t.joinStyle&&(r.joinStyle=t.joinStyle),void 0!==t.capStyle&&(r.capStyle=t.capStyle)),(n=W_(this,e,[r,i])).scaleMode=o,n}return X_(e,t),G_(e,[{key:"moveTo",value:function(t,e){this.geometry.moveTo(t,e)}},{key:"lineTo",value:function(t,e){this.geometry.lineTo(t,e)}},{key:"lineBy",value:function(t,e){this.geometry.lineBy(t,e)}},{key:"lineStyle",value:function(t,e,n,r){var i=t;if(i instanceof Object)this.gLineStyle(i);else{var o=this.geometry;void 0!==t&&(this.shader.uniforms.styleLine[0]=t,this.scaleMode=__.NORMAL),void 0!==e&&(this.shader.uniforms.styleLine[0]=e,this.scaleMode=__.NONE),void 0!==n&&(o.joinStyle=n),void 0!==r&&(o.capStyle=r),o.invalidate()}}},{key:"gLineStyle",value:function(t){var e=this.geometry;void 0!==t.width&&(this.shader.uniforms.styleLine[0]=t.width),void 0!==t.alignment&&(this.shader.uniforms.styleLine[0]=t.alignment),void 0!==t.scaleMode&&(this.shader.uniforms.scaleMode=t.scaleMode),void 0!==t.color&&(this.tint=t.color),void 0!==t.join&&(e.joinStyle=t.join),void 0!==t.cap&&(e.capStyle=t.cap)}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(t){this._scaleMode=t;var e=0;switch(t){case __.NORMAL:e=1;break;case __.HORIZONTAL:e=2;break;case __.VERTICAL:e=3}this.shader.uniforms.scaleMode=e}},{key:"clear",value:function(){this.geometry.reset()}},{key:"_renderDefault",value:function(t){var n=this.geometry;if(!(n.points.length<4)){var r=!t.geometry.hasInstance;if(r&&n.initLegacy(t.context.supports.uint32Indices),n.updateBuffer(),0!==n.instanceCount){var i=t.renderTexture.current,o=i?i.framebuffer.multisample>1:t.options.antialias,a=this.shader.uniforms.resolution=i?i.baseTexture.resolution:t.resolution;if(this.shader.uniforms.expand=(o?2:1)/a,r)return this.geometry=n.legacyGeom,B_(z_(e.prototype),"_renderDefault",this).call(this,t),void(this.geometry=n);B_(z_(e.prototype),"_renderDefault",this).call(this,t)}}}},{key:"_renderCanvas",value:function(t){var e=this.geometry,n=e.points,r=e.stridePoints,i=e.capStyle,o=e.joinStyle,a=t.context;if(!(n.length<2)){var s=this.transform.worldTransform;t.setContextTransform(s);var c=Math.sqrt(s.a*s.a+s.b*s.b);a.lineWidth=this.shader.uniforms.styleLine[0]+this.shader.uniforms.styleLine[1]/c,a.strokeStyle=(0,R_.hex2string)(this.tint),a.globalAlpha=this.worldAlpha,a.lineCap=i,a.lineJoin=o,a.beginPath(),a.moveTo(n[0],n[1]);for(var l=2;l<n.length;l+=r)a.lineTo(n[l],n[l+1]);a.stroke(),a.beginPath(),a.globalAlpha=1}}}]),e}(I_.e);function Z_(t){return Z_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z_(t)}function Q_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eT(r.key),r)}}function tT(t,e,n){return e&&J_(t.prototype,e),n&&J_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eT(t){var e=function(t,e){if("object"!=Z_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Z_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Z_(e)?e:String(e)}function nT(t,e,n){return e=iT(e),function(t,e){if(e&&("object"===Z_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rT()?Reflect.construct(e,n||[],iT(t).constructor):e.apply(t,n))}function rT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rT=function(){return!!t})()}function iT(t){return iT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iT(t)}function oT(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},aT(t,e)}var sT=function(t){function e(){Q_(this,e);var t=new Float32Array(2);return nT(this,e,[N_.gP.WHITE,{uniforms:{resolution:1,colorTop:new Float32Array([1,1,1,1]),colorBottom:new Float32Array([1,1,1,1]),rangeY:t,rangeY2:t},program:e.getProgram()}])}return oT(e,t),tT(e,null,[{key:"getProgram",value:function(){return e._prog||(e._prog=new N_.BP("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec2 rangeY;\n\nvarying float vOrdinate;\n\nvoid main(void)\n{\nvec2 pos = (translationMatrix * vec3(aVertexPosition, 1.0)).xy;\nif (pos.y > rangeY.y) {\n    pos.y = rangeY.y;\n}\ngl_Position = vec4((projectionMatrix * vec3(pos, 1.0)).xy, 0.0, 1.0);\nvOrdinate = pos.y;\n}","\nvarying float vOrdinate;\n\nuniform vec4 colorTop;\nuniform vec4 colorBottom;\nuniform vec4 uColor;\nuniform vec2 rangeY2;\n\nvoid main(void)\n{\nvec4 color = colorTop;\nif (vOrdinate > rangeY2.x) {\n    if (vOrdinate >= rangeY2.y) {\n        color = colorBottom;\n    } else {\n        color = colorTop + (colorBottom - colorTop) * (vOrdinate - rangeY2.x) / (rangeY2.y - rangeY2.x);\n    }\n}\n\ncolor.rgb *= color.a;\ngl_FragColor = color * uColor;\n}\n")),e._prog}}]),e}(I_.PX);sT._prog=null;var cT=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Q_(this,e),(t=nT(this,e)).lastLen=0,t.lastPointNum=0,t.lastPointData=0,t.points=[],t._floatView=null,t._buffer=null,t.stridePoints=2,t.strideFloats=12,t.strideBytes=48,t.initGeom(n),t.reset(),t}return oT(e,t),tT(e,[{key:"initGeom",value:function(t){this._buffer=new N_.hp(new Float32Array(0),t,!1),this.addAttribute("aVertexPosition",this._buffer,2,!1,D_.QE.FLOAT)}},{key:"moveTo",value:function(t,e){var n=this.points;n.push(t),n.push(e)}},{key:"lineTo",value:function(t,e){var n=this.points;n.push(t),n.push(e)}},{key:"invalidate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.lastPointNum=Math.min(t,this.lastPointNum)}},{key:"reset",value:function(){this.lastLen>0&&this.clearBufferData(),this.lastLen=0,this.lastPointData=0,this.points.length=0}},{key:"clearBufferData",value:function(){var t=this.points,e=this.strideFloats,n=this.stridePoints;this.lastPointNum=0,this.lastPointData=0;var r=Math.max(0,t.length/n-1);this._floatView=new Float32Array(e*r),this._buffer.update(this._floatView),this.lastLen=t.length}},{key:"updateBuffer",value:function(){var t=this.points,e=this.stridePoints,n=this.strideFloats;if(this.lastLen>t.length&&(this.lastLen=-1),(this.lastLen<t.length||this.lastPointNum<this.lastLen)&&this.clearBufferData(),this.lastPointNum!=this.lastLen){var r=this._floatView;this.lastPointData=Math.min(this.lastPointData,this.lastPointNum);for(var i=Math.round(this.lastPointNum*n/e),o=this.lastPointNum;o<t.length-e;o+=e){var a=o+e,s=t[o],c=t[o+1],l=t[a],u=t[a+1],h=1e4;r[i++]=s,r[i++]=c,r[i++]=l,r[i++]=u,r[i++]=l,r[i++]=h,r[i++]=s,r[i++]=c,r[i++]=l,r[i++]=h,r[i++]=s,r[i++]=h}this._buffer.update(),this.lastPointNum=this.lastLen,this.lastPointData=this.lastLen}}}]),e}(N_.V2),lT=function(t){function e(){var t;return Q_(this,e),(t=nT(this,e,[new cT,new sT])).masterPlot=null,t.plotUpdateId=-1,t}return oT(e,t),tT(e,[{key:"coordTop",get:function(){return this.shader.uniforms.rangeY[0]},set:function(t){this.shader.uniforms.rangeY[0]=t}},{key:"coordBottom",get:function(){return this.shader.uniforms.rangeY[1]},set:function(t){this.shader.uniforms.rangeY[1]=t}},{key:"alphaTop",get:function(){return this.shader.uniforms.colorTop[3]},set:function(t){this.shader.uniforms.colorTop[3]=t}},{key:"alphaBottom",get:function(){return this.shader.uniforms.colorBottom[3]},set:function(t){this.shader.uniforms.colorBottom[3]=t}},{key:"colorBottom",get:function(){return(0,R_.rgb2hex)(this.shader.uniforms.colorBottom)},set:function(t){(0,R_.hex2rgb)(t,this.shader.uniforms.colorBottom)}},{key:"colorTop",get:function(){return(0,R_.rgb2hex)(this.shader.uniforms.colorTop)},set:function(t){(0,R_.hex2rgb)(t,this.shader.uniforms.colorTop)}},{key:"clear",value:function(){this.masterPlot||this.geometry.reset()}},{key:"moveTo",value:function(t,e){this.lineTo(t,e)}},{key:"lineTo",value:function(t,e){this.masterPlot||this.geometry.lineTo(t,e)}},{key:"_render",value:function(t){var e=this.geometry;if(this.masterPlot){var n=this.masterPlot.geometry;this.plotUpdateId!==n.updateId&&(this.plotUpdateId=n.updateId,e.points=n.points,e.invalidate())}e.updateBuffer(),this._renderDefault(t)}},{key:"_renderCanvas",value:function(t){this.geometry}}]),e}(I_.e),uT=n(60350),hT=n.n(uT);function fT(t){return fT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fT(t)}function dT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pT(r.key),r)}}function pT(t){var e=function(t,e){if("object"!=fT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fT(e)?e:String(e)}function mT(t,e,n){return e=bT(e),function(t,e){if(e&&("object"===fT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yT()?Reflect.construct(e,n||[],bT(t).constructor):e.apply(t,n))}function yT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yT=function(){return!!t})()}function vT(){return vT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bT(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},vT.apply(this,arguments)}function bT(t){return bT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bT(t)}function gT(t,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gT(t,e)}function wT(t,e){var n=t.points,r=t.holes,i=e.points,o=e.indices;if(n.length>=6){for(var a=[],s=0;s<r.length;s++){var c=r[s];a.push(n.length/2),n=n.concat(c.points)}var l=hT().tesselate({contours:[n],windingRule:hT().WINDING_ODD,elementType:hT().POLYGONS,polySize:3,vertexSize:2});if(!l.elements.length)return;for(var u=i.length/2,h=0;h<l.elements.length;h++)o.push(l.elements[h]+u);for(var f=l.vertices,d=0;d<f.length;d++)i.push(f[d])}}var xT=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mT(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}(e,t),n=e,(r=[{key:"render",value:function(t){cx.loU.buildPoly.triangulate=wT,vT(bT(e.prototype),"render",this).call(this,t)}}])&&dT(n.prototype,r),i&&dT(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(cx.A1g);function jT(t){return jT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jT(t)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ST(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?OT(Object(n),!0).forEach((function(e){_T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _T(t,e,n){return(e=AT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AT(r.key),r)}}function AT(t){var e=function(t,e){if("object"!=jT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jT(e)?e:String(e)}var ET=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxTexts=512,this.manualClearGraphics=[],this.autoClearGraphics=[],this.containers=[],this.textIndex={},this.dynamicGraphicsIndex={},this.dynamicContainers={},this.spritesIndex={},this.isIE=n,this.plots={},this.gradients={},this.isPerformanceMode=Boolean((0,fe.A)("optimized_chart"));var i={view:e,backgroundAlpha:0,antialias:!0,autoResize:!0,resolution:Ew(),forceCanvas:!this.isWebGL2Supported()||(0,fe.A)("is-safari-154")};this.renderer=cx.q5F(i),this.stage=new cx.mcf,this.stage.filterArea=this.renderer.screen;var o=cx.RvI.shared;o.autoStart=!1,o.stop(),this.isPerformanceLines=this.isPerformanceMode&&this.isWebGLRenderer(),cx.W0u.MIPMAP_TEXTURES=cx.E8U.OFF,this.manualClearGraphics[w.my.GRID_VALUE]=new cx.A1g,this.manualClearGraphics[w.my.GRID_TIMELINE]=new cx.A1g,this.manualClearGraphics[w.my.EXPIRATION_LINE]=new cx.A1g,this.manualClearGraphics[w.my.EXPIRATION_BG]=new cx.A1g,this.autoClearGraphics[w.my.RATES]=new cx.A1g,this.autoClearGraphics[w.my.SHADE_BG_UP]=new cx.A1g,this.autoClearGraphics[w.my.SHADE_BG_DOWN]=new cx.A1g,this.autoClearGraphics[w.my.CURRENT_PRICE_LINE]=this.createGraphics(),this.autoClearGraphics[w.my.POINT_GLOW]=new cx.A1g,this.autoClearGraphics[w.my.POINT_DOT]=new cx.A1g,this.containers[w.Rp.INDICATORS_BOTTOM]=new cx.mcf,this.containers[w.Rp.GRID]=new cx.mcf,this.containers[w.Rp.GATES]=new cx.mcf,this.containers[w.Rp.CANDLES]=new cx.mcf,this.containers[w.Rp.CURSOR]=new cx.mcf;var a=new cx.mcf;a.sortableChildren=!0,this.containers[w.Rp.MINMAX]=a,this.containers[w.Rp.CHART]=new cx.mcf,this.containers[w.Rp.INDICATORS_BG]=new cx.mcf,this.containers[w.Rp.INDICATORS]=new cx.mcf,this.containers[w.Rp.SHADE]=new cx.mcf,this.containers[w.Rp.SOCIAL_DEALS_BG_LAYER]=new cx.mcf,this.containers[w.Rp.SOCIAL_DEALS_CONTAINER_LOW]=new cx.mcf,this.containers[w.Rp.SOCIAL_DEALS]=new cx.mcf,this.containers[w.Rp.SOCIAL_DEALS_CONTAINER_UP]=new cx.mcf,this.containers[w.Rp.DEALS]=new cx.mcf,this.containers[w.Rp.DEALS_TEXT]=new cx.mcf,this.containers[w.Rp.BUILDINGS]=new cx.mcf,this.containers[w.Rp.BUILDING_POINTS]=new cx.mcf,this.containers[w.Rp.RATES]=new cx.mcf,this.containers[w.Rp.POINT]=new cx.mcf,this.containers[w.Rp.OVERLAY]=new cx.mcf,this.containers[w.Rp.CURSOR]=new cx.mcf,this.containers[w.Rp.PRICE_ALERTS]=new cx.mcf,this.containers[w.Rp.PENDINGS]=new cx.mcf;var s=new cx.mcf;s.sortableChildren=!0,this.containers[w.Rp.CLOSED_ORDER]=s,this.containers[w.Rp.CLOSED_ORDER_NOTE]=new cx.mcf,this.containers[w.Rp.CLOSED_ORDER_NOTE_TEXT]=new cx.mcf,this.containers[w.Rp.CURRENT_PROFIT]=new cx.mcf,this.containers[w.Rp.GRID].addChild(this.manualClearGraphics[w.my.GRID_VALUE]),this.containers[w.Rp.GRID].addChild(this.manualClearGraphics[w.my.GRID_TIMELINE]),this.containers[w.Rp.GATES].addChild(this.manualClearGraphics[w.my.EXPIRATION_LINE]),this.containers[w.Rp.GATES].addChild(this.manualClearGraphics[w.my.EXPIRATION_BG]),this.containers[w.Rp.SHADE].addChild(this.autoClearGraphics[w.my.SHADE_BG_UP]),this.containers[w.Rp.SHADE].addChild(this.autoClearGraphics[w.my.SHADE_BG_DOWN]),this.containers[w.Rp.RATES].addChild(this.autoClearGraphics[w.my.RATES]),this.containers[w.Rp.POINT].addChild(this.autoClearGraphics[w.my.CURRENT_PRICE_LINE]),this.containers[w.Rp.POINT].addChild(this.autoClearGraphics[w.my.POINT_GLOW]),this.containers[w.Rp.POINT].addChild(this.autoClearGraphics[w.my.POINT_DOT]),this.containers.forEach((function(t){r.stage.addChild(t)}))}var e,n,r;return e=t,n=[{key:"createGraphics",value:function(){return this.isPerformanceLines?new bx.q1:new cx.A1g}},{key:"isWebGL2Supported",value:function(){return!!document.createElement("canvas").getContext("webgl2")}},{key:"isWebGLRenderer",value:function(){return this.renderer&&this.renderer.type===cx.h3I.WEBGL}},{key:"clear",value:function(){this.clearGraphics()}},{key:"destroyForce",value:function(){var t=this;this.clearForce(),this.destroyDynamicContainers(),this.containers.forEach((function(e){t.stage.removeChild(e)})),this.destroyPlots(),this.destroyGradients()}},{key:"clearForce",value:function(){this.renderer.clear(),this.clearGraphics(),this.clearGraphicsNew(),this.clearDynamicGraphics(),this.destroyTexts(),this.clearSprites(),this.clearPlots(),this.clearGradients()}},{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"getText",value:function(t,e,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return this.textIndex[e]?((a=this.textIndex[e]).text=n,i&&(a.style.fill=i),o&&(a.style.align=o),this.textIndex[e].visible=!0):(this.shouldClearTexts()&&this.destroyTexts(),(a=new cx.EYj(n)).style=r,a.text=n,i&&(a.style.fill=i),o&&(a.style.align=o),null===s?this.containers[t].addChild(a):(a.hasParentContainer=!0,s.addChild(a)),this.textIndex[e]=a),a}},{key:"shouldClearTexts",value:function(){return Object.keys(this.textIndex).length>this.maxTexts}},{key:"destroyTexts",value:function(){for(var t in Re.A.publish("CORE/TEXT_DESTROYED"),this.textIndex)this.destroyText(t);this.textIndex={}}},{key:"clearText",value:function(t){this.textIndex[t]&&(this.textIndex[t].visible=!1)}},{key:"destroyText",value:function(t){var e=this;if(this.textIndex[t]){var n=this.textIndex[t].hasParentContainer,r=this.textIndex[t].parent;!0===n&&r?r.removeChild(this.textIndex[t]):this.containers.forEach((function(n){return n.removeChild(e.textIndex[t])})),this.textIndex[t].destroy(),this.textIndex[t]=null,delete this.textIndex[t]}}},{key:"getDynamicContainer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.dynamicContainers[e])return this.dynamicContainers[e].container;var r=new cx.mcf;return Object.keys(n).forEach((function(t){r[t]=n[t]})),this.containers[t].addChild(r),this.dynamicContainers[e]={index:t,container:r},r}},{key:"getDynamicPlot",value:function(t){if(!this.plots[t]){var e=new K_({lineWidth:2});this.containers[w.Rp.CHART].addChild(e),this.plots[t]=e}return this.plots[t]}},{key:"destroyDynamicPlot",value:function(t){this.plots[t]&&(this.plots[t].destroy(),this.containers[w.Rp.CHART].removeChild(this.plots[t]),this.plots[t]=null,delete this.plots[t])}},{key:"getDynamicGradient",value:function(t){if(!this.gradients[t]){var e=new lT;this.containers[w.Rp.CHART].addChild(e),this.gradients[t]=e}return this.gradients[t]}},{key:"destroyDynamicGradient",value:function(t){this.gradients[t]&&(this.gradients[t].destroy(),this.containers[w.Rp.CHART].removeChild(this.gradients[t]),this.gradients[t]=null,delete this.gradients[t])}},{key:"getSmoothGraphics",value:function(t,e){return this.getDynamicGraphics(t,e,{smooth:!0}).graphics}},{key:"getDynamicGraphics",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=ST(ST({},{touch:!1,parent:null,smooth:!1,isTess:!1}),n);var r,i={graphics:null,isNew:!1,cleared:!1};return this.dynamicGraphicsIndex[e]?(i.graphics=this.dynamicGraphicsIndex[e].graphics,i.graphics.visible=!0,this.dynamicGraphicsIndex[e].cleared&&(i.isNew=!0,this.dynamicGraphicsIndex[e].cleared=!1)):(r=n.smooth&&this.isPerformanceLines?new bx.q1:n.isTess?new xT:new cx.A1g,i.graphics=r,n.touch&&(i.graphics.buttonMode=!0,i.graphics.interactive=!0),i.isNew=!0,null===n.parent?this.containers[t].addChild(i.graphics):n.parent.addChild(i.graphics),this.dynamicGraphicsIndex[e]=i),i}},{key:"hideSprite",value:function(t,e){this.spritesIndex[e]&&(this.spritesIndex[e].sprite.visible=!1)}},{key:"getSprite",value:function(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(this.spritesIndex[e])(r=this.spritesIndex[e]).sprite.visible=!0;else{var s=cx.kxk.from(n,a);i&&(s.visible=!0,s.buttonMode=!0,s.interactive=!0),r={sprite:s,src:n},this.spritesIndex[e]=r,null===o?this.containers[t].addChild(s):o.addChild(s)}return r}},{key:"getTilingSprite",value:function(t,e,n,r,i){var o;return this.spritesIndex[e]?(o=this.spritesIndex[e]).sprite.visible=!0:(o={sprite:new cx.t9Q(n,r,i),src:n},this.spritesIndex[e]=o,this.containers[t].addChild(o.sprite)),o}},{key:"getGraphics",value:function(t){return this.autoClearGraphics[t]}},{key:"getGraphicsNew",value:function(t){return this.manualClearGraphics[t]}},{key:"clearGraphicsNew",value:function(t){t>=0?this.manualClearGraphics[t].clear():this.manualClearGraphics.forEach((function(t){t.clear()}))}},{key:"clearGraphics",value:function(t){t>=0?this.autoClearGraphics[t].clear():this.autoClearGraphics.forEach((function(t){t.clear()}))}},{key:"clearDynamicGraphicsNew",value:function(t){this.dynamicGraphicsIndex[t]&&(this.dynamicGraphicsIndex[t].cleared=!0,this.dynamicGraphicsIndex[t].graphics.clear())}},{key:"destroyDynamicContainers",value:function(){var t=this;Object.keys(this.dynamicContainers).forEach((function(e){var n=t.dynamicContainers[e],r=n.index,i=n.container;t.containers[r].removeChild(i),i.destroy()})),this.dynamicContainers={}}},{key:"destroyDynamicContainer",value:function(t,e){if(this.dynamicContainers[e]){var n=this.dynamicContainers[e],r=n.index,i=n.container;this.containers[r].removeChild(i),i.destroy(),this.dynamicContainers[e]=null,delete this.dynamicContainers[e]}}},{key:"destroyDynamicGraphicsNew",value:function(t,e){this.dynamicGraphicsIndex[e]&&(this.dynamicGraphicsIndex[e].graphics.clear(),this.containers[t].removeChild(this.dynamicGraphicsIndex[e]),this.dynamicGraphicsIndex[e].graphics.destroy(),this.dynamicGraphicsIndex[e]=null,delete this.dynamicGraphicsIndex[e])}},{key:"clearDynamicGraphics",value:function(){var t=this;Object.keys(this.dynamicGraphicsIndex).forEach((function(e){return t.clearDynamicGraphicsNew(e)}))}},{key:"clearSprite",value:function(t){this.spritesIndex[t]&&(this.spritesIndex[t].sprite.visible=!1)}},{key:"clearSprites",value:function(){var t=this;Object.keys(this.spritesIndex).forEach((function(e){t.containers.forEach((function(n){n.removeChild(t.spritesIndex[e].sprite)})),t.spritesIndex[e]&&(t.spritesIndex[e].sprite.destroy(),t.spritesIndex[e].sprite=null)})),this.spritesIndex=null,this.spritesIndex={}}},{key:"destroySprite",value:function(t,e){this.spritesIndex[e]&&(this.spritesIndex[e].sprite&&this.spritesIndex[e].sprite.removeAllListeners(),this.containers[t].removeChild(this.spritesIndex[e].sprite),this.spritesIndex[e].sprite.destroy(),this.spritesIndex[e].sprite=null,delete this.spritesIndex[e])}},{key:"clearPlots",value:function(){var t=this;Object.keys(this.plots).forEach((function(e){return t.plots[e].clear()}))}},{key:"destroyPlots",value:function(){var t=this;Object.keys(this.plots).forEach((function(e){t.plots[e].destroy(),t.plots[e]=null})),this.plots={}}},{key:"clearGradients",value:function(){var t=this;Object.keys(this.gradients).forEach((function(e){t.gradients[e].clear()}))}},{key:"destroyGradients",value:function(){var t=this;Object.keys(this.gradients).forEach((function(e){t.gradients[e].destroy(),t.gradients[e]=null})),this.gradients={}}},{key:"resize",value:function(t,e){this.renderer.resize(t,e)}}],n&&TT(e.prototype,n),r&&TT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),PT=ET,CT={path:"/themes/cabinet/images/price-alert/bell-icon.svg",size:12},kT={path:"/themes/cabinet/images/price-alert/cross-icon.svg",size:12},NT=2,IT=2,RT={LINE:{DARK:cx.WpD.string2hex("#566577"),LIGHT:cx.WpD.string2hex("#8EA5C1")}};function LT(t){return LT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LT(t)}function DT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MT(r.key),r)}}function MT(t){var e=function(t,e){if("object"!=LT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=LT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==LT(e)?e:String(e)}function BT(t,e,n){return e=FT(e),function(t,e){if(e&&("object"===LT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,HT()?Reflect.construct(e,n||[],FT(t).constructor):e.apply(t,n))}function HT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(HT=function(){return!!t})()}function FT(t){return FT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},FT(t)}function GT(t,e){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},GT(t,e)}var VT="value-marker",WT="double-up-timer",UT=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=BT(this,e,[t,n])).destroyed=!0,r.dashedLineShader=new bx.sM({dash:5,gap:5}),r.expiresInLabel=(0,yt.tr)("deals.expires_in"),r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GT(t,e)}(e,t),n=e,(r=[{key:"drawDoubleUpTimer",value:function(t){var e,n=this.pointsManager.currentTime,r=t.data.closeTimestamp-n,i=this.core.getText(w.Rp.POINT,WT,"".concat(this.expiresInLabel,": ").concat((0,Qr.TO)(r)),de.Ay.CHART.TEXT_STYLE_CURSOR_TIME);if(i.style.fill=this.colors.betElementTextColorTooltipOff.getHEXNUM(),this.candlesTimer&&!this.isLineChart()){var o=this.pointsManager.plot.candlesTimer.getTimeText();e=o.x+o.width+10}else e=this.getXFromTime(n)+10;var a=this.pointsManager.currentValue,s=this.getYFromValue(a)-i.height-2;i.setTransform(e,s)}},{key:"draw",value:function(){var t=this;if(this.pointsManager.points.length){this.isThemeChanged()&&this.clearDoubleUpTimer();var e=this.pointsManager.currentValue,n=this.getYFromValue(e);if(isFinite(n)&&!isNaN(n)&&n>0&&n<this.height-de.Ay.CHART.TIMELINE_HEIGHT){var r,i,o,a=this.formatStringPrice(e),s=uO(a,de.Ay.CHART.TEXT_STYLE_CURSOR_TIME),c=s.width+2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,l=s.height+2*de.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,u=this.width-c-NT;this.hoveredDoubleUp?(o=this.pointsManager.plot.options.find((function(e){return e.id===t.hoveredDoubleUp})))&&(r=this.isLineChart()?this.getXFromTime(this.currentTime):this.getXFromTime(this.serverTime-this.serverTime%this.pointsInElement),i=this.getXFromTime(o.data.closeTimestamp),this.drawDoubleUpTimer(o)):this.clearDoubleUpTimer();var h=this.core.getGraphics(w.my.CURRENT_PRICE_LINE);if(!r||r>this.width)h.lineStyle(1,this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha()),h.moveTo(0,n),h.lineTo(u,n);else{h.lineStyle(1,this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha()),h.moveTo(0,n),h.lineTo(r,n);var f=o.isCall?this.colors.callLineColor.getHEXNUM():this.colors.putLineColor.getHEXNUM();h.lineStyle({width:1,color:f,alpha:.8,shader:this.dashedLineShader}),h.moveTo(r,n),h.lineTo(i,n),h.lineStyle(1,this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha()),i<u&&(h.moveTo(i,n),h.lineTo(u,n))}var d=this.core.getGraphics(w.my.CURRENT_PRICE_LINE);d.beginFill(this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha(),!0),d.drawRoundedRect(u,n-l/2,c,l,4),d.endFill(),this.pointsManager.plot.globalSettings.hideBoFeatures&&this.isLineChart()&&(d.lineStyle({width:1,color:this.colors.valueLineColor.getHEXNUM(),shader:this.dashedLineShader}),d.moveTo(this.getXFromTime(this.currentTime),0),d.lineTo(this.getXFromTime(this.currentTime),this.height));var p=this.core.getText(w.Rp.POINT,VT,a,de.Ay.CHART.TEXT_STYLE_CURSOR_TIME);p.x=u+de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,p.y=n-s.height/2,this.destroyed=!1}else this.core.clearText(VT)}else this.destroyed||this.destroy()}},{key:"clearDoubleUpTimer",value:function(){this.core.clearText(WT)}},{key:"destroy",value:function(){this.destroyed=!0,this.core.destroyText(VT),this.core.destroyText(WT)}}])&&DT(n.prototype,r),i&&DT(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),zT=UT,XT={HOUR_GLASS:{path:"/themes/cabinet/images/pending-order/icon.svg",size:12},CROSS:{path:"/themes/cabinet/images/price-alert/cross-icon.svg",size:12},CALL:{path:"/themes/cabinet/images/pending-order/call.svg",size:12,color:cx.WpD.string2hex("#237227")},PUT:{path:"/themes/cabinet/images/pending-order/put.svg",size:12,color:cx.WpD.string2hex("#AE2217")}},$T=2,YT=2,qT={LINE:{DARK:cx.WpD.string2hex("#566577"),LIGHT:cx.WpD.string2hex("#8EA5C1")}};function KT(t){return KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KT(t)}function ZT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QT(r.key),r)}}function QT(t){var e=function(t,e){if("object"!=KT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=KT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==KT(e)?e:String(e)}function JT(t,e,n){return e=eA(e),function(t,e){if(e&&("object"===KT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tA()?Reflect.construct(e,n||[],eA(t).constructor):e.apply(t,n))}function tA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tA=function(){return!!t})()}function eA(t){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eA(t)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nA(t,e)}var rA=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=JT(this,e,[t,n])).position=w.vh.Overlay,i.enableGridSnapping=r,i.destroyed=!0,i.lineShader=new bx.sM({dash:5,gap:5}),i.containerIndex=w.Rp.CURSOR,i.textStyles=de.Ay.CHART.TEXT_STYLE_CURSOR_TIME,i.initStyles(),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}(e,t),n=e,r=[{key:"valueTextKey",get:function(){return"".concat(this.id,"-value-text")}},{key:"timeTextKey",get:function(){return"".concat(this.id,"-cursor-text")}},{key:"timeRectKey",get:function(){return"".concat(this.id,"-time-rect")}},{key:"valueRectKey",get:function(){return"".concat(this.id,"-value-rect")}},{key:"valueBtnKey",get:function(){return"".concat(this.id,"-price-btn")}},{key:"linesKey",get:function(){return"".concat(this.id,"-lines")}},{key:"bellKey",get:function(){return"".concat(this.id,"-bell-icon")}},{key:"pendingOrderBtnKey",get:function(){return"".concat(this.id,"-pending-order-btn")}},{key:"pendingOrderIconKey",get:function(){return"".concat(this.id,"-pending-order-icon")}},{key:"initStyles",value:function(){this.lineColor=this.isDarkTheme()?RT.LINE.DARK:RT.LINE.LIGHT}},{key:"isShowPriceAlertButton",value:function(){return!(this.pointerInElement||this.isMobile||this.pointsManager.plot.globalSettings.isMt5||this.pointsManager.plot.globalSettings.isTryDemo)}},{key:"formatTimeLabel",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=gi(Date.now()/1e3)!==gi(e);return t>=3600||i?(n=vi(e),"".concat(n.day,".").concat(n.month,".").concat(n.year," ").concat(n.hour,":").concat(n.min)):r?function(t){var e=vi(t);return"".concat(e.hour,":").concat(e.min,":").concat(e.sec,".").concat(e.ms)}(e):bi(e,!1)}},{key:"getBellIcon",value:function(){return this.core.getSprite(this.containerIndex,this.bellKey,CT.path,!0).sprite}},{key:"getHourGlassIcon",value:function(){return this.core.getSprite(this.containerIndex,this.pendingOrderIconKey,XT.HOUR_GLASS.path,!0).sprite}},{key:"subscribePriceAlertElement",value:function(t){var e=this,n=this.formatStringPrice(this.getValueFromY(this.pointerY));t.interactive=!0,t.buttonMode=!0,t.removeAllListeners(),t.on("pointerdown",(function(){var t=(0,qn.xr)(parseFloat(n),e.currentDigit);Re.A.publish(Ha.wZ,{price:t,assetId:e.assetId})}))}},{key:"subscribePendingOrderElement",value:function(t){var e=this,n=this.formatStringPrice(this.getValueFromY(this.pointerY));t.interactive=!0,t.buttonMode=!0,t.removeAllListeners(),t.on("pointerdown",(function(){var t=(0,qn.xr)(parseFloat(n),e.currentDigit);Re.A.publish(Ha.sF,{price:t,symbol:e.pointsManager.plot.chartSettings.symbol})}))}},{key:"getCursorTime",value:function(){var t=this.getTimeFromX(this.pointerX+this.shift);if(this.enableGridSnapping&&!this.isLineChart()){var e=(0,g.o0)(this.selectedPlotType,this.chartPeriod),n=t%e,r=t-n;return n>e/2?r+e:r}return t}},{key:"getValueLabel",value:function(){var t;return this.pointerInElement?(t="".concat(this.pointerInElementValueY),this.pointerInElementValueY.length&&(t+=this.pointerInElementValueSymbol)):t=this.formatStringPrice(this.getValueFromY(this.pointerY)),t}},{key:"isShowValue",value:function(){return this.pointerY<this.worldHeight-de.Ay.CHART.TIMELINE_HEIGHT}},{key:"drawPriceAlertElement",value:function(){var t=uO(this.formatStringPrice(this.getValueFromY(this.pointerY)),this.textStyles),e=t.height+2*de.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,n=t.width+2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,r=this.width-n-NT-e-IT,i=this.core.getDynamicGraphics(this.containerIndex,this.valueBtnKey).graphics;i.beginFill(this.lineColor,1),i.drawRoundedRect(r,this.pointerY-e/2,e,e,4),i.endFill(),this.subscribePriceAlertElement(i);var o=this.getBellIcon(),a=(e-CT.size)/2;o.setTransform(r+a,this.pointerY-CT.size/2,.5,.5),this.subscribePriceAlertElement(o)}},{key:"drawPendingOrderElement",value:function(){var t=uO(this.formatStringPrice(this.getValueFromY(this.pointerY)),this.textStyles),e=t.height+2*de.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,n=t.width+2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,r=this.width-n-NT-2*(e+IT),i=this.core.getDynamicGraphics(this.containerIndex,this.pendingOrderBtnKey).graphics;i.beginFill(this.lineColor,1),i.drawRoundedRect(r,this.pointerY-e/2,e,e,4),i.endFill(),this.subscribePendingOrderElement(i);var o=this.getHourGlassIcon(),a=(e-XT.HOUR_GLASS.size)/2;o.setTransform(r+a,this.pointerY-XT.HOUR_GLASS.size/2,.5,.5),this.subscribePendingOrderElement(o)}},{key:"drawTimeElement",value:function(){var t=this.getCursorTime(),e=this.formatTimeLabel(this.pointsInElement,t,this.shouldShowMs()),n=uO(e,this.textStyles).width+2*de.Ay.CHART.CROSSCHAIR_BOTTOM_BG_SIDE_PADDING,r=this.getXFromTime(t),i=this.core.getDynamicGraphics(this.containerIndex,this.timeRectKey).graphics;i.beginFill(this.lineColor,1),i.drawRoundedRect(r-n/2,this.worldHeight-de.Ay.CHART.TIMELINE_HEIGHT,n,this.worldHeight,4),i.endFill();var o=this.core.getText(this.containerIndex,this.timeTextKey,e,this.textStyles);o.y=this.worldHeight-de.Ay.CHART.TIMELINE_HEIGHT/2-o.height/2,o.x=r-n/2+de.Ay.CHART.CROSSCHAIR_BOTTOM_BG_SIDE_PADDING}},{key:"drawValueElement",value:function(){var t=this.getValueLabel(),e=uO(t,this.textStyles),n=e.width+2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,r=e.height+2*de.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,i=this.width-e.width-2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN-NT,o=this.core.getDynamicGraphics(this.containerIndex,this.valueRectKey).graphics;o.beginFill(this.lineColor,1),o.drawRoundedRect(i,this.pointerY-r/2,n,r,4),o.endFill();var a=this.core.getText(this.containerIndex,this.valueTextKey,t,this.textStyles);a.x=i+de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,a.y=this.pointerY-a.height/2,this.isShowPriceAlertButton()&&(this.drawPriceAlertElement(),this.drawPendingOrderElement())}},{key:"getValueElementFullWidth",value:function(){var t=uO(this.getValueLabel(),this.textStyles),e=this.isShowPriceAlertButton()?t.height+2*de.Ay.CHART.VALUE_BG_VERTICAL_MARGIN:0;return t.width+2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN+2+e}},{key:"drawLines",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.linesKey,{smooth:!0}).graphics,e=this.getXFromTime(this.getCursorTime());t.lineStyle({width:1,color:this.lineColor,alpha:.8,shader:this.lineShader}),t.moveTo(e,0),t.lineTo(e,this.worldHeight-de.Ay.CHART.TIMELINE_HEIGHT),this.isShowValue()&&(t.moveTo(0,this.pointerY),t.lineTo(this.width-this.getValueElementFullWidth()-NT,this.pointerY))}},{key:"draw",value:function(){(this.isThemeChanged()||this.isChangedMinMax())&&(this.clearAll(),this.initStyles()),this.pointerX<=0||this.pointerY<=0||!this.showCursorPointer?this.destroyed||this.destroy():(this.isPointerChanged()||this.isChangedMinMax())&&(this.clearAll(),this.drawTimeElement(),this.getValueLabel().length?(this.isShowValue()&&this.drawValueElement(),this.drawLines(),this.destroyed=!1):this.destroy())}},{key:"shouldShowMs",value:function(){return this.secondWidth>de.Ay.CHART.MIN_SECOND_WIDTH_TO_SHOW_MS&&(0,g.Mt)(this.selectedPlotType)}},{key:"clearValueElements",value:function(){}},{key:"clearAll",value:function(){this.core.clearText(this.valueTextKey),this.core.clearText(this.timeTextKey),this.core.clearDynamicGraphicsNew(this.valueRectKey),this.core.clearDynamicGraphicsNew(this.valueBtnKey),this.core.clearDynamicGraphicsNew(this.timeRectKey),this.core.clearDynamicGraphicsNew(this.linesKey),this.core.clearDynamicGraphicsNew(this.pendingOrderBtnKey),this.core.clearSprite(this.containerIndex,this.bellKey),this.core.clearSprite(this.containerIndex,this.pendingOrderIconKey),this.clearValueElements()}},{key:"destroy",value:function(){this.destroyed=!0,this.clearAll(),this.core.destroyText(this.valueTextKey),this.core.destroyText(this.timeTextKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.timeRectKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.valueRectKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.valueBtnKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.linesKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.pendingOrderBtnKey),this.core.destroySprite(this.containerIndex,this.bellKey),this.core.destroySprite(this.containerIndex,this.pendingOrderIconKey)}}],r&&ZT(n.prototype,r),i&&ZT(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),iA=rA;function oA(t){return oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oA(t)}function aA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sA(r.key),r)}}function sA(t){var e=function(t,e){if("object"!=oA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oA(e)?e:String(e)}function cA(t,e,n){return e=hA(e),function(t,e){if(e&&("object"===oA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lA()?Reflect.construct(e,n||[],hA(t).constructor):e.apply(t,n))}function lA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lA=function(){return!!t})()}function uA(){return uA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hA(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},uA.apply(this,arguments)}function hA(t){return hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hA(t)}function fA(t,e){return fA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fA(t,e)}var dA=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=cA(this,e,[t,n])).position=w.vh.Overlay,r.textKeysValueGrid=[],r.textKeysTimeLine=[],r.renderedHoverCall=!1,r.renderedHoverPut=!1,r.initColors(),r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fA(t,e)}(e,t),n=e,r=[{key:"initColors",value:function(){var t=this.core.isWebGLRenderer();this.gatesBgAlpha=t?this.theme===ix.LIGHT?.1:.01:.1,t&&(this.upBgGradientFilter=new vx(this.colors.upBgFrom,this.colors.upBgTo,!1,!1,.1),this.downBgGradientFilter=new vx(this.colors.downBgFrom,this.colors.downBgTo,!1,!1,.1))}},{key:"drawHoverBtn",value:function(){if(!this.renderedHoverCall||0!==this.pointsManager.points.length&&this.hoverCallBtn||(this.renderedHoverCall=!1,this.core.hideSprite(w.Rp.SHADE,"directionUpIcon")),!this.renderedHoverPut||0!==this.pointsManager.points.length&&this.hoverPutBtn||(this.renderedHoverPut=!1,this.core.hideSprite(w.Rp.SHADE,"directionDownIcon")),0!==this.pointsManager.points.length){var t=this.serverTime,e=this.getXFromTime(parseInt(t-parseInt(t)%this.pointsInElement,10))+30,n=this.getYFromValue(this.pointsManager.currentValue);if(this.hoverCallBtn){var r=this.core.getGraphics(w.my.SHADE_BG_UP);r.beginFill(this.colors.upBgTo.getHEXNUM(),this.gatesBgAlpha),r.drawRect(0,0,this.width,n),r.endFill(),this.core.isWebGLRenderer()&&(r.filters=[this.upBgGradientFilter.filter]);var i=this.core.getSprite(w.Rp.SHADE,"directionUpIcon",this.getSpritePath(de.Ay.CHART.DIRECTION_UP_ICON_SRC)).sprite,o=n-i.height-5;this.candlesTimer&&(o-=15),i.setTransform(e,o),this.renderedHoverCall=!0}else this.core.getGraphics(w.my.SHADE_BG_UP).filters=[];if(this.hoverPutBtn){var a=this.core.getGraphics(w.my.SHADE_BG_DOWN);a.beginFill(this.colors.downBgFrom.getHEXNUM(),this.gatesBgAlpha),a.drawRect(0,n,this.width,this.height-n),a.endFill(),this.core.isWebGLRenderer()&&(a.filters=[this.downBgGradientFilter.filter]);var s=this.core.getSprite(w.Rp.SHADE,"directionDownIcon",this.getSpritePath(de.Ay.CHART.DIRECTION_DOWN_ICON_SRC)).sprite,c=n+5;this.candlesTimer&&(c+=15),s.setTransform(e,c),this.renderedHoverPut=!0}else this.core.getGraphics(w.my.SHADE_BG_DOWN).filters=[]}}},{key:"getNiceAxis",value:function(t,e){var n,r,i=0,o=[0,1.2,2.5,5,10],a=[.2,.5,1,2];n=0===t?0:t>0?Math.max(0,t-(e-t)/100):t-(e-t)/100,r=0===e?0===t?1:0:e<0?Math.min(0,e+(e-t)/100):e+(e-t)/100;for(var s=Math.log(r-n)/Math.log(10),c=Math.pow(10,s-Math.floor(s)),l=0;c>o[l];l++)i=a[l]*Math.pow(10,Math.floor(s));var u=i*Math.floor(n/i),h=i*Math.floor(r/i+1);return[u,h,i,Math.floor((h-u)/i)]}},{key:"formatTimelineTime",value:function(t,e){if(this.pointsInElement>=3600){var n=gi(t);return e===n?bi(t,!1):n}return bi(t,!1)}},{key:"setGridLineStyles",value:function(t){t.lineStyle({width:.5,color:this.colors.gridLineColor.getHEXNUM(),alpha:this.colors.gridLineColor.getAlpha()})}},{key:"drawTimeline",value:function(){if(this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.forceCleared){var t=de.Ay.CHART.TIMELINE_STEP,e=this.secondWidth;if(!(e<=0)){for(this.core.clearGraphicsNew(w.my.GRID_TIMELINE),this.destroyTimeLineKeys();t*e<de.Ay.CHART.MIN_TIMELINE_WIDTH;)t+=t;var n,r=Math.floor(this.getTimeFromX(this.shift)/t)*t,i=(Math.ceil(this.getTimeFromX(this.shift+this.width)/t)+1)*t,o=this.core.getGraphicsNew(w.my.GRID_TIMELINE);this.setGridLineStyles(o);for(var a=this.worldHeight-de.Ay.CHART.TIMELINE_MARGIN_BOTTOM,s="",c=!1,l=r;l<=i;l+=t){n=Math.floor(this.getXFromTime(l))+.5,o.moveTo(n,0),o.lineTo(n,a-de.Ay.CHART.TIMELINE_HEIGHT);var u="timeline-".concat(l),h=this.formatTimelineTime(l,s),f=h.includes(".");!c&&f&&(c=!0);var d=this.core.getText(w.Rp.GRID,u,h,de.Ay.CHART.TEXT_STYLE_GRID);d.style.fill=f?this.colors.gridTextColorLight.getHEXNUM():this.colors.gridTextColor.getHEXNUM(),d.style.fontWeight=f?"bold":"normal",d.x=n-d.width/2,d.y=a-de.Ay.CHART.TIMELINE_HEIGHT/2-d.height/2,f&&(s=h),this.textKeysTimeLine.push(u)}o=null}}}},{key:"drawValueGrid",value:function(){if(!(this.minVal<=0)&&(this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.forceCleared)){this.core.clearGraphicsNew(w.my.GRID_VALUE),this.destroyValueGridKeys();var t=this.core.getGraphicsNew(w.my.GRID_VALUE);this.setGridLineStyles(t);var e=this.maxVal,n=this.minVal;if(e>n)for(var r=this.getNiceAxis(n,e),i=0;i<=r[3];i++){var o=r[0]+r[2]*i,a=Math.floor(this.getYFromValue(o))+.5;if(a<this.height-de.Ay.CHART.TIMELINE_HEIGHT&&a>0){var s=this.formatStringPrice(o);t.moveTo(0,a),t.lineTo(this.width,a);var c="value-grid-".concat(s),l=this.core.getText(w.Rp.GRID,c,s,de.Ay.CHART.TEXT_STYLE_GRID,null,"right");l.style.fill=this.colors.gridTextColor.getHEXNUM(),l.x=this.width-l.width-de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,l.y=a-l.height-5,l=null,this.textKeysValueGrid.push(c)}}}}},{key:"draw",value:function(){this.isThemeChanged()&&this.initColors(),this.drawValueGrid(),this.drawTimeline(),this.drawHoverBtn()}},{key:"destroyValueGridKeys",value:function(){for(var t=0;t<this.textKeysValueGrid.length;t++)this.core.clearText(this.textKeysValueGrid[t]);this.textKeysValueGrid=[]}},{key:"destroyTimeLineKeys",value:function(){for(var t=0;t<this.textKeysTimeLine.length;t++)this.core.clearText(this.textKeysTimeLine[t]);this.textKeysTimeLine=[]}},{key:"destroy",value:function(){uA(hA(e.prototype),"destroy",this).call(this),this.destroyValueGridKeys(),this.destroyTimeLineKeys()}}],r&&aA(n.prototype,r),i&&aA(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),pA=dA;function mA(t){return mA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mA(t)}function yA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vA(r.key),r)}}function vA(t){var e=function(t,e){if("object"!=mA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mA(e)?e:String(e)}function bA(t,e,n){return e=wA(e),function(t,e){if(e&&("object"===mA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gA()?Reflect.construct(e,n||[],wA(t).constructor):e.apply(t,n))}function gA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gA=function(){return!!t})()}function wA(t){return wA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wA(t)}function xA(t,e){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xA(t,e)}var jA=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=bA(this,e,[t,n])).destroyed=!0,r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xA(t,e)}(e,t),n=e,(r=[{key:"getTimeLabel",value:function(){var t,e=(t=this.pointsInElement)>=1&&t<60?"S".concat(t):t>=60&&t<3600?"M".concat(t/60):t>=3600&&t<86400?"H".concat(t/3600):"D".concat(t/86400);return this.core.getText(w.Rp.OVERLAY,"timeToEndLabel",e,de.Ay.CHART.TEXT_STYLE_CURRENT_PROFIT,this.colors.deadLineTextColor.getHEXNUM())}},{key:"getTimeText",value:function(){var t=this.serverTime,e=this.pointsInElement-t%this.pointsInElement;return this.core.getText(w.Rp.OVERLAY,"timeToEnd",(0,Qr.TO)(e),de.Ay.CHART.TEXT_STYLE_CURRENT_PROFIT,this.colors.timerTimeColor.getHEXNUM())}},{key:"draw",value:function(){if((0,g.Mt)(this.selectedPlotType)||!this.candlesTimer||this.pointsInElement<=1)this.destroyed||this.destroy();else{this.destroyed=!1;var t=this.serverTime,e=this.getXFromTime(t-t%this.pointsInElement),n=this.pointsManager.currentValue,r=this.getYFromValue(n),i=this.getTimeLabel();i.setTransform(e+45,r-i.height-2);var o=this.getTimeText();o.setTransform(i.x+i.width-o.width,r+2)}}},{key:"destroy",value:function(){this.destroyed=!0,this.core.clearText("timeToEndLabel"),this.core.clearText("timeToEnd")}}])&&yA(n.prototype,r),i&&yA(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),OA=jA;function SA(t){return SA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SA(t)}function _A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TA(r.key),r)}}function TA(t){var e=function(t,e){if("object"!=SA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=SA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==SA(e)?e:String(e)}function AA(t,e,n){return e=PA(e),function(t,e){if(e&&("object"===SA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,EA()?Reflect.construct(e,n||[],PA(t).constructor):e.apply(t,n))}function EA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(EA=function(){return!!t})()}function PA(t){return PA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},PA(t)}function CA(t,e){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},CA(t,e)}var kA=function(t){function e(t,n,r,i,o,a){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=AA(this,e,[t,n])).id=r,s.time=i,s.offset=o,s.theme=a,s.fadeAnimator=new Kw(.4,w.EK.EaseOutQuint),s.fadeAnimator.enabled=!1,s.initTileTexture(),s}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CA(t,e)}(e,t),n=e,(r=[{key:"initTileTexture",value:function(){var t=new cx.t5M(this.isDarkTheme()?"/images/cabinet/pending-region.png":"/images/cabinet/pending-region-light.png");this.tileTexture=new cx.gPd(t)}},{key:"fade",value:function(){this.fadeAnimator.fromValue=0,this.fadeAnimator.enabled=!0,this.fadeAnimator.setToValue(1)}},{key:"draw",value:function(){this.isThemeChanged()&&this.initTileTexture();var t=this.getXFromTime(this.time-this.offset),e=this.getXFromTime(this.time);if(e>0&&e>t){var n=this.core.getTilingSprite(w.Rp.CHART,"pendingAreaSprite".concat(this.id),this.tileTexture,10,10).sprite;this.fadeAnimator.setTime(this.ts),n.tilePosition.x-=.75,n.width=e,n.height=this.height,n.position.x=t,this.fadeAnimator.enabled?n.alpha=.7*(1-this.fadeAnimator.getValue()):n.alpha=.7,n.setTransform(0,0,0,0)}else this.destroyElements()}},{key:"destroy",value:function(){this.destroyElements()}},{key:"destroyElements",value:function(){this.core.destroySprite(w.Rp.CHART,"pendingAreaSprite".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.CHART,"pendingAreaSprite".concat(this.id))}}])&&_A(n.prototype,r),i&&_A(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),NA=kA;function IA(t){return IA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IA(t)}function RA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LA(r.key),r)}}function LA(t){var e=function(t,e){if("object"!=IA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=IA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==IA(e)?e:String(e)}var DA=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minValue=Number.MAX_VALUE,this.maxValue=Number.MIN_VALUE,this.enterValue=0,this.exitValue=0,this.time=e}var e,n,r;return e=t,(n=[{key:"addValue",value:function(t){0===this.enterValue&&(this.enterValue=t),t<this.minValue&&(this.minValue=t),t>this.maxValue&&(this.maxValue=t),this.exitValue=t}},{key:"isEqual",value:function(t){return this.minValue===t.minValue&&this.maxValue===t.maxValue&&this.enterValue===t.enterValue&&this.exitValue===t.exitValue&&this.time===t.time}}])&&RA(e.prototype,n),r&&RA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),MA=DA;function BA(t){return BA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BA(t)}function HA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FA(r.key),r)}}function FA(t){var e=function(t,e){if("object"!=BA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=BA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==BA(e)?e:String(e)}var GA=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minCandleValue=Number.MAX_VALUE,this.maxCandleValue=Number.MIN_VALUE,this.enterCandleValue=0,this.exitCandleValue=0,this.minValue=Number.MAX_VALUE,this.maxValue=Number.MIN_VALUE,this.enterValue=0,this.exitValue=0,this.time=0}var e,n,r;return e=t,(n=[{key:"convertFromCandles",value:function(t,e){this.time=e.time,this.enterValue=t?(t.enterValue+t.exitValue)/2:e.enterValue,this.exitValue=(e.enterValue+e.exitValue+e.minValue+e.maxValue)/4,this.minValue=Math.min(e.minValue,this.enterValue,this.exitValue),this.maxValue=Math.max(e.maxValue,this.enterValue,this.exitValue)}},{key:"addValue",value:function(t,e){0===this.enterCandleValue&&(this.enterCandleValue=e),e<this.minCandleValue&&(this.minCandleValue=e),e>this.maxCandleValue&&(this.maxCandleValue=e),this.exitCandleValue=e,0===this.enterValue&&(this.enterValue=t?(t.enterValue+t.exitValue)/2:e),this.exitValue=(this.minCandleValue+this.maxCandleValue+this.exitCandleValue+this.enterCandleValue)/4,this.minValue=Math.min.apply(null,[this.minCandleValue,this.enterValue,this.exitValue]),this.maxValue=Math.max.apply(null,[this.maxCandleValue,this.enterValue,this.exitValue])}}])&&HA(e.prototype,n),r&&HA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),VA={NONE:0,DEFAULT:1,QUICK:2,HEAP:3};function WA(t){return WA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WA(t)}function UA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zA(r.key),r)}}function zA(t){var e=function(t,e){if("object"!=WA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=WA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==WA(e)?e:String(e)}var XA=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"heapify",value:function(e,n,r,i){var o=2*n+1,a=2*n+2,s=n;if(o<r&&e[o][i]>e[n][i]&&(s=o),a<r&&e[a][i]>e[s][i]&&(s=a),s!==n){var c=e[n];e[n]=e[s],e[s]=c,t.heapify(e,s,r,i)}}},{key:"buildMaxHeap",value:function(e,n){for(var r=Math.floor(e.length/2);r>=0;r-=1)t.heapify(e,r,e.length,n);return e}},{key:"sort",value:function(e,n){var r,i=e.length;t.buildMaxHeap(e,n);for(var o=e.length-1;o>0;o-=1)r=e[0],e[0]=e[o],e[o]=r,i-=1,t.heapify(e,0,i,n);return e}}],(n=null)&&UA(e.prototype,n),r&&UA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $A(t){return $A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$A(t)}function YA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qA(r.key),r)}}function qA(t){var e=function(t,e){if("object"!=$A(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$A(e)?e:String(e)}var KA=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"partition",value:function(e,n,r,i){var o,a=e[r-1][i],s=n;for(o=n;o<r-1;o+=1)e[o][i]<=a&&(this.swap(e,o,s),s+=1);return t.swap(e,s,r-1),s}},{key:"swap",value:function(t,e,n){var r=t[e];return t[e]=t[n],t[n]=r,t}},{key:"sort",value:function(e,n,r,i){if(n<r){var o=t.partition(e,n,r,i);t.sort(e,n,o,i),t.sort(e,o+1,r,i)}return e}}],(n=null)&&YA(e.prototype,n),r&&YA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ZA(t,e){return parseFloat(t.toFixed(e))}function QA(t){return QA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QA(t)}function JA(t){return function(t){if(Array.isArray(t))return tE(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return tE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tE(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nE(r.key),r)}}function nE(t){var e=function(t,e){if("object"!=QA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==QA(e)?e:String(e)}var rE=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.intervalFactor=100,this.plot=e,this.digits=5,this.reset()}var e,n,r;return e=t,n=[{key:"setDigits",value:function(t){this.digits=t}},{key:"addPoint",value:function(t,e,n){if(!(e<=0||t<=0))if(0!==this.points.length){var r=this.points.length-1,i=this.points[r],o=this.points[0];if(i.time!==e){if(!(e>=o.time&&e<i.time)){if((0,g.Mt)(n)&&e>i.time){var a=Math.floor(e)-Math.floor(i.time);if(a>1)for(var s=1;s<=a;s++)i.time+s<e&&this.points.push(new RO(i.value,i.time+s))}this.points.push(new RO(t,e))}}else this.points[r]=new RO(t,i.time)}else this.points.push(new RO(t,e))}},{key:"sort",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VA.DEFAULT;if(t)switch(t){case VA.DEFAULT:this.points=this.points.sort((function(t,e){return t.time-e.time}));break;case VA.HEAP:this.points=XA.sort(this.points,"time");break;case VA.QUICK:var e=this.points.length-de.Ay.CHART.SORT_OFFSET;e<0&&(e=0),this.points=KA.sort(this.points,e,this.points.length-1,"time")}}},{key:"resetCandles",value:function(){this.candles=[]}},{key:"reset",value:function(){this.fromTime=0,this.toTime=0,this.startPoint=new RO(0,0),this.endPoint=new RO(0,0),this.targetValue=de.Ay.CHART.FLT_MAX,this.targetTime=de.Ay.CHART.FLT_MAX,this.candleWidth=0,this.currentValue=de.Ay.CHART.FLT_MAX,this.currentTime=de.Ay.CHART.FLT_MAX,this.points=[],this.candles=[],this.reducedPoints=[],this.interval=1,this.reduceRestSum=0,this.reduceRestCount=0}},{key:"setStartEndPoints",value:function(){var t=Math.pow(10,this.digits);this.startPoint=this.points[0],this.endPoint=this.points[this.points.length-1],this.targetValue=ZA((this.endPoint.value*t+this.reduceRestSum)/((this.reduceRestCount+1)*t),this.digits),this.targetTime=this.endPoint.time,this.currentValue===de.Ay.CHART.FLT_MAX&&(this.currentValue=this.targetValue),this.currentTime===de.Ay.CHART.FLT_MAX&&(this.currentTime=this.targetTime)}},{key:"getPointsCandleByTime",value:function(t,e){for(var n=[],r=this.points.length,i=0;i<r;i++){var o=this.points[i];t<=o.time&&o.time<e&&n.push(o)}return n}},{key:"needToCalculateReducedPoints",value:function(t){if(!this.reducedPoints.length||this.currentTime>this.toTime&&!t)return!1;var e=Math.max(3,2*this.interval);return Math.abs(this.reducedPoints[this.reducedPoints.length-1].time-this.currentTime)>e}},{key:"checkReducedPoints",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.needToCalculateReducedPoints(t)&&this.calculateReducedPointsToEnd()}},{key:"getAnimatingPoint",value:function(){return new RO(this.currentValue,this.currentTime)}},{key:"getReducedAndAnimatedPoints",value:function(){var t=this.reducedPoints.slice();return t.length?(t[t.length-1].time===this.endPoint.time&&t.pop(),t.push(this.getAnimatingPoint()),t):[]}},{key:"calculateHeikenAshiCandles",value:function(t){var e=Math.floor(this.startPoint.time/t)*t,n=(Math.ceil(this.endPoint.time/t)*t-e)/t;this.candles.length>2&&(this.candles=this.candles.slice(0,this.candles.length-1));for(var r=this.candles.length;r<n;r++){var i=this.candles[r-1]?this.candles[r-1]:null,o=e+this.candles.length*t,a=new GA;a.time=o,this.fillHeikenAshiCandle(i,a,o,t),this.candles.push(a)}}},{key:"calculateCandles",value:function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Math.floor(this.startPoint.time/t)*t,a=(Math.ceil(this.endPoint.time/t)*t-o)/t;if(this.candles.length>2&&r&&(this.candles=this.candles.slice(0,this.candles.length-1)),0!=a-this.candles.length){for(var s=this.candles.length>0?this.candles[this.candles.length-1].time+t:o,c=s,l=c+t,u=null,h=function(t){n.candles.push(t),u=null},f=0;f<this.points.length;f++){var d=this.points[f],p=d.time,m=d.value;if(!(p<s)&&((c>p||p>=l)&&(null!==u&&h(u),l=(c+=Math.floor((p-c)/t)*t)+t),c<=p&&p<l)){null===u&&(u=new MA(c));var y=i&&this.points[f].isEqual(this.endPoint);u.addValue(y?(0,qn.xr)(this.currentValue,this.digits+2):m)}}null!==u&&h(u)}}},{key:"fillHeikenAshiCandle",value:function(t,e,n,r){for(var i=this.getPointsCandleByTime(n,n+r),o=0;o<i.length;o++){var a=i[o];e.addValue(t,a.isEqual(this.endPoint)?(0,qn.xr)(this.currentValue,this.digits+2):a.value)}}},{key:"updateCurrentValues",value:function(){this.currentTime!==de.Ay.CHART.FLT_MAX&&this.targetTime-this.currentTime>3&&(this.currentTime=this.targetTime,this.currentValue=this.targetValue);var t=this.points[this.points.length-2],e=!1;if(this.currentTime!==de.Ay.CHART.FLT_MAX){var n=this.currentTime+(this.targetTime-this.currentTime)/6;t&&t.time>n&&(n=t.time+(this.targetTime-t.time)/6,e=!0),this.currentTime=n}else this.currentTime=this.targetTime;if(this.currentValue!==de.Ay.CHART.FLT_MAX){var r=e?t.value:this.currentValue;this.currentValue=this.roundCurrentValue(r+(this.targetValue-r)/6)}else this.currentValue=this.targetValue}},{key:"roundCurrentValue",value:function(t){return t}},{key:"calculatePoints",value:function(t,e,n,r){this.calculateReducedPoints(t,e,n)||this.mergeReducedPoints(t,e),r&&this.calculateReducedPointsToEnd(),this.fromTime=t,this.toTime=e}},{key:"calculateReducedPointsToEnd",value:function(){var t=0;this.reducedPoints.length&&(t=this.reducedPoints[this.reducedPoints.length-1].time);for(var e=Math.pow(10,this.digits),n=[],r=this.points.length,i=0;i<r;i++){var o=this.points[i];o.time>t&&n.push(o)}if(n.length){var a=this.reCalculateReducedPoints(n,this.interval,e,this.digits,!0,!0);a.length&&(this.reducedPoints=[].concat(JA(this.reducedPoints),JA(a)))}}},{key:"calculateReducedPoints",value:function(t,e,n){var r=n/de.Ay.CHART.OPTIMAL_SECOND_WIDTH,i=Math.floor((e-t)/r),o=this.interval?Math.ceil((e-t)/this.interval):0;if((Math.abs(o-r)<.2*r||i===this.interval)&&this.reducedPoints.length)return!1;this.interval=i;for(var a=Math.pow(10,this.digits),s=this.getTimeFromInterval(t),c=[],l=this.points.length,u=0;u<l;u++){var h=this.points[u];h.time>=s&&h.time<=e&&c.push(h)}return this.reducedPoints=this.reCalculateReducedPoints(c,i,a,this.digits,!0,!1),!0}},{key:"mergeReducedPoints",value:function(t,e){var n=[],r=[],i=this.getTimeFromInterval(t),o=e+this.interval,a=0;this.reducedPoints.length&&(a=this.reducedPoints[0].time);var s=0;this.reducedPoints.length&&(s=this.reducedPoints[this.reducedPoints.length-1].time);var c=Math.pow(10,this.digits);if(t!==this.fromTime&&i<a)for(var l=this.points.length,u=0;u<l;u++){var h=this.points[u];h.time<a&&h.time>i&&n.push(h)}var f=this.endPoint.time;if(f>s&&e>f||e>s&&f>e)for(var d=this.points.length,p=0;p<d;p++){var m=this.points[p];m.time>s&&m.time<=o&&r.push(m)}if(r.length||n.length){var y=this.reCalculateReducedPoints(r,this.interval,c,this.digits,!0,!0),v=this.reCalculateReducedPoints(n,this.interval,c,this.digits,!1,!1);if(y.length||v.length){this.reducedPoints=[].concat(JA(v),JA(this.reducedPoints),JA(y));for(var b=[],g=this.reducedPoints.length,w=0;w<g;w++){var x=this.reducedPoints[w];x.time>=i&&x.time<=o&&b.push(x)}this.reducedPoints=b}}}},{key:"reCalculateReducedPoints",value:function(t,e,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!t.length)return[];i&&(this.reduceRestSum=0,this.reduceRestCount=0);var a,s=[],c=0,l=0,u=de.Ay.CHART.INT_MAX,h=de.Ay.CHART.INT_MIN;if(o&&this.reducedPoints.length){var f=this.reducedPoints[this.reducedPoints.length-1].time;a=e>0?f-f%e+e:f}else{var d=t[0].time;a=e>0?d-d%e:d}for(var p=t.length,m=0;m<p;m++){var y=t[m];if(c+=y.value*n,l++,y.value>h&&(h=y.value),y.value<u&&(u=y.value),y.time>=a){var v=c>0?ZA(c/(l*n),r):y.value;c=0,l=0,s.push(new RO(v,y.time,u,h)),a+=e,u=de.Ay.CHART.INT_MAX,h=de.Ay.CHART.INT_MIN}i&&this.points[this.points.length-1].time===y.time&&(this.reduceRestSum=c,this.reduceRestCount=l)}return s}},{key:"getTimeFromInterval",value:function(t){return t-(this.interval>0?this.interval*this.intervalFactor:this.intervalFactor)}},{key:"getTimeFromX",value:function(t){return this.startPoint.time+t/this.plot.secondWidth}},{key:"getXFromTime",value:function(t){return(t-this.startPoint.time)*this.plot.secondWidth-this.plot.shift}},{key:"getSecondsInCandle",value:function(){return(0,g.Mt)(this.plot.chartType)?5:this.candleWidth/this.plot.secondWidth}},{key:"getCandlesForIndicator",value:function(t){var e=(0,g.Mt)(this.plot.chartType),n=t!==w.vh.Bottom;return e&&n?this.reducedPoints:this.candles}},{key:"getHistogramCandleWidth",value:function(){return(0,g.Mt)(this.plot.chartType)?1:this.candleWidth}},{key:"calculateCandleWidth",value:function(t,e){this.candleWidth=e*t;var n=this.candleWidth>8?2:this.candleWidth/100*20;this.candleWidth-=2*n}},{key:"getChartCandlesCacheKey",value:function(t){var e="",n=this.getCandlesForIndicator(t.position);return e+=(n.length>0?n[0].time.toString():"-")+"|",e+=this.interval.toString()}},{key:"hasPointsToCalculateDrawings",value:function(){return this.points.length>1}},{key:"getLastValue",value:function(){return this.points.length?this.points[this.points.length-1].value:0}}],n&&eE(e.prototype,n),r&&eE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),iE=rE;function oE(t){return oE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oE(t)}function aE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sE(r.key),r)}}function sE(t){var e=function(t,e){if("object"!=oE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oE(e)?e:String(e)}var cE=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.plot=e,this.canvas=e.context,this.isMobile=e.globalSettings.isMobile,this.handlingVerticalScroll=!1,this.prevVerticalScrollPosition=de.Ay.CHART.FLT_MAX,this.verticalScrollStepCount=0,this.verticalScrollStep=0}var e,n,r;return e=t,(n=[{key:"isHandling",get:function(){return this.handlingVerticalScroll}},{key:"minMaxShift",get:function(){return this.verticalScrollStepCount>0?this.verticalScrollStep*this.verticalScrollStepCount:0}},{key:"canHandle",value:function(t,e){return this.isHandling||this.isInVerticalScrollArea(t)}},{key:"handle",value:function(t,e,n,r){if(this.handlingVerticalScroll=!0,this.setScrollCursor(),this.prevVerticalScrollPosition!==de.Ay.CHART.FLT_MAX){0===this.verticalScrollStep&&(this.verticalScrollStep=this.calculateScrollStep(n,r));var i=e-this.prevVerticalScrollPosition,o=i>0?1:-1;this.prevVerticalScrollPosition=e;var a=this.verticalScrollStepCount;this.verticalScrollStepCount+=o*Math.ceil(Math.abs(i)/this.isMobile?2:3.5),this.verticalScrollStepCount<0&&(this.verticalScrollStepCount=0),a!==this.verticalScrollStepCount&&this.plot.calculateWindowParams()}else this.prevVerticalScrollPosition=e}},{key:"stopHandling",value:function(){var t=this,e=this.handlingVerticalScroll;this.prevVerticalScrollPosition=de.Ay.CHART.FLT_MAX,this.handlingVerticalScroll=!1,this.setDefaultCursor(),e&&this.plot.plotEventListeners[w.b1.VERTICAL_SCROLL_CHANGED].forEach((function(e){return e(t.verticalScrollStepCount)}))}},{key:"reset",value:function(){var t=this;this.verticalScrollStepCount=0,this.verticalScrollStep=0,this.stopHandling(),this.plot.calculateWindowParams(),this.plot.plotEventListeners[w.b1.VERTICAL_SCROLL_CHANGED].forEach((function(e){return e(t.verticalScrollStepCount)}))}},{key:"isInVerticalScrollArea",value:function(t){return this.canvas.width*(this.isMobile?.85:.95)<=t&&t<=this.canvas.width}},{key:"calculateScrollStep",value:function(t,e){return Math.abs(e-t)/100}},{key:"setScrollCursor",value:function(){this.canvas.container.style.cursor="row-resize"}},{key:"setDefaultCursor",value:function(){this.canvas.container.style.cursor="default"}}])&&aE(e.prototype,n),r&&aE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),lE=function(t){return t.indicators.byId},uE=function(t){return t.drawings.byId},hE=function(t){return t.indicators.allIds},fE=function(t){return t.drawings.allIds},dE=function(t){return t.drawings.selectedIds},pE=function(t){return(0,Md.Mz)([uE,fE],(function(e,n){if(n.includes(t))return e[t];for(var r=0;r<n.length;r++){var i=n[r];if(e[i].requestId===t)return e[i]}}))},mE=function(t){return(0,Md.Mz)([lE,hE],(function(e,n){return n.filter((function(n){return e[n].chartId===t})).map((function(t){return e[t]}))}))},yE=function(t){return(0,Md.Mz)([uE,fE],(function(e,n){return function(r){return n.filter((function(n){return e[n].chartId===t&&r===e[n].assetId})).map((function(t){return e[t]}))}}))},vE=(0,Md.Mz)([uE],(function(t){return function(e){return Object.values(t).filter((function(t){return e===t.assetId})).length}})),bE=(0,Md.Mz)([hE],(function(t){return t.length}));function gE(t){return gE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gE(t)}function wE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jE(r.key),r)}}function xE(t,e,n){return(e=jE(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jE(t){var e=function(t,e){if("object"!=gE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gE(e)?e:String(e)}var OE=0,SE=1,_E=2,TE=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),xE(this,"onKeyDown",(function(t){if(8===t.which){(!/INPUT|SELECT|TEXTAREA/i.test(t.target.tagName)||t.target.disabled||t.target.readOnly)&&t.preventDefault()}})),xE(this,"onKeyUp",(function(t){if(n.selectedDrawings.length)switch(t.code){case"Backspace":/INPUT|SELECT|TEXTAREA/i.test(t.target.tagName)||Re.A.publish(Ha.Fk);break;case"Escape":n.deselectAll()}})),xE(this,"onMouseDown",(function(t,e,r){if(n.state===OE){if(!r||n.selectedDrawings.length>0)for(var i=0;i<n.drawings.length;i++)for(var o=n.drawings[i].drawingPoints,a=0;a<o.length;a++)if(o[a].isClickedOnElement(t,e))return void n.select(n.drawings[i],r);var s=n.drawings.find((function(n){return n.isInsideHitZone(t,e)}));s?(n.state=SE,n.select(s,r)):n.deselectAll()}})),xE(this,"onMouseMove",(function(t,e){if(n.state===SE||n.state===_E){var r=n.drawings.filter((function(t){return t.isLocked})).map((function(t){return t.index})),i=n.selectedDrawings.filter((function(t){var e=t.index;return!r.includes(e)}));n.state===SE?(n.pointDiffs={},i.forEach((function(r){r.drawingPoints.forEach((function(r){n.pointDiffs[r.key]=[r.x-t,r.y-e]}))}))):i.forEach((function(r){r.drawingPoints.forEach((function(r){var i=n.pointDiffs[r.key];i&&r.move(t+i[0],e+i[1],!1)}))})),n.state=_E}})),xE(this,"onMouseUp",(function(){if(n.state===_E){var t=[];n.selectedDrawings.filter((function(t){return!t.isLocked})).forEach((function(e){e.drawingPoints.forEach((function(e){e.stop(!1),t.push(e.getPointData())}))})),t.length&&Re.A.publish(Ha.HI,new Ea.A(t))}n.state=OE})),this.chartId=e.chartId,this.context=e.context,this.drawings=e.indicators.filter((function(t){return t.isDrawing})),this.assetId=e.assetId,this.selectedDrawings=[],this.draggablePoints=[],this.draggablePoint=null,this.pointDiffs={},this.state=OE,e.globalSettings.isMobile?this.subscribeToMobileEvents():this.subscribeToInputEvents()}var e,n,r;return e=t,n=[{key:"addDraggablePoint",value:function(t){var e=this;t.forEach((function(t){return e.draggablePoints.push(t)}))}},{key:"isPointSelected",value:function(){return null!=this.draggablePoint}},{key:"onMovingPointStop",value:function(){this.isPointSelected()&&(this.draggablePoint.stop(),this.draggablePoint=null)}},{key:"calculatePoints",value:function(){this.draggablePoints.forEach((function(t){return t.calculate()}))}},{key:"checkPointHit",value:function(t,e){if(this.draggablePoint)return!0;for(var n=0;n<this.draggablePoints.length;n++){var r=this.draggablePoints[n];if(r&&r.isClickedOnElement(t,e))return this.draggablePoint=r,!0}return!1}},{key:"moveSelectedPoint",value:function(t,e,n){null!=this.draggablePoint&&this.drawings.filter((function(t){return!t.isLocked})).map((function(t){return t.index})).includes(this.draggablePoint.index)&&this.draggablePoint.move(t,e,n)}},{key:"deleteDrawingPoints",value:function(t){for(var e=t.drawingPoints.map((function(t){return t.key})),n=this.draggablePoints.length-1;n>=0;n--){var r=this.draggablePoints[n].key;e.includes(r)&&(this.draggablePoints[n].destroy(),this.draggablePoints.splice(n,1))}}},{key:"setDrawings",value:function(t){var e=this.drawings.length;this.drawings=t,e>0&&0===this.drawings.length&&this.deselectAll()}},{key:"subscribeToMobileEvents",value:function(){var t=this;this.context.addEventListeners([Hw],(function(){t.onMovingPointStop()}))}},{key:"subscribeToInputEvents",value:function(){var t=this;this.context.addEventListeners([Ww,Mw],(function(e,n,r){t.onMouseDown(e,n,r)})),this.context.addEventListeners([Fw,Dw],(function(e,n){return t.onMouseMove(e,n)})),this.context.addEventListeners([Hw,Bw],(function(){t.onMovingPointStop(),t.onMouseUp()}))}},{key:"onFirstDrawingSelected",value:function(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),Re.A.publish(Ha.Er,new Ea.A(this.chartId))}},{key:"onLastDrawingDeselected",value:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),Re.A.publish(Ha.Er,new Ea.A(!1))}},{key:"isMovingDrawing",value:function(){return this.state!==OE}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isSelected?e&&this.selectedDrawings.length>1&&this.deselect(t):(e||this.deselectAll(),this.selectedDrawings.push(t),t.onSelect(),1===this.selectedDrawings.length&&this.onFirstDrawingSelected(),Re.A.publish(Ha.L2,new Ea.A(t.index)))}},{key:"syncSelected",value:function(t){var e=this;this.drawings.forEach((function(n){t.includes(n.index)||e.deselect(n)}))}},{key:"deselect",value:function(t){var e=[];this.selectedDrawings.forEach((function(n){return n.index===t.index?n.onDeselect():e.push(n)})),this.selectedDrawings=e,Re.A.publish(Ha._w,new Ea.A(t.index))}},{key:"deselectAll",value:function(){0!==this.selectedDrawings.length&&(this.selectedDrawings.forEach((function(t){return t.onDeselect()})),this.selectedDrawings=[],this.onLastDrawingDeselected(),Re.A.publish(Ha.En))}}],n&&wE(e.prototype,n),r&&wE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),AE=TE;function EE(t){return EE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EE(t)}function PE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CE(r.key),r)}}function CE(t){var e=function(t,e){if("object"!=EE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EE(e)?e:String(e)}function kE(t,e,n){return e=IE(e),function(t,e){if(e&&("object"===EE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,NE()?Reflect.construct(e,n||[],IE(t).constructor):e.apply(t,n))}function NE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(NE=function(){return!!t})()}function IE(t){return IE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},IE(t)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},RE(t,e)}var LE="/themes/cabinet/images/express-icon-dark-theme.svg",DE=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=kE(this,e,[t,n])).express=r,i.id=r.id,i.offsetY=7,i.offsetX=12,i.rendered=!1,i.animator=new Kw,i.animator.curveType=w.EK.EaseOutQuint,i.animator.calculateToOne=!0,i.animator.timeout=.1,i.animator.duration=.3,i.animator.setToValue(1),i.animator.enabled=!1,i.iconKey="icon-".concat(i.id),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}(e,t),n=e,r=[{key:"startAnimation",value:function(){this.animator.reset(),this.animator.setToValue(1),this.animator.enabled=!0}},{key:"drawIcon",value:function(t,e){var n=this.generateIcon();ve()(n,"texture.baseTexture.imageUrl","")!==LE&&(this.core.destroySprite(w.Rp.CLOSED_ORDER_NOTE_TEXT,this.iconKey),n=this.generateIcon()),n.setTransform(t-37,e-11,.5,.5)}},{key:"generateIcon",value:function(){return this.core.getSprite(w.Rp.CLOSED_ORDER_NOTE_TEXT,this.iconKey,this.getSpritePath(LE)).sprite}},{key:"rectFromLeft",value:function(t,e){var n=this,r=this.colors.expressColor;this.animator.setTime(this.ts);var i=this.animator.getValue(),o=this.core.getDynamicGraphics(w.Rp.CLOSED_ORDER_NOTE,"dotGraphics".concat(this.id));o.isNew&&(o.graphics.lineStyle(0,0,0),o.graphics.beginFill(this.colors.betElementTextColor.getHEXNUM(),1),o.graphics.drawCircle(0,0,3),o.graphics.endFill()),o.graphics.setTransform(t,e,i,i),o.graphics.alpha=i,o=null,this.infoBlockHeight=30,this.infoBlockWidth=30;var a=t-this.offsetX-this.infoBlockWidth,s=e-this.infoBlockHeight/2,c=this.core.getDynamicGraphics(w.Rp.CLOSED_ORDER_NOTE,"rectangle-".concat(this.id)),l=[a,s,a+this.infoBlockWidth,s,t-5,e,a+this.infoBlockWidth,s+this.infoBlockHeight,a,s+this.infoBlockHeight];c.isNew&&(c.graphics.beginFill(r.getHEXNUM(),r.getAlpha()),c.graphics.drawPolygon(l),c.graphics.endFill(),c.graphics.interactive=!0,c.graphics.buttonMode=!0,c.graphics.removeAllListeners(),c.graphics.on("pointerdown",(function(){var t;n.pointsManager.plot.store.dispatch((t=n.express.expressId,{type:kn,payload:t}))}))),c=null}},{key:"drawLine",value:function(t,e,n){if(!(t<=0)){this.core.clearDynamicGraphicsNew("lineGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangle-".concat(this.id));var r=this.colors.expressColor,i=this.core.getDynamicGraphics(w.Rp.DEALS,"lineGraphics-".concat(this.id)),o=this.getXFromTime(this.express.closeTimestamp)-e;i.graphics.lineStyle(1,r.getHEXNUM()),i.graphics.moveTo(0,0),i.graphics.lineTo(o,0),i.graphics.setTransform(e,n,t,5-4*t)}}},{key:"shouldRerender",value:function(){return this.isChangedFromTo()||this.isChangedExpirationTime()||this.isChangedMinMax()||this.isSizeChanged()}},{key:"draw",value:function(){if(!this.rendered||this.shouldRerender()){this.animator.setTime(this.ts);var t=this.animator.getValue();t>=1&&(this.rendered=!0);var e=this.express.openTimestamp,n=this.getXFromTime(this.isLineChart()?e:Math.floor(e/this.pointsInElement)*this.pointsInElement),r=this.getYFromValue(this.express.openPrice);this.drawLine(t,n,r),this.rectFromLeft(n,r),this.drawIcon(n,r)}}},{key:"changeEnabledTooltip",value:function(t){this.enabledTooltipMessage=t,this.rendered=!1,this.destroy()}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(w.Rp.DEALS,"lineGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.CLOSED_ORDER_NOTE,"rectangle-".concat(this.id)),this.core.destroyDynamicGraphicsNew(w.Rp.CLOSED_ORDER_NOTE,"dotGraphics".concat(this.id)),this.core.destroySprite(w.Rp.CLOSED_ORDER_NOTE_TEXT,"icon-".concat(this.id))}}],r&&PE(n.prototype,r),i&&PE(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),ME=DE;function BE(t,e){return Math.sqrt(t*t+e*e)}function HE(t,e){var n=e.x-t.x,r=n*n,i=e.y-t.y,o=i*i;return Math.sqrt(r+o)}function FE(t){return FE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FE(t)}function GE(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return VE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VE(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function VE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UE(r.key),r)}}function UE(t){var e=function(t,e){if("object"!=FE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=FE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==FE(e)?e:String(e)}function zE(t,e,n){return e=$E(e),function(t,e){if(e&&("object"===FE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,XE()?Reflect.construct(e,n||[],$E(t).constructor):e.apply(t,n))}function XE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(XE=function(){return!!t})()}function $E(t){return $E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$E(t)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},YE(t,e)}var qE="dynamic",KE="text",ZE=function(t){function e(t,n,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=zE(this,e,[t,n]);var o=r.expanded,a=r.id,s=r.type,c=r.visible;return i.color="#ffffff",i.type=null,i.min=de.Ay.CHART.DBL_MIN,i.max=-de.Ay.CHART.DBL_MIN,i.minValue=de.Ay.CHART.DBL_MAX,i.maxValue=de.Ay.CHART.DBL_MIN,i.lineWidth=1,i.averageShift=0,i.filteredPoints=[],i.cachedPoints={},i.valueYScaleType=w.gd.None,i.elementType=w.Eq.Indicator,i.index=a,i.cacheId=a,i.lastFirstTime=0,i.isDrawing=!1,i.isExpanded=Yv(s)&&o,i.drawnGraphics=new Set,i.updated=!1,i.isVisible=c,i.settings={},i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}(e,t),n=e,r=[{key:"maxPeriod",get:function(){return 0}},{key:"candles",get:function(){return this.pointsManager.getCandlesForIndicator(this.position)}},{key:"getShowValue",value:function(t){return void 0===t.show||t.show}},{key:"isLine",value:function(t){return void 0!==t.color&&void 0!==t.lineWidth}},{key:"isBottomIndicator",value:function(){return void 0!==Xv[this.type]&&!0===Xv[this.type].isBottom}},{key:"reset",value:function(){this.flush(),this.destroy()}},{key:"flush",value:function(){}},{key:"calculate",value:function(){}},{key:"onAfterDraw",value:function(){this.updated=!1}},{key:"needToDraw",value:function(){return this.isVisible&&(this.updated||this.shouldClearMainGraphLine())}},{key:"update",value:function(t){this.clearAllDynamicGraphics(),this.flush(),this.isVisible=t.visible,this.isExpanded=Yv(this.type)&&t.expanded,t.requestId===this.index&&(this.index=t.id),this.updateSettings(t.settings),this.updated=!0}},{key:"updateSettings",value:function(t){this.settings=t,this.flush()}},{key:"addDynamicGraphics",value:function(t,e){return this.addDrawnGraphics(qE,t,e)}},{key:"addTextGraphics",value:function(t,e){return this.addDrawnGraphics(KE,t,e)}},{key:"addDrawnGraphics",value:function(t,e,n){this.drawnGraphics.add({type:t,containerIndex:e,elementIndex:n})}},{key:"clearDynamicGraphics",value:function(t,e){var n,r=GE(this.drawnGraphics.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.containerIndex===t&&i.elementIndex===e)switch(this.drawnGraphics.delete(i),i.type){case qE:this.core.clearDynamicGraphicsNew(e);break;case KE:this.core.clearText(e)}}}catch(o){r.e(o)}finally{r.f()}}},{key:"clearAllDynamicGraphics",value:function(){this.interactiveGraphics=null;var t,e=GE(this.drawnGraphics.values());try{for(e.s();!(t=e.n()).done;){var n=t.value,r=(n.containerIndex,n.elementIndex);switch(this.drawnGraphics.delete(n),n.type){case qE:this.core.clearDynamicGraphicsNew(r);break;case KE:this.core.clearText(r)}}}catch(i){e.e(i)}finally{e.f()}}},{key:"getInteractiveGraphics",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getDynamicGraphics(t,e,n);return this.interactiveGraphics=r.graphics,r}},{key:"getDynamicGraphics",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.core.getDynamicGraphics(t,e,n);return this.addDynamicGraphics(t,e),r}},{key:"getTextGraphics",value:function(t,e){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=(n=this.core).getText.apply(n,[t,e].concat(i));return this.addTextGraphics(t,e),a}},{key:"prepareColor",value:function(t){return t instanceof tx?t.getHEXNUM():"#"===t.charAt(0)?parseInt(t.substring(1),16):t}},{key:"prepareAlpha",value:function(t){return t instanceof tx?t.getAlpha():1}},{key:"drawBottomIndicatorBorder",value:function(){var t=this.getDynamicGraphics(w.Rp.INDICATORS_BOTTOM,"indicatorBorder"+this.index);t.isNew&&(t.graphics.lineStyle(1,this.colors.indicatorBottomBorderColor.getHEXNUM(),this.colors.indicatorBottomBorderColor.getAlpha()),t.graphics.moveTo(0,0),t.graphics.lineTo(this.width,0)),t.graphics.y=this.yShift+.5,t=null}},{key:"getYFromValueIndicator",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.max-t:t-this.min)/(this.max-this.min);return this.yShift+(this.height-2*de.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING)*e+de.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING}},{key:"drawBottomIndicatorBg",value:function(){var t=this.getDynamicGraphics(w.Rp.INDICATORS,"indicatorBg"+this.index);(t.isNew||this.isThemeChanged())&&(t.isNew||t.graphics.clear(),t.graphics.beginFill(this.colors.indicatorBottomBgColor.getHEXNUM(),this.colors.indicatorBottomBgColor.getAlpha()),t.graphics.drawRect(0,0,this.width,this.height),t.graphics.endFill()),t.graphics.y=this.yShift+.5}},{key:"drawBottomLevelsBg",value:function(t,e,n){var r=this.getYFromPercent(100-e),i=this.getYFromPercent(100-t),o=this.getDynamicGraphics(w.Rp.INDICATORS,"indicatorLevelsBg-".concat(this.index));(o.isNew||this.isThemeChanged())&&(o.isNew||o.graphics.clear(),o.graphics.beginFill(n.getHEXNUM(),n.getAlpha()),o.graphics.drawRect(0,0,this.width,i-r),o.graphics.endFill()),o.graphics.y=r}},{key:"getYFromPercent",value:function(t){var e=de.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING;return this.yShift+e+(this.height-2*e)*t/100}},{key:"drawMaxLevel",value:function(t){var e=this.colors.indicatorBottomNullLineColor,n=this.pointsManager.digits;this.drawBottomLevel("max",100,e,1,"",(0,qn.xr)(t,n),!0)}},{key:"drawMiddleLevel",value:function(t){var e=this.colors.indicatorBottomNullLineColor,n=this.pointsManager.digits;this.drawBottomLevel("middle",50,e,1,"",(0,qn.xr)(t,n))}},{key:"drawMinLevel",value:function(t){var e=this.colors.indicatorBottomNullLineColor,n=this.pointsManager.digits;this.drawBottomLevel("min",0,e,1,"",(0,qn.xr)(t,n))}},{key:"drawBottomLevel",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=Math.floor(this.getYFromPercent(100-e)),s=this.getDynamicGraphics(w.Rp.INDICATORS_BOTTOM,"indicatorLevel"+this.index+"_"+t),c=(null===o?e.toString():o)+i,l=0;if(c){var u=this.getTextGraphics(w.Rp.OVERLAY,"indicatorLevelLabel"+this.index+"_"+t,c,de.Ay.CHART.TEXT_STYLE_INDICATOR_BOTTOM_LEVEL,this.colors.indicatorLevelTextColor.getHEXNUM());u.x=this.width-u.width-7,u.y=a-u.height/2,l=u.width+14}else this.clearDynamicGraphics(w.Rp.OVERLAY,"indicatorLevelLabel"+this.index+"_"+t);s.isNew&&(s.graphics.lineStyle(r,n.getHEXNUM(),n.getAlpha()),s.graphics.moveTo(0,0),s.graphics.lineTo(this.width-l,0)),s.graphics.y=a,s=null}},{key:"drawLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&t.length){var r=n.color||this.color,i=n.lineWidth||this.lineWidth,o=n.opacity?n.opacity/100:1,a={};n.smooth&&(a.smooth=!0),this.drawLineWithParams({points:t,elementId:"indicatorLine-".concat(this.index,"-").concat(e),color:r,lineWidth:i,alpha:o,settings:a})}}},{key:"drawLineWithParams",value:function(t){var e=t.points,n=t.elementId,r=t.color,i=t.lineWidth,o=t.alpha,a=void 0===o?1:o,s=t.shift,c=void 0===s?null:s,l=t.settings,u=void 0===l?{}:l;if(e&&0!==e.length){this.shouldClearMainGraphLine()&&this.clearDynamicGraphics(w.Rp.INDICATORS,n);var h=this.getDynamicGraphics(w.Rp.INDICATORS,n,u);h.graphics.lineStyle(i,this.prepareColor(r),a);for(var f=null!=c?c:this.averageShift,d=0;d<e.length;d++)h.graphics[0===d?"moveTo":"lineTo"](this.getXFromTime(e[d].time+f*this.pointsInElement),this.getYFromValue(e[d].value))}}},{key:"drawBottomLine",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t&&t.length){var o=this.getDynamicGraphics(w.Rp.INDICATORS_BOTTOM,"bottomIndicatorLine"+this.index+"-"+e);o.graphics.lineStyle(n,this.prepareColor(r),1);for(var a=0;a<t.length;a++){var s=t[a],c=this.pointsManager.getXFromTime(s.time+this.averageShift*this.pointsInElement),l=this.getYFromValueIndicator(s.value,i);0===a?o.graphics.moveTo(c,l):o.graphics.lineTo(c,l)}o=null}}},{key:"drawBottomHistogram",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:de.Ay.CHART.HISTOGRAM_COLOR_MODE.DEFAULT,o=this.getDynamicGraphics(w.Rp.INDICATORS_BOTTOM,"indicatorHisto"+this.index);if(o.isNew)for(var a=100===r?this.yShift+de.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING:this.getYFromPercent(100-100*r),s=this.averageShift*this.pointsInElement,c=this.pointsManager.getHistogramCandleWidth(),l=(this.max+this.min)*r,u=0,h=this.pointsManager.getSecondsInCandle(),f=this.getTimeFrom()-h,d=this.getTimeTo()+h,p=0;p<t.length;p++){var m=t[p],y=m.time,v=m.value,b=this.getXFromTime(y+s),g=this.getYFromValueIndicator(v,!0);if(y>=f&&y<=d){var x=null;switch(i){case de.Ay.CHART.HISTOGRAM_COLOR_MODE.DEFAULT:x=v>u?e:n;break;case de.Ay.CHART.HISTOGRAM_COLOR_MODE.FROM_ZERO_LEVEL:x=v>l?n:e;break;case de.Ay.CHART.HISTOGRAM_COLOR_MODE.POSITIVE_NEGATIVE:x=v>0?n:e}o.graphics.beginFill(this.prepareColor(x),this.prepareAlpha(x)),v>0?o.graphics.drawRect(b-c/2,a,c,g-a):v<0?o.graphics.drawRect(b-c/2,g,c,a-g):o.graphics.drawRect(b-c/2,a,c,1),o.graphics.endFill()}u=v}}},{key:"filterIndicatorPoints",value:function(t,e){if(!t||!t.length)return[];for(var n=this.pointsManager.getSecondsInCandle(),r=this.getTimeFrom()-n,i=this.getTimeTo()+n,o=[],a=0;a<t.length;a++){var s=t[a];s.time<r||s.time>i||(o.push(s),e&&(this.position===w.vh.Overlay?(s.value>this.maxValue&&(this.maxValue=s.value),s.value<this.minValue&&(this.minValue=s.value)):(s.value>this.maxVal&&(this.maxVal=s.value),s.value<this.minVal&&(this.minVal=s.value))))}return o}},{key:"minMaxPush",value:function(t){t>this.max&&(this.max=t),t<this.min&&(this.min=t)}},{key:"minMaxBalance",value:function(){this.max===this.min&&(this.max+=de.Ay.CHART.MIN_MAX_MIN_DIFF,this.min-=de.Ay.CHART.MIN_MAX_MIN_DIFF)}},{key:"resetMinMax",value:function(){this.min=de.Ay.CHART.DBL_MAX,this.max=-de.Ay.CHART.DBL_MIN}},{key:"getCachedPoints",value:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.cacheId,n=this.getKeyForCache();return this.cachedPoints[e]&&this.cachedPoints[e].key===n&&this.cachedPoints[e].data||t}},{key:"saveCachedPoints",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getKeyForCache(),r=e||this.cacheId;this.cachedPoints[r]={key:n,data:t}}},{key:"sma",value:function(t){var e=t.candles,n=void 0===e?[]:e,r=t.cacheId,i=void 0===r?null:r,o=t.source,a=void 0===o?w.U$.CLOSE:o,s=t.period;return this.getMovingAveragePoints({type:Fv.SMA,cacheId:i,candles:n,source:a,period:s})}},{key:"getMovingAveragePoints",value:function(t){var e=t.type,n=t.candles,r=void 0===n?[]:n,i=t.cacheId,o=void 0===i?null:i,a=t.source,s=void 0===a?w.U$.CLOSE:a,c=t.period,l=r.length>0?r:this.candles,u=null===o?"general-".concat(c):o,h=this.getCachedPoints(u);switch(h.length>1&&h.splice(-1,1),e){case Fv.SMA:for(var f=h.length+c-1;f<l.length;f++)if(!(f<c-1)){for(var d=0,p=0;p<c;p++){var m=f-p;m>=0&&(d+=(0,g.pR)(l[m],s))}var y=d/c;h.push(new RO(y,l[f].time))}break;case Fv.WMA:for(var v=h.length+c;v<l.length;v++){for(var b=0,x=0,j=0;j<c;j++){var O=v-j;if(O>=0){var S=l[O];b+=(0,g.pR)(S,s)*(c-j),x+=j+1}}var _=b/x;h.push(new RO(_,l[v].time))}break;case Fv.EMA:h=this.getEMA(h,c,l,null,s);break;case Fv.SMMA:for(var T=h.length+c;T<l.length;T++){var A=0,E=0;if(T===c){A=0;for(var P=0;P<c;P++){var C=T-P;C>=0&&(A+=(0,g.pR)(l[C],s))}E=A/c}else{var k=T-c-1;if(k>=0){var N=h[k],I=(0,g.pR)(l[T],s);E=(N.value*(c-1)+I)/c}}h.push(new RO(E,l[T].time))}}return this.saveCachedPoints(h,o),h}},{key:"getEMA",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:w.U$.CLOSE,o=n.length>0?n:this.candles,a=null===r?2/(e+1):r;if(t)for(var s=t.length+e;s<o.length;s++){var c=(0,g.pR)(o[s],i);0!==t.length&&(c=a*c+(1-a)*t[t.length-1].value),t.push(new RO(c,o[s].time))}return t}},{key:"getKeyForCache",value:function(){return this.pointsManager.getChartCandlesCacheKey(this)}},{key:"recalculateMinMax",value:function(){var t=this;this.resetMinMax();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e){e.forEach((function(e){t.minMaxPush(e.value)}))})),this.minMaxBalance()}},{key:"checkFlush",value:function(){if(!this.candles.length)return this.flush();var t=this.candles[0].time;t!==this.lastFirstTime&&this.flush(),this.lastFirstTime=t}},{key:"destroy",value:function(){var t=this;this.drawnGraphics.forEach((function(e){var n=e.type,r=e.containerIndex,i=e.elementIndex;switch(n){case qE:t.core.destroyDynamicGraphicsNew(r,i);break;case KE:t.core.clearText(i)}})),this.drawnGraphics.clear()}},{key:"shouldClearMainGraphLine",value:function(){return!!this.updated||this.isCandlesCountChanged()||this.isChangedMinMax()||this.isChangedFromTo()||this.isChangedExpirationTime()||this.isChangedToExpTime()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isLastValueChanged()||this.forceCleared}},{key:"highest",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.U$.CLOSE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null===r?this.candles:r,o=t-e+1,a=t,s=Number.MIN_VALUE,c=o;c<=a;c++){var l=(0,g.pR)(i[c],n);l>s&&(s=l)}return s}},{key:"lowest",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.U$.CLOSE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null===r?this.candles:r,o=t-e+1,a=t,s=Number.MAX_VALUE,c=o;c<=a;c++){var l=(0,g.pR)(i[c],n);l<s&&(s=l)}return s}},{key:"roundValue",value:function(t){return(0,sx.T)(t,this.currentDigit)}}],r&&WE(n.prototype,r),i&&WE(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),QE=ZE;function JE(t){return JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JE(t)}function tP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eP(r.key),r)}}function eP(t){var e=function(t,e){if("object"!=JE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=JE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==JE(e)?e:String(e)}function nP(t,e,n){return e=iP(e),function(t,e){if(e&&("object"===JE(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rP()?Reflect.construct(e,n||[],iP(t).constructor):e.apply(t,n))}function rP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rP=function(){return!!t})()}function iP(t){return iP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iP(t)}function oP(t,e){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oP(t,e)}var aP=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=nP(this,e,[t,n,r])).type=de.W.ADX,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Percentage,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oP(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.adxSmoothing+this.settings.diLength}},{key:"flush",value:function(){this.pDI=[],this.mDI=[],this.pDM=[],this.mDM=[],this.dx=[],this.adx=[],this.tr=[],this.pDMEma=[],this.mDMEma=[],this.trEma=[],this.initMinMaxValues()}},{key:"initMinMaxValues",value:function(){this.position===w.vh.Overlay?(this.minValue=de.Ay.CHART.DBL_MAX,this.maxValue=de.Ay.CHART.DBL_MIN):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"roundValue",value:function(t){return t>=0&&t<=100?(0,sx.T)(t,2):""}},{key:"calculate",value:function(){this.checkFlush(),this.getIndicatorValues()}},{key:"removeLastCalculatedPoint",value:function(){this.pDI.length>0&&this.pDI.splice(-1,1),this.mDI.length>0&&this.mDI.splice(-1,1),this.pDM.length>0&&this.pDM.splice(-1,1),this.mDM.length>0&&this.mDM.splice(-1,1),this.dx.length>0&&this.dx.splice(-1,1),this.adx.length>0&&this.adx.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.pDMEma.length>0&&this.pDMEma.splice(-1,1),this.mDMEma.length>0&&this.mDMEma.splice(-1,1),this.trEma.length>0&&this.trEma.splice(-1,1)}},{key:"getIndicatorValues",value:function(){if(this.removeLastCalculatedPoint(),this.candles.length<this.maxPeriod)return[];for(var t=1+this.pDM.length;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-1],r=e.maxValue-n.maxValue,i=n.minValue-e.minValue,o=r>i&&r>0?r:0,a=r<i&&i>0?i:0,s=Math.max(e.maxValue-e.minValue,Math.abs(e.maxValue-n.exitValue),Math.abs(e.minValue-n.exitValue));this.pDM.push(new RO(o,e.time)),this.mDM.push(new RO(a,e.time)),this.tr.push(new RO(s,e.time))}var c=1/this.settings.diLength;this.trEma=this.getEMA(this.trEma,this.settings.diLength,this.tr,c),this.pDMEma=this.getEMA(this.pDMEma,this.settings.diLength,this.pDM,c),this.mDMEma=this.getEMA(this.mDMEma,this.settings.diLength,this.mDM,c);for(var l=this.pDI.length;l<this.pDMEma.length;l++){var u=this.trEma[l],h=u.value,f=u.time,d=100*this.pDMEma[l].value/(0===h?1:h),p=100*this.mDMEma[l].value/(0===h?1:h);this.pDI.push(new RO(d,f)),this.mDI.push(new RO(p,f))}for(var m=this.dx.length;m<this.pDI.length;m++){var y=this.pDI[m].value,v=this.mDI[m].value,b=y+v,g=100*Math.abs(y-v)/(0===b?1:b);this.dx.push(new RO(g,this.pDI[m].time))}this.adx=this.getEMA(this.adx,this.settings.adxSmoothing,this.dx,1/this.settings.adxSmoothing)}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.adx.length){var t=this.filterIndicatorPoints(this.adx,!1),e=this.filterIndicatorPoints(this.pDI,!1),n=this.filterIndicatorPoints(this.mDI,!1);this.recalculateMinMax(t,e,n);var r=this.settings.lines,i=r.adx,o=r.plusDI,a=r.minusDI;this.getShowValue(i)&&this.drawBottomLine(t,"adx",i.lineWidth,i.color,!0),this.getShowValue(o)&&this.drawBottomLine(e,"plusDMI",o.lineWidth,o.color,!0),this.getShowValue(a)&&this.drawBottomLine(n,"minusDMI",a.lineWidth,a.color,!0),(i.length||e.length||n.length)&&(this.drawMaxLevel(this.max),this.drawMiddleLevel(this.min+(this.max-this.min)/2),this.drawMinLevel(this.min))}}}])&&tP(n.prototype,r),i&&tP(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function sP(t){return sP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sP(t)}function cP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lP(r.key),r)}}function lP(t){var e=function(t,e){if("object"!=sP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sP(e)?e:String(e)}function uP(t,e,n){return e=fP(e),function(t,e){if(e&&("object"===sP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hP()?Reflect.construct(e,n||[],fP(t).constructor):e.apply(t,n))}function hP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hP=function(){return!!t})()}function fP(t){return fP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fP(t)}function dP(t,e){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dP(t,e)}var pP=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=uP(this,e,[t,n,r])).type=de.W.ALLIGATOR,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dP(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return Math.max(this.settings.jaws.period,this.settings.teeth.period,this.settings.lips.period)}},{key:"flush",value:function(){this.jaws={},this.teeth={},this.lips={},this.cachedPoints={}}},{key:"calculate",value:function(){var t=this;this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN),Object.keys(this.settings.lines).forEach((function(e){t.averageShift=t.settings[e].shift,t[e]=t.getMovingAveragePoints({type:Fv.SMMA,cacheId:"".concat(t.cacheId).concat(t.settings[e].period).concat(t.settings[e].shift),period:t.settings[e].period})}))}},{key:"draw",value:function(){var t=this;Object.keys(this.settings.lines).forEach((function(e){t.getShowValue(t.settings.lines[e])&&t.drawAlligatorLine(t.filterIndicatorPoints(t[e],!0),e)}))}},{key:"drawAlligatorLine",value:function(t,e){var n=this.settings.lines[e],r=n.color,i=n.lineWidth,o=this.settings[e].shift;this.drawLineWithParams({points:t,elementId:"alligator-".concat(e,"-").concat(this.index),color:r,lineWidth:i,shift:o})}}])&&cP(n.prototype,r),i&&cP(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function mP(t){return mP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mP(t)}function yP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vP(r.key),r)}}function vP(t){var e=function(t,e){if("object"!=mP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mP(e)?e:String(e)}function bP(t,e,n){return e=xP(e),function(t,e){if(e&&("object"===mP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gP()?Reflect.construct(e,n||[],xP(t).constructor):e.apply(t,n))}function gP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gP=function(){return!!t})()}function wP(){return wP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xP(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},wP.apply(this,arguments)}function xP(t){return xP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xP(t)}function jP(t,e){return jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jP(t,e)}var OP=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=bP(this,e,[t,n,r])).type=de.W.AWESOME_OSCILLATOR,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.lineSegmentIds=[],i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jP(t,e)}(e,t),n=e,r=[{key:"maxPeriod",get:function(){return Math.max(this.settings.periodShort,this.settings.periodLong)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"updateSettings",value:function(t){wP(xP(e.prototype),"updateSettings",this).call(this,t);var n=this.settings.lines.main,r=n.colors,i=n.opacity,o=r.up,a=r.down;this.upColor=new tx(o.color,i/100),this.downColor=new tx(a.color,i/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculatePoints()}},{key:"flush",value:function(){this.emasShort=[],this.emasLong=[],this.histogramPoints=[],this.initMinMax()}},{key:"initMinMax",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.emasShort.length>0&&this.emasShort.splice(-1,1),this.emasLong.length>0&&this.emasLong.splice(-1,1),this.histogramPoints.length>0&&this.histogramPoints.splice(-1,1)}},{key:"calculatePoints",value:function(){var t=this.settings,e=t.periodShort,n=t.periodLong;this.emasShort=this.sma({source:w.U$.HL2,period:e}),this.emasLong=this.sma({source:w.U$.HL2,period:n});for(var r=Math.max(this.emasShort.length,this.emasLong.length),i=r-Math.min(this.emasShort.length,this.emasLong.length),o=i+this.histogramPoints.length;o<this.candles.length;o++){var a=this.emasLong.length===r?this.emasLong[o]:this.emasLong[o-i],s=this.emasShort.length===r?this.emasShort[o]:this.emasShort[o-i];a&&s&&this.histogramPoints.push(new RO(s.value-a.value,a.time))}}},{key:"minMaxBalance",value:function(){wP(xP(e.prototype),"minMaxBalance",this).call(this),this.min>0&&this.max>0?this.min=0:this.min<0&&this.max<0&&(this.max=0)}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.histogramPoints);if(this.recalculateMinMax(t),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawBottomLevel("zero",100*this.zeroLevel,this.colors.indicatorBottomNullLineColor,1,"",0),this.settings.lines.main.figure===Uv.HISTOGRAM)this.drawBottomHistogram(this.histogramPoints,this.upColor,this.downColor,this.zeroLevel);else{if(this.histogramPoints.length<3)return;for(var e=this.core.getDynamicContainer(w.Rp.INDICATORS_BOTTOM,"ao-container-".concat(this.index)),n=null,r=[],i=1;i<this.histogramPoints.length;i++){var o=this.histogramPoints[i-1],a=this.histogramPoints[i],s=a.value>o.value?this.upColor:this.downColor;null!=n&&s!==n&&(this.drawLineSegment(e,r,n),r=[]),0===r.length?r.push(o,a):r.push(a),n=s}this.drawLineSegment(e,r,n)}}},{key:"drawLineSegment",value:function(t,e,n){if(0!==e.length){var r="bottomIndicatorLine-".concat(this.index,"-line-").concat(e[0].time);this.lineSegmentIds.push(r);var i=this.getDynamicGraphics(w.Rp.INDICATORS_BOTTOM,r,{parent:t}),o=this.settings.lines.main.lineWidth;i.graphics.lineStyle(o,this.prepareColor(n),this.prepareAlpha(n));for(var a=0;a<e.length;a++)i.graphics[0===a?"moveTo":"lineTo"](this.getXFromTime(e[a].time),this.getYFromValueIndicator(e[a].value,!0))}}},{key:"destroy",value:function(){var t=this;wP(xP(e.prototype),"destroy",this).call(this),this.core.destroyDynamicContainer(w.Rp.INDICATORS_BOTTOM,"ao-container-".concat(this.index)),this.lineSegmentIds.forEach((function(e){return t.core.destroyDynamicGraphicsNew(w.Rp.INDICATORS_BOTTOM,e)})),this.lineSegmentIds=[]}}],r&&yP(n.prototype,r),i&&yP(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function SP(t){return SP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SP(t)}function _P(t){return function(t){if(Array.isArray(t))return TP(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EP(r.key),r)}}function EP(t){var e=function(t,e){if("object"!=SP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=SP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==SP(e)?e:String(e)}function PP(t,e,n){return e=kP(e),function(t,e){if(e&&("object"===SP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,CP()?Reflect.construct(e,n||[],kP(t).constructor):e.apply(t,n))}function CP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(CP=function(){return!!t})()}function kP(t){return kP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kP(t)}function NP(t,e){return NP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},NP(t,e)}var IP=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=PP(this,e,[t,n,r])).type=de.W.BOLLINGER_BANDS,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NP(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.initMinMax(),this.points={top:[],middle:[],bottom:[]},this.filteredPoints={top:[],middle:[],bottom:[]}}},{key:"initMinMax",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"calculate",value:function(){this.initMinMax(),this.checkFlush(),this.points.top.length&&(this.points.top.splice(-1,1),this.points.middle.splice(-1,1),this.points.bottom.splice(-1,1));for(var t=this.points.top.length+this.settings.period<this.candles.length,e=this.points.top.length+this.settings.period;e<this.candles.length;e++)this.calculatePoints(e);t&&(this.filteredPoints={top:this.filterIndicatorPoints(this.points.top,!0),middle:this.filterIndicatorPoints(this.points.middle,!0),bottom:this.filterIndicatorPoints(this.points.bottom,!0)})}},{key:"calculatePoints",value:function(t){for(var e=0,n=0;n<this.settings.period;n++){var r=t-n;r>=0&&(e+=this.candles[r].exitValue)}for(var i=0,o=e/this.settings.period,a=0;a<this.settings.period;a++){var s=t-a;s>=0&&(i+=Math.pow(this.candles[s].exitValue-o,2))}i=Math.sqrt(i/this.settings.period),this.points.top.push(new RO(o+this.settings.deviation*i,this.candles[t].time)),this.points.middle.push(new RO(o,this.candles[t].time)),this.points.bottom.push(new RO(o-this.settings.deviation*i,this.candles[t].time))}},{key:"draw",value:function(){var t=this;this.clearAllDynamicGraphics(),this.getShowValue(this.settings.lines.background)&&this.drawFill(),Object.keys(this.settings.lines).forEach((function(e){var n=t.settings.lines[e];t.getShowValue(n)&&t.isLine(n)&&t.drawLineWithParams({points:t.filteredPoints[e],elementId:"bollinger-bands-".concat(e,"-").concat(t.index),color:n.color,alpha:n.opacity/100,lineWidth:n.lineWidth})}))}},{key:"drawFill",value:function(){var t=_P(this.filteredPoints.bottom).reverse(),e=[].concat(_P(t),_P(this.filteredPoints.top)),n=this.settings.lines.background,r=n.color,i=n.opacity,o=this.getDynamicGraphics(w.Rp.INDICATORS,"bollinger-".concat(this.index));o.graphics.beginFill(this.prepareColor(r),i/100);for(var a=0;a<e.length;a++){var s=e[a],c=s.time,l=s.value;o.graphics[0===a?"moveTo":"lineTo"](this.getXFromTime(c+this.averageShift*this.pointsInElement),this.getYFromValue(l))}o.graphics.endFill()}}])&&AP(n.prototype,r),i&&AP(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function RP(t){return RP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RP(t)}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DP(r.key),r)}}function DP(t){var e=function(t,e){if("object"!=RP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=RP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==RP(e)?e:String(e)}function MP(t,e,n){return e=HP(e),function(t,e){if(e&&("object"===RP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,BP()?Reflect.construct(e,n||[],HP(t).constructor):e.apply(t,n))}function BP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(BP=function(){return!!t})()}function HP(t){return HP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},HP(t)}function FP(t,e){return FP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},FP(t,e)}var GP=0,VP=1,WP=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=MP(this,e,[t,n,r])).type=de.W.FRACTAL,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FP(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.fractalPoints=[]}},{key:"calculate",value:function(){this.checkFlush(),this.fractalPoints.length&&this.fractalPoints.splice(-1,1);for(var t=this.fractalPoints.length;t<this.candles.length;t++){for(var e=this.candles[t],n=e.maxValue,r=e.minValue,i=!0,o=!0,a=1;a<=this.settings.period;a++){if(!this.candles[t-a]||!this.candles[t+a]){i=!1,o=!1;break}(n<=this.candles[t-a].maxValue||n<=this.candles[t+a].maxValue)&&(i=!1),(r>=this.candles[t-a].minValue||r>=this.candles[t+a].minValue)&&(o=!1)}i&&this.fractalPoints.push({type:GP,point:new RO(n,this.candles[t].time)}),o&&this.fractalPoints.push({type:VP,point:new RO(r,this.candles[t].time)})}}},{key:"filterWindow",value:function(t){for(var e=[],n=this.pointsManager.getSecondsInCandle(),r=this.getTimeFrom()-n,i=this.getTimeTo()+n,o=0;o<t.length;o++)t[o].point.time>=r&&t[o].point.time<=i&&e.push(t[o]);return e}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.getDynamicGraphics(w.Rp.INDICATORS,"fractal"),e=10;e<5&&(e=5),e>12&&(e=12);for(var n=this.settings.lines,r=n.up,i=n.down,o=this.getShowValue(r),a=this.getShowValue(i),s=this.filterWindow(this.fractalPoints),c=0;c<s.length;c++){var l=s[c],u=this.getXFromTime(l.point.time)-e/2,h=this.getYFromValue(l.point.value);u+=e/2,l.type===GP?(h-=2*e,o&&(t.graphics.beginFill(this.prepareColor(r.color),1),t.graphics.drawPolygon([u,h,u-e/2,h+e,u,h+e/1.5,u+e/2,h+e,u,h]))):(h+=2*e,a&&(t.graphics.beginFill(this.prepareColor(i.color),1),t.graphics.drawPolygon([u,h,u-e/2,h-e,u,h-e/1.5,u+e/2,h-e,u,h]))),t.graphics.endFill()}t=null}}])&&LP(n.prototype,r),i&&LP(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function UP(t){return UP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UP(t)}function zP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XP(r.key),r)}}function XP(t){var e=function(t,e){if("object"!=UP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=UP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==UP(e)?e:String(e)}function $P(t,e,n){return e=KP(e),function(t,e){if(e&&("object"===UP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,YP()?Reflect.construct(e,n||[],KP(t).constructor):e.apply(t,n))}function YP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(YP=function(){return!!t})()}function qP(){return qP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=KP(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},qP.apply(this,arguments)}function KP(t){return KP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},KP(t)}function ZP(t,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ZP(t,e)}var QP=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=$P(this,e,[t,n,r])).type=de.W.MACD,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZP(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return Math.max(this.settings.fastPeriod+this.settings.signalPeriod,this.settings.slowPeriod+this.settings.signalPeriod)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"zeroLevelPercent",get:function(){return 100*this.zeroLevel}},{key:"updateSettings",value:function(t){qP(KP(e.prototype),"updateSettings",this).call(this,t);var n=t.lines.histogram.colors,r=n.up,i=n.down;this.histUpColor=new tx(r.color,r.opacity/100),this.histDownColor=new tx(i.color,i.opacity/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculateMACDPoints(),this.calculateSignalPoints(),this.calculateHistogram()}},{key:"flush",value:function(){this.macdPoints=[],this.signalPoints=[],this.macdHistogramPoints=[],this.emasShort=[],this.emasLong=[],this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.emasShort.length>0&&this.emasShort.splice(-1,1),this.emasLong.length>0&&this.emasLong.splice(-1,1),this.macdPoints.length>0&&this.macdPoints.splice(-1,1),this.signalPoints.length>0&&this.signalPoints.splice(-1,1),this.macdHistogramPoints.length>0&&this.macdHistogramPoints.splice(-1,1)}},{key:"calculateMACDPoints",value:function(){this.emasShort=this.getEMA(this.emasShort,this.settings.fastPeriod),this.emasLong=this.getEMA(this.emasLong,this.settings.slowPeriod);for(var t=Math.max(this.emasShort.length,this.emasLong.length),e=t-Math.min(this.emasShort.length,this.emasLong.length),n=e+this.macdPoints.length;n<this.candles.length;n++){var r=this.emasLong.length===t?this.emasLong[n]:this.emasLong[n-e],i=this.emasShort.length===t?this.emasShort[n]:this.emasShort[n-e];r&&i&&this.macdPoints.push(new RO(i.value-r.value,r.time))}}},{key:"calculateSignalPoints",value:function(){this.signalPoints=this.getEMA(this.signalPoints,this.settings.signalPeriod,this.macdPoints)}},{key:"calculateHistogram",value:function(){for(var t=this.macdHistogramPoints.length;t<this.signalPoints.length;t++){var e=this.macdPoints[t+this.settings.signalPeriod],n=this.signalPoints[t];e&&n&&this.macdHistogramPoints.push(new RO(e.value-n.value,e.time))}}},{key:"getZeroLabel",value:function(){return this.zeroLevelPercent<90?"0":""}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.macdHistogramPoints,!1),e=this.filterIndicatorPoints(this.macdPoints,!1),n=this.filterIndicatorPoints(this.signalPoints,!1);this.recalculateMinMax(t,e,n),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var r=this.settings.lines,i=r.macd,o=r.signal,a=r.histogram;this.getShowValue(a)&&this.drawBottomHistogram(t,this.histUpColor,this.histDownColor,this.zeroLevel),this.getShowValue(i)&&this.drawBottomLine(e,"macd",i.lineWidth,i.color,!0),this.getShowValue(o)&&this.drawBottomLine(n,"signal",o.lineWidth,o.color,!0);var s=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("zero",this.zeroLevelPercent,s,1,"",this.getZeroLabel()),this.drawMaxLevel(this.max),this.drawMinLevel(this.min)}}])&&zP(n.prototype,r),i&&zP(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function JP(t){return JP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JP(t)}function tC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eC(r.key),r)}}function eC(t){var e=function(t,e){if("object"!=JP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=JP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==JP(e)?e:String(e)}function nC(t,e,n){return e=iC(e),function(t,e){if(e&&("object"===JP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rC()?Reflect.construct(e,n||[],iC(t).constructor):e.apply(t,n))}function rC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rC=function(){return!!t})()}function iC(t){return iC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iC(t)}function oC(t,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oC(t,e)}var aC=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=nC(this,e,[t,n,r])).type=de.W.MOVING_AVERAGE,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oC(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"calculate",value:function(){this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX;var t=this.settings,e=t.ma,n=t.period;this.points=this.getMovingAveragePoints({type:e,period:n})}},{key:"flush",value:function(){this.points={}}},{key:"draw",value:function(){this.getShowValue(this.settings.lines.main)&&(this.color=this.settings.lines.main.color,this.lineWidth=this.settings.lines.main.lineWidth,this.drawLine(this.filterIndicatorPoints(this.points,!0)))}}])&&tC(n.prototype,r),i&&tC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function sC(t){return sC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sC(t)}function cC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lC(r.key),r)}}function lC(t){var e=function(t,e){if("object"!=sC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sC(e)?e:String(e)}function uC(t,e,n){return e=fC(e),function(t,e){if(e&&("object"===sC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hC()?Reflect.construct(e,n||[],fC(t).constructor):e.apply(t,n))}function hC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hC=function(){return!!t})()}function fC(t){return fC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fC(t)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dC(t,e)}var pC=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=uC(this,e,[t,n,r])).type=de.W.PARABOLIC_SAR,i.containerIndex=w.Rp.INDICATORS,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}(e,t),n=e,(r=[{key:"flush",value:function(){this.averagePoints=[],this.sarArr=[],this.differences=[],this.highList=[],this.lowList=[],this.beg=1,this.sig0=1,this.sig1=0,this.xpt1=0,this.af1=0,this.xpt0=this.highList[this.beg-1]}},{key:"getIndicatorPoints",value:function(){for(var t=this.candles,e=this.averagePoints.length;e<t.length;e++)this.differences.push(t[e].maxValue-t[e].minValue),this.highList.push(t[e].maxValue),this.lowList.push(t[e].minValue);for(var n=this.standardDeviation(this.differences),r=this.averagePoints.length;r<t.length&&(0===t[r].maxValue||0===t[r].minValue);r++)this.sarArr[r]=0,this.beg++;t.length>0&&(this.sarArr[this.beg-1]=this.lowList[this.beg-1]-n);for(var i=this.averagePoints.length;i<t.length;i++)this.sig1=this.sig0,this.xpt1=this.xpt0,this.af1=this.af0,this.lmin=this.lowList[i-1]>this.lowList[i]?this.lowList[i]:this.lowList[i-1],this.lmax=this.highList[i-1]>this.highList[i]?this.highList[i-1]:this.highList[i],1===this.sig1?(this.sig0=this.lowList[i]>this.sarArr[i-1]?1:-1,this.xpt0=this.lmax>this.xpt1?this.lmax:this.xpt1):(this.sig0=this.highList[i]<this.sarArr[i-1]?-1:1,this.xpt0=this.lmin>this.xpt1?this.xpt1:this.lmin),this.sig0===this.sig1?(this.sarArr[i]=this.sarArr[i-1]+(this.xpt1-this.sarArr[i-1])*this.af1,this.af0=this.af1===this.settings.accelerationMax?this.settings.accelerationMax:this.settings.acceleration+this.af1,1===this.sig0?(this.af0=this.xpt0>this.xpt1?this.af0:this.af1,this.sarArr[i]=this.sarArr[i]>this.lmin?this.lmin:this.sarArr[i]):(this.af0=this.xpt0<this.xpt1?this.af0:this.af1,this.sarArr[i]=this.sarArr[i]>this.lmax?this.sarArr[i]:this.lmax)):(this.af0=this.settings.acceleration,this.sarArr[i]=this.xpt0);for(var o=this.averagePoints.length;o<this.sarArr.length;o++)this.averagePoints.push(new RO(this.sarArr[o],t[o].time))}},{key:"standardDeviation",value:function(t){var e=this.average(t),n=t.map((function(t){var n=t-e;return n*n}));return Math.sqrt(this.average(n))}},{key:"average",value:function(t){return t.reduce((function(t,e){return t+e}),0)/t.length}},{key:"calculate",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN),this.checkFlush(),this.getIndicatorPoints(),this.filteredPoints=this.filterIndicatorPoints(this.averagePoints,!1)}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.getShowValue(this.settings.lines.main)){var t=this.getDynamicGraphics(this.containerIndex,"sarDots-".concat(this.index));t.graphics.beginFill(this.prepareColor(this.settings.lines.main.color),1);var e=this.currentZoom-1;e<3?e=3:e>6&&(e=6);for(var n=0;n<this.filteredPoints.length;n++)t.graphics.drawRect(this.getXFromTime(this.filteredPoints[n].time+this.averageShift*this.pointsInElement),this.getYFromValue(this.filteredPoints[n].value),e*this.settings.lines.main.lineWidth,e*this.settings.lines.main.lineWidth);t.graphics.endFill()}}}])&&cC(n.prototype,r),i&&cC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function mC(t){return mC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mC(t)}function yC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vC(r.key),r)}}function vC(t){var e=function(t,e){if("object"!=mC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mC(e)?e:String(e)}function bC(t,e,n){return e=wC(e),function(t,e){if(e&&("object"===mC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gC()?Reflect.construct(e,n||[],wC(t).constructor):e.apply(t,n))}function gC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gC=function(){return!!t})()}function wC(t){return wC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wC(t)}function xC(t,e){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xC(t,e)}var jC=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=bC(this,e,[t,n,r])).type=de.W.RATE_OF_CHANGE,i.valueYScaleType=w.gd.Percentage,i.position=w.vh.Bottom,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xC(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"roundValue",value:function(t){return(0,sx.T)(t,2)}},{key:"flush",value:function(){this.initMinMax(),this.points=[],this.filteredPoints=[],this.zeroLevelPercent=0}},{key:"initMinMax",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculate",value:function(){if(this.checkFlush(),!(this.settings.period>=this.candles.length)){this.removeLastCalculatedPoint();for(var t=this.settings.period+this.points.length;t<this.candles.length;t++){var e=this.candles[t-this.settings.period].exitValue,n=(this.candles[t].exitValue-e)/e*100;this.points.push(new RO(n,this.candles[t].time))}this.filteredPoints=this.filterIndicatorPoints(this.points,!1),this.recalculateMinMax(this.filteredPoints),this.zeroLevelPercent=100*Math.abs(this.min/(this.max-this.min))}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("zero",this.zeroLevelPercent,t,1,"","0"),this.drawMaxLevel(this.max),this.drawMinLevel(this.min);var e=this.settings.lines.main;if(this.getShowValue(e)){var n=e.color,r=e.lineWidth;this.drawBottomLine(this.filteredPoints,"period",r,n,!0)}}}])&&yC(n.prototype,r),i&&yC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function OC(t){return OC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OC(t)}function SC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_C(r.key),r)}}function _C(t){var e=function(t,e){if("object"!=OC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OC(e)?e:String(e)}function TC(t,e,n){return e=PC(e),function(t,e){if(e&&("object"===OC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,AC()?Reflect.construct(e,n||[],PC(t).constructor):e.apply(t,n))}function AC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(AC=function(){return!!t})()}function EC(){return EC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=PC(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},EC.apply(this,arguments)}function PC(t){return PC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},PC(t)}function CC(t,e){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},CC(t,e)}var kC=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=TC(this,e,[t,n,r])).type=de.W.RSI,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Percentage,i.min=0,i.max=100,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CC(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"updateSettings",value:function(t){EC(PC(e.prototype),"updateSettings",this).call(this,t),this.obColor=new tx(t.lines.overbought.color,t.lines.overbought.opacity/100),this.midColor=new tx(t.lines.middle.color,t.lines.middle.opacity/100),this.osColor=new tx(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"roundValue",value:function(t){return t>=0&&t<=100?(0,sx.T)(t,0):""}},{key:"flush",value:function(){this.rsiPoints=[],this.sumCandleUp=0,this.sumCandleDown=0,this.lastAvgUp=0,this.lastAvgDown=0}},{key:"calculate",value:function(){var t,e,n;this.checkFlush(),this.rsiPoints.length>0&&this.rsiPoints.splice(-1,1);for(var r=this.rsiPoints.length>0?this.rsiPoints.length+this.settings.period:0;r<this.candles.length;r++){var i=0,o=0;if(t=null,r>0){var a=this.candles[r-1];(o=i=this.candles[r].exitValue-a.exitValue)<0&&(o=0),i<0?i*=-1:i=0}r<this.settings.period?(this.sumCandleUp+=i,this.sumCandleDown+=o):r===this.settings.period?(t=100-100/((e=this.sumCandleUp/this.settings.period)/(n=this.sumCandleDown/this.settings.period)+1),this.lastAvgUp=e,this.lastAvgDown=n):(t=100-100/((e=(this.lastAvgUp*(this.settings.period-1)+i)/this.settings.period)/(n=(this.lastAvgDown*(this.settings.period-1)+o)/this.settings.period)+1),r!==this.candles.length-1&&(this.lastAvgUp=e,this.lastAvgDown=n)),null!==t&&this.rsiPoints.push(new RO(t,this.candles[r].time))}this.filteredPoints=this.filterIndicatorPoints(this.rsiPoints,!1)}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.main,n=t.overbought,r=t.middle,i=t.oversold;if(this.getShowValue(n)){var o=n.level,a=n.lineWidth;this.drawBottomLevel("ob",o,this.obColor,a,"",o.toString())}if(this.getShowValue(r)){var s=r.level,c=r.lineWidth;this.drawBottomLevel("mid",s,this.midColor,c,"",s.toString())}if(this.getShowValue(i)){var l=i.level,u=i.lineWidth;this.drawBottomLevel("os",l,this.osColor,u,"",l.toString())}if(this.getShowValue(e)){var h=e.color,f=e.lineWidth;this.drawBottomLine(this.filteredPoints,"rsi",f,h)}}}])&&SC(n.prototype,r),i&&SC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function NC(t){return NC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NC(t)}function IC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RC(r.key),r)}}function RC(t){var e=function(t,e){if("object"!=NC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=NC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==NC(e)?e:String(e)}function LC(t,e,n){return e=BC(e),function(t,e){if(e&&("object"===NC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,DC()?Reflect.construct(e,n||[],BC(t).constructor):e.apply(t,n))}function DC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(DC=function(){return!!t})()}function MC(){return MC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=BC(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},MC.apply(this,arguments)}function BC(t){return BC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},BC(t)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},HC(t,e)}var FC=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=LC(this,e,[t,n,r])).type=de.W.STOCHASTIC_OSCILLATOR,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Percentage,i.min=0,i.max=100,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return Math.max(this.settings.kPeriod,this.settings.dPeriod,this.settings.mPeriod)}},{key:"updateSettings",value:function(t){MC(BC(e.prototype),"updateSettings",this).call(this,t),this.obColor=new tx(t.lines.overbought.color,t.lines.overbought.opacity/100),this.osColor=new tx(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"roundValue",value:function(t){return t>=0&&t<=100?(0,sx.T)(t,0):""}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculateKPoints(),this.calculateDPoints()}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.kPoints,!1),e=this.filterIndicatorPoints(this.dPoints,!1);this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var n=this.settings.lines,r=n.dPeriod,i=n.kPeriod,o=n.overbought,a=n.oversold;if(this.getShowValue(i)){var s=i.color,c=i.lineWidth;this.drawBottomLine(t,"stochasticKPoints",c,s)}if(this.getShowValue(r)){var l=r.color,u=r.lineWidth;this.drawBottomLine(e,"stochasticDPoints",u,l)}if(this.getShowValue(o)){var h=o.level,f=o.lineWidth;this.drawBottomLevel("ob",h,this.obColor,f,"",h.toString())}if(this.getShowValue(a)){var d=a.level,p=a.lineWidth;this.drawBottomLevel("os",d,this.osColor,p,"",d.toString())}}},{key:"flush",value:function(){this.points=[],this.kPoints=[],this.dPoints=[],this.cachedPoints={}}},{key:"removeLastCalculatedPoint",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculateKPoints",value:function(){for(var t=this.settings.kPeriod+this.settings.dPeriod,e=this.points.length+t;e<this.candles.length;e++)try{for(var n=this.candles[e],r=n.minValue,i=n.maxValue,o=1;o<this.settings.kPeriod;o++){var a=this.candles[e-o];r=Math.min(a.minValue,r),i=Math.max(a.maxValue,i)}var s=i>r?(n.exitValue-r)/(i-r)*100:50;s=100-s,this.points.push(new RO(s,n.time))}catch(c){console.error(JSON.stringify({index:e,kPeriod:this.settings.kPeriod,candlesLength:this.candles.length,candles:this.candles}))}this.settings.mPeriod>1?this.kPoints=this.getMovingAveragePoints({type:this.settings.ma,candles:this.points,cacheId:"k|".concat(this.points.length>0?this.points[0].time:"--"),period:this.settings.mPeriod}):this.kPoints=this.points}},{key:"calculateDPoints",value:function(){this.dPoints=this.getMovingAveragePoints({type:this.settings.ma,candles:this.kPoints,cacheId:"d|".concat(this.kPoints.length>0?this.kPoints[0].time:"--"),period:this.settings.dPeriod})}}])&&IC(n.prototype,r),i&&IC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function GC(t){return GC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GC(t)}function VC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WC(r.key),r)}}function WC(t){var e=function(t,e){if("object"!=GC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=GC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==GC(e)?e:String(e)}function UC(t,e,n){return e=XC(e),function(t,e){if(e&&("object"===GC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zC()?Reflect.construct(e,n||[],XC(t).constructor):e.apply(t,n))}function zC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zC=function(){return!!t})()}function XC(t){return XC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},XC(t)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$C(t,e)}var YC=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=UC(this,e,[t,n,r])).type=de.W.ZIG_ZAG,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}(e,t),n=e,r=[{key:"flush",value:function(){this.zigZag=[],this.lows=[],this.highs=[],this.points=[]}},{key:"initMinMax",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){if(this.zigZag.length>0){var t=this.zigZag.slice().reverse().findIndex((function(t){return 0!==t}));-1!==t&&(this.zigZag=this.zigZag.slice(0,t),this.lows=this.lows.slice(0,t),this.highs=this.highs.slice(0,t))}}},{key:"calculate",value:function(){if(this.initMinMax(),this.checkFlush(),this.removeLastCalculatedPoint(),this.points=[],this.candles.length>this.settings.depth){this.fillData(this.lows,!0),this.fillData(this.highs,!1),this.calculateZigZag();for(var t=0;t<this.zigZag.length;t++)this.zigZag[t]&&this.points.push(new RO(this.zigZag[t],this.candles[t].time))}}},{key:"draw",value:function(){var t=this.settings.lines.main;if(this.getShowValue(t)){var e=t.color,n=t.lineWidth;this.drawLineWithParams({points:this.points,elementId:"zig-zag-".concat(this.index),color:e,lineWidth:n})}}},{key:"getVal",value:function(t,e){return this.candles[t][this.isLineChart()?"exitValue":e?"minValue":"maxValue"]}},{key:"getExtremumOnPeriod",value:function(t,e){if(t<0)return 0;for(var n=t-this.settings.depth<0?t:this.settings.depth,r=t,i=this.getVal(t,e),o=t;o>t-n;o-=1){var a=this.getVal(o,e);(e&&a<i||!e&&a>i)&&(r=o,i=a)}return this.getVal(r,e)}},{key:"fillData",value:function(t,e){for(var n=0,r=.01*this.settings.deviation,i=this.settings.depth+t.length;i<this.candles.length;i++){var o=this.getExtremumOnPeriod(i,e);if(o!==n){n=o;var a=this.getVal(i,e);if(e&&a-o>o*r||!e&&o-a>o*r)t[i]=0;else{for(var s=1;s<=this.settings.backstep;s++){var c=t[i-s];0!==c&&(e&&c>=o||!e&&c<=o)&&(t[i-s]=0)}t[i]=a===o?o:0}}else o=0,t[i]=0}return t}},{key:"calculateZigZag",value:function(){for(var t=0,e=0,n=0,r=0,i=0,o=this.settings.depth+this.zigZag.length;o<this.candles.length;o++){var a=this.highs[o],s=this.lows[o];switch(t){case 0:0===i&&0===r&&(0!==a&&(r=this.candles[o].maxValue,e=o,t=-1,this.zigZag[o]=this.candles[o]),0!==s&&(i=this.candles[o].minValue,n=o,t=1,this.zigZag[o]=i));break;case 1:0!==s&&s<i&&0===a&&(this.zigZag[n]=0,n=o,i=s,this.zigZag[o]=i),0!==a&&0===s&&(r=a,e=o,this.zigZag[o]=r,t=-1);break;case-1:0!==a&&a>r&&0===s&&(this.zigZag[e]=0,e=o,r=a,this.zigZag[o]=r),0!==s&&0===a&&(i=s,n=o,this.zigZag[o]=i,t=1)}}}}],r&&VC(n.prototype,r),i&&VC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function qC(t){return qC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qC(t)}function KC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rk(r.key),r)}}function ZC(t,e,n){return e=JC(e),function(t,e){if(e&&("object"===qC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tk(t)}(t,QC()?Reflect.construct(e,n||[],JC(t).constructor):e.apply(t,n))}function QC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(QC=function(){return!!t})()}function JC(t){return JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},JC(t)}function tk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ek(t,e){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ek(t,e)}function nk(t,e,n){return(e=rk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rk(t){var e=function(t,e){if("object"!=qC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qC(e)?e:String(e)}var ik=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),nk(tk(i=ZC(this,e,[t,n,r])),"findMaxCallback",(function(t,e){return t<e})),nk(tk(i),"findMinCallback",(function(t,e){return t>e})),i.type=de.W.AROON,i.valueYScaleType=w.gd.Percentage,i.position=w.vh.Bottom,i.max=100,i.min=0,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ek(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"roundValue",value:function(t){return t>=0&&t<=100?(0,sx.T)(t,0):""}},{key:"flush",value:function(){this.up=[],this.down=[]}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.up.length!==this.down.length&&this.flush(),this.calculatePoints()}},{key:"removeLastCalculatedPoint",value:function(){this.up.length>0&&this.up.splice(-1,1),this.down.length>0&&this.down.splice(-1,1)}},{key:"calculatePoints",value:function(){for(var t=this.settings.period+this.up.length;t<this.candles.length;t++){var e=this.candles[t].time;this.up.push(new RO(this.getUpPoint(t),e)),this.down.push(new RO(this.getDownPoint(t),e))}}},{key:"getUpPoint",value:function(t){var e=t-this.findExtremumIndex(t,this.findMaxCallback);return this.getAroonValue(e)}},{key:"getDownPoint",value:function(t){var e=t-this.findExtremumIndex(t,this.findMinCallback);return this.getAroonValue(e)}},{key:"findExtremumIndex",value:function(t,e){for(var n=0,r=0,i=t-this.settings.period;i<=t;i++){var o=this.candles[i].exitValue;n&&!e(n,o)||(n=o,r=i)}return r}},{key:"getAroonValue",value:function(t){return(this.settings.period-t)/this.settings.period*100}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawBottomLevel("100",100,this.colors.indicatorBottomNullLineColor,1,"","100"),this.drawBottomLevel("70",70,this.colors.indicatorBottomNullLineColor,1,"","70"),this.drawBottomLevel("50",50,this.colors.indicatorBottomNullLineColor,1,"","50"),this.drawBottomLevel("30",30,this.colors.indicatorBottomNullLineColor,1,"","30"),this.drawBottomLevel("0",0,this.colors.indicatorBottomNullLineColor,1,"","0");var t=this.settings.lines,e=t.up,n=t.down;this.getShowValue(e)&&this.drawBottomLine(this.up,"up",e.lineWidth,e.color,!0),this.getShowValue(n)&&this.drawBottomLine(this.down,"down",n.lineWidth,n.color,!0)}}])&&KC(n.prototype,r),i&&KC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function ok(t){return ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ok(t)}function ak(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sk(r.key),r)}}function sk(t){var e=function(t,e){if("object"!=ok(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ok(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ok(e)?e:String(e)}function ck(t,e,n){return e=hk(e),function(t,e){if(e&&("object"===ok(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lk()?Reflect.construct(e,n||[],hk(t).constructor):e.apply(t,n))}function lk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lk=function(){return!!t})()}function uk(){return uk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hk(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},uk.apply(this,arguments)}function hk(t){return hk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hk(t)}function fk(t,e){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fk(t,e)}var dk=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=ck(this,e,[t,n,r])).type=de.W.CCI,i.valueYScaleType=w.gd.Range,i.position=w.vh.Bottom,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fk(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return 2*this.settings.period}},{key:"updateSettings",value:function(t){uk(hk(e.prototype),"updateSettings",this).call(this,t),this.obColor=new tx(t.lines.overbought.color,t.lines.overbought.opacity/100),this.osColor=new tx(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"roundValue",value:function(t){return(0,sx.T)(t,0)}},{key:"flush",value:function(){this.initMinMax(),this.filteredPoints=[],this.typicalPrice=[],this.cci=[],this.cachedPoints={}}},{key:"initMinMax",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.typicalPrice.length>0&&this.typicalPrice.splice(-1,1),this.cci.length>0&&this.cci.splice(-1,1)}},{key:"getTypicalPrice",value:function(t){return(t.maxValue+t.minValue+t.exitValue)/3}},{key:"calculate",value:function(){if(!(this.settings.period>=this.candles.length||this.candles.length<2)){this.checkFlush(),this.removeLastCalculatedPoint();for(var t=this.typicalPrice.length;t<this.candles.length;t++)this.typicalPrice.push(new RO(this.getTypicalPrice(this.candles[t]),this.candles[t].time));for(var e=this.sma({candles:this.typicalPrice,period:this.settings.period}),n=this.settings.period+this.cci.length;n<e.length;n++){for(var r=n+this.settings.period-1,i=e[n],o=i.time,a=i.value,s=this.typicalPrice[r].value,c=0,l=0;l<this.settings.period;l++)c+=Math.abs(this.typicalPrice[r-l].value-e[n-l].value);c/=this.settings.period,this.cci.push(new RO(0===c?0:(s-a)/(.015*c),o))}this.filteredPoints=this.filterIndicatorPoints(this.cci,!1),this.recalculateMinMax(this.filteredPoints),this.roundMinMax()}}},{key:"roundMinMax",value:function(){this.max=Math.max(100,100*Math.ceil(this.max/100)),this.min=Math.min(-100,100*Math.floor(this.min/100))}},{key:"getLabelLevelPercent",value:function(t){return 100*Math.abs((t-this.min)/(this.max-this.min))}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.background,n=t.overbought,r=t.main,i=t.oversold;if(this.getShowValue(e)){var o=e.color,a=e.opacity;this.levelBgColor=new tx(o,a/100),this.drawBottomLevelsBg(this.getLabelLevelPercent(i.level),this.getLabelLevelPercent(n.level),this.levelBgColor)}if(this.getShowValue(r)){var s=r.color,c=r.lineWidth;this.drawBottomLine(this.filteredPoints,"period",c,s,!0)}if(this.getShowValue(n)){var l=n.level,u=n.lineWidth,h=this.getLabelLevelPercent(l);this.drawBottomLevel("level_".concat(l),h,this.obColor,u,"",l,l>0)}if(this.getShowValue(n)&&this.max===n.level||this.drawMaxLevel(this.max),this.getShowValue(i)){var f=i.level,d=i.lineWidth,p=this.getLabelLevelPercent(f);this.drawBottomLevel("level_".concat(f),p,this.osColor,d,"",f,f>0)}this.getShowValue(i)&&this.max===i.level||this.drawMinLevel(this.min)}}])&&ak(n.prototype,r),i&&ak(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function pk(t){return pk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pk(t)}function mk(t){return function(t){if(Array.isArray(t))return yk(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return yk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bk(r.key),r)}}function bk(t){var e=function(t,e){if("object"!=pk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pk(e)?e:String(e)}function gk(t,e,n){return e=xk(e),function(t,e){if(e&&("object"===pk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wk()?Reflect.construct(e,n||[],xk(t).constructor):e.apply(t,n))}function wk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wk=function(){return!!t})()}function xk(t){return xk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xk(t)}function jk(t,e){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jk(t,e)}var Ok=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=gk(this,e,[t,n,r])).type=de.W.ENVELOPE,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jk(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.initMinMax(),this.points={top:[],middle:[],bottom:[]},this.filteredPoints={top:[],middle:[],bottom:[]},this.cachedPoints={}}},{key:"calculate",value:function(){this.initMinMax(),this.checkFlush(),this.points.top.length&&(this.points.top.splice(-1,1),this.points.middle.splice(-1,1),this.points.bottom.splice(-1,1));for(var t=this.getMovingAveragePoints({type:this.settings.ma,cacheId:"".concat(this.index,"-").concat(this.settings.period,"-").concat(this.settings.ma),source:this.settings.source,period:this.settings.period}),e=!1,n=this.settings.deviation/100,r=this.points.top.length;r<t.length;r++){var i=t[r],o=i.value,a=i.time;this.points.top.push(new RO(o+o*n,a)),this.points.middle.push(new RO(o,a)),this.points.bottom.push(new RO(o-o*n,a)),e=!0}e&&(this.filteredPoints={top:this.filterIndicatorPoints(this.points.top,!1),middle:this.filterIndicatorPoints(this.points.middle,!1),bottom:this.filterIndicatorPoints(this.points.bottom,!1)})}},{key:"initMinMax",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"draw",value:function(){var t=this;this.clearAllDynamicGraphics(),this.getShowValue(this.settings.lines.background)&&this.drawFill(),Object.keys(this.settings.lines).forEach((function(e){var n=t.settings.lines[e];t.getShowValue(n)&&t.isLine(n)&&t.drawLineWithParams({points:t.filteredPoints[e],elementId:"envelope-".concat(e,"-").concat(t.index),color:n.color,lineWidth:n.lineWidth})}))}},{key:"drawFill",value:function(){var t=mk(this.points.bottom).reverse(),e=[].concat(mk(t),mk(this.points.top)),n=this.settings.lines.background,r=n.color,i=n.opacity,o=this.getDynamicGraphics(w.Rp.INDICATORS,"envelope-".concat(this.index));o.graphics.beginFill(this.prepareColor(r),i/100);for(var a=0;a<e.length;a++){var s=e[a],c=s.time,l=s.value;o.graphics[0===a?"moveTo":"lineTo"](this.getXFromTime(c+this.averageShift*this.pointsInElement),this.getYFromValue(l))}o.graphics.endFill()}}])&&vk(n.prototype,r),i&&vk(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function Sk(t){return Sk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sk(t)}function _k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tk(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ak(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ek(r.key),r)}}function Ek(t){var e=function(t,e){if("object"!=Sk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sk(e)?e:String(e)}function Pk(t,e,n){return e=Nk(e),function(t,e){if(e&&("object"===Sk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ck()?Reflect.construct(e,n||[],Nk(t).constructor):e.apply(t,n))}function Ck(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ck=function(){return!!t})()}function kk(){return kk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nk(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},kk.apply(this,arguments)}function Nk(t){return Nk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nk(t)}function Ik(t,e){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ik(t,e)}var Rk=["tenkanSen","kijunSen","senkouSpanA","senkouSpanB","chikouSpan"],Lk=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Pk(this,e,[t,n,r])).type=de.W.ICHIMOKU_CLOUD,i.position=w.vh.Overlay,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ik(t,e)}(e,t),n=e,r=[{key:"updateSettings",value:function(t){kk(Nk(e.prototype),"updateSettings",this).call(this,t),this.tenkanSenPeriod=t.tenkanSen,this.kijunSenPeriod=t.kijunSen,this.senkouSpanBPeriod=t.senkouSpanB}},{key:"senkouSpanALength",get:function(){return this.senkouSpanA.length}},{key:"senkouSpanBLength",get:function(){return this.senkouSpanB.length}},{key:"minSenkouSpanLength",get:function(){return Math.min(this.senkouSpanALength,this.senkouSpanBLength)}},{key:"maxSenkouSpanLength",get:function(){return Math.max(this.senkouSpanALength,this.senkouSpanBLength)}},{key:"senkouAOffset",get:function(){return this.senkouSpanALength===this.maxSenkouSpanLength?this.maxSenkouSpanLength-this.minSenkouSpanLength:0}},{key:"senkouBOffset",get:function(){return this.senkouSpanBLength===this.maxSenkouSpanLength?this.maxSenkouSpanLength-this.minSenkouSpanLength:0}},{key:"maxPeriod",get:function(){return Math.max(this.tenkanSenPeriod,this.kijunSenPeriod+this.senkouSpanBPeriod)}},{key:"initMinMax",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"flush",value:function(){this.initMinMax(),this.tenkanSen=[],this.kijunSen=[],this.senkouSpanA=[],this.senkouSpanB=[],this.chikouSpan=[],this.fillPoints=[],this.prevTenkanSenLength=0}},{key:"removeLastPoints",value:function(){var t=this;Rk.forEach((function(e){t[e].length>0&&t[e].splice(-1,1)}))}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"calculateHighLowAvgValueForPeriod",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(this.candles.length<e))for(var r=n*(0,g.o0)(this.selectedPlotType,this.chartPeriod),i=e+t.length;i<this.candles.length;i++){for(var o=this.candles[i],a=(0,g.pR)(o,w.U$.LOW),s=(0,g.pR)(o,w.U$.HIGH),c=1;c<e;c++){var l=this.candles[i-c],u=(0,g.pR)(l,w.U$.LOW);u<a&&(a=u);var h=(0,g.pR)(l,w.U$.HIGH);h>s&&(s=h)}t.push(new RO((a+s)/2,o.time+r))}}},{key:"calculateChikouSpan",value:function(t){for(var e=this.kijunSenPeriod*(0,g.o0)(this.selectedPlotType,this.chartPeriod),n=t.length;n<this.candles.length;n++){var r=this.candles[n],i=(0,g.pR)(r,w.U$.CLOSE);t.push(new RO(i,r.time-e))}}},{key:"calculateSenkouSpanA",value:function(t){if(0!==this.tenkanSen.length&&0!==this.kijunSen.length)for(var e=this.kijunSenPeriod*(0,g.o0)(this.selectedPlotType,this.chartPeriod),n=Math.max(this.tenkanSen.length,this.kijunSen.length),r=n-Math.min(this.tenkanSen.length,this.kijunSen.length),i=r+t.length;i<n;i++){var o=this.tenkanSen[this.tenkanSen.length===n?i:i-r],a=this.kijunSen[this.kijunSen.length===n?i:i-r];t.push(new RO((o.value+a.value)/2,o.time+e))}}},{key:"calculateFillPoints",value:function(){if(0!==this.senkouSpanALength&&0!==this.senkouSpanBLength)for(var t=this.fillPoints.length>0?this.fillPoints[this.fillPoints.length-1].index:0,e=this.senkouSpanA[t+this.senkouAOffset].value>this.senkouSpanB[t+this.senkouBOffset].value,n=t+1;n<this.minSenkouSpanLength;n++){var r=this.senkouSpanA[n+this.senkouAOffset],i=this.senkouSpanB[n+this.senkouBOffset],o=r.value>i.value;if(o!==e){var a=(0,g.Y5)(r,this.senkouSpanA[n+this.senkouAOffset-1],i,this.senkouSpanB[n+this.senkouBOffset-1]);this.fillPoints.push({x:a.x,y:a.y,topLine:o?"senkouSpanA":"senkouSpanB",index:n}),e=o}}}},{key:"calculatePoints",value:function(){this.shouldRecalculate()&&(this.removeLastPoints(),this.calculateHighLowAvgValueForPeriod(this.tenkanSen,this.tenkanSenPeriod),this.calculateHighLowAvgValueForPeriod(this.kijunSen,this.kijunSenPeriod),this.calculateHighLowAvgValueForPeriod(this.senkouSpanB,this.senkouSpanBPeriod,this.kijunSenPeriod),this.calculateChikouSpan(this.chikouSpan),this.calculateSenkouSpanA(this.senkouSpanA),this.calculateFillPoints())}},{key:"shouldRecalculate",value:function(){return this.isVisible&&(this.isEndTimeChanged()||this.isChangedFromTo()||this.updated)}},{key:"shouldClearMainGraphLine",value:function(){var t=this.prevTenkanSenLength!==this.tenkanSen.length;return t&&(this.prevTenkanSenLength=this.tenkanSen.length),kk(Nk(e.prototype),"shouldClearMainGraphLine",this).call(this)||t}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawLines(),this.drawSenkouSpanFill()}},{key:"drawLines",value:function(){var t=this;Rk.forEach((function(e){var n=t.settings.lines[e];t.getShowValue(n)&&t.isLine(n)&&t.drawLineWithParams({points:t.filterIndicatorPoints(t[e],!1),elementId:"ichimoku-".concat(e,"-").concat(t.index),color:t.settings.lines[e].color,lineWidth:t.settings.lines[e].lineWidth})}))}},{key:"drawSenkouSpanFill",value:function(){for(var t=this.fillPoints.length,e=this.getTimeFrom(),n=this.getTimeTo(),r=0;r<t;r++){var i=this.fillPoints[r].topLine,o="senkouSpanA"===i?this.senkouAOffset:this.senkouBOffset,a="senkouSpanB"===i?this.senkouAOffset:this.senkouBOffset,s=r===t-1,c="senkouSpanA"===i?"senkouSpanB":"senkouSpanA",l=s?this[c].length-1:this.fillPoints[r+1].index-1+a,u=this.fillPoints[r].index+a,h=this.fillPoints[r].index+o,f=s?this[i].length-1:this.fillPoints[r+1].index-1+o,d=[];s||d.push([this.fillPoints[r+1].x,this.fillPoints[r+1].y]);for(var p=l;p>=u;p--){var m=this[c][p],y=m.value,v=m.time;d.push([v,y])}d.push([this.fillPoints[r].x,this.fillPoints[r].y]);for(var b=h;b<=f;b++){var g=this[i][b],w=g.value,x=g.time;d.push([x,w])}for(var j=!1,O=0;O<d.length;O++){var S=_k(d[O],1)[0];if(e<=S&&S<=n){j=!0;break}}j&&this.drawFill(d,i,r)}}},{key:"drawFill",value:function(t,e,n){var r=this.settings.lines[e];if(this.getShowValue(r)){var i=this.getDynamicGraphics(w.Rp.INDICATORS,"ic-fill-".concat(n,"-").concat(this.index));i.graphics.beginFill(this.prepareColor(this.settings.lines[e].color),this.settings.lines[e].opacity/100);for(var o=0;o<t.length;o++){var a=_k(t[o],2),s=a[0],c=a[1];i.graphics[0===o?"moveTo":"lineTo"](this.getXFromTime(s+this.averageShift*this.pointsInElement),this.getYFromValue(c))}i.graphics.endFill()}}}],r&&Ak(n.prototype,r),i&&Ak(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function Dk(t){return Dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dk(t)}function Mk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bk(r.key),r)}}function Bk(t){var e=function(t,e){if("object"!=Dk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Dk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dk(e)?e:String(e)}function Hk(t,e,n){return e=Vk(e),function(t,e){if(e&&("object"===Dk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fk()?Reflect.construct(e,n||[],Vk(t).constructor):e.apply(t,n))}function Fk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fk=function(){return!!t})()}function Gk(){return Gk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vk(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Gk.apply(this,arguments)}function Vk(t){return Vk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vk(t)}function Wk(t,e){return Wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wk(t,e)}var Uk=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Hk(this,e,[t,n,r])).type=de.W.DEMARKER,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.min=0,i.max=1,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wk(t,e)}(e,t),n=e,r=[{key:"maxPeriod",get:function(){return this.settings.period+1}},{key:"updateSettings",value:function(t){Gk(Vk(e.prototype),"updateSettings",this).call(this,t),this.obColor=new tx(t.lines.overbought.color,t.lines.overbought.opacity/100),this.osColor=new tx(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"roundValue",value:function(t){return t>=0&&t<=1?(0,sx.T)(t,2):""}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"flush",value:function(){this.deMax=[],this.deMin=[],this.deMark=[],this.filteredPoints=[],this.prevFirstFiltered="",this.prevLastFiltered="",this.cachedPoints={}}},{key:"removeLastPoints",value:function(){this.deMax.length>0&&this.deMax.splice(-1,1),this.deMin.length>0&&this.deMin.splice(-1,1),this.deMark.length>0&&this.deMark.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.period+1>this.candles.length)){this.removeLastPoints();for(var t=this.settings.period+1+this.deMax.length;t<this.candles.length;t++){var e=this.candles[t].time,n=(0,g.pR)(this.candles[t],w.U$.HIGH),r=(0,g.pR)(this.candles[t-1],w.U$.HIGH);this.deMax.push(new RO(n>r?n-r:0,e));var i=(0,g.pR)(this.candles[t],w.U$.LOW),o=(0,g.pR)(this.candles[t-1],w.U$.LOW);this.deMin.push(new RO(i<o?o-i:0,e))}var a=this.settings.period;this.smaDMax=this.sma({candles:this.deMax,cacheId:"demarker-max-".concat(a),period:a}),this.smaDMin=this.sma({candles:this.deMin,cacheId:"demarker-min-".concat(a),period:a});for(var s=this.deMark.length;s<this.smaDMax.length;s++){var c=this.smaDMax[s],l=c.time,u=c.value,h=this.smaDMin[s].value;this.deMark.push(new RO(u+h!==0?u/(u+h):0,l))}this.filteredPoints=this.filterIndicatorPoints(this.deMark,!1)}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.overbought,n=t.oversold,r=t.main;if(this.getShowValue(e)&&e.level>0){var i=e.level,o=e.lineWidth;this.drawBottomLevel("overbought",i,this.obColor,o,"",i)}if(this.getShowValue(n)&&n.level>0){var a=n.level,s=n.lineWidth;this.drawBottomLevel("oversold",a,this.osColor,s,"",a)}if(this.getShowValue(r)){var c=r.color,l=r.lineWidth,u=de.Ay.CHART,h=u.FIGURE,f=u.HISTOGRAM_COLOR_MODE;this.settings.lines.main.figure===h.LINE?this.drawBottomLine(this.filteredPoints,"demarker",l,c,!0):this.settings.lines.main.figure===h.HISTOGRAM&&(this.drawBottomHistogram(this.filteredPoints,c,c,.5,f.FROM_ZERO_LEVEL),this.drawMiddleLevel(""))}}}],r&&Mk(n.prototype,r),i&&Mk(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function zk(t){return zk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zk(t)}function Xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$k(r.key),r)}}function $k(t){var e=function(t,e){if("object"!=zk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zk(e)?e:String(e)}function Yk(t,e,n){return e=Zk(e),function(t,e){if(e&&("object"===zk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qk()?Reflect.construct(e,n||[],Zk(t).constructor):e.apply(t,n))}function qk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qk=function(){return!!t})()}function Kk(){return Kk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zk(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Kk.apply(this,arguments)}function Zk(t){return Zk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zk(t)}function Qk(t,e){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qk(t,e)}var Jk=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Yk(this,e,[t,n,r])).type=de.W.WILLIAMS_R,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.max=10,i.min=-110,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qk(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"updateSettings",value:function(t){Kk(Zk(e.prototype),"updateSettings",this).call(this,t),this.obColor=new tx(t.lines.upperBand.color,t.lines.upperBand.opacity/100),this.osColor=new tx(t.lines.lowerBand.color,t.lines.lowerBand.opacity/100)}},{key:"roundValue",value:function(t){return(0,sx.T)(t,0)}},{key:"flush",value:function(){this.points=[],this.filteredPoints=[]}},{key:"removeLastPoints",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var t=this.settings.period+this.points.length;t<this.candles.length;t++){var e=this.candles[t],n=this.highest(t,this.settings.period,w.U$.HIGH),r=this.lowest(t,this.settings.period,w.U$.LOW),i=(0,g.pR)(e,w.U$.CLOSE),o=n-r,a=0===o?0:(n-i)/o*-100;this.points.push(new RO(a,e.time))}this.filteredPoints=this.filterIndicatorPoints(this.points,!1)}}},{key:"getBandPercent",value:function(t){return 100-(this.max-t)/(this.max-this.min)*100}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.upperBand,n=t.lowerBand,r=t.main;if(this.getShowValue(e)){var i=e.level,o=e.lineWidth;this.drawBottomLevel("upperBand",this.getBandPercent(i),this.obColor,o,"",i)}if(this.getShowValue(n)){var a=n.level,s=n.lineWidth;this.drawBottomLevel("lowerBand",this.getBandPercent(a),this.osColor,s,"",a)}if(this.getShowValue(r)){var c=Math.round(100-(this.max-(n.level+e.level)/2)/(this.max-this.min)*100);this.drawBottomLevel("middle",c,this.colors.indicatorBottomNullLineColor,1,"",-c)}var l=de.Ay.CHART.FIGURE,u=l.HISTOGRAM,h=l.LINE,f=this.settings.lines.main,d=f.color,p=f.figure,m=f.lineWidth;p===h?this.drawBottomLine(this.filteredPoints,"williams_r",m,d,!0):p===u&&this.drawBottomHistogram(this.filteredPoints,d,d)}}])&&Xk(n.prototype,r),i&&Xk(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function tN(t){return tN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tN(t)}function eN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nN(r.key),r)}}function nN(t){var e=function(t,e){if("object"!=tN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tN(e)?e:String(e)}function rN(t,e,n){return e=oN(e),function(t,e){if(e&&("object"===tN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,iN()?Reflect.construct(e,n||[],oN(t).constructor):e.apply(t,n))}function iN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(iN=function(){return!!t})()}function oN(t){return oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oN(t)}function aN(t,e){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},aN(t,e)}var sN=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=rN(this,e,[t,n,r])).type=de.W.BULLS_POWER,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aN(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.points=[],this.ema=[],this.filteredPoints=[]}},{key:"removeLastPoints",value:function(){this.points.length>0&&this.points.splice(-1,1),this.ema.length>0&&this.ema.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints(),this.filterPoints()}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints(),this.ema=this.getEMA(this.ema,this.settings.period);for(var t=this.settings.period+this.points.length;t<this.candles.length;t++){var e=this.candles[t],n=this.ema[t-this.settings.period];this.points.push(new RO(this.calculateValue(e,n),e.time))}}}},{key:"calculateValue",value:function(t,e){return(0,g.pR)(t,w.U$.HIGH)-e.value}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"zeroLevelPercent",get:function(){return 100*this.zeroLevel}},{key:"filterPoints",value:function(){this.filteredPoints=this.filterIndicatorPoints(this.points,!1),this.recalculateMinMax(this.filteredPoints)}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.figure,i=this.colors.indicatorBottomNullLineColor;r===de.Ay.CHART.FIGURE.LINE?(this.drawBottomLine(this.filteredPoints,this.type,n,e,!0),this.drawBottomLevel("zero",this.zeroLevelPercent,i,1,"","0")):r===de.Ay.CHART.FIGURE.HISTOGRAM&&(this.drawBottomHistogram(this.filteredPoints,e,e,this.zeroLevel),this.drawBottomLevel("histogram_zero",this.zeroLevelPercent,i,1,"","0"))}}])&&eN(n.prototype,r),i&&eN(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function cN(t){return cN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cN(t)}function lN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uN(r.key),r)}}function uN(t){var e=function(t,e){if("object"!=cN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cN(e)?e:String(e)}function hN(t,e,n){return e=dN(e),function(t,e){if(e&&("object"===cN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fN()?Reflect.construct(e,n||[],dN(t).constructor):e.apply(t,n))}function fN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fN=function(){return!!t})()}function dN(t){return dN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dN(t)}function pN(t,e){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pN(t,e)}var mN=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=hN(this,e,[t,n,r])).type=de.W.BEARS_POWER,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pN(t,e)}(e,t),n=e,(r=[{key:"calculateValue",value:function(t,e){return(0,g.pR)(t,w.U$.LOW)-e.value}}])&&lN(n.prototype,r),i&&lN(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(sN);function yN(t){return yN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yN(t)}function vN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bN(r.key),r)}}function bN(t){var e=function(t,e){if("object"!=yN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yN(e)?e:String(e)}function gN(t,e,n){return e=jN(e),function(t,e){if(e&&("object"===yN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wN()?Reflect.construct(e,n||[],jN(t).constructor):e.apply(t,n))}function wN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wN=function(){return!!t})()}function xN(){return xN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jN(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},xN.apply(this,arguments)}function jN(t){return jN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jN(t)}function ON(t,e){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ON(t,e)}var SN=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=gN(this,e,[t,n,r])).type=de.W.MOMENTUM,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ON(t,e)}(e,t),n=e,r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"zeroLevelPercent",get:function(){return 100*Math.abs((this.max-100)/(this.max-this.min))}},{key:"updateSettings",value:function(t){xN(jN(e.prototype),"updateSettings",this).call(this,t);var n=this.settings.lines.main,r=n.colors,i=n.opacity,o=r.up,a=r.down;this.upColor=new tx(o.color,i/100),this.downColor=new tx(a.color,i/100)}},{key:"roundValue",value:function(t){return(0,sx.T)(t,2)}},{key:"flush",value:function(){this.points=[],this.histogramPoints=[],this.filteredPoints=[],this.resetMinMax()}},{key:"removeLastPoints",value:function(){this.points.length>0&&this.points.splice(-1,1),this.histogramPoints.length>0&&this.histogramPoints.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var t=this.settings.period+this.points.length;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-this.settings.period],r=100*(0,g.pR)(e,this.settings.source)/(0,g.pR)(n,this.settings.source);this.points.push(new RO(r,e.time)),this.histogramPoints.push(new RO(r-100,e.time))}}}},{key:"filterPoints",value:function(){this.filteredPoints=this.filterIndicatorPoints(this.points,!1),this.recalculateMinMax(this.filteredPoints)}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.settings.lines.main.figure===Uv.HISTOGRAM){this.recalculateMinMax(this.histogramPoints);var t=Math.abs(this.min/(this.max-this.min));this.drawMaxLevel(this.max),this.drawMiddleLevel(0),this.drawMinLevel(this.min);var e=de.Ay.CHART.HISTOGRAM_COLOR_MODE.FROM_ZERO_LEVEL;this.drawBottomHistogram(this.histogramPoints,this.downColor,this.upColor,t,e)}else{if(this.filterPoints(),this.getShowValue(this.settings.lines.main)){var n=this.settings.lines.main.lineWidth;this.drawBottomLine(this.filteredPoints,this.type,n,this.upColor,!0)}var r=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("100",100-this.zeroLevelPercent,r,1,"","100"),this.drawMaxLevel(this.max),this.drawMinLevel(this.min)}}}],r&&vN(n.prototype,r),i&&vN(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function _N(t){return _N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_N(t)}function TN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AN(r.key),r)}}function AN(t){var e=function(t,e){if("object"!=_N(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_N(e)?e:String(e)}function EN(t,e,n){return e=CN(e),function(t,e){if(e&&("object"===_N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,PN()?Reflect.construct(e,n||[],CN(t).constructor):e.apply(t,n))}function PN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(PN=function(){return!!t})()}function CN(t){return CN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},CN(t)}function kN(t,e){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kN(t,e)}var NN=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=EN(this,e,[t,n,r])).type=de.W.VORTEX,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kN(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"roundValue",value:function(t){return(0,qn.xr)(t,2)}},{key:"flush",value:function(){this.vmPlus=[],this.vmMinus=[],this.tr=[],this.viPlus=[],this.viMinus=[]}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"removeLastPoints",value:function(){this.vmPlus.length>0&&this.vmPlus.splice(-1,1),this.vmMinus.length>0&&this.vmMinus.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.viPlus.length>0&&this.viPlus.splice(-1,1),this.viMinus.length>0&&this.viMinus.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var t=1+this.vmPlus.length;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-1],r=(0,g.pR)(e,w.U$.HIGH),i=(0,g.pR)(e,w.U$.LOW),o=(0,g.pR)(n,w.U$.HIGH),a=(0,g.pR)(n,w.U$.LOW),s=(0,g.pR)(n,w.U$.CLOSE);this.vmPlus.push(new RO(Math.abs(r-a),e.time)),this.vmMinus.push(new RO(Math.abs(i-o),e.time));var c=Math.max(r-i,Math.abs(r-s),Math.abs(i-s));if(this.tr.push(new RO(c,e.time)),t>=this.settings.period){var l=this.sumLast(this.vmPlus,this.settings.period),u=this.sumLast(this.vmMinus,this.settings.period),h=this.sumLast(this.tr,this.settings.period);this.viPlus.push(new RO(0===h?0:l/h,e.time)),this.viMinus.push(new RO(0===h?0:u/h,e.time))}}}}},{key:"sumLast",value:function(t,e){for(var n=0,r=t.length-1,i=r-e+1,o=r;o>=i;o--)n+=t[o].value;return n}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterPoints(this.viPlus),e=this.filterPoints(this.viMinus);this.recalculateMinMax(t,e),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var n=this.settings.lines,r=n.viPlus,i=n.viMinus;if(this.getShowValue(r)){var o=r.color,a=r.lineWidth;this.drawBottomLine(t,"vi_plus",a,o,!0)}if(this.getShowValue(i)){var s=i.color,c=i.lineWidth;this.drawBottomLine(e,"vi_minus",c,s,!0)}t.length>0&&e.length>0&&(this.drawMaxLevel(this.max),this.drawMinLevel(this.min));var l=(1-this.min)/(this.max-this.min)*100;if(l>0&&l<100){var u=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("one",l,u,1,"",1)}}}])&&TN(n.prototype,r),i&&TN(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function IN(t){return IN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IN(t)}function RN(t){return function(t){if(Array.isArray(t))return LN(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return LN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LN(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MN(r.key),r)}}function MN(t){var e=function(t,e){if("object"!=IN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=IN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==IN(e)?e:String(e)}function BN(t,e,n){return e=FN(e),function(t,e){if(e&&("object"===IN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,HN()?Reflect.construct(e,n||[],FN(t).constructor):e.apply(t,n))}function HN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(HN=function(){return!!t})()}function FN(t){return FN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},FN(t)}function GN(t,e){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},GN(t,e)}var VN=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=BN(this,e,[t,n,r])).type=de.W.KELTNER_CHANNEL,i.position=w.vh.Overlay,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GN(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return Math.max(this.settings.emaPeriod,this.settings.atrPeriod)}},{key:"flush",value:function(){this.ema=[],this.tr=[],this.atr=[],this.upperBand=[],this.lowerBand=[],this.filteredPoints={top:[],middle:[],bottom:[]}}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"removeLastPoints",value:function(){this.ema.length>0&&this.ema.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.atr.length>0&&this.atr.splice(-1,1),this.upperBand.length>0&&this.upperBand.splice(-1,1),this.lowerBand.length>0&&this.lowerBand.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.emaPeriod>this.candles.length||this.settings.atrPeriod>this.candles.length)){this.removeLastPoints();for(var t=2/(this.settings.emaPeriod+1),e=2/(this.settings.atrPeriod+1),n=this.ema.length+this.settings.emaPeriod;n<this.candles.length;n++){var r=this.candles[n],i=this.candles[n-1],o=(0,g.pR)(r,w.U$.CLOSE);this.ema.length>0&&(o=t*o+(1-t)*this.ema[this.ema.length-1].value);var a=(0,g.pR)(r,w.U$.HIGH),s=(0,g.pR)(r,w.U$.LOW),c=(0,g.pR)(i,w.U$.CLOSE),l=Math.max(a-s,Math.abs(a-c),Math.abs(s-c));if(this.ema.push(new RO(o,r.time)),this.tr.push(new RO(l,r.time)),this.tr.length>=this.settings.atrPeriod){var u=l;this.atr.length>0&&(u=e*u+(1-e)*this.atr[this.atr.length-1].value),this.atr.push(new RO(u,r.time)),this.upperBand.push(new RO(o+this.settings.multiplier*u,r.time)),this.lowerBand.push(new RO(o-this.settings.multiplier*u,r.time))}}this.filteredPoints={top:this.filterIndicatorPoints(this.upperBand,!1),middle:this.filterIndicatorPoints(this.ema,!1),bottom:this.filterIndicatorPoints(this.lowerBand,!1)}}}},{key:"draw",value:function(){var t=this;if(this.clearAllDynamicGraphics(),Object.keys(this.settings.lines).forEach((function(e){var n=t.settings.lines[e];t.getShowValue(n)&&t.isLine(n)&&t.drawLineWithParams({points:t.filteredPoints[e],elementId:"keltner-".concat(e,"-").concat(t.index),color:n.color,lineWidth:n.lineWidth})})),this.getShowValue(this.settings.lines.background)){var e=[].concat(RN(this.filteredPoints.top),RN(this.filteredPoints.bottom.slice().reverse()));this.drawFill(e)}}},{key:"drawFill",value:function(t){var e=this.getDynamicGraphics(w.Rp.INDICATORS,"keltner-fill-".concat(this.index)),n=this.settings.lines.background,r=n.color,i=n.opacity;e.graphics.beginFill(this.prepareColor(r),i/100);for(var o=0;o<t.length;o++){var a=t[o],s=a.time,c=a.value;e.graphics[0===o?"moveTo":"lineTo"](this.getXFromTime(s+this.averageShift*this.pointsInElement),this.getYFromValue(c))}e.graphics.endFill()}}])&&DN(n.prototype,r),i&&DN(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function WN(t){return WN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WN(t)}function UN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zN(r.key),r)}}function zN(t){var e=function(t,e){if("object"!=WN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=WN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==WN(e)?e:String(e)}function XN(t,e,n){return e=qN(e),function(t,e){if(e&&("object"===WN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$N()?Reflect.construct(e,n||[],qN(t).constructor):e.apply(t,n))}function $N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($N=function(){return!!t})()}function YN(){return YN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qN(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},YN.apply(this,arguments)}function qN(t){return qN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qN(t)}function KN(t,e){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},KN(t,e)}var ZN=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=XN(this,e,[t,n,r])).type=de.W.SCHAFF_TREND_CYCLE,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Percentage,i.min=0,i.max=100,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KN(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){var t=this.settings,e=t.cycle,n=t.fast,r=t.slow,i=t.macdD,o=t.pfD;return Math.max(n,r)+2*e+i+o}},{key:"updateSettings",value:function(t){YN(qN(e.prototype),"updateSettings",this).call(this,t),this.obColor=new tx(t.lines.overbought.color,t.lines.overbought.opacity/100),this.osColor=new tx(t.lines.oversold.color,t.lines.oversold.opacity/100)}},{key:"flush",value:function(){this.cachedPoints={},this.shortEma=[],this.longEma=[],this.macd=[],this.macdK=[],this.macdD=[],this.pf=[],this.pff=[]}},{key:"removeLastCalculatedPoint",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"roundValue",value:function(t){return t>=0&&t<=100?(0,sx.T)(t,0):""}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint();var t=this.settings,e=t.cycle,n=t.fast,r=t.slow,i=t.macdD,o=t.pfD;this.getEMA(this.shortEma,n),this.getEMA(this.longEma,r),this.calculateMacd(this.macd),this.calculateK(this.macdK,this.macd,e),this.getEMA(this.macdD,i,this.macdK),this.calculateK(this.pf,this.macdD,e),this.getEMA(this.pff,o,this.pf)}},{key:"calculateMacd",value:function(t){for(var e=Math.abs(this.shortEma.length-this.longEma.length),n=this.longEma.length>this.shortEma.length?this.longEma.length:this.shortEma.length,r=e+t.length;r<n;r++){var i=this.longEma.length>this.shortEma.length?r-e:r,o=this.longEma.length<this.shortEma.length?r-e:r,a=this.shortEma[i].value-this.longEma[o].value;t.push(new RO(a,this.shortEma[i].time))}}},{key:"calculateK",value:function(t,e,n){for(var r=n+t.length;r<e.length;r++){for(var i=this.max,o=this.min,a=0;a<n;a++){var s=e[r-a].value;i>s&&(i=s),o<s&&(o=s)}var c=e.length>0?e[e.length-1].value:50,l=o>i?(e[r].value-i)/(o-i)*100:c;t.push(new RO(l,e[r].time))}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var t=this.settings.lines,e=t.main,n=t.overbought,r=t.oversold;if(this.getShowValue(e)){var i=e.color,o=e.lineWidth,a=this.filterIndicatorPoints(this.pff,!1);this.drawBottomLine(a,"sct-pff",o,i,!0)}if(this.getShowValue(n)){var s=n.level,c=n.lineWidth;this.drawBottomLevel("ob",s,this.obColor,c,"",s.toString())}if(this.getShowValue(r)){var l=r.level,u=r.lineWidth;this.drawBottomLevel("os",l,this.osColor,u,"",l.toString())}}}])&&UN(n.prototype,r),i&&UN(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function QN(t){return QN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QN(t)}function JN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tI(r.key),r)}}function tI(t){var e=function(t,e){if("object"!=QN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==QN(e)?e:String(e)}function eI(t,e,n){return e=rI(e),function(t,e){if(e&&("object"===QN(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nI()?Reflect.construct(e,n||[],rI(t).constructor):e.apply(t,n))}function nI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nI=function(){return!!t})()}function rI(t){return rI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rI(t)}function iI(t,e){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iI(t,e)}var oI=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=eI(this,e,[t,n,r])).type=de.W.ATR,i.valueYScaleType=w.gd.Range,i.position=w.vh.Bottom,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iI(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period+1}},{key:"flush",value:function(){this.tr=[],this.atr=[]}},{key:"removeLastCalculatedPoint",value:function(){this.tr.length>0&&this.tr.splice(-1,1),this.atr.length>0&&this.atr.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint();for(var t=this.tr.length+1;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-1];this.tr.push(new RO((0,g.eZ)(e,n),e.time))}if(!(this.tr.length<this.settings.period)){0===this.atr.length&&this.atr.push(new RO((0,g.Zf)(this.tr,0,this.settings.period),this.tr[0].time));for(var r=this.atr.length;r<this.tr.length;r++){var i=this.tr[r],o=i.time,a=i.value,s=(this.atr[r-1].value*(this.settings.period-1)+a)/this.settings.period;this.atr.push(new RO(s,o))}this.filteredPoints=this.filterIndicatorPoints(this.atr,!1)}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.recalculateMinMax(this.filteredPoints),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawMaxLevel(this.max),this.drawMiddleLevel((this.max+this.min)/2),this.drawMinLevel(this.min);var t=this.settings.lines.main;if(this.getShowValue(t)){var e=t.color,n=t.lineWidth;this.drawBottomLine(this.filteredPoints,"period",n,e,!0)}}}])&&JN(n.prototype,r),i&&JN(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function aI(t){return aI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aI(t)}function sI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cI(r.key),r)}}function cI(t){var e=function(t,e){if("object"!=aI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aI(e)?e:String(e)}function lI(t,e,n){return e=fI(e),function(t,e){if(e&&("object"===aI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,uI()?Reflect.construct(e,n||[],fI(t).constructor):e.apply(t,n))}function uI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uI=function(){return!!t})()}function hI(){return hI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fI(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},hI.apply(this,arguments)}function fI(t){return fI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fI(t)}function dI(t,e){return dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dI(t,e)}var pI=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=lI(this,e,[t,n,r])).type=de.W.OSMA,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dI(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return Math.max(this.settings.fastPeriod,this.settings.slowPeriod,this.settings.signalPeriod)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"zeroLevelPercent",get:function(){return 100*this.zeroLevel}},{key:"updateSettings",value:function(t){hI(fI(e.prototype),"updateSettings",this).call(this,t);var n=t.lines.histogram;this.histogramColor=new tx(n.color,n.opacity/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculateMACDPoints(),this.calculateOsMA()}},{key:"flush",value:function(){this.macd=[],this.signal=[],this.osma=[],this.emaFast=[],this.emaSlow=[],this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.emaFast.length>0&&this.emaFast.splice(-1,1),this.emaSlow.length>0&&this.emaSlow.splice(-1,1),this.macd.length>0&&this.macd.splice(-1,1),this.signal.length>0&&this.signal.splice(-1,1),this.osma.length>0&&this.osma.splice(-1,1)}},{key:"calculateMACDPoints",value:function(){this.emaFast=this.getEMA(this.emaFast,this.settings.fastPeriod),this.emaSlow=this.getEMA(this.emaSlow,this.settings.slowPeriod);for(var t=Math.max(this.emaFast.length,this.emaSlow.length),e=t-Math.min(this.emaFast.length,this.emaSlow.length),n=e+this.macd.length;n<this.candles.length;n++){var r=this.emaSlow.length===t?this.emaSlow[n]:this.emaSlow[n-e],i=this.emaFast.length===t?this.emaFast[n]:this.emaFast[n-e];r&&i&&this.macd.push(new RO(i.value-r.value,r.time))}this.signal=this.sma({candles:this.macd,period:this.settings.signalPeriod})}},{key:"calculateOsMA",value:function(){for(var t=this.osma.length;t<this.signal.length;t++){var e=this.macd[t+this.settings.signalPeriod],n=this.signal[t];e&&n&&this.osma.push(new RO(e.value-n.value,e.time))}}},{key:"getZeroLabel",value:function(){return this.zeroLevelPercent<90?"0":""}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.osma,!1);if(this.recalculateMinMax(t),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.getShowValue(this.settings.lines.histogram)){var e=this.histogramColor;this.drawBottomHistogram(t,e,e,this.zeroLevel)}var n=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("zero",this.zeroLevelPercent,n,1,"",this.getZeroLabel()),this.drawMaxLevel(this.max),this.drawMinLevel(this.min)}}])&&sI(n.prototype,r),i&&sI(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function mI(t){return mI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mI(t)}function yI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vI(r.key),r)}}function vI(t){var e=function(t,e){if("object"!=mI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mI(e)?e:String(e)}function bI(t,e,n){return e=wI(e),function(t,e){if(e&&("object"===mI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gI()?Reflect.construct(e,n||[],wI(t).constructor):e.apply(t,n))}function gI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gI=function(){return!!t})()}function wI(t){return wI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wI(t)}function xI(t,e){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xI(t,e)}var jI=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=bI(this,e,[t,n,r])).type=de.W.BOLLINGER_BANDS_WIDTH,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xI(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.initMinMax(),this.points={top:[],middle:[],bottom:[]},this.filteredPoints={top:[],middle:[],bottom:[]},this.bbw=[]}},{key:"initMinMax",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"calculate",value:function(){this.initMinMax(),this.checkFlush(),this.points.top.length&&this.bbw.splice(-1,1);for(var t=this.bbw.length+this.settings.period;t<this.candles.length;t++){for(var e=0,n=0;n<this.settings.period;n++){var r=t-n;r>=0&&(e+=this.candles[r].exitValue)}for(var i=e/this.settings.period,o=0,a=0;a<this.settings.period;a++){var s=t-a;s>=0&&(o+=Math.pow(this.candles[s].exitValue-i,2))}o=Math.sqrt(o/this.settings.period);var c=this.candles[t].time,l=i+this.settings.deviation*o,u=i-this.settings.deviation*o;this.bbw.push(new RO(0!==i?(l-u)/i:0,c))}}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var t=this.filterIndicatorPoints(this.bbw,!1);this.recalculateMinMax(t),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var e=this.settings.lines.main;if(this.getShowValue(e)){var n=e.color,r=e.lineWidth;this.drawBottomLine(t,"bbw",r,n,!0)}this.drawMaxLevel(this.max),this.drawMinLevel(this.min)}}])&&yI(n.prototype,r),i&&yI(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function OI(t){return OI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OI(t)}function SI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_I(r.key),r)}}function _I(t){var e=function(t,e){if("object"!=OI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OI(e)?e:String(e)}function TI(t,e,n){return e=EI(e),function(t,e){if(e&&("object"===OI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,AI()?Reflect.construct(e,n||[],EI(t).constructor):e.apply(t,n))}function AI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(AI=function(){return!!t})()}function EI(t){return EI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},EI(t)}function PI(t,e){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},PI(t,e)}var CI=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=TI(this,e,[t,n,r])).type=de.W.DONCHIAN_CHANNEL,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PI(t,e)}(e,t),n=e,(r=[{key:"calculatePoints",value:function(t){var e=this.highest(t,this.settings.period,w.U$.HIGH),n=this.lowest(t,this.settings.period,w.U$.LOW),r=(e+n)/2,i=this.candles[t].time;this.points.top.push(new RO(e,i)),this.points.middle.push(new RO(r,i)),this.points.bottom.push(new RO(n,i))}}])&&SI(n.prototype,r),i&&SI(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(IP);function kI(t){return kI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kI(t)}function NI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,II(r.key),r)}}function II(t){var e=function(t,e){if("object"!=kI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kI(e)?e:String(e)}function RI(t,e,n){return e=MI(e),function(t,e){if(e&&("object"===kI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,LI()?Reflect.construct(e,n||[],MI(t).constructor):e.apply(t,n))}function LI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(LI=function(){return!!t})()}function DI(){return DI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=MI(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},DI.apply(this,arguments)}function MI(t){return MI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},MI(t)}function BI(t,e){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},BI(t,e)}var HI=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=RI(this,e,[t,n,r])).type=de.W.ACCELERATOR_OSCILLATOR,i.position=w.vh.Bottom,i.valueYScaleType=w.gd.Range,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BI(t,e)}(e,t),n=e,r=[{key:"maxPeriod",get:function(){var t=this.settings,e=t.aoPeriodShort,n=t.aoPeriodLong,r=t.acPeriod;return Math.max(e,n,r)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"updateSettings",value:function(t){DI(MI(e.prototype),"updateSettings",this).call(this,t);var n=this.settings.lines.main,r=n.colors,i=n.opacity,o=r.up,a=r.down;this.upColor=new tx(o.color,i/100),this.downColor=new tx(a.color,i/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculatePoints()}},{key:"flush",value:function(){this.aoShort=[],this.aoLong=[],this.ao=[],this.aoSMA=[],this.ac=[],this.cachedPoints={},this.initMinMax()}},{key:"initMinMax",value:function(){this.position===w.vh.Overlay?(this.maxValue=de.Ay.CHART.DBL_MIN,this.minValue=de.Ay.CHART.DBL_MAX):(this.minVal=de.Ay.CHART.DBL_MAX,this.maxVal=de.Ay.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.aoShort.length>0&&this.aoShort.splice(-1,1),this.aoLong.length>0&&this.aoLong.splice(-1,1),this.ao.length>0&&this.ao.splice(-1,1),this.aoSMA.length>0&&this.aoSMA.splice(-1,1),this.ac.length>0&&this.ac.splice(-1,1)}},{key:"calculatePoints",value:function(){var t=this.settings,e=t.aoPeriodShort,n=t.aoPeriodLong,r=t.acPeriod;this.aoShort=this.sma({source:w.U$.HL2,period:e}),this.aoLong=this.sma({source:w.U$.HL2,period:n});for(var i=Math.max(this.aoShort.length,this.aoLong.length),o=i-Math.min(this.aoShort.length,this.aoLong.length),a=o+this.ao.length;a<this.candles.length;a++){var s=this.aoLong.length===i?this.aoLong[a]:this.aoLong[a-o],c=this.aoShort.length===i?this.aoShort[a]:this.aoShort[a-o];s&&c&&this.ao.push(new RO(c.value-s.value,s.time))}if(0!==this.ao.length){this.aoSMA=this.sma({period:r,cacheId:"ao-sma-".concat(r,"-").concat(e,"-").concat(n),candles:this.ao});for(var l=this.ac.length;l<this.aoSMA.length;l++){var u=this.aoSMA[l],h=this.ao[l+r-1];u.time!==h.time?console.log("sma.time ".concat(u.time," !== ao.time ").concat(h.time)):this.ac.push(new RO(h.value-u.value,u.time))}}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.recalculateMinMax(this.filterIndicatorPoints(this.ac)),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawMaxLevel(this.max),this.drawBottomLevel("zero",100*this.zeroLevel,this.colors.indicatorBottomNullLineColor,1,"",0),this.drawMinLevel(this.min);var t=this.settings.lines.main;this.getShowValue(t)&&this.drawBottomHistogram(this.ac,this.upColor,this.downColor,this.zeroLevel)}},{key:"destroy",value:function(){DI(MI(e.prototype),"destroy",this).call(this),this.core.destroyDynamicContainer(w.Rp.INDICATORS_BOTTOM,"ao-container-".concat(this.index))}}],r&&NI(n.prototype,r),i&&NI(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function FI(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return GI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GI(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VI(t){return VI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VI(t)}function WI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UI(r.key),r)}}function UI(t){var e=function(t,e){if("object"!=VI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=VI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==VI(e)?e:String(e)}function zI(t,e,n){return e=$I(e),function(t,e){if(e&&("object"===VI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,XI()?Reflect.construct(e,n||[],$I(t).constructor):e.apply(t,n))}function XI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(XI=function(){return!!t})()}function $I(t){return $I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$I(t)}function YI(t,e){return YI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},YI(t,e)}var qI=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=zI(this,e,[t,n,r])).type=de.W.SUPERTREND,i.position=w.vh.Overlay,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YI(t,e)}(e,t),n=e,r=[{key:"maxPeriod",get:function(){return this.settings.atrPeriod}},{key:"flush",value:function(){this.tr=[],this.atr=[],this.basicUpperband=[],this.basicLowerband=[],this.finalUpperband=[],this.finalLowerband=[],this.superTrend=[]}},{key:"removeLastPoints",value:function(){this.tr.length>0&&this.tr.splice(-1,1),this.atr.length>0&&this.atr.splice(-1,1),this.basicUpperband.length>0&&this.basicUpperband.splice(-1,1),this.basicLowerband.length>0&&this.basicLowerband.splice(-1,1),this.finalUpperband.length>0&&this.finalUpperband.splice(-1,1),this.finalLowerband.length>0&&this.finalLowerband.splice(-1,1),this.superTrend.length>0&&this.superTrend.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastPoints();for(var t=this.tr.length+1;t<this.candles.length;t++){var e=this.candles[t],n=this.candles[t-1];this.tr.push(new RO((0,g.eZ)(e,n),e.time))}var r=this.settings,i=r.atrPeriod,o=r.multiplier;if(!(this.tr.length<i)){0===this.atr.length&&this.atr.push(new RO((0,g.Zf)(this.tr,0,i),this.tr[0].time));for(var a=this.atr.length;a<this.tr.length;a++){var s=this.tr[a],c=s.time,l=s.value,u=(this.atr[a-1].value*(i-1)+l)/i;this.atr.push(new RO(u,c));var h=this.candles[a+1],f=this.candles[a],d=(0,g.pR)(h,w.U$.HIGH),p=(0,g.pR)(h,w.U$.LOW),m=(0,g.pR)(h,w.U$.CLOSE),y=(0,g.pR)(f,w.U$.CLOSE),v=(d+p)/2+o*u,b=(d+p)/2-o*u,x=this.finalUpperband.length,j=this.finalLowerband.length,O=x>0?this.finalUpperband[x-1].value:0,S=j>0?this.finalLowerband[j-1].value:0,_=v<O||y>O?v:O,T=b>S||y<S?b:S,A=this.superTrend.length>0?"up"===this.superTrend[this.superTrend.length-1].direction?O:S:0,E="";A===O&&m<=_?E="up":A===O&&m>_||A===S&&m>T?E="down":A===S&&m<_&&(E="up"),E&&(this.basicUpperband.push(new RO(v,c)),this.basicLowerband.push(new RO(b,c)),this.finalUpperband.push(new RO(_,c)),this.finalLowerband.push(new RO(T,c)),this.superTrend.push({direction:E,time:c,value:"up"===E?_:T}))}}}},{key:"draw",value:function(){var t=this;this.clearAllDynamicGraphics();var e=this.filterIndicatorPoints(this.superTrend,!1);if(0!==e.length){var n=e[0].direction,r=[],i=!0;e.forEach((function(e){var o=e.direction,a=e.value,s=e.time;n!==o&&(t.drawTrendLine(n,r,!i),i=!1,r=[]),n=o,r.push(new RO(a,s))})),this.drawTrendLine(n,r,!i)}}},{key:"drawTrendLine",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.settings.lines,i=r.up,o=r.down,a="up"===t?i:o;e.length<2||!this.getShowValue(a)||(this.drawLine(e,"line-".concat(e[0].time),a),n&&this.drawLabel(t,e[0],a))}},{key:"drawLabel",value:function(t,e,n){var r,i,o,a=(0,yt.tr)("up"===t?"control_panel.lower":"control_panel.higher"),s=this.getTextGraphics(w.Rp.INDICATORS,"superTrend-label-".concat(e.time),(r=FI(a),i=r[0],o=r.slice(1),i.toLocaleUpperCase()+o.join("")),de.Ay.CHART.TEXT_STYLE_CURSOR_TIME),c="up"===t?-(7+s.height):7,l=this.getXFromTime(e.time)-s.width/2,u=this.getYFromValue(e.value)+c;s.visible=!0,s.x=l,s.y=u;var h=this.getDynamicGraphics(w.Rp.INDICATORS_BG,"superTrend-label-".concat(e.time,"-bg"));h.isNew&&(h.graphics.beginFill(this.prepareColor(n.color),.8),h.graphics.drawRoundedRect(-6,-3,s.width+12,s.height+6,4),h.graphics.endFill()),h.graphics.setTransform(l,u)}}],r&&WI(n.prototype,r),i&&WI(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function KI(t){return KI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KI(t)}function ZI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QI(r.key),r)}}function QI(t){var e=function(t,e){if("object"!=KI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=KI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==KI(e)?e:String(e)}function JI(t,e,n){return e=eR(e),function(t,e){if(e&&("object"===KI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tR()?Reflect.construct(e,n||[],eR(t).constructor):e.apply(t,n))}function tR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tR=function(){return!!t})()}function eR(t){return eR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eR(t)}function nR(t,e){return nR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nR(t,e)}var rR,iR=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=JI(this,e,[t,n,r])).type=de.W.FRACTAL_CHAOS_BANDS,i.updateSettings(r.settings),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nR(t,e)}(e,t),n=e,(r=[{key:"maxPeriod",get:function(){return this.settings.period}},{key:"flush",value:function(){this.highFractals=[],this.lowFractals=[]}},{key:"calculate",value:function(){this.checkFlush(),this.highFractals.length&&(this.highFractals.splice(-1,1),this.lowFractals.splice(-1,1));for(var t=this.highFractals.length+this.settings.period;t<this.candles.length;t++){var e=t-this.settings.period;if(!(e<0)){for(var n=(0,g.pR)(this.candles[e],w.U$.HIGH),r=(0,g.pR)(this.candles[e],w.U$.LOW),i=!0,o=!0,a=1;a<=this.settings.period;a++)if(!(e-a<0||e+a>=this.candles.length)){var s=(0,g.pR)(this.candles[e-a],w.U$.HIGH),c=(0,g.pR)(this.candles[e+a],w.U$.HIGH);(s>n||c>n)&&(i=!1);var l=(0,g.pR)(this.candles[e-a],w.U$.LOW),u=(0,g.pR)(this.candles[e+a],w.U$.LOW);(l<r||u<r)&&(o=!1)}var h=this.candles[t].time;if(i)this.highFractals.push(new RO(n,h));else if(this.highFractals.length){var f=this.highFractals[this.highFractals.length-1].value;this.highFractals.push(new RO(f,h))}else{var d=(0,g.pR)(this.candles[0],w.U$.HIGH);this.highFractals.push(new RO(d,h))}if(o)this.lowFractals.push(new RO(r,h));else if(this.lowFractals.length){var p=this.lowFractals[this.lowFractals.length-1].value;this.lowFractals.push(new RO(p,h))}else{var m=(0,g.pR)(this.candles[0],w.U$.LOW);this.lowFractals.push(new RO(m,h))}}}}},{key:"filterWindow",value:function(t){for(var e=[],n=this.pointsManager.getSecondsInCandle(),r=this.getTimeFrom()-n,i=this.getTimeTo()+n,o=0;o<t.length;o++)t[o].time>=r&&t[o].time<=i&&e.push(t[o]);return e}},{key:"drawFill",value:function(t,e,n){var r=n.color,i=n.opacity,o=this.getDynamicGraphics(w.Rp.INDICATORS,"fractal-cb-".concat(this.index),{isTess:!0});o.graphics.beginFill(this.prepareColor(r),i/100);for(var a=[],s=0;s<t.length;s++)a.push({x:this.getXFromTime(t[s].time),y:this.getYFromValue(t[s].value)});for(var c=e.length-1;c>=0;c--)a.push({x:this.getXFromTime(e[c].time),y:this.getYFromValue(e[c].value)});o.graphics.drawPolygon(a),o.graphics.endFill()}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.highFractals.length&&this.lowFractals.length){var t=this.settings.lines,e=t.up,n=t.down,r=t.background,i=this.filterWindow(this.highFractals),o=this.filterWindow(this.lowFractals);this.getShowValue(e)&&this.drawLine(i,"up-line-".concat(this.index),e),this.getShowValue(n)&&this.drawLine(o,"low-line-".concat(this.index),n),this.getShowValue(r)&&this.drawFill(i,o,r)}}}])&&ZI(n.prototype,r),i&&ZI(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE);function oR(t){return oR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oR(t)}function aR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(aR=function(){return!!t})()}function sR(t,e){return sR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sR(t,e)}function cR(t,e,n){var r;return r=function(t,e){if("object"!=oR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==oR(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lR=(cR(cR(cR(cR(cR(cR(cR(cR(cR(cR(rR={},de.W.ACCELERATOR_OSCILLATOR,HI),de.W.ADX,aP),de.W.ALLIGATOR,pP),de.W.AROON,ik),de.W.ATR,oI),de.W.AWESOME_OSCILLATOR,OP),de.W.BOLLINGER_BANDS,IP),de.W.BOLLINGER_BANDS_WIDTH,jI),de.W.FRACTAL,WP),de.W.FRACTAL_CHAOS_BANDS,iR),cR(cR(cR(cR(cR(cR(cR(cR(cR(cR(rR,de.W.MACD,QP),de.W.MOVING_AVERAGE,aC),de.W.PARABOLIC_SAR,pC),de.W.RATE_OF_CHANGE,jC),de.W.RSI,kC),de.W.STOCHASTIC_OSCILLATOR,FC),de.W.SCHAFF_TREND_CYCLE,ZN),de.W.ZIG_ZAG,YC),de.W.CCI,dk),de.W.ENVELOPE,Ok),cR(cR(cR(cR(cR(cR(cR(cR(cR(cR(rR,de.W.ICHIMOKU_CLOUD,Lk),de.W.DEMARKER,Uk),de.W.WILLIAMS_R,Jk),de.W.BULLS_POWER,sN),de.W.BEARS_POWER,mN),de.W.MOMENTUM,SN),de.W.VORTEX,NN),de.W.KELTNER_CHANNEL,VN),de.W.OSMA,pI),de.W.DONCHIAN_CHANNEL,CI),cR(rR,de.W.SUPERTREND,qI));function uR(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Object.hasOwnProperty.call(lR,t)?function(t,e,n){if(aR())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&sR(i,n.prototype),i}(lR[t],n):null}}function hR(t){return hR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hR(t)}function fR(t){return function(t){if(Array.isArray(t))return dR(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return dR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dR(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mR(r.key),r)}}function mR(t){var e=function(t,e){if("object"!=hR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hR(e)?e:String(e)}function yR(t,e,n){return e=gR(e),function(t,e){if(e&&("object"===hR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vR()?Reflect.construct(e,n||[],gR(t).constructor):e.apply(t,n))}function vR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vR=function(){return!!t})()}function bR(){return bR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gR(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},bR.apply(this,arguments)}function gR(t){return gR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gR(t)}function wR(t,e){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wR(t,e)}var xR=16,jR=10,OR=3,SR=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=yR(this,e,[t,n])).expirationLineString=(0,yt.tr)("chart_settings.expiration_time_fast"),r.position=w.vh.Overlay,r.gateSpriteKeys=[],r.gateTextKeys=[],r.lastOptionsCount=null,r.moveAnimator=new Kw(.3),r.moveAnimator.setEnabled(!1),r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wR(t,e)}(e,t),n=e,(r=[{key:"labelKey",get:function(){return"fast-option-text-".concat(this.id)}},{key:"timeKey",get:function(){return"expiration-time-".concat(this.id)}},{key:"drawCurrentExpirationTime",value:function(){this.drawExpirationIcon(),this.drawExpirationLines(),this.hoveredRollover?this.drawRolloverTime():this.drawExpirationTime()}},{key:"drawRolloverTime",value:function(){var t=this,e=this.pointsManager.plot.options.find((function(e){return e.id===t.hoveredRollover}));if(e){var n=e.data,r=n.openTimestamp,i=n.closeTimestamp,o=i-r+i,a=e.isCall?this.colors.callLineColor:this.colors.putLineColor,s=Math.floor(this.getXFromTime(o))+.5,c=this.core.getText(w.Rp.GATES,this.labelKey,this.expirationLineString,de.Ay.CHART.TEXT_STYLE_GRID,a.getHEXNUM());c.x=s+5,c.y=de.Ay.CHART.TIMER_TOP_MARGIN;var l=this.core.getText(w.Rp.GATES,this.timeKey,"".concat(bi(o)),de.Ay.CHART.TEXT_STYLE_EXPIRATION,a.getHEXNUM());l.x=s+5,l.y=de.Ay.CHART.TIMER_TOP_MARGIN+l.height+2,this.gateTextKeys.push(this.labelKey,this.timeKey),this.drawOptionExpirationTime(o,a)}}},{key:"drawExpirationTime",value:function(){var t=Math.floor(this.getXFromTime(this.moveAnimator.getValue()))+.5,e=this.core.getText(w.Rp.GATES,this.labelKey,this.expirationLineString,de.Ay.CHART.TEXT_STYLE_GRID,this.colors.expirationLineTextColor.getHEXNUM());e.x=t+5,e.y=de.Ay.CHART.TIMER_TOP_MARGIN,this.gateTextKeys.push(this.labelKey);var n=this.core.getText(w.Rp.GATES,this.timeKey,"".concat(bi(this.expirationTime)),de.Ay.CHART.TEXT_STYLE_EXPIRATION,this.colors.timerTimeColor.getHEXNUM());n.x=t+5,n.y=de.Ay.CHART.TIMER_TOP_MARGIN+n.height+2,this.gateTextKeys.push(this.timeKey)}},{key:"drawExpirationIcon",value:function(){var t=this.isDarkTheme()?"/themes/cabinet/images/expiration-flag-dark-theme.svg":"/themes/cabinet/images/expiration-flag-light-theme.svg",e="exp-line-icon-".concat(this.isDarkTheme()?"dark":"light");this.gateSpriteKeys.push(e);var n=Math.floor(this.getXFromTime(this.moveAnimator.getValue()))+.5;this.core.getSprite(w.Rp.GATES,e,this.getSpritePath(t)).sprite.setTransform(n,0,.5,.5)}},{key:"drawExpirationLines",value:function(){this.core.clearGraphicsNew(w.my.EXPIRATION_LINE);var t=Math.floor(this.getXFromTime(this.moveAnimator.getValue()))+.5,e=this.worldHeight-de.Ay.CHART.TIMELINE_MARGIN_BOTTOM,n=this.colors.expirationLineColor,r=this.core.getGraphicsNew(w.my.EXPIRATION_LINE);r.lineStyle(1,n.getHEXNUM(),n.getAlpha()),r.moveTo(t,0),r.lineTo(t,e-de.Ay.CHART.TIMELINE_HEIGHT)}},{key:"isChangedOptionsCount",value:function(){return this.lastOptionsCount!==this.options.length}},{key:"drawRolloverExpTime",value:function(){var t=this,e=this.pointsManager.plot.options.find((function(e){return e.id===t.hoveredRollover}));if(e){var n=e.data,r=n.openTimestamp,i=n.closeTimestamp,o=i-r+i,a=e.isCall?this.colors.callLineColor:this.colors.putLineColor;this.drawOptionExpirationTime(o,a)}}},{key:"drawExpirationTimes",value:function(){var t=this;new Set(fR(this.options.map((function(t){return t.closeTime}))).filter((function(e){return e!==t.expirationTime}))).forEach((function(e){return t.drawOptionExpirationTime(e,t.colors.deadLineColor)}))}},{key:"drawOptionExpirationTime",value:function(t,e){var n=Math.floor(this.getXFromTime(t))+.5,r=this.worldHeight-de.Ay.CHART.TIMELINE_MARGIN_BOTTOM,i=this.core.getGraphicsNew(w.my.EXPIRATION_LINE);return i.lineStyle(1,e.getHEXNUM(),this.isDarkTheme()?1:.5),i.moveTo(n,r-de.Ay.CHART.TIMELINE_HEIGHT),i.lineTo(n,0),i.lineTo(n+xR,0),i.lineTo(n+xR-OR,jR/2),i.lineTo(n+xR,jR),i.lineTo(n,jR),n}},{key:"draw",value:function(){this.moveAnimator.enabled||(this.moveAnimator.fromValue=this.expirationTime,this.moveAnimator.setToValue(this.expirationTime),this.moveAnimator.setEnabled(!0)),this.moveAnimator.setTime(this.ts),this.isChangedExpirationTime()&&(this.moveAnimator.fromValue=this.moveAnimator.getValue(),this.moveAnimator.setToValue(this.expirationTime)),(this.isChangedFromTo()||this.isSizeChanged()||this.isChangedOptionsCount()||this.isThemeChanged()||this.isChangedExpirationTime()||this.isCurrentTimeChanged()||this.oldHoveredRollover!==this.hoveredRollover||this.forceCleared||this.moveAnimator.enabled)&&(this.isChangedOptionsCount()&&this.destroyDeadlineSprites(),this.lastOptionsCount=this.options.length,this.clearAll(),this.drawCurrentExpirationTime(),this.drawExpirationTimes())}},{key:"onAfterDraw",value:function(){bR(gR(e.prototype),"onAfterDraw",this).call(this),this.oldHoveredRollover=this.hoveredRollover}},{key:"clearDeadlineSprites",value:function(){for(var t=0;t<this.gateSpriteKeys.length;t++)this.core.clearSprite(this.gateSpriteKeys[t]);this.gateSpriteKeys=[]}},{key:"destroyDeadlineSprites",value:function(){for(var t=0;t<this.gateSpriteKeys.length;t++)this.core.destroySprite(w.Rp.GATES,this.gateSpriteKeys[t]);this.gateSpriteKeys=[]}},{key:"clearExpirationTexts",value:function(){for(var t=0;t<this.gateTextKeys.length;t++)this.core.clearText(this.gateTextKeys[t]);this.gateTextKeys=[]}},{key:"destroyExpirationTexts",value:function(){for(var t=0;t<this.gateTextKeys.length;t++)this.core.destroyText(this.gateTextKeys[t]);this.gateTextKeys=[]}},{key:"clearAll",value:function(){this.core.clearGraphicsNew(w.my.EXPIRATION_LINE),this.core.clearGraphicsNew(w.my.EXPIRATION_BG),this.clearDeadlineSprites(),this.clearExpirationTexts()}},{key:"destroy",value:function(){bR(gR(e.prototype),"destroy",this).call(this),this.core.clearGraphicsNew(w.my.EXPIRATION_LINE),this.core.clearGraphicsNew(w.my.EXPIRATION_BG),this.destroyDeadlineSprites(),this.destroyExpirationTexts()}}])&&pR(n.prototype,r),i&&pR(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),_R=SR;function TR(t){return TR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TR(t)}function AR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PR(r.key),r)}}function ER(t,e,n){return(e=PR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PR(t){var e=function(t,e){if("object"!=TR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=TR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==TR(e)?e:String(e)}var CR=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ER(this,"onCallBtnClick",(function(){return n.hoverCallBtn=!1})),ER(this,"onPutBtnClick",(function(){return n.hoverPutBtn=!1})),ER(this,"onCallBtnMouseEnter",(function(){return n.hoverCallBtn=!0})),ER(this,"onCallBtnMouseLeave",(function(){return n.hoverCallBtn=!1})),ER(this,"onPutBtnMouseEnter",(function(){return n.hoverPutBtn=!0})),ER(this,"onPutBtnMouseLeave",(function(){return n.hoverPutBtn=!1})),this.chartId=e,this.hoverCallBtn=!1,this.hoverPutBtn=!1}var e,n,r;return e=t,(n=[{key:"install",value:function(){this.callBtn=document.querySelector("#put-call-buttons-".concat(this.chartId," .action-high-low a.btn-call")),this.putBtn=document.querySelector("#put-call-buttons-".concat(this.chartId," .action-high-low a.btn-put")),this.callBtn&&(this.callBtn.addEventListener("click",this.onCallBtnClick),this.callBtn.addEventListener("mouseenter",this.onCallBtnMouseEnter),this.callBtn.addEventListener("mouseleave",this.onCallBtnMouseLeave)),this.putBtn&&(this.putBtn.addEventListener("click",this.onPutBtnClick),this.putBtn.addEventListener("mouseenter",this.onPutBtnMouseEnter),this.putBtn.addEventListener("mouseleave",this.onPutBtnMouseLeave))}},{key:"uninstall",value:function(){this.callBtn&&(this.callBtn.removeEventListener("click",this.onCallBtnClick),this.callBtn.removeEventListener("mouseenter",this.onCallBtnMouseEnter),this.callBtn.removeEventListener("mouseleave",this.onCallBtnMouseLeave)),this.putBtn&&(this.putBtn.removeEventListener("click",this.onPutBtnClick),this.putBtn.removeEventListener("mouseenter",this.onPutBtnMouseEnter),this.putBtn.removeEventListener("mouseleave",this.onPutBtnMouseLeave))}},{key:"refresh",value:function(){this.uninstall(),this.install()}}])&&AR(e.prototype,n),r&&AR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function kR(t){return kR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kR(t)}function NR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IR(r.key),r)}}function IR(t){var e=function(t,e){if("object"!=kR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kR(e)?e:String(e)}function RR(t,e,n){return e=DR(e),function(t,e){if(e&&("object"===kR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,LR()?Reflect.construct(e,n||[],DR(t).constructor):e.apply(t,n))}function LR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(LR=function(){return!!t})()}function DR(t){return DR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DR(t)}function MR(t,e){return MR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},MR(t,e)}var BR=function(t){function e(t,n,r,i,o,a){var s,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=RR(this,e,[t,n])).pointIndex=c,s.drawable=!0,s.index=r,s.x=0,s.y=0,s.isDragging=!1,s.isLocked=!1,s.price=parseFloat(i),s.time=parseFloat(o),s.orientation=a,s.isSelected=!1,s.lastIsSelected=!1,s.cursor="nesw-resize",s.key="".concat(s.index,"-").concat(s.pointIndex),s}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MR(t,e)}(e,t),n=e,r=[{key:"graphicElementIndex",get:function(){return"draggablePoint-".concat(this.key)}},{key:"pos",get:function(){return(0,g.zx)(this.getXFromTime(this.time),this.getYFromValue(this.price))}},{key:"isSelectedChanged",value:function(){return this.isSelected!==this.lastIsSelected}},{key:"isEmpty",value:function(){return 0===this.time||0===this.price}},{key:"move",value:function(t,e,n){switch(this.isDragging=n,this.orientation){case w.Zo.XY:this.x=t,this.y=e;break;case w.Zo.X:this.x=t,this.y=this.yShift+this.height/2;break;case w.Zo.Y:this.x=this.width/2,this.y=e;break;case w.Zo.FreezeX:this.y=e}this.y<this.yShift&&(this.y=this.yShift),this.y>this.yShift+this.height&&(this.y=this.yShift+this.height),this.setTime(this.getTimeFromX(this.shift+this.x)),this.setPrice(this.getValueFromY(this.y))}},{key:"stop",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isDragging=!1,this.setTime(this.getTimeFromX(this.shift+this.x)),this.setPrice(this.getValueFromY(this.y)),t&&this.saveDrawingPoint()}},{key:"setTime",value:function(t){this.time=this.roundTime(t)}},{key:"setPrice",value:function(t){this.price=this.roundPrice(t)}},{key:"roundTime",value:function(t){return(0,qn.xr)(t,3)}},{key:"roundPrice",value:function(t){return(0,qn.xr)(t,this.currentDigit)}},{key:"setLocked",value:function(t){this.isLocked=t}},{key:"getPointData",value:function(){return{drawingId:this.index,time:this.roundTime(this.time),price:this.roundPrice(this.price),point:this.pointIndex,assetId:this.assetId,symbol:this.symbol,chartId:this.chartId}}},{key:"saveDrawingPoint",value:function(){Re.A.publish(Ha.I,new Ea.A(this.getPointData()))}},{key:"calculate",value:function(){this.isDragging||this.updateCoordinates()}},{key:"setCursor",value:function(t){this.cursor=t}},{key:"draw",value:function(){if(this.drawable&&this.x>=0&&this.x<=this.width&&this.y>=this.yShift&&this.y<=this.yShift+this.height){var t=this.core.getDynamicGraphics(w.Rp.BUILDING_POINTS,"draggablePoint-".concat(this.key),{touch:!0});this.interactiveGraphics=t.graphics,(t.isNew||this.isThemeChanged()||this.isSelectedChanged())&&(this.clear(),t.graphics.beginFill(this.colors.dragPointCenterColor.getHEXNUM(),this.colors.dragPointCenterColor.getAlpha()),t.graphics.drawCircle(0,0,3),t.graphics.endFill()),t.graphics.visible=!0,this.lastIsSelected=this.isSelected;var e=this.isDragging?2.5:this.isSelected?2:1.2;t.graphics.setTransform(this.x,this.y,e,e),t.graphics.cursor=this.isLocked?"pointer":this.cursor,this.isLocked||(t.graphics.hitArea=new cx.jlt(0,0,de.Ay.CHART.POINT_DRAG_RADIUS))}else this.clear()}},{key:"updateCoordinates",value:function(){switch(this.orientation){case w.Zo.XY:this.x=this.getXFromTime(this.time),this.y=this.getYFromValue(this.price);break;case w.Zo.X:this.x=this.getXFromTime(this.time),this.y=this.yShift+this.height/2;break;case w.Zo.Y:this.x=this.width/2,this.y=this.getYFromValue(this.price);break;case w.Zo.FreezeX:this.x=this.getXFromTime(this.time),this.y=this.getYFromValue(this.price)}}},{key:"clear",value:function(){this.core.clearDynamicGraphicsNew(this.graphicElementIndex),this.core.clearText("point-index-".concat(this.key))}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(w.Rp.BUILDING_POINTS,this.graphicElementIndex),this.core.destroyText("point-index-".concat(this.key))}}],r&&NR(n.prototype,r),i&&NR(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx),HR=BR;function FR(t){return FR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FR(t)}function GR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qR(r.key),r)}}function VR(t,e,n){return e=XR(e),function(t,e){if(e&&("object"===FR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return UR(t)}(t,WR()?Reflect.construct(e,n||[],XR(t).constructor):e.apply(t,n))}function WR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(WR=function(){return!!t})()}function UR(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zR(){return zR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=XR(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},zR.apply(this,arguments)}function XR(t){return XR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},XR(t)}function $R(t,e){return $R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$R(t,e)}function YR(t,e,n){return(e=qR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qR(t){var e=function(t,e){if("object"!=FR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=FR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==FR(e)?e:String(e)}var KR=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),YR(UR(i=VR(this,e,[t,n,r])),"canBeInitialized",(function(){return!i.isInitiated&&i.isMinMaxCalculated&&i.pointsManager.hasPointsToCalculateDrawings()&&i.startTime>0&&void 0!==i.width&&void 0!==i.shift})),YR(UR(i),"initialize",(function(){i.isInitiated=!0})),YR(UR(i),"isPointVisible",(function(t){var e=i.getTimeFrom(),n=i.getValueFrom(),r=i.getTimeTo(),o=i.getValueTo();return e<t.time&&t.time<r&&n<t.price&&t.price<o})),YR(UR(i),"updatePrevPoints",(function(){for(var t=0;t<i.drawingPoints.length;t++){var e=i.drawingPoints[t],n=e.x,r=e.y,o=e.key;i.prevPoints[o]={x:n,y:r}}})),YR(UR(i),"isPointCoordinatesChange",(function(t){var e=t.x,n=t.y,r=t.key,o=i.prevPoints[r]||{},a=o.x,s=o.y;return e!==a||n!==s})),YR(UR(i),"isPointsCoordinatesChange",(function(){for(var t=0;t<i.drawingPoints.length;t++)if(i.isPointCoordinatesChange(i.drawingPoints[t]))return!0;return!1})),i.isInitiated=!1,i.isDrawing=!0,i.prevPoints=[],i.hitArea=null,i.isLocked=r.isLocked,i.cleared=!1,i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$R(t,e)}(e,t),n=e,r=[{key:"drawingPoints",get:function(){return[]}},{key:"destroy",value:function(){zR(XR(e.prototype),"destroy",this).call(this),this.clearAllDynamicGraphics(),this.prevPoints=[]}},{key:"clearAllDynamicGraphics",value:function(){zR(XR(e.prototype),"clearAllDynamicGraphics",this).call(this),this.hitArea=null,this.cleared=!0}},{key:"createPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.find((function(t){return t.point===n}))||{},i=r.price,o=void 0===i?0:i,a=r.time,s=void 0===a?0:a;return new HR(this.core,this.pointsManager,this.index,o,s,e,n)}},{key:"isDrawingInsideScreen",value:function(){for(var t=0;t<this.drawingPoints.length;t++){var e=this.drawingPoints[t],n=!1;switch(e.orientation){case w.Zo.X:case w.Zo.Y:return!0;default:n=this.isPointVisible(e)}if(n)return!0}return!1}},{key:"isLineVisible",value:function(t,e){var n=(t.y-e.y)/(t.x-e.x),r=e.y-e.x*n,i=(0,g.zx)(0,0),o=(0,g.zx)(this.width,this.height),a=(i.y-r)/n,s=(o.y-r)/n,c=n*i.x+r,l=n*o.x+r,u=a>=i.x&&a<=o.x,h=s>=i.x&&s<=o.x,f=c>=i.y&&c<=o.y,d=l>=i.y&&l<=o.y;return u||h||f||d}},{key:"needToDraw",value:function(){return!0}},{key:"setIndex",value:function(t){this.index=t,this.drawingPoints.forEach((function(e){return e.index=t}))}},{key:"saveDrawingPoints",value:function(){if(!this.isLocked){var t=[];this.drawingPoints.forEach((function(e){return t.push(e.getPointData())})),t.length&&Re.A.publish(Ha.HI,new Ea.A(t))}}},{key:"update",value:function(t){t.requestId===this.index&&(this.setIndex(t.id),this.saveDrawingPoints()),this.updateSettings(t),this.isLocked=t.isLocked,this.updated=!0}},{key:"updateSettings",value:function(t){var e=t.isLocked,n=t.settings;this.settings=n,this.drawingPoints.forEach((function(t){return t.setLocked(e)}))}},{key:"getHitzonePoints",value:function(){return this.drawingPoints}},{key:"createHitzonePolygon",value:function(){for(var t=this.getHitzonePoints(),e=[],n=15,r=1;r<t.length;r++){var i=t[r-1],o=t[r],a=this.getPerpOfLine(i,o);e.push(i.x+a[0]*n,i.y+a[1]*n,o.x+a[0]*n,o.y+a[1]*n)}for(var s=t.length-1;s>=1;s--){var c=t[s-1],l=t[s],u=this.getPerpOfLine(c,l);e.push(l.x-u[0]*n,l.y-u[1]*n,c.x-u[0]*n,c.y-u[1]*n)}return new cx.tS(e)}},{key:"drawHitzonePolygon",value:function(t,e){t.hitArea=e,this.hitArea=e}},{key:"makeInterectable",value:function(t){t.interactive=!0,t.buttonMode=!0,t.cursor=this.isLocked?"pointer":"move",this.drawHitzonePolygon(t,this.createHitzonePolygon())}},{key:"getPerpOfLine",value:function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);return[-(r/=i),n/=i]}},{key:"onSelect",value:function(){this.isSelected=!0,this.drawingPoints.forEach((function(t){return t.isSelected=!0}))}},{key:"onDeselect",value:function(){this.isSelected=!1,this.drawingPoints.forEach((function(t){return t.isSelected=!1}))}},{key:"isInsideHitZone",value:function(t,e){return this.hitArea&&this.hitArea.contains(t,e)&&this.isClickedOnElement(t,e)}},{key:"shouldRedraw",value:function(){return this.isPointsCoordinatesChange()||this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.forceCleared||this.updated}},{key:"onAfterDraw",value:function(){zR(XR(e.prototype),"onAfterDraw",this).call(this),this.cleared&&!this.isMobile&&this.interactiveGraphics&&this.makeInterectable(this.interactiveGraphics),this.cleared=!1}}],r&&GR(n.prototype,r),i&&GR(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(QE),ZR=KR;function QR(t){return QR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QR(t)}function JR(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||eL(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tL(t){return function(t){if(Array.isArray(t))return nL(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||eL(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eL(t,e){if(t){if("string"==typeof t)return nL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nL(t,e):void 0}}function nL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iL(r.key),r)}}function iL(t){var e=function(t,e){if("object"!=QR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==QR(e)?e:String(e)}function oL(t,e,n){return e=sL(e),function(t,e){if(e&&("object"===QR(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,aL()?Reflect.construct(e,n||[],sL(t).constructor):e.apply(t,n))}function aL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(aL=function(){return!!t})()}function sL(t){return sL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sL(t)}function cL(t,e){return cL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cL(t,e)}var lL=50,uL=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=oL(this,e,[t,n,r])).point1=i.createPoint(r.pointsData,w.Zo.XY,0),i.point2=i.createPoint(r.pointsData,w.Zo.XY,1),i.point3=i.createPoint(r.pointsData,w.Zo.XY,2),i.key="andrews-pitchfork-".concat(i.index),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cL(t,e)}(e,t),n=e,(r=[{key:"drawingPoints",get:function(){return[this.point1,this.point2,this.point3]}},{key:"midPointPos",get:function(){return(0,g.zx)((this.point2.pos.x+this.point3.pos.x)/2,(this.point2.pos.y+this.point3.pos.y)/2)}},{key:"calculateInitialPositions",value:function(){if(this.point1.isEmpty()||this.point2.isEmpty()||this.point3.isEmpty()){this.point1.move(.2*this.width,.6*this.worldHeight);var t=this.getXFromTime(this.point1.time)+75,e=this.getYFromValue(this.point1.price)-75,n=(0,g.zx)(t,e),r=this.getPerpOfLine(this.point1.pos,n),i=(0,g.zx)(n.x+r[0]*lL,n.y+r[1]*lL),o=(0,g.zx)(n.x-r[0]*lL,n.y-r[1]*lL);this.point2.move(i.x,i.y),this.point3.move(o.x,o.y)}}},{key:"calculate",value:function(){if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize();if(this.isInitiated)if(this.isPointCoordinatesChange(this.point2)){var t=this.midPointPos,e=this.point2.pos,n=(0,g.zx)(e.x-2*(e.x-t.x),e.y-2*(e.y-t.y));this.point3.move(n.x,n.y)}else if(this.isPointCoordinatesChange(this.point3)){var r=this.midPointPos,i=this.point3.pos,o=(0,g.zx)(i.x-2*(i.x-r.x),i.y-2*(i.y-r.y));this.point2.move(o.x,o.y)}}},{key:"isDrawingInsideScreen",value:function(){var t=this.settings.lines,e=Object.keys(t).filter((function(e){return void 0!==t[e].level})).map((function(e){return t[e].level})),n=Math.max.apply(Math,tL(e));return this.isLineVisible.apply(this,tL(this.getSidePoints(n,this.point2)))||this.isLineVisible.apply(this,tL(this.getSidePoints(n,this.point3)))}},{key:"draw",value:function(){var t=this;if(this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen())){var e=this.settings.lines.median;this.getShowValue(e)&&this.drawCenterLine(e);var n=this.settings.lines,r=Object.keys(this.settings.lines).filter((function(t){return void 0!==n[t].level})).sort((function(t,e){return n[t].level-n[e].level})),i=null;r.forEach((function(e){var r=n[e];t.getShowValue(r)&&(t.drawSideLevel(r,null!==i?i.level:0),i=r)}))}}},{key:"drawCenterLine",value:function(t){var e=t.color,n=t.lineWidth,r=t.opacity,i=this.midPointPos,o=(0,g.q9)(this.point1,i,this.width,this.worldHeight),a=this.getInteractiveGraphics(w.Rp.BUILDINGS,"pitchfork-".concat(this.index,"-center"));a.graphics.visible=!0,a.graphics.lineStyle(n,this.prepareColor(e),r/100),a.graphics.moveTo(this.point1.x,this.point1.y),a.graphics.lineTo(o.x,o.y),a.graphics.moveTo(this.point2.x,this.point2.y),a.graphics.lineTo(this.point3.x,this.point3.y)}},{key:"createHitzonePolygon",value:function(){var t=this.point1.pos,e=this.point2.pos,n=this.point3.pos,r=this.midPointPos,i=e.x-n.x,o=e.y-n.y,a=Math.sqrt(i*i+o*o);i/=a,o/=a;var s=t.x-r.x,c=t.y-r.y,l=Math.sqrt(s*s+c*c);s/=l,c/=l;var u=HE(t,r),h=HE(e,n),f=de.Ay.CHART.POINT_DRAG_RADIUS,d=de.Ay.CHART.POINT_DRAG_PADDING,p=r.x+(t.x-r.x)*((u-f)/u),m=r.y+(t.y-r.y)*((u-f)/u),y=(0,g.zx)(p-i*d,m-o*d),v=(0,g.zx)(p+i*d,m+o*d),b=r.x+(t.x-r.x)*(d/u),w=r.y+(t.y-r.y)*(d/u),x=(0,g.zx)(b-i*d,w-o*d),j=(0,g.zx)(b+i*d,w+o*d),O=e.x+(n.x-e.x)*(f/h),S=e.y+(n.y-e.y)*(f/h),_=(0,g.zx)(O+s*d,S+c*d),T=(0,g.zx)(O-s*d,S-c*d),A=e.x+(n.x-e.x)*((h-f)/h),E=e.y+(n.y-e.y)*((h-f)/h),P=(0,g.zx)(A+s*d,E+c*d),C=(0,g.zx)(A-s*d,E-c*d);return new cx.tS([y.x,y.y,x.x,x.y,P.x,P.y,C.x,C.y,T.x,T.y,_.x,_.y,j.x,j.y,v.x,v.y])}},{key:"getSidePoints",value:function(t,e){var n=this.midPointPos,r=e.pos,i=(0,g.zx)(n.x-t*(n.x-r.x),n.y-t*(n.y-r.y)),o=n.x-this.point1.pos.x,a=n.y-this.point1.pos.y,s=(0,g.zx)(o+i.x,a+i.y);return[i,(0,g.q9)(i,s,this.width,this.worldHeight)]}},{key:"drawSideForPoint",value:function(t,e,n){var r=t.color,i=t.level,o=t.lineWidth,a=t.opacity,s=JR(this.getSidePoints(i,n),2),c=s[0],l=s[1],u=JR(this.getSidePoints(e,n),2),h=u[0],f=[c,l,u[1],h],d="pitchfork-".concat(this.index,"-").concat(i,"-").concat(n.pointIndex),p=this.getDynamicGraphics(w.Rp.BUILDINGS,d);p.graphics.visible=!0;var m=this.settings.lines.bg;if(this.getShowValue(m)){var y=m.opacity;p.graphics.beginFill(this.prepareColor(r),y/100),f.forEach((function(t,e){return p.graphics[0===e?"moveTo":"lineTo"](t.x,t.y)})),p.graphics.endFill()}p.graphics.lineStyle(o,this.prepareColor(r),a/100),p.graphics.moveTo(c.x,c.y),p.graphics.lineTo(l.x,l.y)}},{key:"drawSideLevel",value:function(t,e){this.drawSideForPoint(t,e,this.point2),this.drawSideForPoint(t,e,this.point3)}}])&&rL(n.prototype,r),i&&rL(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(ZR);function hL(t){return hL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hL(t)}function fL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dL(r.key),r)}}function dL(t){var e=function(t,e){if("object"!=hL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hL(e)?e:String(e)}function pL(t,e,n){return e=yL(e),function(t,e){if(e&&("object"===hL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mL()?Reflect.construct(e,n||[],yL(t).constructor):e.apply(t,n))}function mL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mL=function(){return!!t})()}function yL(t){return yL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yL(t)}function vL(t,e){return vL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vL(t,e)}var bL=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=pL(this,e,[t,n,r])).point1=i.createPoint(r.pointsData,w.Zo.XY,0),i.point2=i.createPoint(r.pointsData,w.Zo.XY,1),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vL(t,e)}(e,t),n=e,r&&fL(n.prototype,r),i&&fL(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(ZR);function gL(t){return gL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gL(t)}function wL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xL(r.key),r)}}function xL(t){var e=function(t,e){if("object"!=gL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gL(e)?e:String(e)}function jL(t,e,n){return e=_L(e),function(t,e){if(e&&("object"===gL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,OL()?Reflect.construct(e,n||[],_L(t).constructor):e.apply(t,n))}function OL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(OL=function(){return!!t})()}function SL(){return SL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_L(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},SL.apply(this,arguments)}function _L(t){return _L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_L(t)}function TL(t,e){return TL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},TL(t,e)}var AL=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=jL(this,e,[t,n,r])).key="rayBuilding-".concat(i.index),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TL(t,e)}(e,t),n=e,(r=[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(60*Math.random()+10),e=t+30;0===this.point1.time&&this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.point1.price&&this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),0===this.point2.time&&this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.point2.price&&this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){return this.isLineVisible(this.point1.pos,this.point2.pos)}},{key:"shouldRedraw",value:function(){return SL(_L(e.prototype),"shouldRedraw",this).call(this)||this.point1.isDragging||this.point2.isDragging}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.drawLine())}},{key:"getHitzonePoints",value:function(){var t=(0,g.q9)(this.point1,this.point2,this.width,this.worldHeight);return[this.point1,t]}},{key:"drawLine",value:function(){var t=300*(this.point2.x-this.point1.x),e=300*(this.point2.y-this.point1.y),n=this.settings.lines.main,r=n.color,i=n.lineWidth,o=n.opacity,a=this.getInteractiveGraphics(w.Rp.BUILDINGS,this.key);a.isNew&&a.graphics.lineStyle(i,this.prepareColor(r),o/100),a.graphics.visible=!0,a.graphics.moveTo(this.point1.x,this.point1.y),a.graphics.lineTo(this.point2.x,this.point2.y),a.graphics.moveTo(this.point2.x,this.point2.y),a.graphics.lineTo(this.point2.x+t,this.point2.y+e)}}])&&wL(n.prototype,r),i&&wL(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(bL),EL=AL;function PL(t){return PL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PL(t)}function CL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kL(r.key),r)}}function kL(t){var e=function(t,e){if("object"!=PL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=PL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PL(e)?e:String(e)}function NL(t,e,n){return e=RL(e),function(t,e){if(e&&("object"===PL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,IL()?Reflect.construct(e,n||[],RL(t).constructor):e.apply(t,n))}function IL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(IL=function(){return!!t})()}function RL(t){return RL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},RL(t)}function LL(t,e){return LL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},LL(t,e)}var DL=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=NL(this,e,[t,n,r])).key="trend-line-".concat(i.index),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LL(t,e)}(e,t),n=e,(r=[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(60*Math.random()+10),e=t+30;0===this.point1.time&&this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.point1.price&&this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),0===this.point2.time&&this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.point2.price&&this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var t=(0,g.zx)(this.getXFromTime(this.point1.time),this.getYFromValue(this.point1.price)),e=(0,g.zx)(this.getXFromTime(this.point2.time),this.getYFromValue(this.point2.price));return this.isLineVisible(t,e)}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.drawLine())}},{key:"drawLine",value:function(){var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.opacity,i=this.getInteractiveGraphics(w.Rp.BUILDINGS,this.key);i.graphics.visible=!0,i.graphics.lineStyle(n,this.prepareColor(e),r/100),i.graphics.moveTo(this.point1.x,this.point1.y),i.graphics.lineTo(this.point2.x,this.point2.y)}}])&&CL(n.prototype,r),i&&CL(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(bL);function ML(t){return ML="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ML(t)}function BL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HL(r.key),r)}}function HL(t){var e=function(t,e){if("object"!=ML(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ML(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ML(e)?e:String(e)}function FL(t,e,n){return e=VL(e),function(t,e){if(e&&("object"===ML(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,GL()?Reflect.construct(e,n||[],VL(t).constructor):e.apply(t,n))}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(GL=function(){return!!t})()}function VL(t){return VL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},VL(t)}function WL(t,e){return WL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},WL(t,e)}cx.A1g.prototype.dashedLine=function(t,e,n,r){var i=0,o=0,a=e.x-t.x,s=e.y-t.y,c=Math.sqrt(a*a+s*s),l=a/c,u=s/c,h=0;for(this.moveTo(t.x+o*l,t.y+o*u);h<=c;)h+=o,(h+=i>0?i:n)>c?(i=h-c,h=c):i=0,this.lineTo(t.x+h*l,t.y+h*u),(h+=r)>c&&0===i?o=h-c:(o=0,this.moveTo(t.x+h*l,t.y+h*u))};var UL=[0,.236,.382,.5,.618,.786,1,1.236,1.272,1.382,1.5,1.618,1.786,2.618],zL=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=FL(this,e,[t,n,r])).minX=0,i.maxX=0,i.key="fibonacci-retracement-".concat(i.index),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WL(t,e)}(e,t),n=e,(r=[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=parseInt(30*Math.random()+50),e=t-30;this.point1.time||this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),this.point1.price||this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),this.point2.time||this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),this.point2.price||this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var t=this.getTimeFrom(),e=this.getTimeTo();if(this.point1.time<t&&this.point2.time<t||this.point1.time>e&&this.point2.time>e)return!1;for(var n=this.getValueFrom(),r=this.getValueTo(),i=0;i<UL.length;i++){var o=this.getValueFromY(this.getYForLevel(UL[i]));if(o>n&&o<r)return!0}return!1}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()){if(this.isPointsCoordinatesChange()||this.updated||this.isThemeChanged()){this.clearAllDynamicGraphics(),this.updatePrevPoints();var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.opacity,i=this.prepareColor(e),o=r/100;this.minX=this.point1.x>this.point2.x?this.point2.x:this.point1.x,this.maxX=this.point1.x>this.point2.x?this.point1.x:this.point2.x;var a=this.getInteractiveGraphics(w.Rp.BUILDINGS,this.key);a.graphics.lineStyle(n,i,o),a.graphics.visible=!0,a.graphics.dashedLine(this.point1,this.point2,5,5);for(var s=this.getValueFrom(),c=this.getValueTo(),l=this.getShowValue(this.settings.lines.level),u=this.getShowValue(this.settings.lines.value),h=0;h<UL.length;h++){var f=UL[h],d=this.getYForLevel(f),p=this.getValueFromY(d);if(!(p>c||p<s)){var m=0===f||1===f?2*n:n;a.graphics.lineStyle(m,i,o),a.graphics.moveTo(this.minX,d),a.graphics.lineTo(this.maxX,d),l&&this.drawLevel(d,f),u&&this.drawValue(d,p,f)}}}}else this.clearAllDynamicGraphics()}},{key:"getHitzonePoints",value:function(){var t=this.getYForLevel(0),e=this.getYForLevel(1);return[(0,g.zx)(this.minX,t),(0,g.zx)(this.maxX,t),(0,g.zx)(this.minX,e),(0,g.zx)(this.maxX,e)]}},{key:"getYForLevel",value:function(t){var e=Math.abs(this.point1.y-this.point2.y);return this.point1.price>this.point2.price?this.point2.y-t*e:this.point2.y+t*e}},{key:"drawLevel",value:function(t,e){var n=this.getTextGraphics(w.Rp.BUILDINGS,"fib-retracement-level-".concat(this.index,"-").concat(e),this.settings.levels===vb.VALUES?e:"".concat((0,qn.xr)(100*e,2,!0),"%"),de.Ay.CHART.TEXT_STYLE_CURSOR_TIME);n.style.fill=this.settings.lines.level.color,n.visible=!0,n.x=this.minX-n.width-5,n.y=t-n.height/2}},{key:"drawValue",value:function(t,e,n){var r=this.formatStringPrice(e),i=this.getTextGraphics(w.Rp.BUILDINGS,"fib-retracement-value-".concat(this.index,"-").concat(n),r,de.Ay.CHART.TEXT_STYLE_CURSOR_TIME);i.style.fill=this.settings.lines.value.color,i.visible=!0,i.x=this.maxX+7,i.y=t-i.height/2}}])&&BL(n.prototype,r),i&&BL(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(bL);function XL(t){return XL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XL(t)}function $L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YL(r.key),r)}}function YL(t){var e=function(t,e){if("object"!=XL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=XL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==XL(e)?e:String(e)}function qL(t,e,n){return e=ZL(e),function(t,e){if(e&&("object"===XL(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,KL()?Reflect.construct(e,n||[],ZL(t).constructor):e.apply(t,n))}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(KL=function(){return!!t})()}function ZL(t){return ZL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ZL(t)}function QL(t,e){return QL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},QL(t,e)}var JL=0,tD=1,eD=2,nD=3,rD=4,iD=5,oD=6,aD=7,sD=8,cD=9,lD=10,uD=11,hD=[0,.25,.382,.5,.618,.75,1],fD=20,dD=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=qL(this,e,[t,n,r])).topRightPoint={x:0,y:0},i.bottomRightPoint={x:0,y:0},i.topLeftPoint={x:0,y:0},i.bottomLeftPoint={x:0,y:0},i.key="fibonacci-fan-".concat(i.index),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QL(t,e)}(e,t),n=e,r=[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(0*Math.random()+10),e=t+60;this.point1.time||this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),this.point1.price||this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),this.point2.time||this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),this.point2.price||this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"calculateCornerPoints",value:function(){this.topRightPoint={x:this.point1.x>this.point2.x?this.point1.x:this.point2.x,y:this.point1.y<this.point2.y?this.point1.y:this.point2.y},this.bottomRightPoint={x:this.point1.x>this.point2.x?this.point1.x:this.point2.x,y:this.point1.y>this.point2.y?this.point1.y:this.point2.y},this.topLeftPoint={x:this.point1.x<this.point2.x?this.point1.x:this.point2.x,y:this.point1.y<this.point2.y?this.point1.y:this.point2.y},this.bottomLeftPoint={x:this.point1.x<this.point2.x?this.point1.x:this.point2.x,y:this.point1.y>this.point2.y?this.point1.y:this.point2.y}}},{key:"draw",value:function(){if(this.isPointsCoordinatesChange()||this.updated||this.isThemeChanged()){this.clearAllDynamicGraphics(),this.updatePrevPoints();var t=this.getInteractiveGraphics(w.Rp.BUILDINGS,this.key);t.graphics.visible=!0,this.setPrimaryLineStyle(t.graphics);var e=(this.point2.x-this.point1.x)*fD,n=(this.point2.y-this.point1.y)*fD;t.graphics.moveTo(this.point1.x,this.point1.y),t.graphics.lineTo(this.point2.x+e,this.point2.y+n);var r=this.getShowValue(this.settings.lines.level);r&&this.drawAllCornerPointsLabels();for(var i=Math.abs(this.point2.x-this.point1.x),o=Math.abs(this.point2.y-this.point1.y),a=0;a<hD.length;a++){var s=hD[a],c=this.point1.x>this.point2.x?this.point1.x-s*i:this.point1.x+s*i,l=this.point1.y>this.point2.y?this.point1.y-s*o:this.point1.y+s*o;if(this.setPrimaryLineStyle(t.graphics),t.graphics.moveTo(this.point1.x,this.point1.y),t.graphics.lineTo(this.point2.x+(this.point2.x-this.point1.x)*fD,l+(l-this.point1.y)*fD),t.graphics.moveTo(this.point1.x,this.point1.y),t.graphics.lineTo(c+(c-this.point1.x)*fD,this.point2.y+(this.point2.y-this.point1.y)*fD),this.setPrimaryLineStyle(t.graphics,!1),t.graphics.moveTo(this.point1.x,l),t.graphics.lineTo(this.point2.x,l),r&&0!==s&&1!==s){var u=this.point1.x,h=this.point2.x;this.drawLevel(u<h?nD:tD,s,u,l),this.drawLevel(u>h?nD:tD,s,h,l)}if(t.graphics.moveTo(c,this.point1.y),t.graphics.lineTo(c,this.point2.y),r&&0!==s&&1!==s){var f=this.point1.y,d=this.point2.y;this.drawLevel(f>d?eD:JL,s,c,f),this.drawLevel(f<d?eD:JL,s,c,d)}}}}},{key:"getHitzonePoints",value:function(){var t=this.point1.x<=this.point2.x,e=this.point1.y>=this.point2.y;return[(0,g.zx)(this.point1.x,e?0:this.point1.height),(0,g.zx)(this.point1.x,this.point1.y),(0,g.zx)(t?this.point1.width:0,this.point1.y)]}},{key:"setPrimaryLineStyle",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.settings.lines.main,r=n.color,i=n.lineWidth,o=n.opacity;t.lineStyle(i,this.prepareColor(r),o/(e?100:200))}},{key:"drawAllCornerPointsLabels",value:function(){this.calculateCornerPoints(),this.drawCornerPointLabels(rD),this.drawCornerPointLabels(cD),this.drawCornerPointLabels(iD),this.drawCornerPointLabels(aD),this.drawCornerPointLabels(sD),this.drawCornerPointLabels(oD),this.drawCornerPointLabels(uD),this.drawCornerPointLabels(lD)}},{key:"drawCornerPointLabels",value:function(t){var e=0;switch((this.point1.x<this.point2.x&&(t===lD||t===iD)||this.point1.y>this.point2.y&&(t===rD||t===oD)||this.point1.y<this.point2.y&&(t===cD||t===sD)||this.point1.x>this.point2.x&&(t===aD||t===uD))&&(e=1),t){case rD:case lD:this.drawLevel(t,e,this.topRightPoint.x,this.topRightPoint.y);break;case oD:case uD:this.drawLevel(t,e,this.topLeftPoint.x,this.topLeftPoint.y);break;case cD:case iD:this.drawLevel(t,e,this.bottomRightPoint.x,this.bottomRightPoint.y);break;case sD:case aD:this.drawLevel(t,e,this.bottomLeftPoint.x,this.bottomLeftPoint.y)}}},{key:"drawLevel",value:function(t,e,n,r){var i="fib-fan-level-".concat(this.key,"-").concat(t,"-").concat(e),o=de.Ay.CHART.TEXT_STYLE_CURSOR_TIME,a=this.getTextGraphics(w.Rp.OVERLAY,i,e,o);a.style.fill=this.settings.lines.level.color,a.visible=!0;var s=this.getTextCoordinates(t,n,r,a.width,a.height),c=s.x,l=s.y;a.x=c,a.y=l}},{key:"getTextCoordinates",value:function(t,e,n,r,i){var o=e,a=n;switch(t){case JL:o=e-r/2,a=n-i-1;break;case tD:o=e+3,a=n-i/2;break;case eD:o=e-r/2,a=n+1;break;case nD:o=e-r-3,a=n-i/2;break;case lD:o=e-r,a=n-i-1;break;case iD:o=e-r,a=n+1;break;case aD:o=e+2,a=n+1;break;case oD:o=e-r-3,a=n;break;case sD:o=e-r-3,a=n-i-3;break;case uD:o=e+2,a=n-i-1;break;case rD:o=e+3,a=n;break;case cD:o=e+3,a=n-i}return{x:o,y:a}}}],r&&$L(n.prototype,r),i&&$L(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(bL);function pD(t){return pD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pD(t)}function mD(t){return function(t){if(Array.isArray(t))return yD(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return yD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bD(r.key),r)}}function bD(t){var e=function(t,e){if("object"!=pD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pD(e)?e:String(e)}function gD(t,e,n){return e=xD(e),function(t,e){if(e&&("object"===pD(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wD()?Reflect.construct(e,n||[],xD(t).constructor):e.apply(t,n))}function wD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wD=function(){return!!t})()}function xD(t){return xD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xD(t)}function jD(t,e){return jD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jD(t,e)}var OD=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=gD(this,e,[t,n,r])).key="rectangle-".concat(i.index),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jD(t,e)}(e,t),n=e,(r=[{key:"drawingPoints",get:function(){return[this.point1,this.point2]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(20*Math.random()+20),e=t+40;0===this.point1.time&&this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.point1.price&&this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),0===this.point2.time&&this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.point2.price&&this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"clearGraphics",value:function(){this.clearAllDynamicGraphics()}},{key:"isDrawingInsideScreen",value:function(){var t=this.point1.time<this.point2.time?this.point1.time:this.point2.time,e=this.point1.time<this.point2.time?this.point2.time:this.point1.time,n=this.point1.price<this.point2.price?this.point1.price:this.point2.price,r=this.point1.price<this.point2.price?this.point2.price:this.point1.price,i={time:t,price:n},o={time:e,price:n},a={time:e,price:r},s={time:t,price:r};if(this.isPointVisible(i)||this.isPointVisible(o)||this.isPointVisible(a)||this.isPointVisible(s))return!0;var c={left:t,top:n,right:e,bottom:r},l={left:this.getTimeFrom(),top:this.getValueFrom(),right:this.getTimeTo(),bottom:this.getValueTo()};return(0,g.Ci)(c,l)}},{key:"getHitzonePoints",value:function(){return[(0,g.zx)(this.point1.x,this.point1.y),(0,g.zx)(this.point1.x,this.point2.y),(0,g.zx)(this.point2.x,this.point2.y),(0,g.zx)(this.point2.x,this.point1.y),(0,g.zx)(this.point1.x,this.point1.y)]}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()){if(this.isPointsCoordinatesChange()||this.updated){this.clearGraphics(),this.updatePrevPoints();var t=[[this.point1.x,this.point1.y],[this.point1.x,this.point2.y],[this.point2.x,this.point2.y],[this.point2.x,this.point1.y],[this.point1.x,this.point1.y]],e=this.settings.lines.main,n=e.color,r=e.lineWidth,i=e.opacity,o=this.settings.lines.bg,a=o.color,s=o.opacity,c=this.getInteractiveGraphics(w.Rp.BUILDINGS,this.key);c.graphics.visible=!0,c.graphics.lineStyle(r,this.prepareColor(n),i/100),c.graphics.beginFill(this.prepareColor(a),s/100),t.forEach((function(t,e){var n;return(n=c.graphics)[0===e?"moveTo":"lineTo"].apply(n,mD(t))})),c.graphics.endFill()}}else this.clearGraphics()}}])&&vD(n.prototype,r),i&&vD(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(bL);function SD(t){return SD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SD(t)}function _D(t){return function(t){if(Array.isArray(t))return TD(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return TD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TD(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ED(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CD(r.key),r)}}function PD(t,e,n){return e&&ED(t.prototype,e),n&&ED(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CD(t){var e=function(t,e){if("object"!=SD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=SD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==SD(e)?e:String(e)}function kD(t,e,n){return e=RD(e),function(t,e){if(e&&("object"===SD(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ND()?Reflect.construct(e,n||[],RD(t).constructor):e.apply(t,n))}function ND(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ND=function(){return!!t})()}function ID(){return ID="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=RD(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ID.apply(this,arguments)}function RD(t){return RD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},RD(t)}function LD(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DD(t,e)}function DD(t,e){return DD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},DD(t,e)}var MD=function(t){function e(){return AD(this,e),kD(this,e,arguments)}return LD(e,t),PD(e,[{key:"setPoints",value:function(t,e){this.point1=t,this.point2=e}},{key:"updateCoordinates",value:function(){ID(RD(e.prototype),"updateCoordinates",this).call(this),this.x=(this.point1.x+this.point2.x)/2}}]),e}(HR),BD=function(t){function e(t,n,r){var i;AD(this,e),(i=kD(this,e,[t,n,r])).point1=i.createPoint(r.pointsData,w.Zo.XY,0),i.point2=i.createPoint(r.pointsData,w.Zo.XY,1);var o=r.pointsData.find((function(t){return 2===t.point}))||{},a=o.price,s=void 0===a?0:a,c=o.time,l=void 0===c?0:c;return i.point3=new MD(i.core,i.pointsManager,i.index,s,l,w.Zo.FreezeX,2),i.point3.setPoints(i.point1,i.point2),i.figureHeight=0,i.key="trend-line-".concat(i.index),i}return LD(e,t),PD(e,[{key:"middlePointValue",get:function(){return(this.point1.price+this.point2.price)/2}},{key:"bottomLeftPoint",get:function(){return{time:this.point1.time,price:this.point1.price+this.figureHeight}}},{key:"bottomRightPoint",get:function(){return{time:this.point2.time,price:this.point2.price+this.figureHeight}}},{key:"drawingPoints",get:function(){return[this.point1,this.point2,this.point3]}},{key:"calculateInitialPositions",value:function(){var t=Math.floor(10*Math.random()+50),e=t+20;0===this.point1.time&&this.point1.setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.point1.price&&this.point1.setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),0===this.point2.time&&this.point2.setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.point2.price&&this.point2.setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.point3.price&&this.point3.setPrice((this.point1.price+this.point2.price)/2-.4*(this.maxVal-this.minVal)),this.point3.time=(this.point1.time+this.point2.time)/2,this.figureHeight=this.point3.price-this.middlePointValue}},{key:"calculate",value:function(){if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize();this.isInitiated&&(this.isPointCoordinatesChange(this.point3)&&(this.figureHeight=this.point3.price-this.middlePointValue),this.point3.price=this.middlePointValue+this.figureHeight)}},{key:"isDrawingInsideScreen",value:function(){if(this.isPointVisible(this.point1)||this.isPointVisible(this.point2)||this.isPointVisible(this.bottomRightPoint)||this.isPointVisible(this.bottomLeftPoint))return!0;for(var t=this.point1.time<this.point2.time?this.point1:this.point2,e=this.point1.time<this.point2.time?this.point2:this.point1,n=t.time===this.bottomLeftPoint.time?this.bottomRightPoint:this.bottomLeftPoint,r=e.time===this.bottomRightPoint.time?this.bottomLeftPoint:this.bottomRightPoint,i={time:t.time,value:t.price},o={time:e.time,value:e.price},a={time:n.time,value:n.price},s={time:r.time,value:r.price},c=[[i,o],[o,a],[a,s],[s,i]],l={time:this.getTimeFrom(),value:this.getValueTo()},u={time:this.getTimeTo(),value:this.getValueTo()},h={time:this.getTimeTo(),value:this.getValueFrom()},f={time:this.getTimeFrom(),value:this.getValueFrom()},d=[[l,u],[u,h],[h,f],[f,l]],p=0;p<c.length;p++)for(var m=0;m<d.length;m++){var y=g.Y5.apply(void 0,_D(c[p]).concat(_D(d[m])));if(!0===y.onLine1&&!0===y.onLine2)return!0}return!1}},{key:"draw",value:function(){if(this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen())){var t=this.settings.lines,e=t.bg,n=t.main;this.getShowValue(n)&&this.drawLines(n),this.getShowValue(e)&&this.drawBgFill(e)}}},{key:"getHitzonePoints",value:function(){return[(0,g.zx)(this.point1.x,this.point1.y),(0,g.zx)(this.point2.x,this.point2.y)]}},{key:"drawLines",value:function(t){var e=t.color,n=t.lineWidth,r=t.opacity,i=this.getInteractiveGraphics(w.Rp.BUILDINGS,"parallel-channel-lines-".concat(this.index));i.graphics.visible=!0,i.graphics.lineStyle(n,this.prepareColor(e),r/100),i.graphics.moveTo(this.point1.x,this.point1.y),i.graphics.lineTo(this.point2.x,this.point2.y),i.graphics.moveTo(this.point1.x,this.getYFromValue(this.bottomLeftPoint.price)),i.graphics.lineTo(this.point2.x,this.getYFromValue(this.bottomRightPoint.price))}},{key:"drawBgFill",value:function(t){var e=t.color,n=t.opacity,r=this.getDynamicGraphics(w.Rp.BUILDINGS,"parallel-channel-bg-".concat(this.index));r.graphics.beginFill(this.prepareColor(e),n/100),r.graphics.drawPolygon(this.point1.x,this.point1.y,this.point2.x,this.point2.y,this.point2.x,this.getYFromValue(this.bottomRightPoint.price),this.point1.x,this.getYFromValue(this.bottomLeftPoint.price)),r.graphics.endFill()}}]),e}(ZR);function HD(t){return HD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HD(t)}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function GD(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?FD(Object(n),!0).forEach((function(e){VD(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function VD(t,e,n){return(e=UD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UD(r.key),r)}}function UD(t){var e=function(t,e){if("object"!=HD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=HD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==HD(e)?e:String(e)}function zD(t,e,n){return e=YD(e),function(t,e){if(e&&("object"===HD(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,XD()?Reflect.construct(e,n||[],YD(t).constructor):e.apply(t,n))}function XD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(XD=function(){return!!t})()}function $D(){return $D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=YD(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},$D.apply(this,arguments)}function YD(t){return YD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},YD(t)}function qD(t,e){return qD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qD(t,e)}var KD=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=zD(this,e,[t,n,r])).point=i.createPoint(r.pointsData,w.Zo.Y),i.point.setCursor("ns-resize"),i.key="horizontal-line-".concat(i.index),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qD(t,e)}(e,t),n=e,r=[{key:"updateSettings",value:function(t){$D(YD(e.prototype),"updateSettings",this).call(this,t),this.valueStyle=GD(GD({},de.Ay.CHART.TEXT_STYLE_CURSOR_TIME),{},{fill:this.prepareColor(this.settings.lines.main.color)})}},{key:"drawingPoints",get:function(){return[this.point]}},{key:"calculateInitialPositions",value:function(){0===this.point.time&&this.point.setTime(this.pointsManager.endPoint.time),0===this.point.price&&this.point.setPrice(this.minVal+(this.maxVal-this.minVal)/2)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"getHitzonePoints",value:function(){return[(0,g.zx)(0,this.point.y),(0,g.zx)(this.width,this.point.y)]}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()){if(this.isPointsCoordinatesChange()||this.updated){this.clearAllDynamicGraphics(),this.point.isDragging||this.updatePrevPoints();var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.opacity,i=this.getInteractiveGraphics(w.Rp.BUILDINGS,this.key);i.graphics.lineStyle(n,this.prepareColor(e),r/100),i.graphics.moveTo(0,this.point.y),i.graphics.lineTo(this.width,this.point.y),i.graphics.visible=!0,this.isLocked||(i.graphics.cursor="ns-resize");var o=this.formatStringPrice(this.point.price),a=this.getTextGraphics(w.Rp.BUILDINGS,"valueMarker-".concat(this.key),o,this.valueStyle),s=this.width-a.width-3*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN;a.x=s+2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,a.y=this.point.y-a.height-2,a.visible=!this.point.isDragging}}else this.clearAllDynamicGraphics()}}],r&&WD(n.prototype,r),i&&WD(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(ZR),ZD=KD;function QD(t){return QD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QD(t)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JD(Object(n),!0).forEach((function(e){eM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eM(t,e,n){return(e=rM(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rM(r.key),r)}}function rM(t){var e=function(t,e){if("object"!=QD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==QD(e)?e:String(e)}function iM(t,e,n){return e=sM(e),function(t,e){if(e&&("object"===QD(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,oM()?Reflect.construct(e,n||[],sM(t).constructor):e.apply(t,n))}function oM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oM=function(){return!!t})()}function aM(){return aM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sM(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},aM.apply(this,arguments)}function sM(t){return sM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sM(t)}function cM(t,e){return cM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cM(t,e)}var lM=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=iM(this,e,[t,n,r])).point=i.createPoint(r.pointsData,w.Zo.X),i.point.setCursor("ew-resize"),i.key="vertical-line-".concat(i.index),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cM(t,e)}(e,t),n=e,r=[{key:"updateSettings",value:function(t){aM(sM(e.prototype),"updateSettings",this).call(this,t),this.valueStyle=tM(tM({},de.Ay.CHART.TEXT_STYLE_CURSOR_TIME),{},{fill:this.prepareColor(this.settings.lines.main.color)})}},{key:"drawingPoints",get:function(){return[this.point]}},{key:"calculateInitialPositions",value:function(){0===this.point.time&&this.point.setTime(this.getTimeFromX(this.shift+this.width/2)),0===this.point.price&&this.point.setPrice(this.minVal+(this.maxVal-this.minVal)/2)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"clearGraphics",value:function(){this.clearAllDynamicGraphics()}},{key:"getHitzonePoints",value:function(){return[(0,g.zx)(this.point.x,this.yShift),(0,g.zx)(this.point.x,this.yShift+this.height)]}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()){if(this.isPointsCoordinatesChange()||this.updated){this.clearGraphics(),this.point.isDragging||this.updatePrevPoints();var t=this.settings.lines.main,e=t.color,n=t.lineWidth,r=t.opacity,i=this.getInteractiveGraphics(w.Rp.BUILDINGS,"line-vertical-".concat(this.index));i.graphics.lineStyle(n,this.prepareColor(e),r/100),i.graphics.moveTo(this.point.x,this.yShift),i.graphics.lineTo(this.point.x,this.yShift+this.height),i.graphics.visible=!0,this.isLocked||(i.graphics.cursor="ew-resize")}}else this.clearGraphics()}}],r&&nM(n.prototype,r),i&&nM(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(ZR),uM=lM;function hM(t){return hM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hM(t)}function fM(t,e,n){var r;return r=function(t,e){if("object"!=hM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==hM(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dM=fM(fM(fM(fM(fM(fM(fM(fM(fM({},de.Ay.CHART.DRAWINGS.ANDREWS_PITCHFORK,uL),de.Ay.CHART.DRAWINGS.RAY,EL),de.Ay.CHART.DRAWINGS.TREND_LINE,DL),de.Ay.CHART.DRAWINGS.FIBONACCI_RETRACEMENT,zL),de.Ay.CHART.DRAWINGS.FIBONACCI_FAN,dD),de.Ay.CHART.DRAWINGS.RECTANGLE,OD),de.Ay.CHART.DRAWINGS.PARALLEL_CHANNEL,BD),de.Ay.CHART.DRAWINGS.HORIZONTAL_LINE,ZD),de.Ay.CHART.DRAWINGS.VERTICAL_LINE,uM);function pM(t,e,n){return Object.keys(t).filter((function(n){return void 0!==t[n][e]})).map((function(n){return t[n][e]}))[0]||n}function mM(t){return mM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mM(t)}function yM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vM(r.key),r)}}function vM(t){var e=function(t,e){if("object"!=mM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mM(e)?e:String(e)}function bM(t,e,n){return e=xM(e),function(t,e){if(e&&("object"===mM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gM()?Reflect.construct(e,n||[],xM(t).constructor):e.apply(t,n))}function gM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gM=function(){return!!t})()}function wM(){return wM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xM(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},wM.apply(this,arguments)}function xM(t){return xM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xM(t)}function jM(t,e){return jM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jM(t,e)}var OM="max",SM="min",_M={X:10,Y:2},TM=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=bM(this,e,[t,n])).maxElementId="candles-max-".concat(r.chartId),r.maxElementLabelId="candles-max-label-".concat(r.chartId),r.minElementId="candles-min-".concat(r.chartId),r.minElementLabelId="candles-min-label-".concat(r.chartId),r.prevMaxElementValue={value:Number.MIN_VALUE,time:0},r.prevMinElementValue={value:Number.MAX_VALUE,time:0},r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jM(t,e)}(e,t),n=e,(r=[{key:"drawMaxValue",value:function(t){this.shouldRedrawMaxElement(t)&&(this.clearMaxElement(),this.drawMinMaxElement(t,OM))}},{key:"drawMinValue",value:function(t){this.shouldRedrawMinElement(t)&&(this.clearMinElement(),this.drawMinMaxElement(t,SM))}},{key:"baseShouldRedraw",value:function(){return this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isElementHeightChanged()||this.forceCleared}},{key:"shouldRedrawMaxElement",value:function(t){return this.baseShouldRedraw()||this.prevMaxElementValue.value!==t.value||this.prevMaxElementValue.time!==t.time}},{key:"shouldRedrawMinElement",value:function(t){return this.baseShouldRedraw()||this.prevMinElementValue.value!==t.value||this.prevMinElementValue.time!==t.time}},{key:"drawMinMaxElement",value:function(t,e){var n=t.value,r=t.time,i=e===OM;i?this.prevMaxElementValue={value:n,time:r}:this.prevMinElementValue={value:n,time:r};var o=(0,qn.xr)(n,this.currentDigit,!0),a=uO(o,de.Ay.CHART.TEXT_STYLE_BET),s=a.width+2*_M.X,c=a.height+2*_M.Y,l=this.getXFromTime(r),u=this.getYFromValue(n)-_M.Y+(i?-10:10);l+s>this.width&&(l-=s);var h=this.core.getDynamicGraphics(w.Rp.MINMAX,i?this.maxElementId:this.minElementId,{smooth:!0});h.graphics.beginFill(this.colors.minMaxElementBg.getHEXNUM(),this.colors.minMaxElementBg.getAlpha(),!0),h.graphics.zIndex=1,h.graphics.drawRoundedRect(0,0,s,c,6),h.graphics.endFill(),h.graphics.setTransform(l,u+(i?-c:0));var f=this.core.getText(w.Rp.MINMAX,i?this.maxElementLabelId:this.minElementId,o,de.Ay.CHART.TEXT_STYLE_BET,this.colors.minMaxElementText.getHEXNUM());f.zIndex=2,f.x=l+_M.X,f.y=u+_M.Y+(i?-c:0)}},{key:"clearMaxElement",value:function(){this.core.clearDynamicGraphicsNew(this.maxElementId),this.core.clearText(this.maxElementLabelId)}},{key:"clearMinElement",value:function(){this.core.clearDynamicGraphicsNew(this.minElementId),this.core.clearText(this.minElementLabelId)}},{key:"clear",value:function(){this.clearMaxElement(),this.clearMinElement()}},{key:"destroy",value:function(){wM(xM(e.prototype),"destroy",this).call(this),this.core.destroyDynamicGraphicsNew(w.Rp.MINMAX,this.maxElementId),this.core.destroyText(this.maxElementLabelId),this.core.destroyDynamicGraphicsNew(w.Rp.MINMAX,this.minElementId),this.core.destroyText(this.minElementLabelId)}}])&&yM(n.prototype,r),i&&yM(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx);function AM(t){return AM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AM(t)}function EM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PM(r.key),r)}}function PM(t){var e=function(t,e){if("object"!=AM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=AM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==AM(e)?e:String(e)}function CM(t,e,n){return e=IM(e),function(t,e){if(e&&("object"===AM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,kM()?Reflect.construct(e,n||[],IM(t).constructor):e.apply(t,n))}function kM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(kM=function(){return!!t})()}function NM(){return NM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=IM(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},NM.apply(this,arguments)}function IM(t){return IM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},IM(t)}function RM(t,e){return RM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},RM(t,e)}var LM=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),CM(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RM(t,e)}(e,t),n=e,(r=[{key:"plotId",get:function(){return"plot-optimized"}},{key:"gradientId",get:function(){return"plot-gradient-optimized"}},{key:"init",value:function(){this.plot=this.core.getDynamicPlot(this.plotId),this.grad=null,this.topPoint=0,this.initColors(),this.showArea&&this.createGradient()}},{key:"createGradient",value:function(){this.core.destroyDynamicGradient(this.gradientId),this.grad=this.core.getDynamicGradient(this.gradientId),this.grad.masterPlot=this.plot,this.setupGradient(this.grad)}},{key:"updateShowArea",value:function(t){this.showArea=t,t?this.createGradient():(this.grad=null,this.core.destroyDynamicGradient(this.gradientId))}},{key:"initColors",value:function(){this.plot.tint=this.colors.plotLineColor.getHEXNUM(),this.plot.lineStyle(2),this.plot.alpha=.8}},{key:"setupGradient",value:function(t){var e=this.colors.plotLineGradientTopColor,n=this.colors.plotLineGradientBottomColor;t.alpha=1,t.colorTop=e.getHEXNUM(),t.colorBottom=n.getHEXNUM(),t.alphaTop=e.getAlpha(),t.alphaBottom=n.getAlpha()}},{key:"updateGradient",value:function(){this.showArea&&this.grad&&(this.grad.coordTop=this.topPoint,this.grad.coordBottom=this.yShift+this.height)}},{key:"drawPlot",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.x,i=n.y;this.plot.lineTo(r,i)}}},{key:"draw",value:function(){this.isThemeChanged()&&this.initColors(),this.plot.clear();for(var t=this.filterPoints(this.pointsManager.getReducedAndAnimatedPoints()),e=t.length,n=[],r=0;r<e;r++){var i=this.getXFromTime(t[r].time);if(r+1<e){var o=this.getXFromTime(t[r+1].time);if(i<0&&o<0)continue}n.push({x:this.getXFromTime(t[r].time),y:this.getYFromValue(t[r].value)})}this.topPoint=this.getYFromValue(this.maxVal),n.length>0&&n[n.length-1].y<this.topPoint&&(this.topPoint=n[n.length-1].y),n.length<3||(this.drawPlot(n),this.updateGradient(),this.drawMinMaxElements(t))}},{key:"destroy",value:function(){NM(IM(e.prototype),"destroy",this).call(this),this.core.destroyDynamicPlot(this.plotId),this.core.destroyDynamicGradient(this.gradientId)}}])&&EM(n.prototype,r),i&&EM(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(Ex),DM=LM;function MM(t){return MM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MM(t)}function BM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HM(r.key),r)}}function HM(t){var e=function(t,e){if("object"!=MM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=MM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==MM(e)?e:String(e)}function FM(t,e,n){return e=WM(e),function(t,e){if(e&&("object"===MM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,GM()?Reflect.construct(e,n||[],WM(t).constructor):e.apply(t,n))}function GM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(GM=function(){return!!t})()}function VM(){return VM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=WM(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},VM.apply(this,arguments)}function WM(t){return WM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},WM(t)}function UM(t,e){return UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},UM(t,e)}var zM=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=FM(this,e,[t,n])).position=w.vh.Overlay,i.data=r,i.id="priceAlert-".concat(r.assetId,"-").concat(r.price,"-").concat(r.id),i.containerIndex=w.Rp.PRICE_ALERTS,i.label=(0,qn.xr)(i.data.price,i.pointsManager.plot.currentDigit,!0),i.textSize=uO(i.label,de.Ay.CHART.TEXT_STYLE_CURSOR_TIME),i.rectWidth=i.textSize.width+2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,i.rectHeight=i.textSize.height+2*de.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,i.isHovered=!1,i.rendered=!1,i.initStyles(),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UM(t,e)}(e,t),n=e,r=[{key:"alertButtonKey",get:function(){return"".concat(this.id,"-price-btn")}},{key:"alertTextKey",get:function(){return"".concat(this.id,"-value")}},{key:"rectKey",get:function(){return"".concat(this.id,"-rect")}},{key:"bellKey",get:function(){return"".concat(this.id,"-bell-icon")}},{key:"crossKey",get:function(){return"".concat(this.id,"-cross-icon")}},{key:"lineKey",get:function(){return"".concat(this.id,"-line")}},{key:"initStyles",value:function(){this.lineColor=this.isDarkTheme()?RT.LINE.DARK:RT.LINE.LIGHT}},{key:"getBellIcon",value:function(){return this.core.getSprite(this.containerIndex,this.bellKey,CT.path,!0).sprite}},{key:"getCrossIcon",value:function(){return this.core.getSprite(this.containerIndex,this.crossKey,kT.path,!0).sprite}},{key:"drawRect",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.rectKey).graphics;return t.beginFill(this.lineColor,1),t.drawRoundedRect(this.x,this.y-this.rectHeight/2,this.rectWidth,this.rectHeight,4),t.endFill(),t}},{key:"drawPriceText",value:function(){var t=this.core.getText(this.containerIndex,this.alertTextKey,this.label,de.Ay.CHART.TEXT_STYLE_CURSOR_TIME);return t.x=this.x+de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,t.y=this.y-this.rectHeight/2+de.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,t}},{key:"drawAlertButton",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.alertButtonKey).graphics;t.beginFill(this.lineColor,1);var e=this.x-this.rectHeight-IT;t.drawRoundedRect(e,this.y-this.rectHeight/2,this.rectHeight,this.rectHeight,4),t.endFill(),this.subscribe(t);var n=this.isHovered?this.getCrossIcon():this.getBellIcon(),r=(this.rectHeight-CT.size)/2;n.setTransform(e+r,this.y-CT.size/2,.5,.5),this.subscribe(n)}},{key:"drawAlertLine",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.lineKey).graphics;return t.lineStyle({width:1,color:this.lineColor}),t.moveTo(0,this.y),t.lineTo(this.x-this.rectHeight-IT,this.y),t}},{key:"drawPriceAlert",value:function(){this.drawRect(),this.drawPriceText(),this.drawAlertButton(),this.drawAlertLine()}},{key:"subscribe",value:function(t){var e=this;t.interactive=!0,t.buttonMode=!0,t.removeAllListeners(),t.on("pointerover",(function(){return e.onIconPriceButtonPointOver()})),t.on("pointerout",(function(){return e.onIconPriceButtonPointOut()})),t.on("pointerdown",(function(){return e.onIconPriceButtonPointDown()}))}},{key:"onIconPriceButtonPointOver",value:function(){this.isHovered=!0,this.rendered=!1}},{key:"onIconPriceButtonPointOut",value:function(){this.isHovered=!1,this.rendered=!1}},{key:"onIconPriceButtonPointDown",value:function(){Re.A.publish(Ha.H7,this.data.id)}},{key:"shouldRerender",value:function(){return this.isChangedMinMax()||this.isSizeChanged()||this.isElementHeightChanged()}},{key:"draw",value:function(){this.isThemeChanged()&&(this.clearAll(),this.initStyles()),this.rendered&&!this.shouldRerender()||(this.x=this.width-this.textSize.width-2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN-NT,this.y=this.getYFromValue(this.data.price),this.y<0||this.y>this.height-de.Ay.CHART.TIMELINE_HEIGHT?this.clearAll():(this.clearAll(),this.drawPriceAlert()))}},{key:"onAfterDraw",value:function(){VM(WM(e.prototype),"onAfterDraw",this).call(this),this.rendered=!0}},{key:"clearAll",value:function(){this.rendered=!1,this.core.clearText(this.alertTextKey),this.core.clearDynamicGraphicsNew(this.rectKey),this.core.clearDynamicGraphicsNew(this.alertButtonKey),this.core.clearDynamicGraphicsNew(this.lineKey),this.core.clearSprite(this.bellKey),this.core.clearSprite(this.crossKey)}},{key:"destroy",value:function(){VM(WM(e.prototype),"destroy",this).call(this),this.core.destroyText(this.alertTextKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.rectKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.alertButtonKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.lineKey),this.core.destroySprite(this.containerIndex,this.bellKey),this.core.destroySprite(this.containerIndex,this.crossKey)}}],r&&BM(n.prototype,r),i&&BM(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx);function XM(t){return XM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XM(t)}function $M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YM(r.key),r)}}function YM(t){var e=function(t,e){if("object"!=XM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=XM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==XM(e)?e:String(e)}function qM(t,e,n){return e=QM(e),function(t,e){if(e&&("object"===XM(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,KM()?Reflect.construct(e,n||[],QM(t).constructor):e.apply(t,n))}function KM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(KM=function(){return!!t})()}function ZM(){return ZM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=QM(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ZM.apply(this,arguments)}function QM(t){return QM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},QM(t)}function JM(t,e){return JM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},JM(t,e)}var tB=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=qM(this,e,[t,n])).position=w.vh.Overlay,i.data=r,i.id="pendingByPrice-".concat(r.symbol,"-").concat(r.openPrice,"-").concat(r.ticket),i.containerIndex=w.Rp.PENDINGS,i.lineShader=new bx.sM({dash:3,gap:3}),i.label=(0,qn.xr)(i.data.openPrice,i.pointsManager.plot.currentDigit,!0),i.textSize=uO(i.label,de.Ay.CHART.TEXT_STYLE_CURSOR_TIME),i.rectWidth=i.textSize.width+2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,i.rectHeight=i.textSize.height+2*de.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,i.isHovered=!1,i.rendered=!1,i.initStyles(),i}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JM(t,e)}(e,t),n=e,r=[{key:"hourGlassButtonKey",get:function(){return"".concat(this.id,"-hour-glass-btn")}},{key:"commandButtonKey",get:function(){return"".concat(this.id,"-command-btn")}},{key:"alertTextKey",get:function(){return"".concat(this.id,"-value")}},{key:"rectKey",get:function(){return"".concat(this.id,"-rect")}},{key:"hourGlassKey",get:function(){return"".concat(this.id,"-hour-glass-icon")}},{key:"crossKey",get:function(){return"".concat(this.id,"-cross-icon")}},{key:"commandKey",get:function(){return"".concat(this.id,"-command-icon")}},{key:"lineKey",get:function(){return"".concat(this.id,"-line")}},{key:"initStyles",value:function(){this.lineColor=this.isDarkTheme()?qT.LINE.DARK:qT.LINE.LIGHT}},{key:"getHourGlassIcon",value:function(){return this.core.getSprite(this.containerIndex,this.hourGlassKey,XT.HOUR_GLASS.path,!0).sprite}},{key:"getCrossIcon",value:function(){return this.core.getSprite(this.containerIndex,this.crossKey,XT.CROSS.path,!0).sprite}},{key:"getCommandIcon",value:function(){var t=this.isCallPending()?XT.CALL.path:XT.PUT.path;return this.core.getSprite(this.containerIndex,this.commandKey,t,!0).sprite}},{key:"isCallPending",value:function(){return(0,qt.nT)(this.data.command)}},{key:"drawRect",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.rectKey).graphics;return t.beginFill(this.lineColor,1),t.drawRoundedRect(this.x,this.y-this.rectHeight/2,this.rectWidth,this.rectHeight,4),t.endFill(),t}},{key:"drawPriceText",value:function(){var t=this.core.getText(this.containerIndex,this.alertTextKey,this.label,de.Ay.CHART.TEXT_STYLE_CURSOR_TIME);return t.x=this.x+de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN,t.y=this.y-this.rectHeight/2+de.Ay.CHART.VALUE_BG_VERTICAL_MARGIN,t}},{key:"drawCommandIcon",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.commandButtonKey).graphics;t.beginFill(this.isCallPending()?XT.CALL.color:XT.PUT.color,1);var e=this.x-this.rectHeight-YT;t.drawRoundedRect(e,this.y-this.rectHeight/2,this.rectHeight,this.rectHeight,4),t.endFill();var n=this.getCommandIcon(),r=(this.rectHeight-XT.HOUR_GLASS.size)/2;n.setTransform(e+r,this.y-XT.HOUR_GLASS.size/2,.5,.5)}},{key:"drawHourGlassIcon",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.hourGlassButtonKey).graphics;t.beginFill(this.lineColor,1);var e=this.x-2*(this.rectHeight+YT);t.drawRoundedRect(e,this.y-this.rectHeight/2,this.rectHeight,this.rectHeight,4),t.endFill(),this.subscribe(t);var n=this.isHovered?this.getCrossIcon():this.getHourGlassIcon(),r=(this.rectHeight-XT.HOUR_GLASS.size)/2;n.setTransform(e+r,this.y-XT.HOUR_GLASS.size/2,.5,.5),this.subscribe(n)}},{key:"drawLine",value:function(){var t=this.core.getDynamicGraphics(this.containerIndex,this.lineKey,{smooth:!0}).graphics;return t.lineStyle({width:1,color:this.isCallPending()?XT.CALL.color:XT.PUT.color,shader:this.lineShader}),t.moveTo(0,this.y),t.lineTo(this.x-2*(this.rectHeight+YT),this.y),t}},{key:"drawPriceAlert",value:function(){this.drawRect(),this.drawPriceText(),this.drawHourGlassIcon(),this.drawCommandIcon(),this.drawLine()}},{key:"subscribe",value:function(t){var e=this;t.interactive=!0,t.buttonMode=!0,t.removeAllListeners(),t.on("pointerover",(function(){return e.onIconPriceButtonPointOver()})),t.on("pointerout",(function(){return e.onIconPriceButtonPointOut()})),t.on("pointerdown",(function(){return e.onIconPriceButtonPointDown()}))}},{key:"onIconPriceButtonPointOver",value:function(){this.isHovered=!0,this.rendered=!1}},{key:"onIconPriceButtonPointOut",value:function(){this.isHovered=!1,this.rendered=!1}},{key:"onIconPriceButtonPointDown",value:function(){Re.A.publish(Ha.nH,this.data.ticket)}},{key:"shouldRerender",value:function(){return this.isChangedMinMax()||this.isSizeChanged()||this.isElementHeightChanged()}},{key:"draw",value:function(){this.isThemeChanged()&&(this.clearAll(),this.initStyles()),this.rendered&&!this.shouldRerender()||(this.x=this.width-this.textSize.width-2*de.Ay.CHART.VALUE_BG_HORIZONTAL_MARGIN-$T,this.y=this.getYFromValue(this.data.openPrice),this.y<0||this.y>this.height-de.Ay.CHART.TIMELINE_HEIGHT?this.clearAll():(this.clearAll(),this.drawPriceAlert()))}},{key:"onAfterDraw",value:function(){ZM(QM(e.prototype),"onAfterDraw",this).call(this),this.rendered=!0}},{key:"clearAll",value:function(){this.rendered=!1,this.core.clearText(this.alertTextKey),this.core.clearDynamicGraphicsNew(this.rectKey),this.core.clearDynamicGraphicsNew(this.hourGlassButtonKey),this.core.clearDynamicGraphicsNew(this.commandButtonKey),this.core.clearDynamicGraphicsNew(this.lineKey),this.core.clearSprite(this.hourGlassKey),this.core.clearSprite(this.crossKey),this.core.clearSprite(this.commandKey)}},{key:"destroy",value:function(){ZM(QM(e.prototype),"destroy",this).call(this),this.core.destroyText(this.alertTextKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.rectKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.hourGlassButtonKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.commandButtonKey),this.core.destroyDynamicGraphicsNew(this.containerIndex,this.lineKey),this.core.destroySprite(this.containerIndex,this.hourGlassKey),this.core.destroySprite(this.containerIndex,this.crossKey),this.core.destroySprite(this.containerIndex,this.commandKey)}}],r&&$M(n.prototype,r),i&&$M(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(dx);function eB(t){return eB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eB(t)}function nB(t){return function(t){if(Array.isArray(t))return iB(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rB(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rB(t,e){if(t){if("string"==typeof t)return iB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iB(t,e):void 0}}function iB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sB(r.key),r)}}function aB(t,e,n){return(e=sB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=function(t,e){if("object"!=eB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eB(e)?e:String(e)}var cB=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),aB(this,"setPointer",(function(t,e){r.pointerX=t,r.pointerY=e})),aB(this,"hasLoadingRegions",(function(){return r.regions.length>0})),aB(this,"getPointsInElementForIndicators",(function(){return Math.max(5,(0,g.o0)(r.chartType,r.chartPeriod))})),this.store=n,this.chartId=e,this.scrollToEndDisplayed=!1,this.pointsManager=new iE(this),this.callPutButtonsManager=new CR(this.chartId),this.pointVisible=!1,this.width=0,this.height=0,this.ts=0,this.expirationTime=0,this.minValue=0,this.maxValue=0,this.chartType=w.M.Candles,this.regions=[],this.indicators=[],this.tick=de.Ay.CHART.FLT_MAX,this.gridElement=null,this.gatesElement=null,this.candlesTimer=null,this.currentElement=null,this.minMaxElement=null,this.pointElement=null,this.valueLineElement=null,this.cursorElement=null,this.touchX=de.Ay.CHART.FLT_MAX,this.touchY=de.Ay.CHART.FLT_MAX,this.startX=de.Ay.CHART.FLT_MAX,this.startY=de.Ay.CHART.FLT_MAX,this.prevPinch=de.Ay.CHART.FLT_MAX,this.pointerX=0,this.pointerY=0,this.acceleration=0,this.accelerationStartTime=0,this.handling=!1,this.currentZoom=0,this.chartPeriod=w.Jm.M1,this.topElementsNumber=0,this.bottomElementsHeight=0,this.topMargin=0,this.bottomMargin=0,this.context=new zw(e),this.core=new PT(this.context.getCanvas(),this.context.isIE),this.options=[],this.optionsSocial=[],this.optionsClosed=[],this.expressDeals=[],this.defaultDuration=.1,this.minValueAnimator=new Kw(this.defaultDuration,w.EK.EaseOutQuad),this.maxValueAnimator=new Kw(this.defaultDuration,w.EK.EaseOutQuad),this.shiftAnimator=new Kw(.5,w.EK.EaseInOutQuad),this.secondWidthAnimator=new Kw(.5,w.EK.EaseInOutQuad),this.touchStartTs=0,this.touchMoveSide=0,this.currentDigit=2;var i=this.globalSettings,o=i.currency,a=i.currentTime,s=i.isMobile,c=i.theme;this.currency=o,this.currentServerTime=a,this.isMobile=s,this.theme=c,this.showCursorPointer=!this.isMobile,this.destroyed=!1,this.forceCleared=!1,this.assetId=0,this.subscribeToInputEvents(),this.callPutButtonsManager.install(),this.initializePlotEventsListeners(),this.isMinMaxCalculated=!1,this.linePlotCandleWidth=null,this.extraBottomMargin=0,this.lastCurrentServerTime=0,this.lastZoomedAt=0,this.drawingsManager=new AE(this),this.plotVerticalScroll=new cE(this),this.betElementDrawMode=this.loadBetElementDrawModeState(),this.hoveredDoubleUp=null,this.hoverCallDoubleUp=!1,this.hoverPutDoubleUp=!1,this.hoveredRollover=null,this.priceAlerts=[],this.pendingsByPrice=[]}var e,n,r;return e=t,n=[{key:"getBetElementDrawModeCookieName",value:function(){return"be_".concat(this.chartId)}},{key:"loadBetElementDrawModeState",value:function(){var t=pe.A.cookies.get(this.getBetElementDrawModeCookieName());return Object.values(w.mC).includes(t)?t:w.mC.EXPANDED}},{key:"saveBetElementDrawModeState",value:function(){pe.A.cookies.set(this.getBetElementDrawModeCookieName(),this.betElementDrawMode)}},{key:"subscribeToInputEvents",value:function(){var t=this;this.context.addEventListener(Lw,(function(e,n,r){return t.zoom(n,r,e)})),this.context.addEventListener(Gw,(function(e,n,r,i){return t.pinchZoom(e,n,r,i)})),this.context.addEventListener(Vw,(function(){return t.pinchZoomEnd()})),this.context.addEventListener(Dw,(function(e,n){return t.touchMoved(e,n)})),this.context.addEventListener(Hw,(function(e,n){return t.touchEnded(e,n)})),this.context.addEventListeners([Uw,Bw],(function(e,n){return t.checkInteractives(e,n)})),this.context.addEventListener(Fw,(function(e,n){return t.setPointer(e,n)})),this.context.addEventListener(Ww,(function(){return t.onMouseDown()}))}},{key:"unsubscribeFromInputEvents",value:function(){this.context.removeAllListeners()}},{key:"shift",get:function(){return this.shiftAnimator.getValue()}},{key:"secondWidth",get:function(){return this.secondWidthAnimator.getValue()}},{key:"chartSettings",get:function(){return this.store.getState().chartSettings.chartById[this.chartId]}},{key:"globalSettings",get:function(){return this.store.getState().global}},{key:"addPlotEventListener",value:function(t,e){var n=(0,ho.A)();return this.plotEventListeners[t].set(n,e),n}},{key:"removeAllPlotEventListeners",value:function(){this.initializePlotEventsListeners()}},{key:"initializePlotEventsListeners",value:function(){var t={};Object.keys(w.b1).forEach((function(e){t[w.b1[e]]=new Map})),this.plotEventListeners=t}},{key:"checkInteractives",value:function(t,e){this.drawingsManager.isMovingDrawing()||(this.handleOpenedDealClicks(t,e),this.handleSocialDealClicks(t,e))}},{key:"handleOpenedDealClicks",value:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=rB(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.options);try{for(r.s();!(n=r.n()).done;)if(n.value.checkClickOpen(t,e)){this.toggleBetElementDrawMode();break}}catch(i){r.e(i)}finally{r.f()}}},{key:"handleSocialDealClicks",value:function(t,e){for(var n=!1,r=0;r<this.optionsSocial.length;r++){var i=this.optionsSocial[r];i.infoOpened&&(n||i.checkClickOutside(t,e))&&i.closeInfo();var o=!1;i.isShowCopyBtn&&i.infoOpened&&i.checkClickCopy(t,e)&&(Re.A.publish(Ha.OH,new Ea.A(i.id)),o=!0),!o&&i.checkClickInfo(t,e)&&Re.A.publish(Ha.es,i.option.uid),!(n=n||i.infoOpened)&&i.checkClickOpen(t,e)&&(i.openInfo(),n=!0)}}},{key:"toggleBetElementDrawMode",value:function(){var t=this.options.map((function(t){return t.data}));this.destroyOptions(),this.betElementDrawMode=this.betElementDrawMode===w.mC.COLLAPSED?w.mC.EXPANDED:w.mC.COLLAPSED,this.setOpenedDeals(t,!1),this.saveBetElementDrawModeState()}},{key:"handleScrollToEndClick",value:function(){this.scrollToChartStart(!0)}},{key:"touchMoved",value:function(t,e){if(!this.drawingsManager.isMovingDrawing()){this.stopMoves();var n=this.drawingsManager.checkPointHit(t,e);this.handling||!this.plotVerticalScroll.isHandling&&n||!this.plotVerticalScroll.canHandle(t,e)?(this.touchX===de.Ay.CHART.FLT_MAX&&(this.handling=!0,this.touchX=t,this.touchY=e,this.startX=t,this.startY=e,this.touchStartTs=this.ts),this.drawingsManager.isPointSelected()?(this.touchX=t,this.touchY=e,this.drawingsManager.moveSelectedPoint(this.touchX,this.touchY,!0)):(this.shiftAnimator.setToValue(this.shift+this.touchX-t),this.touchMoveSide=this.touchX>t?1:-1,this.touchX=t,this.touchY=e,this.checkShift())):this.plotVerticalScroll.handle(t,e,this.minValue,this.maxValue)}}},{key:"onMouseDown",value:function(){this.drawingsManager.isMovingDrawing()||this.isMobile||this.stopMoves()}},{key:"touchEnded",value:function(t,e){if(!this.drawingsManager.isMovingDrawing()){if(!this.drawingsManager.isPointSelected()){this.accelerationStartTime=this.ts;var n=this.ts-this.touchStartTs,r=Math.abs(t-this.startX),i=Math.abs(e-this.startY);if(n>0&&n<.4&&r>i&&r>50){var o=r/n/n;this.acceleration=this.touchMoveSide*Math.min(50,o/700)}else this.acceleration=0}this.touchStartTs=0,this.touchX=de.Ay.CHART.FLT_MAX,this.touchY=de.Ay.CHART.FLT_MAX,this.startX=de.Ay.CHART.FLT_MAX,this.startY=de.Ay.CHART.FLT_MAX,this.handling=!1,this.plotVerticalScroll.stopHandling()}}},{key:"pinchZoom",value:function(t,e,n,r){if(!this.drawingsManager.isMovingDrawing()){if(this.stopMoves(),this.prevPinch===de.Ay.CHART.FLT_MAX)return this.prevPinch=BE(n-t,r-e),void(this.handling=!0);var i=BE(n-t,r-e);if(!(Math.abs((i-this.prevPinch)/(this.prevPinch+i))<.01)){var o=this.prevPinch>i?-1:1;this.prevPinch=i;var a=Math.min(t,n)+Math.abs(t-n)/2;this.zoom(a,this.height/2,o*de.Ay.CHART.ZOOM_FACTOR)}}}},{key:"pinchZoomEnd",value:function(){this.drawingsManager.isMovingDrawing()||(this.prevPinch=de.Ay.CHART.FLT_MAX,this.handling=!1)}},{key:"zoom",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!this.drawingsManager.isMovingDrawing()){this.stopMoves();var i=r>1?n/r:n,o=this.secondWidth*Math.pow(1+i,r);this.setSecondWidthAfterZoom(t,e,o)}}},{key:"setSecondWidthAfterZoom",value:function(t,e,n){var r=this.clampSecondWidth(n),i=this.pointsManager.startPoint.time+(this.shift+t)/this.secondWidth;this.secondWidthAnimator.setToValue(r);var o=(i-this.pointsManager.startPoint.time)*r-t,a=this.getMaxShift(),s=this.shift,c=o>a?a:o;this.shiftAnimator.setToValue(c),s!==c&&(this.lastZoomedAt=this.globalSettings.currentTime),this.checkShift(),this.plotEventListeners[w.b1.ZOOM_CHANGED].forEach((function(t){return t()}))}},{key:"setDateRangeMinutes",value:function(t){var e=this.width/(60*t);this.setSecondWidthAfterZoom(this.width/2,this.height/2,e)}},{key:"restoreZoom",value:function(){this.hasLoadingRegions()||(this.acceleration=0,this.stopMoves(),this.resetZoom(),this.plotVerticalScroll.reset(),this.scrollToChartStart(!1))}},{key:"resetZoom",value:function(){this.resetSecondWidth(),this.currentZoom=this.secondWidth}},{key:"resetSecondWidth",value:function(){var t=(0,g.Uh)(this.chartType,this.chartPeriod);this.secondWidthAnimator.fromValue=t,this.secondWidthAnimator.setToValue(t)}},{key:"stopMoves",value:function(){this.secondWidthAnimator.setEnabled(!1),this.shiftAnimator.setEnabled(!1),this.acceleration=0}},{key:"setPlotType",value:function(t){this.chartType=t,this.destroyElements(),this.setMainElements(),this.actualizeZoom(),this.actualizeIndicators(),this.forceClear()}},{key:"flushIndicatorsCache",value:function(){for(var t=0;t<this.indicators.length;t++)this.indicators[t]&&this.indicators[t].flush()}},{key:"refresh",value:function(){this.destroyElements(),this.setMainElements(),this.actualizeIndicators(),this.pointsManager.reset(),this.forceClear()}},{key:"forceClear",value:function(){this.core.clearForce(),this.forceCleared=!0}},{key:"setPlotPeriod",value:function(t){this.chartPeriod=t,this.refresh(),this.flushIndicatorsCache()}},{key:"getCurrentZoomFactor",value:function(){var t=(0,g.H0)(this.chartType,this.chartPeriod),e=(0,g.rp)(this.chartType,this.chartPeriod);return(this.secondWidth-t)/(e-t)}},{key:"setMainElements",value:function(){this.actualizeMainElement(),this.actualizeGatesElement(),this.actualizeCursorElement(),this.pointElement=new bj(this.core,this.pointsManager),this.valueLineElement=new zT(this.core,this.pointsManager),this.gridElement=new pA(this.core,this.pointsManager),this.candlesTimer=new OA(this.core,this.pointsManager)}},{key:"onGridSnapChange",value:function(){this.actualizeCursorElement()}},{key:"onShowAreaChange",value:function(t){(0,g.Mt)(this.chartSettings.chartType)&&this.currentElement.updateShowArea(t)}},{key:"onChangeSelectedDrawingIds",value:function(t){this.drawingsManager.syncSelected(t)}},{key:"onChangePriceAlerts",value:function(t){for(var e=this,n=t.map((function(t){return t.id})),r=this.priceAlerts.length-1;r>=0;r--){var i=this.priceAlerts[r];n.includes(i.data.id)||(i.destroy(),this.priceAlerts.splice(r,1))}t.forEach((function(t){e.priceAlerts.some((function(e){return e.data.id===t.id}))||e.priceAlerts.push(new zM(e.core,e.pointsManager,t))}))}},{key:"onChangePendingsByPrice",value:function(t){for(var e=this,n=t.map((function(t){return t.ticket})),r=this.pendingsByPrice.length-1;r>=0;r--){var i=this.pendingsByPrice[r];n.includes(i.data.ticket)||(i.destroy(),this.pendingsByPrice.splice(r,1))}t.forEach((function(t){e.pendingsByPrice.some((function(e){return e.data.ticket===t.ticket}))||e.pendingsByPrice.push(new tB(e.core,e.pointsManager,t))}))}},{key:"actualizeGatesElement",value:function(){this.globalSettings.hideBoFeatures||(this.gatesElement&&this.gatesElement.destroy(),this.gatesElement=new _R(this.core,this.pointsManager))}},{key:"actualizeCursorElement",value:function(){this.cursorElement=new iA(this.core,this.pointsManager,this.chartSettings.enabledGridSnap)}},{key:"actualizeMinMaxElement",value:function(){this.minMaxElement&&this.minMaxElement.destroy(),this.minMaxElement=new TM(this.core,this.pointsManager)}},{key:"actualizeMainElement",value:function(){switch(this.actualizeMinMaxElement(),this.chartType){case w.M.Line:var t=this.core.isPerformanceLines?new DM(this.core,this.pointsManager,this.minMaxElement,{showArea:this.chartSettings.showArea}):new Ex(this.core,this.pointsManager,this.minMaxElement,{showArea:this.chartSettings.showArea});t.pointsInElement=(0,g.o0)(this.chartType,this.chartPeriod),this.currentElement=t;break;case w.M.Candles:var e=new ej(this.core,this.pointsManager,this.minMaxElement);e.pointsInElement=(0,g.o0)(this.chartType,this.chartPeriod),this.currentElement=e;break;case w.M.Bars:var n=new lj(this.core,this.pointsManager,this.minMaxElement);n.pointsInElement=(0,g.o0)(this.chartType,this.chartPeriod),this.currentElement=n;break;case w.M.HeikenAshi:var r=new ej(this.core,this.pointsManager,this.minMaxElement);r.pointsInElement=(0,g.o0)(this.chartType,this.chartPeriod),this.currentElement=r}}},{key:"actualizeZoom",value:function(){this.stopMoves();var t=(0,g.H0)(this.chartType,this.chartPeriod),e=(0,g.rp)(this.chartType,this.chartPeriod);if(this.secondWidth>e||this.secondWidth<t){var n=(0,g.Uh)(this.chartType,this.chartPeriod);this.secondWidthAnimator.setToValue(n),this.scrollToChartStart(!0)}var r=t+(e-t)*this.getCurrentZoomFactor(),i=this.getChartStartTime(),o=this.getChartEndTime();r*(this.getTimeFromX(this.shift+this.width/2)-i)-this.width/2>r*(o-i)-this.width+this.getRightMarginPercent()&&this.scrollToChartStart(!1)}},{key:"actualizeIndicators",value:function(){for(var t=0;t<this.indicators.length;t++){var e=this.indicators[t];e&&(e.pointsInElement=this.getPointsInElementForIndicators())}}},{key:"setParams",value:function(t,e){this.width=t,this.height=e,this.context.setSize(t,e),this.core.resize(t,e),this.checkSecondsWidth(),this.checkShift()}},{key:"checkSecondsWidth",value:function(){return this.clampSecondWidth(this.secondWidth)}},{key:"checkShift",value:function(){var t=this.getRightMarginPercent(),e=this.getChartStartTime(),n=(this.getChartEndTime()-e)*this.secondWidth-this.shift;this.width>n+t&&this.actualizeShift(!1),this.shift<de.Ay.CHART.MAX_SHIFT_VALUE&&(this.acceleration=0,this.shiftAnimator.setEnabled(!1),this.shiftAnimator.setToValue(de.Ay.CHART.MAX_SHIFT_VALUE)),this.calculateWindowParams({calculateCandles:!1})}},{key:"actualizeShift",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.getChartStartTime(),n=this.getChartEndTime(),r=this.getRightMarginPercent();this.acceleration=0,this.shiftAnimator.setEnabled(t);var i=this.secondWidth*(n-e)-this.width+r,o=this.getMaxShift(),a=i>o?o:i;this.shiftAnimator.fromValue=t?this.shift:a,this.shiftAnimator.setToValue(a)}},{key:"getMaxShift",value:function(){return(this.getChartEndTime()-this.getChartStartTime())*this.secondWidth}},{key:"getRightMarginPercent",value:function(){return this.width/100*de.Ay.CHART.RIGHT_PLOT_MARGIN_PERCENT}},{key:"getXFromTime",value:function(t){return(t-this.pointsManager.startPoint.time)*this.secondWidth-this.shift}},{key:"getTimeFromX",value:function(t){return this.pointsManager.startPoint.time+t/this.secondWidth}},{key:"onRegionLoaded",value:function(t){var e=this,n=this.regions.findIndex((function(e){return e.index===t}));-1!==n&&(this.regions[n].loaded=!0,this.regions[n].element&&this.regions[n].element.fade(),setTimeout((function(){for(var n=[],r=0;r<e.regions.length;r++){var i=e.regions[r];i.index===t?i.element&&i.element.destroy():n.push(i)}e.regions=n}),1e3))}},{key:"clear",value:function(){this.destroyElements(),this.enableLoadRegion=!0,this.pointsManager.reset(),this.minValueAnimator.reset(),this.maxValueAnimator.reset(),this.shiftAnimator.reset(),this.resetSecondWidth(),this.removeAllDrawings(),this.removeAllIndicators(),this.changeIndicatorsAndDrawings(),this.plotVerticalScroll.reset()}},{key:"forceDestroy",value:function(){this.destroyElements(!0),this.callPutButtonsManager.uninstall(),this.unsubscribeFromInputEvents(),this.removeAllPlotEventListeners(),this.context.unsetControls(),this.core.destroyForce(),this.destroyed=!0,this.pointsManager=null,this.drawingsManager=null}},{key:"shouldCalculatePointsToEnd",value:function(){return-1!==this.indicators.findIndex((function(t){return t.type===de.W.ICHIMOKU_CLOUD}))}},{key:"checkFastOptionAutoscroll",value:function(){if(!(!this.chartSettings.enabledAutoscroll||0===this.pointsManager.points.length||this.handling||this.shift<0)){var t=this.getChartEndTime(),e=this.globalSettings.currentTime,n=0===this.lastZoomedAt||e-this.lastZoomedAt>=5;this.scrollChartEndTime!==t&&n&&(this.scrollChartEndTime=t,this.scrollToChartStart(!0))}}},{key:"checkServerTimeDependentTasks",value:function(t){this.destroyOldClosedOptions(t),this.checkFastOptionAutoscroll(t),this.checkPendingDealsInOpened(t),this.deleteOldSocialDeals(t)}},{key:"destroyElements",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gridElement&&this.gridElement.destroy(),this.candlesTimer&&this.candlesTimer.destroy(),this.currentElement&&this.currentElement.destroy(),this.pointElement&&this.pointElement.destroy(),this.valueLineElement&&this.valueLineElement.destroy(),this.cursorElement&&this.cursorElement.destroy(),this.regions.forEach((function(t){return t&&t.element&&t.element.destroy()})),this.regions=[],t&&(this.destroyOptions(),this.indicators.forEach((function(t){return t&&t.destroy()})),this.indicators=[])}},{key:"destroyOptions",value:function(){this.options.forEach((function(t){return t&&t.destroy()})),this.options=[],this.optionsSocial.forEach((function(t){return t&&t.destroy()})),this.optionsSocial=[],this.optionsClosed.forEach((function(t){return t&&t.destroy()})),this.optionsClosed=[],this.expressDeals.forEach((function(t){return t&&t.destroy()})),this.expressDeals=[]}},{key:"prepareToDraw",value:function(){this.minValueAnimator.setTime(this.ts),this.maxValueAnimator.setTime(this.ts),this.shiftAnimator.setTime(this.ts),this.secondWidthAnimator.setTime(this.ts),this.topMargin=0,this.bottomMargin=0,this.topElementsNumber=0,this.bottomElementsNumber=0,this.bottomElementsHeight=0,this.currentZoom=this.secondWidth,this.extraBottomMargin=this.calculateOverlayExtraBottomMargin();var t=Math.floor(this.ts/.02);if(t!==this.tick&&(this.tick=t,0!==this.acceleration)){var e=this.ts-this.accelerationStartTime,n=this.acceleration,r=e*de.Ay.CHART.ACCELERATION_WEAKNESS_IN_SECOND;n>0?n-=r:n+=r,Math.abs(n)<1&&(n=0,this.acceleration=n),this.shiftAnimator.setEnabled(!1),this.shiftAnimator.setToValue(this.shift+n),this.checkShift()}this.handling&&this.checkShift()}},{key:"render",value:function(t){if(!this.destroyed&&(this.lastCurrentServerTime=this.currentServerTime,this.currentServerTime=this.globalSettings.currentTime,this.currentServerTime!==this.lastCurrentServerTime&&this.checkServerTimeDependentTasks(this.currentServerTime),this.ts=t,this.prepareToDraw(),this.pointsManager.currentValue!==de.Ay.CHART.FLT_MAX)){if(this.core.clear(),this.pointsManager.points.length>0){this.pointsManager.updateCurrentValues(),(0,g.Mt)(this.chartType)?(this.pointsManager.checkReducedPoints(this.shouldCalculatePointsToEnd()),this.calculateMinMax()):this.isLastPointVisible()&&this.calculateWindowParams({calculateCandles:!0});var e=this.handleElements();this.calculateIndicators(),this.drawingsManager.calculatePoints(),this.drawElements(e),this.drawScrollToEnd()}this.getParams(),this.checkRegion(),this.checkIndicatorPeriods(),this.core.render(),this.forceCleared=!1}}},{key:"isLastPointVisible",value:function(){var t=this.getTimeFromX(this.shift),e=this.getTimeFromX(this.shift+this.width),n=this.pointsManager.currentTime;return t<=n&&n<=e}},{key:"checkIndicatorPeriods",value:function(){if(this.pointsManager.candles.length){var t=this.getTimeFromX(this.shift),e=this.pointsManager.points.find((function(e){return e.time>=t}));if(e){var n=this.pointsManager.points[0],r=Math.max.apply(Math,nB(this.indicators.map((function(t){return t.maxPeriod}))))+1,i=this.chartSettings,o=i.chartType,a=i.chartPeriod,s=(0,g.o0)(o,a);(0,g.Mt)(o)&&(s*=this.pointsManager.interval>0?this.pointsManager.interval:1);var c=r*s;e.time-n.time<c&&this.enableLoadRegion&&this.loadRegion(n.time)}}}},{key:"checkRegion",value:function(){if(this.enableLoadRegion&&this.shift<0){var t=this.pointsManager.startPoint.time;this.loadRegion(t)}}},{key:"disableLoadRegion",value:function(){this.enableLoadRegion=!1}},{key:"loadRegion",value:function(t){var e=this;if(!this.regions.some((function(e){return t===e.time}))){var n=(0,g.o0)(this.chartType,this.chartPeriod),r=(n<60?200:150)*n,i=parseInt("".concat(this.globalSettings.currentTime).concat((0,fr.A)(1,100))),o=new NA(this.core,this.pointsManager,i,t,r,this.theme),a={offset:r,index:i,loaded:!1,time:t,element:o};this.regions.push(a),this.plotEventListeners[w.b1.NEW_REGION_REQUEST].forEach((function(t){return t(a.index,a.time,r,(0,g.o0)(e.chartType,e.chartPeriod))}))}}},{key:"handleElements",value:function(){var t=[].concat(nB(this.drawingsManager.draggablePoints),nB(this.indicators),nB(this.options),nB(this.optionsSocial),nB(this.optionsClosed),nB(this.expressDeals),[this.valueLineElement,this.cursorElement,this.minMaxElement]);this.isMobile||(t.push.apply(t,nB(this.priceAlerts)),t.push.apply(t,nB(this.pendingsByPrice))),(0,g.Mt)(this.chartType)&&t.push(this.pointElement),this.regions.forEach((function(e){var n=e.element;return t.push(n)}));var e=this.globalSettings.enabledTooltipMessage,n=this.callPutButtonsManager.hoverCallBtn||this.hoverCallDoubleUp;this.gridElement.hoverCallBtn=e&&n;var r=this.callPutButtonsManager.hoverPutBtn||this.hoverPutDoubleUp;this.gridElement.hoverPutBtn=e&&r,t.push(this.candlesTimer),t.push(this.gridElement),this.globalSettings.hideBoFeatures||t.push(this.gatesElement),t.push(this.currentElement),this.bottomMargin=de.Ay.CHART.TIMELINE_HEIGHT;for(var i=0;i<t.length;i++){var o=t[i];o&&(o.position===w.vh.Top?this.topMargin+=de.Ay.CHART.TOP_PLOT_ELEMENT_PIXELS:o.position===w.vh.Bottom&&(this.bottomMargin+=this.getBottomMarginForElement(o)))}for(var a=0;a<t.length;a++){var s=t[a];s&&this.fillElement(s)}return t}},{key:"getExpirationTime",value:function(){var t=this.chartSettings,e=t.isCalendarMode,n=t.fastCloseAt,r=t.fastTimeframe,i=this.globalSettings.currentTime;return e?n:i+r}},{key:"fillElement",value:function(t){if(t){if(t.forceCleared=this.forceCleared,t.assetId=this.assetId,t.chartId=this.chartId,t.currentDigit=this.currentDigit,t.currency=this.currency,t.ts=this.ts,t.isMobile=this.globalSettings.isMobile,t.selectedPlotType=this.chartType,t.shift=this.shift,t.showCursorPointer=this.showCursorPointer,t.startTime=this.pointsManager.startPoint.time,t.lastEndTime=t.endTime,t.endTime=this.pointsManager.endPoint.time,t.secondWidth=this.secondWidth,t.chartPeriod=this.chartSettings.chartPeriod,t.widthLast=t.width,t.worldHeightLast=t.worldHeight,t.width=this.width,t.worldHeight=this.height,t.lastExpirationTime=t.expirationTime,t.expirationTime=this.getExpirationTime(),t.lastCurrentTime=t.currentTime,t.currentTime=this.pointsManager.currentTime,t.serverTime=this.globalSettings.currentTime,t.lastEndCandle=t.endCandle,t.endCandle=this.pointsManager.candles[this.pointsManager.candles.length-1],t.lastPointerX=t.pointerX,t.lastPointerY=t.pointerY,t.pointerX=this.pointerX,t.pointerY=this.pointerY,t.options=this.options,t.expresses=this.expressDeals,t.currentValue=this.pointsManager.currentValue,t.endPoint=this.pointsManager.endPoint,t.currentZoom=this.currentZoom,t.lastToExpTime=t.toEndExpTime,t.toEndExpTime=this.toEndExpTime,t.elementType===w.Eq.Indicator?t.pointsInElement=this.getPointsInElementForIndicators():t.pointsInElement=(0,g.o0)(this.chartType,this.chartPeriod),t.lastFromTime=t.fromTime,t.lastToTime=t.toTime,t.fromTime=this.getTimeFromX(this.shift),t.toTime=this.getTimeFromX(this.shift+this.width),t.lastMinVal=t.minVal,t.lastMaxVal=t.maxVal,t.maxVal=this.maxValueAnimator.getValue(),t.minVal=this.minValueAnimator.getValue(),t.isMinMaxCalculated=this.isMinMaxCalculated,t.lastTheme=t.theme,t.theme=this.theme,t.lastCandleUpHex=t.candleUpHex,t.candleUpHex=this.globalSettings.candleUpColor,t.lastCandleDownHex=t.candleDownHex,t.candleDownHex=this.globalSettings.candleDownColor,t.shadowStyle=this.globalSettings.shadowStyle,t.prevLastValue=this.pointsManager.getLastValue(),t.hoveredDoubleUp=this.hoveredDoubleUp,t.hoveredRollover=this.hoveredRollover,t.lastCandleCount=t.candlesCount,t.candlesCount=this.pointsManager.candles.length,this.showCursorPointer){var e=this.height-this.bottomMargin+1,n=this.height-de.Ay.CHART.TIMELINE_HEIGHT+1,r=this.getIndicatorWithYCoord(this.pointerY);if(t.pointerInElement=this.pointerY>=e&&this.pointerY<n,t.pointerInElement&&r){var i=r.max,o=r.min,a=r.yShift,s=r.height,c=de.Ay.CHART.BOTTOM_PLOT_ELEMENT_VERTICAL_PADDING,l=o+(i-o)*((a+s-this.pointerY-c)/(s-2*c));t.pointerInElementValueY=r.roundValue(l),t.pointerInElementValueSymbol=r.valueYScaleType===w.gd.Percentage?"%":""}}if(t.lastBottomMarginPixels=t.bottomMarginPixels,t.heightLast=t.height,t.position===w.vh.Top)t.height=de.Ay.CHART.TOP_PLOT_ELEMENT_PIXELS,t.yShift=t.height*this.topElementsNumber,t.elementNumber=this.topElementsNumber,this.topElementsNumber++;else if(t.position===w.vh.Bottom?(t.height=this.getBottomMarginForElement(t),t.yShift=this.height-this.bottomMargin+this.bottomElementsHeight,t.elementNumber=this.bottomElementsNumber,this.bottomElementsHeight+=t.height):(t.height=this.height-(this.topMargin+this.bottomMargin),t.yShift=this.topMargin),t.position===w.vh.Overlay){var u=de.Ay.CHART,h=u.TOP_PLOT_MARGIN_PIXELS_MOBILE,f=u.TOP_PLOT_MARGIN_PIXELS,d=u.BOTTOM_PLOT_MARGIN_PIXELS_MOBILE,p=u.BOTTOM_PLOT_MARGIN_PIXELS,m=this.globalSettings.isMobile;t.topMarginPixels=m?h:f;var y=m?d:p;if(t.bottomMarginPixels=this.extraBottomMargin+y,t.topMarginPixels+t.bottomMarginPixels>t.height){var v=t.topMarginPixels+t.bottomMarginPixels-t.height,b=Math.ceil(v/2);t.topMarginPixels-=b,t.bottomMarginPixels-=b}}else t.topMarginPixels=0,t.bottomMarginPixels=0;t.candlesTimer=this.chartSettings.candlesTimer}}},{key:"getBottomMarginForElement",value:function(t){return this.isMobile?de.Ay.CHART.BOTTOM_PLOT_ELEMENT_PIXELS_MOBILE:t.elementType===w.Eq.Indicator&&t.isExpanded&&t.isBottomIndicator()?de.Ay.CHART.BOTTOM_PLOT_ELEMENT_PIXELS_EXPANDED:de.Ay.CHART.BOTTOM_PLOT_ELEMENT_PIXELS}},{key:"getIndicatorWithYCoord",value:function(t){for(var e=0;e<this.indicators.length;e++){var n=this.indicators[e],r=n.position,i=n.yShift,o=n.height;if(r===w.vh.Bottom&&i<=t&&t<=i+o)return n}return null}},{key:"calculateOverlayExtraBottomMargin",value:function(){var t=document.body.classList;if(t.contains("is-m-version")&&t.contains("landscape"))return 0;var e=0,n=this.globalSettings,r=n.openingFirstDealPanel,i=n.isDemo,o=n.isTournament,a=n.isMobile,s=!a&&o&&this.chartSettings.enabledRatingWidget,c=!1;return(0,Cr.TF)(this.store.getState())?a&&(e+=170,c=!0):(!a&&(e+=30),c=!0),c&&(e+=30-de.Ay.CHART.TIMELINE_HEIGHT),i&&r&&(e+=a?68:62),!a&&s&&(e+=42),e}},{key:"getParams",value:function(){this.pointVisible=this.checkPointOnScreen()}},{key:"checkPointOnScreen",value:function(){var t=this.pointsManager.points;if(t&&t.length>0&&t[t.length-1]&&t[t.length-1].time){var e=this.shift+this.getXFromTime(t[t.length-1].time),n=this.shift,r=this.shift+this.width;return e>n&&e<r}return!1}},{key:"drawElements",value:function(t){var e=this.pointsManager,n=e.points,r=e.candles;if(n.length||r.length)for(var i=0;i<t.length;i++)t[i]&&t[i].needToDraw()&&(t[i].draw(),t[i].onAfterDraw())}},{key:"drawScrollToEnd",value:function(){this.pointVisible&&this.scrollToEndDisplayed?(this.scrollToEndDisplayed=!1,this.plotEventListeners[w.b1.SCROLL_TO_END_CHANGED].forEach((function(t){return t(!1)}))):this.pointVisible||this.scrollToEndDisplayed||(this.scrollToEndDisplayed=!0,this.plotEventListeners[w.b1.SCROLL_TO_END_CHANGED].forEach((function(t){return t(!0)})))}},{key:"calculateWindowParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.toEnd,n=void 0!==e&&e,r=t.calculateCandles,i=void 0!==r&&r;if(this.pointsManager.points.length){this.calculateWindowPoints({toEnd:n,calculateCandles:i});var o=this.pointsManager.interval;this.indicators.length>0&&o!==this.pointsManager.interval&&this.flushIndicatorsCache(),this.calculateMinMax()}}},{key:"calculateWindowPoints",value:function(t){var e=t.toEnd,n=t.calculateCandles,r=this.secondWidth,i=this.getPointsInElementForIndicators();if(this.chartType===w.M.Bars||this.chartType===w.M.Candles)n&&this.pointsManager.calculateCandles(i,r);else if(this.chartType===w.M.HeikenAshi)n&&this.pointsManager.calculateHeikenAshiCandles(i,r);else{var o=this.shift,a=this.getTimeFromX(o),s=this.getTimeFromX(o+this.width);this.pointsManager.calculatePoints(a,s,this.width,e),n&&this.calculateCandlesForLinePlot()}(0,g.Mt)(this.chartType)&&!n||this.pointsManager.calculateCandleWidth(i,r)}},{key:"calculateCandlesForLinePlot",value:function(){var t=this.secondWidth;if(this.indicators.some((function(t){var e=t.elementType,n=t.position;return e===w.Eq.Indicator&&n===w.vh.Bottom}))){var e=Math.max(1,this.pointsManager.interval);this.linePlotCandleWidth!==e&&(this.resetCandles(),this.linePlotCandleWidth=e),this.pointsManager.calculateCandles(e,t,!0,!1)}else this.linePlotCandleWidth&&(this.resetCandles(),this.linePlotCandleWidth=null)}},{key:"calculateMinMax",value:function(){for(var t=de.Ay.CHART.FLT_MIN,e=de.Ay.CHART.FLT_MAX,n=0,r=this.shift,i=this.shift+this.width,o=this.getTimeFromX(r),a=this.getTimeFromX(i),s=(0,g.Mt)(this.chartType),c=s?this.pointsManager.getReducedAndAnimatedPoints():this.pointsManager.candles,l=0;l<c.length;l++){var u=c[l];u.time<o||u.time>a||(n++,s?(u.value<e&&(e=u.value),u.value>t&&(t=u.value)):(u.maxValue>t&&(t=u.maxValue),u.minValue<e&&(e=u.minValue)))}if(0!==n){for(var h=0;h<this.indicators.length;h++){var f=this.indicators[h];f&&f.position===w.vh.Overlay&&(f.maxValue>t&&(t=f.maxValue),f.minValue<e&&(e=f.minValue))}if(e===t){if(1===n)return;t+=.1*t,e-=.1*e}var d=this.plotVerticalScroll.minMaxShift;0!==d?(this.minValue=e-d,this.maxValue=t+d):(this.minValue=e,this.maxValue=t),this.minValueAnimator.fromValue=0===this.minValueAnimator.fromValue?this.minValue:this.minValueAnimator.getValue(),this.maxValueAnimator.fromValue=0===this.maxValueAnimator.fromValue?this.maxValue:this.maxValueAnimator.getValue(),this.minValueAnimator.duration=this.plotVerticalScroll.isHandling?.1:this.defaultDuration,this.minValueAnimator.setToValue(this.minValue),this.maxValueAnimator.duration=this.plotVerticalScroll.isHandling?.1:this.defaultDuration,this.maxValueAnimator.setToValue(this.maxValue),this.isMinMaxCalculated=!0}}},{key:"addPoints",value:function(t){var e=0===this.pointsManager.points.length,n=de.Ay.CHART.FLT_MAX,r=de.Ay.CHART.FLT_MIN,i=e?null:this.pointsManager.points[this.pointsManager.points.length-1],o=!1;null!==i&&(o=t.some((function(t){return t.time<i.time})));for(var a=e||o||t.length>1,s=0;s<t.length;s++){var c=t[s],l=c.time,u=c.value;this.pointsManager.addPoint(u,l,this.chartType);var h=parseInt(l,10);h>r&&(r=h),h<n&&(n=h)}a&&this.pointsManager.sort(),this.pointsManager.points.length>0&&(t.length>1&&(this.shiftAnimator.setToValue(this.shift+(r-n)*this.secondWidth),this.resetCandles()),this.pointsManager.setStartEndPoints(),this.expirationTime<this.pointsManager.endPoint.time&&(this.expirationTime=this.pointsManager.endPoint.time)),this.calculateWindowParams({calculateCandles:!0}),e&&((0,g.Mt)(this.chartType)&&this.pointsManager.checkReducedPoints(this.shouldCalculatePointsToEnd()),this.scrollChartEndTime=0,this.minValueAnimator.fromValue=0,this.maxValueAnimator.fromValue=0,this.calculateMinMax(),this.scrollToChartStart(!1))}},{key:"resetCandles",value:function(){this.pointsManager.resetCandles(),this.resetIndicatorsCache()}},{key:"resetIndicatorsCache",value:function(){for(var t=0;t<this.indicators.length;t++){var e=this.indicators[t];e.flush(),e.reset()}}},{key:"clampSecondWidth",value:function(t){return(0,g.m4)(t,this.chartType,this.chartPeriod)}},{key:"getChartStartTime",value:function(){return(0,g.Mt)(this.chartType)||!this.pointsManager.candles.length?this.pointsManager.startPoint.time:this.pointsManager.candles[0].time}},{key:"getChartEndTime",value:function(){var t=(0,g.Mt)(this.chartType),e=this.pointsManager.candles.length;return t||!e?this.pointsManager.endPoint.time:this.pointsManager.candles[e-1].time}},{key:"scrollToChartStart",value:function(t){this.hasLoadingRegions()||0===this.pointsManager.points.length||(this.actualizeShift(t),this.calculateWindowParams({toEnd:!0}))}},{key:"checkPendingDealsInOpened",value:function(t){if(this.options.some((function(e){return e.data.closeTimestamp-t<=0}))){var e=this.options.filter((function(e){return e.data.closeTimestamp-t>0})).map((function(t){return t.data}));this.setOpenedDeals(e,!1)}}},{key:"setOpenedDeals",value:function(t){for(var e=this,n=this.globalSettings.enabledTooltipMessage&&!this.globalSettings.isMobile,r=[],i=function(i){var o=e.options.find((function(e){return e.id===t[i].id}));o?(o.setChangeableData(t[i]),o.showTooltip!==n&&o.changeShowTooltip(n)):o=e.betElementDrawMode===w.mC.EXPANDED?new PO(e.core,e.pointsManager,t[i],n):new $j(e.core,e.pointsManager,t[i],n),r.push(o)},o=0;o<t.length;o++)i(o);for(var a=function(){var n=e.options[s];t.some((function(t){return t.id===n.id}))||n.destroy()},s=0;s<this.options.length;s++)a();if(r.length){this.options=r.sort((function(t,e){return t.data.openTimestamp===e.data.openTimestamp?0:e.data.openTimestamp-t.data.openTimestamp}));for(var c=0;c<this.options.length;c++)this.options[c].changeOrderId(c)}else this.options=[]}},{key:"hasOptionWithId",value:function(t){return this.options.some((function(e){return e.id===t}))}},{key:"setHoveredDoubleUp",value:function(t){this.hoverCallDoubleUp=!1,this.hoverPutDoubleUp=!1,this.hoveredDoubleUp=t;for(var e=0;e<this.options.length;e++)this.options[e].id===t&&(this.options[e].isCall?this.hoverCallDoubleUp=!0:this.hoverPutDoubleUp=!0),this.options[e].setHoveredDoubleUp(t)}},{key:"setHoveredRollover",value:function(t){this.hoveredRollover=t;for(var e=0;e<this.options.length;e++)this.options[e].setHoveredDoubleUp(t)}},{key:"setExpressDeals",value:function(t){for(var e=this,n=t.map((function(t){return t.id})),r=this.expressDeals.length-1;r>=0;r--){var i=this.expressDeals[r].id;n.includes(i)||(this.expressDeals[r].destroy(),this.expressDeals.splice(r,1))}if(this.globalSettings.enabledTooltipMessage){var o=this.expressDeals.map((function(t){return t.id}));t.forEach((function(t){if(!o.includes(t.id)){var n=new ME(e.core,e.pointsManager,t);e.expressDeals.push(n),n.startAnimation()}}))}}},{key:"setOptionsClosed",value:function(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n],i=0;i<this.optionsClosed.length;i++){var o=this.optionsClosed[i];if(o.id===r.id){r.needToAnimate&&o.reanimate(),e.push(r.id);break}}if(this.globalSettings.enabledTooltipMessage)for(var a=0;a<t.length;a++)if(!e.includes(t[a].id)){var s=new k_(this.core,this.pointsManager,t[a],this.currency,this.currentServerTime,this.theme);this.optionsClosed.push(s),s.reanimate()}}},{key:"removeClosedOption",value:function(t){var e=this.optionsClosed.findIndex((function(e){return e.id===t}));e<0||(this.optionsClosed[e].destroy(),this.optionsClosed.splice(e,1))}},{key:"showFullClosedOption",value:function(t){this.optionsClosed.forEach((function(e){e.id!==t?e.closeChart():e.toggleChart()}))}},{key:"destroyOldClosedOptions",value:function(t){for(var e=this.optionsClosed.length-1;e>=0;e--){var n=this.optionsClosed[e];n.isOpenedPriceChart()||n.showedAt+de.Ay.CHART.BET_ELEMENT_CLOSED_TIMEOUT>=t||(this.optionsClosed.splice(e,1),n&&n.destroy())}}},{key:"setOptionsSocial",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=0;r<t.length;r++)for(var i=t[r],o=0;o<this.optionsSocial.length;o++){var a=this.optionsSocial[o];a.id===i.id&&(a.setData(i),i.needToAnimate&&a.reanimate(),n.push(i.id))}for(var s=0;s<t.length;s++){var c=t[s],l=c.id;if(!(c.percentProfitable<35||n.includes(l)||e)){for(var u=!1,h=0;h<this.optionsSocial.length;h++){var f=this.optionsSocial[h].option;if(f.uid===c.uid&&Math.abs(f.openTimestamp-c.openTimestamp)<5){u=!0;break}}if(!u){var d=new lO(this.core,this.pointsManager,c,this.theme);this.optionsSocial.push(d)}}}}},{key:"deleteOldSocialDeals",value:function(t){for(var e=this.optionsSocial.length-1;e>=0;e--){var n=this.optionsSocial[e],r=n.option,i=r.isClosed,o=r.openTimestamp,a=r.closeTimestamp,s=!i&&t-o>=180,c=i&&t-a>de.Ay.CHART.BET_ELEMENT_CLOSED_TIMEOUT;(s||c)&&(this.optionsSocial.splice(e,1),n&&n.destroy())}}},{key:"changeIndicatorsAndDrawings",value:function(){var t=this.store.getState();this.changeIndicators(mE(this.chartId)(t)),this.changeDrawings(yE(this.chartId)(t)(this.assetId))}},{key:"changeIndicators",value:function(t){var e=this;this.indicators.filter((function(t){return!t.isDrawing})).map((function(t){return t.index})).forEach((function(n){t.some((function(t){return t.id===n||t.requestId===n}))||e.removeIndicatorWithId(n)}));var n=!1;t.forEach((function(t){var r=e.indicators.findIndex((function(e){return!e.isDrawing&&(e.index===t.id||e.index===t.requestId)}));if(r>=0)e.indicators[r].update(t);else{var i=e.createIndicator(t);i&&(e.indicators.push(i),i.isBottomIndicator()&&(n=!0))}})),(0,g.Mt)(this.chartType)&&n&&this.calculateWindowParams({calculateCandles:!0})}},{key:"changeDrawings",value:function(t){var e=this;this.indicators.filter((function(t){return t.isDrawing})).map((function(t){return t.index})).forEach((function(n){t.some((function(t){return t.id===n||t.requestId===n}))||e.removeDrawingWithId(n)})),t.forEach((function(t){var n=t.id,r=t.settings,i=t.points,o=void 0===i?[]:i,a=t.type,s=t.requestId,c=t.isLocked,l=e.indicators.findIndex((function(t){var e=t.isDrawing,r=t.index;return e&&(r===n||r===s)}));if(l>=0)e.indicators[l].update(t);else{var u=e.createDrawing({id:n,type:a,settings:r,pointsData:o,isLocked:c});u&&e.indicators.push(u)}})),this.drawingsManager.setDrawings(this.indicators.filter((function(t){return t.isDrawing})))}},{key:"createIndicator",value:function(t){var e=uR(t.type)(this.core,this.pointsManager,t);return null===e?null:(e.pointsInElement=this.getPointsInElementForIndicators(),e.chartPeriod=this.chartSettings.chartPeriod,e)}},{key:"createDrawing",value:function(t){var e,n=(e=t.type,function(t,n,r){if(!Object.hasOwnProperty.call(dM,e))return null;var i=new dM[e](t,n,r);return i.type=e,i.elementType=w.Eq.Indicator,i.updateSettings(r),i})(this.core,this.pointsManager,t);return null===n?null:(this.drawingsManager.addDraggablePoint(n.drawingPoints),n)}},{key:"removeAllDrawings",value:function(){for(var t=this.indicators.length-1;t>=0;t--)this.indicators[t].isDrawing&&this.removeIndicatorAtIndex(t);this.drawingsManager.setDrawings([])}},{key:"removeAllIndicators",value:function(){for(var t=this.indicators.length-1;t>=0;t--)this.indicators[t].isDrawing||this.removeIndicatorAtIndex(t)}},{key:"removeIndicatorWithId",value:function(t){var e=this.indicators.findIndex((function(e){return e.index===t&&!e.isDrawing}));-1!==e&&this.removeIndicatorAtIndex(e)}},{key:"removeDrawingWithId",value:function(t){var e=this.indicators.findIndex((function(e){return e.index===t&&e.isDrawing}));-1!==e&&this.removeIndicatorAtIndex(e)}},{key:"removeIndicatorAtIndex",value:function(t){var e=this.indicators[t];if(e&&(this.cleanDraggablePointsForDrawing(e),e.destroy(),this.indicators.splice(t,1),this.actualizeIndicators(),(0,g.Mt)(this.chartType))){var n=this.indicators.some((function(t){return!t.isDrawing}));n||this.resetCandles()}}},{key:"cleanDraggablePointsForDrawing",value:function(t){t.isDrawing&&this.drawingsManager.deleteDrawingPoints(t)}},{key:"calculateIndicators",value:function(){for(var t=0;t<this.indicators.length;t++){var e=this.indicators[t];e&&(e.isVisible&&e.shouldClearMainGraphLine()||e.isDrawing)&&e.calculate()}}},{key:"zoomToDefault",value:function(){var t=de.Ay.CHART,e=t.ZOOM_FACTOR,n=t.DEFAULT_ZOOM_FOR_MOBILE;this.zoom(this.width/2,this.height/2,e*n)}},{key:"zoomToChartEnd",value:function(t){var e=this.clampSecondWidth(t);this.secondWidthAnimator.setToValue(e),this.scrollToChartStart(!1),this.plotEventListeners[w.b1.ZOOM_CHANGED].forEach((function(t){return t()}))}},{key:"toEndExpTime",get:function(){return this.expirationTime-this.globalSettings.currentTime}},{key:"setDigit",value:function(t){this.currentDigit=t,this.pointsManager.setDigits(t)}},{key:"setAssetId",value:function(t){this.assetId=t}},{key:"setTheme",value:function(t){this.theme=t}}],n&&oB(e.prototype,n),r&&oB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),lB=cB,uB=function(t){var e=t.visible,n=t.handler;return(0,Ms.jsx)("div",{className:(0,Ds.A)("scroll-to-end",{fade:!e}),onClick:n,children:(0,Ms.jsx)("i",{className:"fa fa-angle-right fa-2x","aria-hidden":"true"})})},hB=(0,r.memo)(uB),fB=n(38230),dB=n.n(fB),pB=n(61043);function mB(t){return mB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mB(t)}function yB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yB(Object(n),!0).forEach((function(e){bB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bB(t,e,n){var r;return r=function(t,e){if("object"!=mB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==mB(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gB(t,e){var n={id:t,settings:e,shouldUpload:arguments.length>2&&void 0!==arguments[2]&&arguments[2]};return ft.edit(n)}function wB(t){return function(e,n){var r=n(),i=t,o=pE(i)(r),a=o.id,s=o.chartId;i!==a&&(i=a),e(ft.remove({drawingId:i,chartId:s}))}}function xB(t){return ft.changeSelected(t)}function jB(t){return function(e,n){var r=n();if(vE(r)(t.assetId)>=de.Ay.CHART.MAX_DRAWINGS_LIMIT)return Re.A.publish(Ha.zJ,{error:"LIMIT_EXCEED",limit:de.Ay.CHART.MAX_DRAWINGS_LIMIT,assetId:t.assetId});e(ft.add(vB(vB({},t),{},{requestId:(0,pB.Ak)()})))}}function OB(t){return ft.removeAllInChart(t)}function SB(t){var e=vB(vB({},t),{},{requestId:(0,pB.Ak)()});return function(t,n){if(bE(n())>=de.Ay.CHART.MAX_INDICATORS_LIMIT)return Re.A.publish(Ha.e5,{error:"LIMIT_EXCEED",limit:de.Ay.CHART.MAX_INDICATORS_LIMIT});t(q.add(e))}}function _B(t,e){var n={id:t,settings:e,shouldUpload:arguments.length>2&&void 0!==arguments[2]&&arguments[2]};return q.edit(n)}function TB(t){return q.remove(t)}function AB(t,e){var n={id:t,value:e};return q.changeVisibility(n)}function EB(t){return q.favorite(t)}function PB(t){return q.unfavorite(t)}function CB(t){return q.removeAllInChart(t)}function kB(t){return kB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kB(t)}function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function IB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?NB(Object(n),!0).forEach((function(e){RB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function RB(t,e,n){var r;return r=function(t,e){if("object"!=kB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==kB(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var LB=function(t){return(0,Ms.jsx)("div",IB(IB({},t),{},{children:(0,Ms.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,Ms.jsx)("defs",{children:(0,Ms.jsx)("path",{id:"a",d:"M0 0h24v24H0z"})}),(0,Ms.jsx)("clipPath",{id:"b",children:(0,Ms.jsx)("use",{xlinkHref:"#a",overflow:"visible"})}),(0,Ms.jsx)("path",{clipPath:"url(#b)",d:"M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"})]})}))},DB=function(t){var e=t.drawings,n=t.menuClickHandler,r=t.isActive,i=t.changeHeightHandler,o=new Set(e.map((function(t){return pM(t.settings.lines,"lineWidth",Vv.W1)}))),a=function(t){return 1===o.size&&o.has(t)};return(0,Ms.jsxs)("div",{className:"drawing-settings-panel__btn-container",children:[(0,Ms.jsx)(LB,{onClick:n,className:(0,Ds.A)("drawing-settings-panel__btn",r&&"active")}),1===o.size&&(0,Ms.jsx)(qc,{count:o.values().next().value}),r&&(0,Ms.jsx)("div",{className:"drawing-settings-panel__weights-list",children:Object.values(Vv).map((function(t){return(0,Ms.jsxs)("a",{className:(0,Ds.A)(a(t)&&"active"),onClick:i(t),children:[t,"px"]},t)}))})]})};function MB(t){return MB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MB(t)}function BB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function HB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BB(Object(n),!0).forEach((function(e){FB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function FB(t,e,n){var r;return r=function(t,e){if("object"!=MB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=MB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==MB(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var GB=function(t){return(0,Ms.jsx)("div",HB(HB({},t),{},{children:(0,Ms.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,Ms.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),(0,Ms.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})}))};function VB(t){return VB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VB(t)}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function UB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?WB(Object(n),!0).forEach((function(e){zB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zB(t,e,n){var r;return r=function(t,e){if("object"!=VB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=VB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==VB(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var XB=function(t){return(0,Ms.jsx)("div",UB(UB({},t),{},{children:(0,Ms.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,Ms.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,Ms.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),(0,Ms.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]})}))};function $B(t){return $B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$B(t)}function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qB(t,e,n){var r;return r=function(t,e){if("object"!=$B(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==$B(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ZB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZB(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var QB=function(t){var e=KB((0,r.useState)(!1),2),n=e[0],i=e[1],o=n?XB:GB;return(0,Ms.jsx)(o,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YB(Object(n),!0).forEach((function(e){qB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)}},t))};function JB(t){return JB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JB(t)}function tH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tH(Object(n),!0).forEach((function(e){nH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nH(t,e,n){var r;return r=function(t,e){if("object"!=JB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=JB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==JB(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rH=function(t){return(0,Ms.jsx)("div",eH(eH({},t),{},{children:(0,Ms.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,Ms.jsx)("path",{d:"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z"}),(0,Ms.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})}))},iH=function(t){var e=t.drawings,n=t.menuClickHandler,r=t.isActive,i=t.changeColorHandler,o=new Set(e.map((function(t){return pM(t.settings.lines,"color",Gv.GREEN)})));return(0,Ms.jsxs)("div",{className:"drawing-settings-panel__btn-container",children:[(0,Ms.jsx)(rH,{onClick:n,className:(0,Ds.A)("drawing-settings-panel__btn",r&&"active")}),1===o.size&&(0,Ms.jsx)("div",{className:"color-indicator",style:{backgroundColor:o.values().next().value}}),r&&(0,Ms.jsx)("div",{className:"drawing-settings-panel__colors-list",children:Object.values(Gv).map((function(t){return(0,Ms.jsx)("a",{onClick:i(t),style:{backgroundColor:t}},t)}))})]})};function oH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return aH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sH=function(t){var e=oH((0,r.useState)(t),2),n=e[0],i=e[1],o=oH((0,r.useState)(!0),2),a=o[0],s=o[1];return[n,a,function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i((0,j.jM)(n,t)),s(e)}]},cH=n(55316);function lH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return uH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hH=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wp,n=lH((0,r.useState)({width:0,height:0}),2),i=n[0],o=n[1],a=lH((0,r.useState)(null),2),s=a[0],c=a[1],l=lH((0,r.useState)(zp(t,e)),2),u=l[0],h=l[1];return(0,r.useEffect)((function(){function n(){var n=zp(t,e),r=n.top;if(n.top+i.height>window.innerHeight&&(r=window.innerHeight-i.height),e===Wp){var o=n.left;n.left+i.width>window.innerWidth&&(o=window.innerWidth-i.width),h({top:r,left:o})}else if(e===Up){var a=n.right;n.right+i.width>window.innerWidth&&(a=window.innerWidth-i.width),h({top:r,right:a})}}var r=br()(n,300);return window.addEventListener("resize",r),n(),function(){window.removeEventListener("resize",r)}}),[i]),(0,r.useEffect)((function(){s&&o(s.getBoundingClientRect())}),[s]),[u,c]};function fH(t){return fH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fH(t)}function dH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pH(t,e,n){var r;return r=function(t,e){if("object"!=fH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==fH(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return yH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vH=function(t){var e=t.onClickOutside,n=t.openerNode,i=t.lineName,o=t.onParamChanged,a=t.settings,s=a.color,c=a.lineWidth,l=a.opacity,u=a.figure,h=mH(hH(n),2),f=h[0],d=h[1],p=(0,r.useRef)(null);return(0,Ms.jsx)(Df.A,{component:null,children:(0,Ms.jsx)(Mf.A,{timeout:200,nodeRef:p,classNames:"drop-down-modal-wrap",children:(0,Ms.jsx)("div",{className:"drop-down-modal-wrap",ref:p,children:(0,Ms.jsxs)(od,{onClickOutside:e,style:f,setRef:function(t){return d(t.current)},className:"line-styles-modal drop-down-modal",children:[s&&(0,Ms.jsxs)("div",{className:"line-styles-modal__row color-list",children:[(0,Ms.jsx)("div",{className:"list-label",children:(0,yt.tr)("indicators.line_color")}),(0,Ms.jsx)("div",{className:"list-body",children:Object.values(Gv).map((function(t){return(0,Ms.jsx)("a",{style:{backgroundColor:t},className:(0,Ds.A)(s===t&&"active"),onClick:o("lines.".concat(i,".color"),t)},t)}))})]}),c&&(0,Ms.jsxs)("div",{className:"line-styles-modal__row line-width-list",children:[(0,Ms.jsx)("div",{className:"list-label",children:(0,yt.tr)("indicators.line_width")}),(0,Ms.jsx)("div",{className:"list-body",children:Object.values(Vv).map((function(t){return(0,Ms.jsxs)("a",{className:(0,Ds.A)(c===t&&"active"),onClick:o("lines.".concat(i,".lineWidth"),t),children:[t,"px"]},t)}))})]}),void 0!==l&&(0,Ms.jsxs)("div",{className:"line-styles-modal__row line-opacity",children:[(0,Ms.jsx)("div",{className:"list-label",children:(0,yt.tr)("indicators.opacity")}),(0,Ms.jsx)("div",{className:"list-body",children:(0,Ms.jsx)(cH.A,{className:"range-wrapper",thumbClassName:"thumb",trackClassName:"track",defaultValue:l,onChange:function(t){return o("lines.".concat(i,".opacity"),"".concat(t))()},renderThumb:function(t){return(0,Ms.jsx)("div",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dH(Object(n),!0).forEach((function(e){pH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))}})})]}),u&&(0,Ms.jsxs)("div",{className:"line-styles-modal__row figures-list",children:[(0,Ms.jsx)("div",{className:"list-label",children:(0,yt.tr)("indicators.figure")}),(0,Ms.jsx)("div",{className:"list-body",children:Object.values(Uv).map((function(t){return(0,Ms.jsx)("a",{className:(0,Ds.A)(u===t&&"active"),onClick:o("lines.".concat(i,".figure"),t),children:t},t)}))})]})]})})})})};function bH(t){return bH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bH(t)}var gH=["width","height"];function wH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wH(Object(n),!0).forEach((function(e){jH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jH(t,e,n){var r;return r=function(t,e){if("object"!=bH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==bH(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OH(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var SH=function(t){var e=t.width,n=void 0===e?20:e,r=t.height,i=void 0===r?20:r,o=OH(t,gH);return(0,Ms.jsx)("div",xH(xH({},o),{},{children:(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:"0 0 20 20",children:(0,Ms.jsx)("path",{d:"M15.9 8.5l-.2.4c-.1.2-.3.2-.5.2-.4-.1-.7-.3-1-.6-.1-.1-.2-.3-.1-.5l.2-.4c-.1-.3-.3-.6-.4-.9h-.5c-.2 0-.3-.1-.4-.3V5.2c0-.2.2-.3.4-.3h.5c.1-.3.3-.6.5-.9l-.2-.4c-.1-.2-.1-.4.1-.5.3-.2.6-.4 1-.6.2-.1.4 0 .5.2l.2.4c.3-.1.6-.1 1 0l.2-.4c.1-.2.3-.2.5-.2.4.1.7.3 1 .6.1.1.2.3.1.5l-.4.4c.2.3.4.5.5.9h.5c.2 0 .3.1.4.3.1.4.1.8 0 1.2 0 .2-.2.3-.4.3h-.5c-.1.3-.3.6-.5.9l.3.4c.1.2.1.4-.1.5-.3.2-.6.4-1 .6-.2.1-.4 0-.5-.2l-.2-.4h-1zm-.3-1.9c1.2.9 2.5-.4 1.6-1.7-1.2-.8-2.5.5-1.6 1.7zm-3.5 4.9l1 .5c.3.2.4.6.3.9-.3.8-.8 1.5-1.3 2.1-.2.3-.6.3-.9.2l-.9-.5c-.5.4-1.1.8-1.7 1v1.1c0 .4-.3.7-.6.7-.7.1-1.5.1-2.3 0-.4-.1-.6-.4-.6-.7v-1.1c-.6-.2-1.2-.6-1.7-1l-.9.5c-.3.2-.7.1-.9-.2-.5-.6-1-1.3-1.3-2.1-.1-.3 0-.7.3-.9l1-.5c-.1-.7-.1-1.3 0-2L.7 9C.4 8.8.2 8.4.4 8c.2-.7.7-1.4 1.2-2 .2-.3.6-.3.9-.2l.9.5c.5-.4 1.1-.8 1.7-1v-1c0-.4.2-.7.6-.7.7-.1 1.5-.1 2.3 0 .4.1.6.4.6.7v1.1c.6.2 1.2.6 1.7 1l.9-.5c.3-.2.7-.1.9.2.5.6 1 1.3 1.3 2.1.1.3 0 .7-.3.9l-1 .5c.1.5.1 1.2 0 1.9zm-3.6.6c1.8-2.4-.9-5.1-3.2-3.3-1.8 2.4.9 5.2 3.2 3.3z"})})}))},_H=n(31235),TH=function(t){var e=t.colors,n=t.lineName,r=t.selectLineHandler,i=t.settings;return(0,Ms.jsxs)("div",{className:"subtitles-wrapper",children:[(0,_H.MK)(i)&&(0,Ms.jsx)(SH,{onClick:r(n),className:"icon-wrapper"}),Object.keys(e).map((function(t){var i="".concat(n,".colors.").concat(t);return(0,Ms.jsx)("div",{children:(0,Ms.jsx)("a",{className:(0,Ds.A)("list-style-selector"),onClick:r(i),children:(0,Ms.jsx)("div",{className:"current-color",style:{backgroundColor:e[t].color}})})},i)}))]})},AH=function(t){var e=t.checked,n=t.onChange,r=t.label;return(0,Ms.jsx)("div",{className:(0,Ds.A)("checkbox-wrapper"),children:(0,Ms.jsxs)("label",{className:(0,Ds.A)("checkbox-inner-wrapper"),children:[r,(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("input",{type:"checkbox",checked:e,onChange:n}),(0,Ms.jsx)("span",{className:"checkmark"})]})]})})};function EH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return PH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var CH=function(t){var e=t.lines,n=t.onParamChanged,i=EH((0,r.useState)(null),2),o=i[0],a=i[1],s=EH((0,r.useState)(null),2),c=s[0],l=s[1],u=function(t){return function(e){Re.A.publish(ga),a(t),l(e.currentTarget)}};return(0,Ms.jsxs)("div",{className:"inputs",children:[(0,Ms.jsx)("div",{className:"labels",children:Object.keys(e).map((function(t){var r=e[t],i=r.show,o=void 0===i||i,a=r.colors,s=r.level,c=void 0!==a,l=!(0,_H.MK)(e[t]),u=void 0!==s;return(0,Ms.jsxs)("div",{className:(0,Ds.A)(c&&"multiline",l&&"no-config"),children:[(0,Ms.jsx)(AH,{checked:o,onChange:n("lines.".concat(t,".show")),label:u?null:ve()(gb,t,t)}),u&&(0,Ms.jsx)(eb,{value:s,className:"max-w-100",path:"lines.".concat(t,".level"),onParamChanged:n}),c&&(0,Ms.jsx)("div",{className:"subtitles-wrapper",children:Object.keys(a).map((function(e){return(0,Ms.jsx)("div",{children:e},"label-".concat(t,".").concat(e))}))})]},"label-".concat(t))}))}),(0,Ms.jsx)("div",{className:"fields",children:Object.keys(e).map((function(t){var n=e[t],r=n.color,i=n.colors,a=n.lineWidth,s=void 0!==i,c=!(0,_H.MK)(e[t]);return(0,Ms.jsxs)("div",{className:(0,Ds.A)(s&&"multiline",c&&"no-config"),children:[s&&(0,Ms.jsx)(TH,{colors:i,lineName:t,selectLineHandler:u,settings:e[t]}),!s&&(0,Ms.jsxs)("a",{className:(0,Ds.A)("list-style-selector",o===t&&"active"),onClick:u(t),children:[(0,Ms.jsx)("div",{className:"current-color",style:{backgroundColor:r}}),a&&(0,Ms.jsxs)("div",{className:"current-line-width",children:[a,"px"]})]})]},t)}))}),o&&c&&(0,Ms.jsx)(vH,{openerNode:c,onClickOutside:function(){a(null),l(null)},lineName:o,onParamChanged:n,settings:ve()(e,o)})]})};CH.propTypes={hiddenCheckboxLines:Rc().array.isRequired,lines:Rc().object.isRequired,onParamChanged:Rc().func.isRequired};var kH=CH;function NH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return IH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var RH="input",LH="styles",DH=function(t){var e=t.children,n=t.settings,i=t.onParamChanged,o=t.hiddenCheckboxLines,a=void 0===o?[]:o,s=NH((0,r.useState)(e?RH:LH),2),c=s[0],l=s[1],u=function(t){return function(){Re.A.publish(ga),l(t)}},h=null!=e;return(0,Ms.jsxs)(Ms.Fragment,{children:[h&&(0,Ms.jsxs)("div",{className:"m-tabs",children:[e&&(0,Ms.jsx)("a",{onClick:u(RH),className:(0,Ds.A)(c===RH&&"active"),children:(0,yt.tr)("indicators.inputs")}),(0,Ms.jsx)("a",{onClick:u(LH),className:(0,Ds.A)(c===LH&&"active"),children:(0,yt.tr)("indicators.styles")})]}),(0,Ms.jsxs)("div",{className:"m-content",children:[c===RH&&e,c===LH&&(0,Ms.jsx)(kH,{lines:n.lines,onParamChanged:i,hiddenCheckboxLines:a})]})]})},MH=["main","bg"],BH=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(DH,{settings:n,onParamChanged:e,hiddenCheckboxLines:MH})},HH=function(){return(0,Ms.jsx)("svg",{className:"svg-icon modal-close-icon",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ms.jsx)("path",{d:"M10.3432 7.5L14.6075 3.23565C15.1308 2.71236 15.1308 1.86392 14.6075 1.3402L13.6598 0.392472C13.1365 -0.130824 12.2881 -0.130824 11.7643 0.392472L7.5 4.65682L3.23565 0.392472C2.71236 -0.130824 1.86392 -0.130824 1.3402 0.392472L0.392472 1.3402C-0.130824 1.86349 -0.130824 2.71193 0.392472 3.23565L4.65682 7.5L0.392472 11.7643C-0.130824 12.2876 -0.130824 13.1361 0.392472 13.6598L1.3402 14.6075C1.86349 15.1308 2.71236 15.1308 3.23565 14.6075L7.5 10.3432L11.7643 14.6075C12.2876 15.1308 13.1365 15.1308 13.6598 14.6075L14.6075 13.6598C15.1308 13.1365 15.1308 12.2881 14.6075 11.7643L10.3432 7.5Z"})})};function FH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return GH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var VH=function(t){var e=t.selected,n=t.onChange,r=t.options,i=t.opener,o=t.onCloseModal,a=t.onItemDisplay,s=FH(hH(i),2),c=s[0],l=s[1],u=function(t){return function(){n(t),o()}};return(0,Ms.jsx)("div",{className:"drop-down-modal-wrap",children:(0,Ms.jsx)(od,{onClickOutside:o,style:c,className:"dropdown-wrapper--list",setRef:function(t){return l(t.current)},children:Object.keys(r).map((function(t){var n=r[t],i=n===e;return(0,Ms.jsx)("div",{className:(0,Ds.A)(i&&"selected"),onClick:u(n),children:null!=a?a(n):n},t)}))})})};function WH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return UH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zH=function(t){var e=t.selected,n=t.onChange,i=t.options,o=t.onItemDisplay,a=WH((0,r.useState)(!1),2),s=a[0],c=a[1],l=(0,r.useRef)(null);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{ref:l,className:(0,Ds.A)("dropdown-wrapper",s&&"opened"),onClick:function(){return c(!s)},children:(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"selected",children:null!=o?o(e):e}),(0,Ms.jsx)("span",{className:(0,Ds.A)("icon",s&&"opened"),children:(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 11 7",children:(0,Ms.jsx)("path",{stroke:"currentColor",strokeWidth:"1.3",d:"M.5 1.5l5 4 5-4"})})})]})}),s&&(0,Ms.jsx)(VH,{options:i,selected:e,opener:l.current,onChange:n,onCloseModal:function(){return c(!1)},onItemDisplay:o})]})},XH=["main"],$H=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(DH,{settings:n,onParamChanged:e,hiddenCheckboxLines:XH,children:(0,Ms.jsxs)("div",{className:"inputs",children:[(0,Ms.jsx)("div",{className:"labels",children:(0,Ms.jsx)("div",{children:(0,yt.tr)("drawings.levels")})}),(0,Ms.jsx)("div",{className:"fields",children:(0,Ms.jsx)("div",{children:(0,Ms.jsx)(zH,{selected:n.levels,options:vb,onChange:function(t){return e("levels",t)()},onItemDisplay:function(t){return(0,yt.tr)("drawings.levels_".concat(t))}})})})]})})};function YH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return qH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var KH=function(t){var e=t.closeTriggered,n=t.drawingId,i=t.onRequestClose,o=(0,u.wA)(),a=(0,u.d4)((function(t){return t.global.isMobile})),s=(0,u.d4)((function(t){return pE(n)(t)})),c=YH(sH(s.settings),3),l=c[0],h=c[1],f=c[2],d=YH((0,r.useState)(s.settings),1)[0];(0,r.useEffect)((function(){e&&p()}),[e]),(0,r.useEffect)((function(){h&&o(gB(s.id,l))}),[h,l]);var p=function(){b()(d,l)||o(gB(s.id,l,!0)),i()},m=(0,r.useCallback)(Ab(bb[s.type],0,f),[l]);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"m-header",children:[(0,Ms.jsx)("span",{children:bb[s.type].label}),(0,Ms.jsx)("a",{onClick:i,children:(0,Ms.jsx)(HH,{})})]}),s.type===de.Ay.CHART.DRAWINGS.FIBONACCI_RETRACEMENT&&(0,Ms.jsx)($H,{settings:l,onParamChanged:m}),s.type!==de.Ay.CHART.DRAWINGS.FIBONACCI_RETRACEMENT&&(0,Ms.jsx)(BH,{settings:l,onParamChanged:m}),(0,Ms.jsx)("div",{className:"m-footer",children:(0,Ms.jsxs)("div",{className:"btn-wrap btn-gap",children:[(0,Ms.jsxs)("a",{onClick:function(){Re.A.publish(ga),o(wB(s.id)),i()},className:"btn btn-gap__item btn-default-light",children:[!a&&(0,yt.tr)("remove"),a&&(0,Ms.jsx)("i",{className:"fa fa-trash-o"})]}),!a&&(0,Ms.jsx)("a",{onClick:function(){o(gB(s.id,d)),i()},className:"btn btn-gap__item btn-danger-light",children:(0,yt.tr)("cancel")}),(0,Ms.jsx)("a",{onClick:p,className:"btn btn-gap__item btn-green-light",children:(0,yt.tr)("save")})]})})]})},ZH=Pl((function(t){var e=t.isOpen,n=t.onRequestClose,i=t.drawingId,o=(0,u.d4)((function(t){return t.global.isMt5})),a=YH((0,r.useState)(!1),2),s=a[0],c=a[1];return(0,Ms.jsx)(yd(),{isOpen:e,onRequestClose:function(){return c(!0)},ariaHideApp:!1,closeTimeoutMS:1,className:(0,Ds.A)(!o&&"EditIndicator",o&&"default-modal edit-indicator-modal"),overlayClassName:(0,Ds.A)(!o&&"EditIndicatorOverlay",o&&"default-modal-overlay"),children:i&&(0,Ms.jsx)(KH,{closeTriggered:s,onRequestClose:function(){c(!1),n()},drawingId:i})})}));function QH(t){return QH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QH(t)}function JH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JH(Object(n),!0).forEach((function(e){eF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eF(t,e,n){var r;return r=function(t,e){if("object"!=QH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==QH(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nF=function(t){return(0,Ms.jsx)("div",tF(tF({},t),{},{children:(0,Ms.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"12",viewBox:"0 0 16 35",children:[(0,Ms.jsxs)("g",{children:[(0,Ms.jsx)("circle",{cx:"13.1",cy:"3.9",r:"2.9"}),(0,Ms.jsx)("circle",{cx:"13.1",cy:"12.6",r:"2.9"}),(0,Ms.jsx)("circle",{cx:"13.1",cy:"21.4",r:"2.9"}),(0,Ms.jsx)("circle",{cx:"13.1",cy:"30.1",r:"2.9"}),(0,Ms.jsx)("circle",{cx:"2.9",cy:"3.9",r:"2.9"}),(0,Ms.jsx)("circle",{cx:"2.9",cy:"12.6",r:"2.9"}),(0,Ms.jsx)("circle",{cx:"2.9",cy:"21.4",r:"2.9"}),(0,Ms.jsx)("circle",{cx:"2.9",cy:"30.1",r:"2.9"})]}),(0,Ms.jsx)("path",{d:"M13.1 8.3C14.7 8.3 16 7 16 5.4c0-.3 0-.5-.1-.7-.3 1.3-1.5 2.2-2.8 2.2s-2.5-.9-2.8-2.2c-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9zM2.9 6.8C1.5 6.8.4 5.9.1 4.6c-.1.3-.1.5-.1.8C0 7 1.3 8.3 2.9 8.3S5.8 7 5.8 5.4c0-.3 0-.5-.1-.7-.3 1.2-1.4 2.1-2.8 2.1zm10.2 8.7c-1.4 0-2.5-.9-2.8-2.2-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9S16 15.6 16 14c0-.3 0-.5-.1-.7-.3 1.3-1.5 2.2-2.8 2.2zm-10.2 0c-1.4 0-2.5-.9-2.8-2.2-.1.3-.1.5-.1.8C0 15.7 1.3 17 2.9 17s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.2-1.4 2.1-2.8 2.1zm10.2 8.8c-1.4 0-2.5-.9-2.8-2.2-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.2-1.5 2.2-2.8 2.2zm-10.2 0c-1.4 0-2.5-.9-2.8-2.2-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.2-1.4 2.2-2.8 2.2zM13.1 33c-1.4 0-2.5-.9-2.8-2.2-.1.2-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.3-1.5 2.2-2.8 2.2zM2.9 33c-1.4 0-2.5-.9-2.8-2.2-.1.3-.1.5-.1.7 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9c0-.3 0-.5-.1-.7-.3 1.3-1.4 2.2-2.8 2.2z",fill:"#232328"})]})}))};function rF(t){return rF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rF(t)}var iF=["width","height"];function oF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oF(Object(n),!0).forEach((function(e){sF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sF(t,e,n){var r;return r=function(t,e){if("object"!=rF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==rF(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cF(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var lF=function(t){var e=t.width,n=void 0===e?20:e,r=t.height,i=void 0===r?20:r,o=cF(t,iF);return(0,Ms.jsx)("div",aF(aF({},o),{},{children:(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:i,children:(0,Ms.jsx)("path",{d:"M16.1 9.2h-.8V6.9c0-2.8-2.3-5-5-5s-5 2.3-5 5v2.4h-.9c-.9 0-1.6.7-1.6 1.6v6.4c0 .9.7 1.6 1.6 1.6h11.7c.9 0 1.6-.7 1.6-1.6v-6.4c0-.9-.7-1.7-1.6-1.7zm-3.5 0H7.9V6.9c0-1.3 1.1-2.4 2.4-2.4s2.4 1.1 2.4 2.4v2.3z"})})}))};function uF(t){return uF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uF(t)}var hF=["width","height"];function fF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fF(Object(n),!0).forEach((function(e){pF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pF(t,e,n){var r;return r=function(t,e){if("object"!=uF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==uF(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mF(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var yF=function(t){var e=t.width,n=void 0===e?20:e,r=t.height,i=void 0===r?20:r,o=mF(t,hF);return(0,Ms.jsx)("div",dF(dF({},o),{},{children:(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:i,children:(0,Ms.jsx)("path",{d:"M14.5 1.8c-2.8 0-5 2.3-5 5.1v2.3H2.1c-.9 0-1.6.7-1.6 1.6v6.3c0 .9.7 1.6 1.6 1.6h11.6c.9 0 1.6-.7 1.6-1.6v-6.3c0-.9-.7-1.6-1.6-1.6h-1.6V6.9c0-1.3 1-2.4 2.4-2.4 1.3 0 2.4 1.1 2.4 2.4v2.6c0 .4.4.8.8.8h1.1c.4 0 .8-.4.8-.8V6.9c-.1-2.8-2.3-5.1-5.1-5.1z"})})}))},vF=function(t){var e=t.drawings,n=t.handleLockClick,r=new Set(e.map((function(t){var e=t.isLocked;return void 0!==e&&e}))),i=e.map((function(t){return t.id})),o=1===r.size&&r.has(!0);return(0,Ms.jsxs)(Ms.Fragment,{children:[o&&(0,Ms.jsx)(lF,{className:"drawing-settings-panel__btn",onClick:n(i,!1)}),!o&&(0,Ms.jsx)(yF,{className:"drawing-settings-panel__btn transparent",onClick:n(i,!0)})]})};function bF(t){return bF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bF(t)}function gF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gF(Object(n),!0).forEach((function(e){xF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xF(t,e,n){var r;return r=function(t,e){if("object"!=bF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==bF(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jF=function(t){return(0,Ms.jsx)("div",wF(wF({},t),{},{children:(0,Ms.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 409.64 431.72",children:[(0,Ms.jsx)("path",{d:"M399.64 124.33v98c0 81.67-32.66 114.33-114.33 114.33h-98c-81.67 0-114.33-32.66-114.33-114.33v-98C72.98 42.66 105.64 10 187.31 10h98c81.67 0 114.33 32.66 114.33 114.33Z",style:{fill:"none",stroke:"#aaa",strokeDasharray:"0 0 71.55 71.55",strokeMiterlimit:10,strokeWidth:"20px"}}),(0,Ms.jsx)("path",{d:"M326.66 219.39v98c0 81.67-32.66 114.33-114.33 114.33h-98C32.66 431.72 0 399.06 0 317.39v-98c0-81.67 32.66-114.33 114.33-114.33h98c81.67 0 114.33 32.66 114.33 114.33Z"})]})}))};function OF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return SF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SF(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _F="colors",TF="weights",AF=function(t){return"drawing_panel_".concat(t)};var EF=function(t){var e=t.drawings,n=t.plotWidth,i=t.plotHeight,o=(0,r.useContext)(np),a=(0,u.wA)(),s=OF((0,r.useState)({}),2),c=s[0],l=s[1],h=OF((0,r.useState)(null),2),f=h[0],d=h[1],p=OF((0,r.useState)(0),2),m=p[0],y=p[1],v=OF((0,r.useState)(null),2),b=v[0],g=v[1],w=(0,r.useRef)(null);(0,r.useEffect)((function(){null!==w.current&&y(w.current.getBoundingClientRect().width)}),[w.current]),(0,r.useEffect)((function(){var t=function(t){var e=pe.A.cookies.find(AF(t),"").split("-");return{x:void 0!==e[0]?parseInt(e[0],10):0,y:void 0!==e[1]?parseInt(e[1],10):0}}(o),e=t.x,r=t.y,a=e>0&&e<n-100&&r>0&&r<i-100;l({x:a?e:n/2-m/2,y:a?r:i/4}),d(null)}),[m]);var x=function(t){return function(){return d(f===t?null:t)}};return(0,Ms.jsx)(Df.A,{component:null,children:(0,Ms.jsx)(Mf.A,{timeout:100,nodeRef:w,children:(0,Ms.jsx)(dB(),{bounds:"parent",handle:".drawing-settings-panel__handle",onStop:function(t,e){var n=e.x,r=e.y;l({x:n,y:r}),pe.A.cookies.set(AF(o),"".concat(n,"-").concat(r))},enableUserSelectHack:!1,position:c,nodeRef:w,children:(0,Ms.jsxs)("div",{className:"drawing-settings-panel-wrapper",ref:w,children:[(0,Ms.jsxs)("div",{className:"drawing-settings-panel",children:[(0,Ms.jsx)(nF,{className:"drawing-settings-panel__handle"}),(0,Ms.jsx)(iH,{drawings:e,menuClickHandler:x(_F),isActive:f===_F,changeColorHandler:function(t){return function(){return a(xB({color:t}))}}}),(0,Ms.jsx)(DB,{drawings:e,menuClickHandler:x(TF),isActive:f===TF,changeHeightHandler:function(t){return function(){return a(xB({lineWidth:t}))}}}),1===e.length&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(jF,{onClick:function(){return a((t=e[0].id,function(e,n){var r=n().drawings,i=r.byId;if(r.allIds.includes(t)){var o=i[t];e(jB(vB(vB({},o.settings),{},{chartId:o.chartId,type:o.type,assetId:o.assetId,symbol:o.symbol})))}}));var t},className:"drawing-settings-panel__btn"}),(0,Ms.jsx)(SH,{onClick:function(){return g(e[0].id)},className:"drawing-settings-panel__btn"})]}),(0,Ms.jsx)(vF,{drawings:e,handleLockClick:function(t,e){return function(){return a(function(t){var e=t.ids,n=t.value;return ft.lock({ids:e,value:n})}({ids:t,value:e}))}}}),(0,Ms.jsx)(QB,{className:"drawing-settings-panel__btn",onClick:function(){return a((function(t,e){var n=e().drawings.selectedIds;t(ft.removeSelected(n))}))}})]}),(0,Ms.jsx)(ZH,{isOpen:null!==b,drawingId:b,onRequestClose:function(){return g(null)}})]})})})})},PF=EF,CF={marginBottom:"calc(8px + var(--indicator-margin-bottom))"},kF=function(){var t=(0,u.wA)(),e=(0,u.d4)((function(t){return t.favorites.list.length}));return(0,Ms.jsxs)("div",{className:"hotkey-tooltip",style:CF,children:[(0,Ms.jsx)("a",{className:"hotkey-tooltip__close",onClick:function(){return t((0,ba.Ws)())},children:(0,Ms.jsx)("i",{className:"fa fa-times"})}),(0,Ms.jsxs)("h2",{className:"hotkey-tooltip__title",children:[(0,yt.tr)("right_panel.hotkeys"),(0,Ms.jsxs)("div",{children:["[",(0,yt.tr)("active"),"]"]})]}),(0,Ms.jsxs)("div",{className:"hotkey-tooltip--table",children:[(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"key",children:(0,Ms.jsx)("span",{className:"green",children:"Shift + W"})}),(0,Ms.jsxs)("div",{className:"var",children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("hotkeys.higher")})," (",(0,yt.tr)("hotkeys.new_trade"),")"]})]}),(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"key",children:(0,Ms.jsx)("span",{className:"red",children:"Shift + S"})}),(0,Ms.jsxs)("div",{className:"var",children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("hotkeys.lower")})," (",(0,yt.tr)("hotkeys.new_trade"),")"]})]}),(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"key",children:"Shift + A"}),(0,Ms.jsx)("div",{className:"var",children:(0,yt.tr)("hotkeys.decrease_bet_amount")})]}),(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"key",children:"Shift + D"}),(0,Ms.jsx)("div",{className:"var",children:(0,yt.tr)("hotkeys.increase_bet_amount")})]}),e>=2&&(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"key",children:"Shift + TAB"}),(0,Ms.jsx)("div",{className:"var",children:(0,yt.tr)("hotkeys.next_fav")})]})]})]})};function NF(t){return NF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NF(t)}var IF=["fieldRules"];function RF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?RF(Object(n),!0).forEach((function(e){DF(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function DF(t,e,n){var r;return r=function(t,e){if("object"!=NF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=NF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==NF(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MF(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BF(t,e,n){var r=Number(t);if(Number.isNaN(r))return t;var i=0!==e?1/Math.pow(10,e):1,o="+"===n?r+i:r-i;return 0===e?o:parseFloat(o.toFixed(10))}var HF=function(t){var e=t.fieldRules,n=MF(t,IF),r=e.precision,i=void 0===r?0:r,o=n.onParamChanged,a=n.path,s=n.value,c=o(a,BF(s,i,"+")),l=o(a,BF(s,i,"-"));return(0,Ms.jsx)(eb,LF(LF({},n),{},{children:(0,Ms.jsxs)("div",{className:"input-wrapper__arrows",children:[(0,Ms.jsx)("div",{className:"input-wrapper__arrows-item",onClick:c,children:(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330 330",width:"9px",height:"9px",children:(0,Ms.jsx)("path",{d:"M325.606 229.393l-150.004-150a14.997 14.997 0 00-21.213.001l-149.996 150c-5.858 5.858-5.858 15.355 0 21.213 5.857 5.857 15.355 5.858 21.213 0l139.39-139.393 139.397 139.393A14.953 14.953 0 00315 255a14.95 14.95 0 0010.607-4.394c5.857-5.858 5.857-15.355-.001-21.213z"})})}),(0,Ms.jsx)("div",{className:"input-wrapper__arrows-item",onClick:l,children:(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330 330",width:"9px",height:"9px",children:(0,Ms.jsx)("path",{d:"M325.607 79.393c-5.857-5.857-15.355-5.858-21.213.001l-139.39 139.393L25.607 79.393c-5.857-5.857-15.355-5.858-21.213.001-5.858 5.858-5.858 15.355 0 21.213l150.004 150a14.999 14.999 0 0021.212-.001l149.996-150c5.859-5.857 5.859-15.355.001-21.213z"})})})]})}))};HF.propTypes=LF(LF({},eb.propTypes),{},{fieldRules:Rc().object.isRequired});var FF=HF,GF=function(t){var e=t.value,n=t.path,r=t.onParamChanged,i=t.type,o=(0,u.d4)((function(t){return t.global.isMobile})),a=Ob(Xv[i].rules,n),s=!o&&Sb(a);return(0,Ms.jsxs)("div",{children:[s&&(0,Ms.jsx)(FF,{value:e,onParamChanged:r,path:n,fieldRules:a,type:Jv.NUMBER}),!s&&(0,Ms.jsx)(eb,{value:e,onParamChanged:r,path:n,type:Jv.NUMBER})]})};GF.propTypes={path:Rc().string.isRequired,onParamChanged:Rc().func.isRequired,value:Rc().oneOfType([Rc().number,Rc().string]),type:Rc().oneOf(Object.keys(Xv)).isRequired};var VF=GF,WF=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(DH,{settings:n,onParamChanged:e,children:(0,Ms.jsxs)("div",{className:"inputs",children:[(0,Ms.jsxs)("div",{className:"labels",children:[(0,Ms.jsx)("div",{children:(0,yt.tr)("period")}),(0,Ms.jsx)("div",{children:(0,yt.tr)("indicators.ma")})]}),(0,Ms.jsxs)("div",{className:"fields",children:[(0,Ms.jsx)(VF,{type:de.W.MOVING_AVERAGE,onParamChanged:e,path:"period",value:ve()(n,"period")}),(0,Ms.jsx)("div",{children:(0,Ms.jsx)(zH,{selected:n.ma,options:Fv,onChange:function(t){return e("ma",t)()}})})]})]})})},UF=function(t){var e=t.inputs,n=t.onParamChanged,r=t.settings,i=t.type,o=t.hiddenCheckboxLines,a=void 0===o?[]:o;return(0,Ms.jsx)(DH,{settings:r,onParamChanged:n,hiddenCheckboxLines:a,children:(0,Ms.jsxs)("div",{className:"inputs",children:[(0,Ms.jsx)("div",{className:"labels",children:Object.keys(e).map((function(t){return(0,Ms.jsx)("div",{children:e[t]},"name-".concat(t))}))}),(0,Ms.jsx)("div",{className:"fields",children:Object.keys(e).map((function(t){return(0,Ms.jsx)(VF,{type:i,onParamChanged:n,path:t,value:ve()(r,t)},"value-".concat(t))}))})]})})};UF.propTypes={type:Rc().oneOf(Object.keys(Xv)).isRequired,settings:Rc().object.isRequired,onParamChanged:Rc().func.isRequired,inputs:Rc().object.isRequired};var zF=UF,XF={"jaws.period":(0,yt.tr)("indicators.jaws_per"),"jaws.shift":(0,yt.tr)("indicators.jaws_sh"),"teeth.period":(0,yt.tr)("indicators.teeth_per"),"teeth.shift":(0,yt.tr)("indicators.teeth_sh"),"lips.period":(0,yt.tr)("indicators.lips_per"),"lips.shift":(0,yt.tr)("indicators.lips_sh")},$F=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:XF,type:de.W.ALLIGATOR})},YF={period:(0,yt.tr)("period"),deviation:(0,yt.tr)("indicators.deviation")},qF=function(t){var e=t.onParamChanged,n=t.settings,r=t.type,i=void 0===r?de.W.BOLLINGER_BANDS:r;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:YF,type:i})},KF={period:(0,yt.tr)("period"),deviation:(0,yt.tr)("indicators.deviation")},ZF=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(DH,{settings:n,onParamChanged:e,children:(0,Ms.jsxs)("div",{className:"inputs",children:[(0,Ms.jsxs)("div",{className:"labels",children:[Object.keys(KF).map((function(t){return(0,Ms.jsx)("div",{children:KF[t]},"name-".concat(t))})),(0,Ms.jsx)("div",{children:(0,yt.tr)("indicators.ma")}),(0,Ms.jsx)("div",{children:(0,yt.tr)("indicators.src")})]}),(0,Ms.jsxs)("div",{className:"fields",children:[Object.keys(KF).map((function(t){return(0,Ms.jsx)(VF,{type:de.W.ENVELOPE,onParamChanged:e,path:t,value:ve()(n,t)},"value-".concat(t))})),(0,Ms.jsx)("div",{children:(0,Ms.jsx)(zH,{selected:n.ma,options:Fv,onChange:function(t){return e("ma",t)()}})}),(0,Ms.jsx)("div",{children:(0,Ms.jsx)(zH,{selected:n.source,options:Wv,onChange:function(t){return e("source",t)()}})})]})]})})},QF={tenkanSen:"Tenkan Sen",kijunSen:"Kijun Sen",senkouSpanB:"Senkou Span B"},JF=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:QF,type:de.W.ICHIMOKU_CLOUD})},tG={emaPeriod:"EMA ".concat((0,yt.tr)("period")),atrPeriod:"ATR ".concat((0,yt.tr)("period")),multiplier:(0,yt.tr)("indicators.multiplier")},eG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:tG,type:de.W.KELTNER_CHANNEL})},nG={acceleration:(0,yt.tr)("indicators.acceleration"),accelerationMax:(0,yt.tr)("indicators.max_acceleration")},rG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:nG,type:de.W.PARABOLIC_SAR})},iG={deviation:(0,yt.tr)("indicators.deviation"),depth:(0,yt.tr)("indicators.depth"),backstep:(0,yt.tr)("indicators.backstep")},oG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:iG,type:de.W.ZIG_ZAG})},aG={adxSmoothing:(0,yt.tr)("indicators.adx_smoothing"),diLength:(0,yt.tr)("indicators.di_length")},sG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:aG,type:de.W.ADX})},cG=["main"],lG={periodShort:(0,yt.tr)("indicators.period_short"),periodLong:(0,yt.tr)("indicators.period_long")},uG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:lG,type:de.W.AWESOME_OSCILLATOR,hiddenCheckboxLines:cG})},hG={fastPeriod:(0,yt.tr)("indicators.fast_period"),slowPeriod:(0,yt.tr)("indicators.slow_period"),signalPeriod:(0,yt.tr)("indicators.signal_period")},fG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:hG,type:de.W.MACD})},dG={period:(0,yt.tr)("period")},pG=function(t){var e=t.onParamChanged,n=t.settings,r=t.type;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:dG,type:r})},mG={kPeriod:"%K ".concat((0,yt.tr)("period")),dPeriod:"%D ".concat((0,yt.tr)("period")),mPeriod:(0,yt.tr)("indicators.smoothing_period")},yG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(DH,{settings:n,onParamChanged:e,children:(0,Ms.jsxs)("div",{className:"inputs",children:[(0,Ms.jsxs)("div",{className:"labels",children:[Object.keys(mG).map((function(t){return(0,Ms.jsx)("div",{children:mG[t]},"label-".concat(t))})),(0,Ms.jsx)("div",{children:(0,yt.tr)("indicators.ma")})]}),(0,Ms.jsxs)("div",{className:"fields",children:[Object.keys(mG).map((function(t){return(0,Ms.jsx)(VF,{type:de.W.STOCHASTIC_OSCILLATOR,onParamChanged:e,path:t,value:ve()(n,t)},"value-".concat(t))})),(0,Ms.jsx)("div",{children:(0,Ms.jsx)(zH,{selected:n.ma,options:Fv,onChange:function(t){return e("ma",t)()}})})]})]})})},vG={fast:(0,yt.tr)("indicators.fast_len"),slow:(0,yt.tr)("indicators.slow_len"),cycle:(0,yt.tr)("indicators.cycle_len"),macdD:(0,yt.tr)("indicators.d_macd_len"),pfD:(0,yt.tr)("indicators.d_pf_len")},bG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(DH,{settings:n,onParamChanged:e,children:(0,Ms.jsxs)("div",{className:"inputs",children:[(0,Ms.jsx)("div",{className:"labels",children:Object.keys(vG).map((function(t){return(0,Ms.jsx)("div",{children:vG[t]},"label-".concat(t))}))}),(0,Ms.jsx)("div",{className:"fields",children:Object.keys(vG).map((function(t){return(0,Ms.jsx)(VF,{type:de.W.SCHAFF_TREND_CYCLE,onParamChanged:e,path:t,value:ve()(n,t)},"value-".concat(t))}))})]})})},gG={fastPeriod:"Fast EMA Period",slowPeriod:"Slow EMA Period",signalPeriod:"Signal SMA Period"},wG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(DH,{settings:n,onParamChanged:e,children:(0,Ms.jsxs)("div",{className:"inputs",children:[(0,Ms.jsx)("div",{className:"labels",children:Object.keys(gG).map((function(t){return(0,Ms.jsx)("div",{children:gG[t]},"label-".concat(t))}))}),(0,Ms.jsx)("div",{className:"fields",children:Object.keys(gG).map((function(t){return(0,Ms.jsx)(VF,{type:de.W.OSMA,onParamChanged:e,path:t,value:ve()(n,t)},"value-".concat(t))}))})]})})},xG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(qF,{settings:n,onParamChanged:e,type:de.W.BOLLINGER_BANDS_WIDTH})},jG={aoPeriodShort:"AO Short Period",aoPeriodLong:"AO Long Period",acPeriod:"AC SMA Period"},OG=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:jG,type:de.W.ACCELERATOR_OSCILLATOR})},SG={atrPeriod:"ATR ".concat((0,yt.tr)("period")),multiplier:(0,yt.tr)("indicators.multiplier")},_G=function(t){var e=t.onParamChanged,n=t.settings;return(0,Ms.jsx)(zF,{settings:n,onParamChanged:e,inputs:SG,type:de.W.SUPERTREND})};function TG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return AG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AG(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var EG=function(t){var e=t.closeTriggered,n=t.indicator,i=t.onRequestClose,o=TG(sH(n.settings),3),a=o[0],s=o[1],c=o[2],l=TG((0,r.useState)(n.settings),1)[0],h=(0,u.d4)((function(t){return t.global.isMobile})),f=(0,u.wA)(),d=n.id,p=n.type,m=n.visible;(0,r.useEffect)((function(){e&&y()}),[e]),(0,r.useEffect)((function(){s&&f(_B(d,a))}),[s,a]);var y=function(){b()(l,a)||f(_B(d,a,!0)),i()},v=(0,r.useCallback)(Ab(Xv[p],0,c),[a]);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"m-header",children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("indicators.".concat(p))}),(0,Ms.jsx)("a",{onClick:i,children:(0,Ms.jsx)(HH,{})})]}),p===de.W.MOVING_AVERAGE&&(0,Ms.jsx)(WF,{settings:a,onParamChanged:v}),p===de.W.ALLIGATOR&&(0,Ms.jsx)($F,{settings:a,onParamChanged:v}),p===de.W.BOLLINGER_BANDS&&(0,Ms.jsx)(qF,{settings:a,onParamChanged:v}),p===de.W.BOLLINGER_BANDS_WIDTH&&(0,Ms.jsx)(xG,{settings:a,onParamChanged:v}),p===de.W.ENVELOPE&&(0,Ms.jsx)(ZF,{settings:a,onParamChanged:v}),p===de.W.ICHIMOKU_CLOUD&&(0,Ms.jsx)(JF,{settings:a,onParamChanged:v}),p===de.W.KELTNER_CHANNEL&&(0,Ms.jsx)(eG,{settings:a,onParamChanged:v}),p===de.W.PARABOLIC_SAR&&(0,Ms.jsx)(rG,{settings:a,onParamChanged:v}),p===de.W.ZIG_ZAG&&(0,Ms.jsx)(oG,{settings:a,onParamChanged:v}),p===de.W.ADX&&(0,Ms.jsx)(sG,{settings:a,onParamChanged:v}),p===de.W.ACCELERATOR_OSCILLATOR&&(0,Ms.jsx)(OG,{settings:a,onParamChanged:v}),p===de.W.AWESOME_OSCILLATOR&&(0,Ms.jsx)(uG,{settings:a,onParamChanged:v}),p===de.W.MACD&&(0,Ms.jsx)(fG,{settings:a,onParamChanged:v}),p===de.W.OSMA&&(0,Ms.jsx)(wG,{settings:a,onParamChanged:v}),p===de.W.STOCHASTIC_OSCILLATOR&&(0,Ms.jsx)(yG,{settings:a,onParamChanged:v}),p===de.W.SCHAFF_TREND_CYCLE&&(0,Ms.jsx)(bG,{settings:a,onParamChanged:v}),p===de.W.SUPERTREND&&(0,Ms.jsx)(_G,{settings:a,onParamChanged:v}),Eb(p)&&(0,Ms.jsx)(pG,{settings:a,onParamChanged:v,type:p}),(0,Ms.jsx)("div",{className:"m-footer",children:(0,Ms.jsxs)("div",{className:"btn-wrap btn-gap",children:[(0,Ms.jsxs)("a",{onClick:function(){Re.A.publish(ga),f(TB(d)),i()},className:"btn btn-gap__item btn-default-light",children:[!h&&(0,yt.tr)("remove"),h&&(0,Ms.jsx)("i",{className:"fa fa-trash-o"})]}),h&&(0,Ms.jsx)("a",{onClick:function(){Re.A.publish(ga),f(AB(d,!m))},className:"btn btn-gap__item btn-default-light",children:(0,Ms.jsx)("i",{className:(0,Ds.A)("fa",m?"fa-eye":"fa-eye-slash")})}),!h&&(0,Ms.jsx)("a",{onClick:function(){Re.A.publish(ga),f(_B(d,l)),i()},className:"btn btn-gap__item btn-danger-light",children:(0,yt.tr)("cancel")}),(0,Ms.jsx)("a",{onClick:y,className:"btn btn-gap__item btn-green-light",children:(0,yt.tr)("save")})]})})]})},PG=Pl((function(t){var e=t.isOpen,n=t.indicator,i=t.onRequestClose,o=(0,u.d4)((function(t){return t.global.isMt5})),a=TG((0,r.useState)(!1),2),s=a[0],c=a[1];return(0,Ms.jsx)(yd(),{isOpen:e,onRequestClose:function(){return c(!0)},ariaHideApp:!1,closeTimeoutMS:200,className:(0,Ds.A)(!o&&"EditIndicator",o&&"default-modal edit-indicator-modal"),overlayClassName:(0,Ds.A)(!o&&"EditIndicatorOverlay",o&&"default-modal-overlay"),children:n&&(0,Ms.jsx)(EG,{closeTriggered:s,indicator:n,onRequestClose:function(){c(!1),i()}})})}));function CG(t){return{type:mt.FE,payload:t}}var kG=function(t){var e=t.type,n=t.settings;switch(e){case de.W.MOVING_AVERAGE:return"".concat(n.ma," ").concat(n.period);case de.W.ALLIGATOR:return"".concat(n.jaws.period," ").concat(n.teeth.period," ").concat(n.lips.period);case de.W.BOLLINGER_BANDS:case de.W.BOLLINGER_BANDS_WIDTH:case de.W.ENVELOPE:return"".concat(n.period," ").concat(n.deviation);case de.W.ICHIMOKU_CLOUD:return"".concat(n.tenkanSen," ").concat(n.kijunSen," ").concat(n.senkouSpanB);case de.W.KELTNER_CHANNEL:return"".concat(n.emaPeriod," ").concat(n.atrPeriod);case de.W.PARABOLIC_SAR:return"".concat(n.acceleration," ").concat(n.accelerationMax);case de.W.ZIG_ZAG:return"".concat(n.deviation," ").concat(n.depth," ").concat(n.backstep);case de.W.ACCELERATOR_OSCILLATOR:return"".concat(n.aoPeriodShort," ").concat(n.aoPeriodLong," ").concat(n.acPeriod);case de.W.ADX:return"".concat(n.adxSmoothing," ").concat(n.diLength);case de.W.AWESOME_OSCILLATOR:return"".concat(n.periodShort," ").concat(n.periodLong);case de.W.MACD:return"".concat(n.fastPeriod," ").concat(n.slowPeriod," ").concat(n.signalPeriod);case de.W.SCHAFF_TREND_CYCLE:return"".concat(n.fast," ").concat(n.slow," ").concat(n.cycle," ").concat(n.macdD," ").concat(n.pfD);case de.W.STOCHASTIC_OSCILLATOR:return"".concat(n.kPeriod," ").concat(n.dPeriod," ").concat(n.mPeriod);case de.W.OSMA:return"".concat(n.fastPeriod," ").concat(n.slowPeriod," ").concat(n.signalPeriod);case de.W.SUPERTREND:return"".concat(n.atrPeriod," ").concat(n.multiplier)}return Eb(e)?"".concat(n.period):""},NG=function(t){var e=t.indicator;return kG(e)};NG.propTypes={indicator:Rc().object.isRequired};var IG=NG;function RG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return LG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LG(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DG=mp((function(t,e,n){return{chartId:n,isMobile:t.global.isMobile,collapseIndicatorsInfo:t.global.collapseIndicatorsInfo}}),{changeIndicatorHeight:function(t){var e={id:t.id,expanded:t.expanded};return q.changeHeight(e)},changeCollapseIndicatorsInfo:CG,indicatorDelete:TB},np)((function(t){var e=t.changeIndicatorHeight,n=t.changeCollapseIndicatorsInfo,i=t.collapseIndicatorsInfo,o=t.indicatorDelete,a=t.indicator,s=t.isMobile,c=RG((0,r.useState)(!1),2),l=c[0],u=c[1],h=a.id,f=a.type,d=a.expanded,p=void 0!==d&&d;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:(0,Ds.A)("remove-chart-setting",p&&"expanded"),children:(0,Ms.jsxs)("div",{className:"remove-chart-setting-wrapper",children:[(0,Ms.jsx)("a",{className:"current-indicators-collapse",onClick:function(){return n(!i)},children:(0,Ms.jsx)("i",{className:(0,Ds.A)("fa",i?"fa-caret-right":"fa-caret-down")})}),!i&&(0,Ms.jsxs)("div",{className:"bottom-indicator-info",children:[(0,Ms.jsx)("div",{className:"indicator-name",children:(0,yt.tr)("indicators.".concat(f))}),(0,Ms.jsx)("div",{className:"indicator-settings",children:(0,Ms.jsx)(IG,{indicator:a})}),(0,Ms.jsxs)("div",{className:"actions",children:[(0,Ms.jsx)("a",{onClick:function(){return u(!0)},children:(0,Ms.jsx)("i",{className:"fa fa-pencil"})}),!s&&(0,Ms.jsx)("a",{onClick:function(){return o(a.id)},children:(0,Ms.jsx)("i",{className:"fa fa-times"})})]})]}),!s&&(0,Ms.jsxs)("a",{title:(0,yt.tr)(p?"indicators.collapse":"indicators.expand"),className:"remove-chart-setting__remove-icon",onClick:function(){var t=a.id,n=a.expanded;e({id:t,expanded:!(void 0!==n&&n)})},children:[!p&&(0,Ms.jsx)("i",{className:"fa fa-chevron-up"}),p&&(0,Ms.jsx)("i",{className:"fa fa-chevron-down"})]})]})},h),(0,Ms.jsx)(PG,{isOpen:l&&null!=a,indicator:a,onRequestClose:function(){return u(!1)}})]})})),MG=function(t){var e=t.indicators;return(0,Ms.jsx)("div",{className:"remove-chart-settings-container",children:e.map((function(t){return(0,Ms.jsx)(DG,{indicator:t},t.id)}))})},BG=n(38750),HG=n.n(BG),FG=n(3171),GG=n.n(FG);function VG(t){return VG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VG(t)}function WG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zG(r.key),r)}}function UG(t,e,n){return(e=zG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zG(t){var e=function(t,e){if("object"!=VG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=VG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==VG(e)?e:String(e)}var XG="position-bottom-left",$G=function(){function t(e){var n=this,r=e.to,i=e.position,o=void 0===i?XG:i,a=e.holdTime,s=void 0===a?1500:a,c=e.maxItems,l=void 0===c?4:c,u=e.animationNameIn,h=void 0===u?"fadeInUp":u,f=e.animationNameOut,d=void 0===f?"fadeOutLeft":f,p=e.wrapperClassName,m=void 0===p?"deals-noty-streamer":p,y=e.isMultiGraph,v=void 0!==y&&y,b=e.isMobile,g=void 0!==b&&b;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),UG(this,"getTo",(function(){if(null===n._$to&&(n._$to=po()(n._to)),0===n._$to.length)throw new Error("this._$to not found ("+n._to+")");return n._$to})),UG(this,"_getWrapper",(function(){return n.getTo().find(n._getWrapperSelector())})),UG(this,"_getWrapperSelector",(function(){return".".concat(n._wrapperClassName,".").concat(n._wrapperClassName,"--").concat(n._position)})),UG(this,"_getWrapperElement",(function(){var t=document.createElement("div");return t.classList.add(n._wrapperClassName),t.classList.add("".concat(n._wrapperClassName,"--").concat(n._position)),t})),UG(this,"renderEle",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n._createWrapper();var r=po()(t),i=n._createEleObject(r,e);r.one(ea(),(function(){r.removeClass(n._animationInClassName),n._offAnimation||(r.one(ea(),(function(){return r.remove()})),i.startHoldTimer(r))})),r.addClass(n._animationInClassName),n._getWrapper().prepend(r);var o=n._getItems();n._moveOtherItems(o),o.length>n._maxItems&&o.slice(n._maxItems).remove()})),UG(this,"_moveOtherItems",(function(t){var e=t.length;if(!(e<=1)){var r=0;n._isCompact||(r=t.eq(0).innerHeight()),n._isCompact||(t=t.slice(1)),t.each((function(t,n){var i,o=po()(n),a=0;i=o.prev().innerHeight()-o.innerHeight(),t>0?i>0&&(a+=i):0===t&&i>0&&(a+=i,r-=i),a+=r+5+28*t,o.css("bottom","".concat(a.toFixed(2),"px")).css("z-index","".concat(e-t))}))}})),UG(this,"_createWrapper",(function(){0===n.getTo().find(n._getWrapperSelector()).length&&(n.getTo().append(n._getWrapperElement()),n._getWrapper().on("click",n._wrapperClicked))})),UG(this,"_wrapperClicked",(function(){var t=n._getItems();if(0!==t.length){t.each((function(t,e){po()(e).data("eleObj").restartTimer()}));var e=t.filter(":not(.deals-noty--deleted)").eq(0);e.one(ea(),(function(){return e.remove()})),e.addClass("deals-noty--deleted"),e.addClass(n._animationOutClassName)}})),this._to=r,this._$to=null,this._position=o,this._wrapperClassName=m,this._holdTime=s,this._animationNameIn=h,this._animationNameOut=d,this._maxItems=l,this._isMobile=g,this._isMultiGraph=v,this._offAnimation=!1,this._animationInClassName="animated ".concat(this._animationNameIn),this._animationOutClassName="animated ".concat(this._animationNameOut),this._initParams(),window.addEventListener("resize",gs()((function(){return n._initParams()}),300))}var e,n,r;return e=t,n=[{key:"_initParams",value:function(){this._isCompact=this._getIsCompact(),this._isMobile&&(this._maxItems=3)}},{key:"_getIsCompact",value:function(){return this._isMultiGraph||this._isMobile}},{key:"_createEleObject",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r={holdTimer:null,holdTime:n||this._holdTime,$ele:t,stopHoldTimer:function(){clearTimeout(r.holdTimer)},startHoldTimer:function(){r.holdTimer=GG()((function(){return r.$ele.addClass(e._animationOutClassName)}),r.holdTime)},restartTimer:function(){r.stopHoldTimer(),r.startHoldTimer()}};return t.data("eleObj",r),r}},{key:"_getItems",value:function(){return this._getWrapper().children()}}],n&&WG(e.prototype,n),r&&WG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),YG=$G;function qG(t){return qG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qG(t)}function KG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QG(r.key),r)}}function ZG(t,e,n){return(e=QG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QG(t){var e=function(t,e){if("object"!=qG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qG(e)?e:String(e)}var JG={"green-ok":'<svg width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 10C7.76142 10 10 7.76142 10 5C10 2.23858 7.76142 0 5 0C2.23858 0 0 2.23858 0 5C0 7.76142 2.23858 10 5 10ZM7.87443 3.68245C8.04185 3.52618 8.04185 3.27365 7.87443 3.11739C7.70702 2.96087 7.43646 2.96087 7.26904 3.11739L4.13092 6.03396L2.73169 4.71756C2.56427 4.5613 2.29292 4.5613 2.12552 4.71756C1.95816 4.87383 1.95816 5.12636 2.12552 5.28262L3.84028 6.8828C4.0077 7.03907 4.27825 7.03907 4.44567 6.8828L7.87443 3.68245Z" fill="#32AC41"/></svg>',"green-okx2":'<svg width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 5A5 5 0 1 1 0 5a5 5 0 0 1 10 0ZM6.874 3.117a.38.38 0 0 1 0 .565L4.755 5.66l.376.374 3.138-2.917a.449.449 0 0 1 .605 0 .38.38 0 0 1 0 .565l-3.428 3.2a.45.45 0 0 1-.606 0l-.687-.66-.707.66a.45.45 0 0 1-.606 0l-1.714-1.6a.38.38 0 0 1 0-.564.45.45 0 0 1 .606 0L3.13 6.034l3.138-2.917a.449.449 0 0 1 .605 0Z" fill="#32AC41"/></svg>',"red-ok":'<svg width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 5A5 5 0 1 1 0 5a5 5 0 0 1 10 0ZM6.874 3.117a.38.38 0 0 1 0 .565L4.755 5.66l.376.374 3.138-2.917a.449.449 0 0 1 .605 0 .38.38 0 0 1 0 .565l-3.428 3.2a.45.45 0 0 1-.606 0l-.687-.66-.707.66a.45.45 0 0 1-.606 0l-1.714-1.6a.38.38 0 0 1 0-.564.45.45 0 0 1 .606 0L3.13 6.034l3.138-2.917a.449.449 0 0 1 .605 0Z" fill="#F13227"/></svg>',"yellow-ok":'<svg width="10" height="10" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 5A5 5 0 1 1 0 5a5 5 0 0 1 10 0ZM6.874 3.117a.38.38 0 0 1 0 .565L4.755 5.66l.376.374 3.138-2.917a.449.449 0 0 1 .605 0 .38.38 0 0 1 0 .565l-3.428 3.2a.45.45 0 0 1-.606 0l-.687-.66-.707.66a.45.45 0 0 1-.606 0l-1.714-1.6a.38.38 0 0 1 0-.564.45.45 0 0 1 .606 0L3.13 6.034l3.138-2.917a.449.449 0 0 1 .605 0Z" fill="#FFC107"/></svg>',call:'<svg width="15" height="15" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M0 11.668v3.333h1.497v-4.358l-.236-.235L0 11.668Zm2.19 3.333h2.344v-2.415a1.182 1.182 0 0 1-1.335-.24l-1.008-1.008V15Zm5.382 0V9.663L5.23 12.007V15h2.343Zm3.038 0V6.625L8.266 8.969V15h2.344ZM0 8.306v2.318l1.26-1.26 2.461 2.46a.452.452 0 0 0 .639 0l.264-.265c.014-.01.028-.02.041-.033l6.088-6.089.951.951a.33.33 0 0 0 .562-.232V3.095a.33.33 0 0 0-.329-.33h-3.06a.33.33 0 0 0-.233.562l.95.951-5.55 5.55L1.58 7.365a.451.451 0 0 0-.638 0L0 8.306Z" fill="#32AC41"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h15v15H0z"/></clipPath></defs></svg>',put:'<svg width="15" height="15" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.187 15V7.988l2.342 2.354V15H2.187Zm5.385 0H5.23v-3.927c.229.277.557.337.823.079l1.519-1.515V15Zm.696 0h2.342v-3.865H8.588a.345.345 0 0 1-.32-.216V15ZM0 5.838l1.486 1.493V15H0V5.838Zm0-3.264 5.65 5.649 2.434-2.434a.456.456 0 0 1 .492-.098.452.452 0 0 1 .146.098l.265.265c.014.011.028.02.041.033l1.725 1.725.952-.95a.328.328 0 0 1 .561.232v3.061a.33.33 0 0 1-.329.329H8.876a.329.329 0 0 1-.232-.562l.951-.951-1.188-1.187L6.27 9.921c-.012.012-.027.022-.04.033l-.265.265a.453.453 0 0 1-.638 0L0 4.892V2.574Z" fill="#F13227"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h15v15H0z"/></clipPath></defs></svg>',"price-alert":'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="none"><path fill="#8EA5C0" d="M1.625 10.132a.606.606 0 0 1-.445-.179A.601.601 0 0 1 1 9.51c0-.176.06-.324.18-.443a.606.606 0 0 1 .445-.18h.625V5.982c0-.861.26-1.627.781-2.296A3.606 3.606 0 0 1 5.062 2.37v-.436c0-.26.092-.48.274-.662A.906.906 0 0 1 6 1c.26 0 .482.09.664.272a.899.899 0 0 1 .274.662v.436c.833.207 1.51.646 2.03 1.315.522.67.782 1.435.782 2.296v2.906h.625c.177 0 .325.06.445.179.12.12.18.267.18.443 0 .177-.06.325-.18.444a.606.606 0 0 1-.445.18h-8.75ZM6 12c-.344 0-.638-.122-.883-.366a1.197 1.197 0 0 1-.367-.88h2.5c0 .343-.122.636-.367.88S6.343 12 6 12Z"/></svg>'},tV=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ZG(this,"_iconImg",(function(t){return JG[t]})),ZG(this,"_getCurrency",(function(){return kl()(window,"AppData.is-tournament")&&1==+window.AppData["is-tournament"]?de.Ay.TOURNAMENT_CURRENCY:de.Ay.CURRENCY}))}var e,n,r;return e=t,n=[{key:"createOpenSuccessExpressTemplate",value:function(t){var e=document.createElement("div");e.classList.add("deals-noty"),e.classList.add("deals-noty--open-success"),t.deals.length>0&&e.classList.add("deals-noty--many");var n=t.deals.length;return e.innerHTML=this._getTitle((0,yt.tr)("notifications.express_created"),"green-ok")+this._getCount(n,(0,yt.tr)("expresses.assets"))+this._getText((0,yt.tr)("deals.payout"),"".concat(t.totalPayout,"%"),(0,yt.tr)("deals.amount"),"$".concat(t.amount)),e}},{key:"createPriceAlertTriggeredTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--price-alert"),e.addEventListener("click",(function(){return Re.A.publish(Ha.DE,{symbol:t.symbol,chartSlotIndex:t.chartSlotIndex})}),{once:!0}),e.innerHTML=this._getTitle((0,yt.tr)("price_alert.reached"),"price-alert")+this._getSymbolWithoutIcon(t.label)+this._getTextOneLine("".concat((0,yt.tr)("price_alert.level"),":"),t.price),e}},{key:"createCloseSuccessExpressTemplate",value:function(t){var e=document.createElement("div");e.classList.add("deals-noty"),e.classList.add("deals-noty--close-success");var n=t.totalPayout>0?"green-ok":"red-ok";return t.status===On&&(n="yellow-ok"),e.innerHTML=this._getTitle((0,yt.tr)("notifications.express_executed"),n)+this._getText((0,yt.tr)("deals.total_payout"),t.profitString,(0,yt.tr)("deals.total_profit"),"$".concat(t.totalPayout)),e}},{key:"successCancelOrderTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--cancel-order-success"),e.innerHTML=this._getTitle((0,yt.tr)("deals.success_cancel_order"),"green-ok")+this._getStringText(t),e}},{key:"failCancelOrderTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--cancel-order-fail"),e.innerHTML=this._getTitle((0,yt.tr)("deals.fail_cancel_order"),"red-ok")+this._getStringText(t),e}},{key:"successCopyOrderTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--copy-order-success"),e.innerHTML=this._getTitle((0,yt.tr)("deals.success_copy_order"),"green-ok")+this._getStringText(t),e}},{key:"createOpenSuccessTemplate",value:function(t){var e=document.createElement("div");e.classList.add("deals-noty"),e.classList.add("deals-noty--open-success");var n=(0,qt.nT)(t.command)?"call":"put",r=(0,yt.tr)("deals.forecast"),i=(0,qt.nT)(t.command)?(0,yt.tr)("deals.higher"):(0,yt.tr)("deals.lower"),o=(0,yt.tr)("deals.amount"),a="".concat(this._getCurrency()).concat(t.amount);return e.innerHTML=this._getTitle((0,yt.tr)("deals.trade_order_placed"),"green-ok")+this._getSymbol(t.asset,n)+this._getText(r,i,o,a),e}},{key:"createCloseSuccessTemplate",value:function(t){var e=document.createElement("div");e.classList.add("deals-noty"),e.classList.add("deals-noty--close-success"),t.deals.length>0&&e.classList.add("deals-noty--many");var n,r,i,o,a=null,s=null;t.deals.length>1?(n=(0,yt.tr)("deals.trades_closed")+": "+t.deals.length,i=(0,yt.tr)("deals.total_payout"),o=(0,yt.tr)("deals.total_profit")):(n=(0,yt.tr)("deals.trade_closed2"),i=(0,yt.tr)("deals.payout"),o=(0,yt.tr)("deals.profit"),s=t.asset,a=(0,qt.nT)(t.deals[0].command)?"call":"put");var c=t.deals.some((function(t){return t.profit<0})),l=t.deals.some((function(t){return t.profit>0}));r=l&&!c?"green-okx2":!l&&c?"red-ok":"yellow-ok";var u=(0,qn.xr)(t.deals.reduce((function(t,e){return t+(0,qt.ZN)(e)}),0)),h=t.deals.reduce((function(t,e){return t+e.profit}),0),f="".concat(this._getCurrency()).concat(u.toFixed(2)),d=this._getCurrency()+(h>0?h.toFixed(2):0);return e.innerHTML=this._getTitle(n,r)+this._getSymbol(s,a)+this._getText(i,f,o,d),e}},{key:"createFailOpenTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--open-fail"),e.innerHTML=this._getStringText(t),e}},{key:"createSuccessOpenOnlyTextTemplate",value:function(t){var e=document.createElement("div");return e.classList.add("deals-noty"),e.classList.add("deals-noty--text"),e.innerHTML=this._getStringText(t),e}},{key:"_getText",value:function(t,e,n,r){return'\n            <div class="deals-noty__text">\n                <div class="deals-noty__text-col">\n                    <div class="deals-noty__label">'.concat(t,'</div>\n                    <div class="deals-noty__value">').concat(e,'</div>\n                </div>\n                <div class="deals-noty__text-col">\n                    <div class="deals-noty__label">').concat(n,'</div>\n                    <div class="deals-noty__value">').concat(r,"</div>\n                </div>\n            </div>\n        ")}},{key:"_getTextOneLine",value:function(t,e){return'\n            <div class="deals-noty__text">\n                <div class="deals-noty__text-col">\n                    <div class="deals-noty__label">'.concat(t,'</div>\n                    <div class="deals-noty__value">').concat(e,"</div>\n                </div>\n            </div>\n        ")}},{key:"_getStringText",value:function(t){return'\n            <div class="deals-noty__text">\n                '.concat(t,"\n            </div>\n        ")}},{key:"_getCount",value:function(t,e){return'\n        <div class="deals-noty__count">\n            <div class="deals-noty__count-label">'.concat(e,'</div>\n            <div class="deals-noty__count-number">').concat(t,"</div>\n        </div>")}},{key:"_getSymbol",value:function(t,e){return t?'\n        <div class="deals-noty__symbol">\n            <div class="deals-noty__symbol-title">'.concat(t,'</div>\n            <div class="deals-noty__type-icon">').concat(this._iconImg(e),"</div>\n        </div>"):""}},{key:"_getSymbolWithoutIcon",value:function(t){return t?'\n        <div class="deals-noty__symbol">\n            <div class="deals-noty__symbol-title">'.concat(t,"</div>\n        </div>"):""}},{key:"_getTitle",value:function(t,e){return'\n        <div class="deals-noty__title">\n            '.concat(t,'\n            <div class="deals-noty__title-icon">').concat(this._iconImg(e),"</div>\n        </div>")}}],n&&KG(e.prototype,n),r&&KG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),eV=tV;function nV(t){return nV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nV(t)}function rV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iV(r.key),r)}}function iV(t){var e=function(t,e){if("object"!=nV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nV(e)?e:String(e)}var oV=function(){function t(e){var n=e.command,r=e.asset,i=e.amount;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._command=n,this._asset=r,this._amount=i}var e,n,r;return e=t,(n=[{key:"command",get:function(){return this._command}},{key:"asset",get:function(){return this._asset}},{key:"amount",get:function(){return this._amount}}])&&rV(e.prototype,n),r&&rV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function aV(t){return aV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aV(t)}function sV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cV(r.key),r)}}function cV(t){var e=function(t,e){if("object"!=aV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aV(e)?e:String(e)}var lV=function(){function t(e){var n=e.asset,r=e.deals;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._asset=n,this._deals=r}var e,n,r;return e=t,(n=[{key:"asset",get:function(){return this._asset}},{key:"deals",get:function(){return this._deals}}])&&sV(e.prototype,n),r&&sV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),uV=lV;function hV(t){return hV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hV(t)}function fV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dV(r.key),r)}}function dV(t){var e=function(t,e){if("object"!=hV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hV(e)?e:String(e)}var pV=function(){function t(e){var n=e.amount,r=e.totalPayout,i=e.deals;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._amount=n,this._totalPayout=r,this._deals=i}var e,n,r;return e=t,(n=[{key:"amount",get:function(){return this._amount}},{key:"totalPayout",get:function(){return this._totalPayout}},{key:"deals",get:function(){return this._deals}}])&&fV(e.prototype,n),r&&fV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),mV=pV;function yV(t){return yV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yV(t)}function vV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bV(r.key),r)}}function bV(t){var e=function(t,e){if("object"!=yV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yV(e)?e:String(e)}var gV=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e}var e,n,r;return e=t,(n=[{key:"profit",get:function(){return this._data.profit}},{key:"amount",get:function(){return this._data.amount}},{key:"profitString",get:function(){return"$".concat(Math.max(0,this.profit))}},{key:"totalPayout",get:function(){var t=this.profit-this.amount;return t<0?0:t}},{key:"status",get:function(){return this._data.status}}])&&vV(e.prototype,n),r&&vV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),wV=gV;function xV(t){return xV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xV(t)}function jV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OV(r.key),r)}}function OV(t){var e=function(t,e){if("object"!=xV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xV(e)?e:String(e)}var SV=function(){function t(e){var n=e.price,r=e.assetId,i=e.symbol,o=e.label,a=e.chartSlotIndex;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._price=n,this._assetId=r,this._symbol=i,this._label=o,this._chartSlotIndex=a}var e,n,r;return e=t,(n=[{key:"price",get:function(){return this._price}},{key:"assetId",get:function(){return this._assetId}},{key:"symbol",get:function(){return this._symbol}},{key:"label",get:function(){return this._label}},{key:"chartSlotIndex",get:function(){return this._chartSlotIndex}}])&&jV(e.prototype,n),r&&jV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _V(t){return _V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_V(t)}function TV(t){return function(t){if(Array.isArray(t))return AV(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return AV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AV(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PV(r.key),r)}}function PV(t){var e=function(t,e){if("object"!=_V(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_V(e)?e:String(e)}var CV=function(){function t(e){var n=e.to,r=e.position,i=e.chartSlotIndex,o=e.isMultiGraph,a=e.isMobile,s=void 0!==a&&a,c=e.symbolToLabel,l=void 0===c?{}:c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wrapper=new YG({to:n,position:r,isMultiGraph:o,isMobile:s}),this._tpl=new eV,this._chartSlotIndex=i,this._idOpenDeals={},this._idOpenDeals[this._chartSlotIndex]=new Set,this._symbolToLabel=l}var e,n,r;return e=t,n=[{key:"wrapper",get:function(){return this._wrapper}},{key:"successCancelOrderAdd",value:function(t){var e=this._tpl.successCancelOrderTemplate(t);this._wrapper.renderEle(e)}},{key:"failCancelOrderAdd",value:function(t){var e=this._tpl.failCancelOrderTemplate(t);this._wrapper.renderEle(e)}},{key:"successCopyOrderAdd",value:function(t){var e=t.id,n=t.openPrice;if(!this._idOpenDeals[this._chartSlotIndex].has(e)){this._idOpenDeals[this._chartSlotIndex].add(e);var r=(0,yt.tr)("deals.copy_order_success_label").replace("%s",n),i=this._tpl.successCopyOrderTemplate(r);this._wrapper.renderEle(i)}}},{key:"successOpenAdd",value:function(t){var e=t.id,n=t.command,r=t.asset,i=t.amount;if(!this._idOpenDeals[this._chartSlotIndex].has(e)){this._idOpenDeals[this._chartSlotIndex].add(e);var o=new oV({command:n,asset:this._symbolToLabel[r],amount:i}),a=this._tpl.createOpenSuccessTemplate(o);this._wrapper.renderEle(a)}}},{key:"_deleteDuplicates",value:function(t){var e=this,n=TV(t);return n.forEach((function(t,r){e._idOpenDeals[e._chartSlotIndex].has(t.id)||n.splice(r,1)})),n}},{key:"successCloseAdd",value:function(t){var e=this,n=t.asset,r=t.deals;if(0!==(r=this._deleteDuplicates(r)).length){r.forEach((function(t){var n=t.id;return e._idOpenDeals[e._chartSlotIndex].delete(n)}));var i=new uV({asset:this._symbolToLabel[n],deals:r}),o=this._tpl.createCloseSuccessTemplate(i);this._wrapper.renderEle(o)}}},{key:"successExpressOpenAdd",value:function(t){var e=t.amount,n=t.totalPayout,r=t.deals,i=new mV({amount:e,totalPayout:n,deals:r}),o=this._tpl.createOpenSuccessExpressTemplate(i);this._wrapper.renderEle(o)}},{key:"successExpressCloseAdd",value:function(t){var e=new wV(t),n=this._tpl.createCloseSuccessExpressTemplate(e);this._wrapper.renderEle(n)}},{key:"priceAlertTriggered",value:function(t){var e=t.price,n=t.assetId,r=t.symbol,i=t.label,o=new SV({price:e,assetId:n,symbol:r,label:i,chartSlotIndex:this._chartSlotIndex}),a=this._tpl.createPriceAlertTriggeredTemplate(o);this._wrapper.renderEle(a,5e3)}},{key:"failOpenAdd",value:function(t){var e=this._tpl.createFailOpenTemplate(t);this._wrapper.renderEle(e)}},{key:"failRollover",value:function(t){var e=this._tpl.createFailOpenTemplate(t);this._wrapper.renderEle(e)}},{key:"successOpenOnlyText",value:function(t){var e=this._tpl.createSuccessOpenOnlyTextTemplate(t);this._wrapper.renderEle(e)}}],n&&EV(e.prototype,n),r&&EV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),kV=CV;function NV(t){return NV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NV(t)}function IV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return RV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RV(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DV(r.key),r)}}function DV(t){var e=function(t,e){if("object"!=NV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=NV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==NV(e)?e:String(e)}var MV=function(){function t(e){var n=e.chartSlotIndex,r=e.socket,i=e.symbol,o=e.filterBySymbol,a=e.store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chartSlotIndex=n,this.socket=r,this.symbol=i,this.filterBySymbol=o,this.store=a,this.notify=this.createNotify(),this._dealsNotyStreamer=this.createDealNotify(),this.subscribed=[],this.eventManagerTokens=[]}var e,n,r;return e=t,n=[{key:"setOptions",value:function(t){var e=t.chartSlotIndex,n=t.filterBySymbol;e!==this.chartSlotIndex&&(this.chartSlotIndex=e,this.notify=this.createNotify(),this._dealsNotyStreamer=this.createDealNotify()),n!==this.filterBySymbol&&(this.filterBySymbol=n)}},{key:"createDealNotify",value:function(){var t=this.store.getState(),e=t.global,n=e.isMobile,r=e.windowLayout,i=Object.values((0,Cr.Y)(t)).reduce((function(t,e){return t[e.symbol]=e.label,t}),{});return new kV({to:".layout-container .chart-item:eq(".concat(this.chartSlotIndex-1,")"),position:XG,chartSlotIndex:this.chartSlotIndex,isMobile:n,isMultiGraph:"FULL"!==r,symbolToLabel:i})}},{key:"createNotify",value:function(){return new Rh({position:this.socket.isMobileVersion?Oh:Sh,to:".layout-container .chart-item:eq(".concat(this.chartSlotIndex-1,")")})}},{key:"changeListeningSymbol",value:function(t){this.symbol=t}},{key:"addSocketListener",value:function(t,e){var n=this.socket.addEventListener(t,e);this.subscribed.push([t,n])}},{key:"removeAllListeners",value:function(){var t=this;this.subscribed.forEach((function(e){var n=IV(e,2),r=n[0],i=n[1];return t.socket.removeEventListener(r,i)})),this.subscribed=[],this.removeEventManagerListeners()}},{key:"subscribe",value:function(){var t=this;this.addSocketListener("".concat(sa.Bf).concat(ya.N1),(function(e){return t.onSuccessOpenOrder(e)})),this.addSocketListener("".concat(sa.my).concat(ya.N1),(function(e){return t.onFailOpenOrder(e)})),this.addSocketListener("".concat(sa.Bf).concat(ya.Z5),(function(e){return t.onSuccessCloseOrder(e)})),this.addSocketListener("".concat(sa.Bf).concat(ya.Im),(function(e){return t.onSuccessCopyOrder(e)})),this.addSocketListener("".concat(sa.Bf).concat(ya.$9),(function(e){return t.onSuccessCancelOrder(e)})),this.addSocketListener("".concat(sa.my).concat(ya.$9),(function(e){return t.onFailCancelOrder(e)})),this.addSocketListener("".concat(sa.my).concat(ya.N_),(function(e){return t.onFailRollover(e)})),this.addEventManagerListener(Ha.zJ,(function(e,n){return t.onFailDrawingCreate(n)})),this.addEventManagerListener(Ha.e5,(function(e,n){return t.onFailIndicatorCreate(n)})),this.addEventManagerListener(Ha.cq,(function(e,n){return t.onPriceAlertTriggered(n)})),this.addEventManagerListener(Ha.lM,(function(e,n){return t.onPriceAlertFail(n)}))}},{key:"addEventManagerListener",value:function(t,e){var n=Re.A.subscribe(t,e);this.eventManagerTokens.push(n)}},{key:"removeEventManagerListeners",value:function(){this.eventManagerTokens.forEach((function(t){return Re.A.unsubscribe(t)})),this.eventManagerTokens=[]}},{key:"onPriceAlertTriggered",value:function(t){this._dealsNotyStreamer.priceAlertTriggered(t)}},{key:"onPriceAlertFail",value:function(t){"MAX_PRICE_ALERTS_PER_ASSET_REACHED"===t.error&&this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("price_alert.max_alerts_reached",t.maxCount))}},{key:"onSuccessOpenOrder",value:function(t){t.asset===this.symbol&&this._dealsNotyStreamer.successOpenAdd(t)}},{key:"showSuccessCloseOrderMessage",value:function(t,e){this._dealsNotyStreamer.successCloseAdd({asset:t,deals:e})}},{key:"onFailOpenOrder",value:function(t){var e=t.asset,n=t.amount,r=t.error;if(e===this.symbol)switch(r){case vs:return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.not_enough_funds"));case"CannotGetPrice":return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.cannot_get_price"));case"AccountNotFound":return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.account_not_found"));case"InvalidPayout":return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.invalid_payout"));case"IncorrectExpTime":return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.incorrect_exp_time"));case"UnexpectedError":return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.unexpected_error"));case"IncorrectMinAmount":return this._dealsNotyStreamer.failOpenAdd("".concat((0,yt.tr)("errors.min_amount")).concat(n));case"IncorrectMaxAmount":return this._dealsNotyStreamer.failOpenAdd("".concat((0,yt.tr)("errors.max_amount")).concat(n));case"InvalidOptionType":return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.bad_trade_type"));case"MaxDemoTrades":return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.max_trade_amount",n));case"TOO_MANY_OPEN_DEALS":return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.max_trade_amount_real",n))}}},{key:"onFailDrawingCreate",value:function(t){if(t.assetId){var e=Object.values((0,Cr.Y)(this.store.getState())).find((function(e){return e.id===t.assetId}));if(e&&e.symbol===this.symbol)return"LIMIT_EXCEED"===t.error?this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.max_drawings_amount",t.limit)):void 0}}},{key:"onFailIndicatorCreate",value:function(t){if("LIMIT_EXCEED"===t.error)return this._dealsNotyStreamer.failOpenAdd((0,yt.tr)("errors.max_indicators_amount",t.limit))}},{key:"onSuccessCloseOrder",value:function(t){var e=this,n=t.deals,r=HG()(n,(function(t){return t.asset}));this.filterBySymbol?void 0!==r[this.symbol]&&this.showSuccessCloseOrderMessage(this.symbol,r[this.symbol]):Object.keys(r).forEach((function(t){return e.showSuccessCloseOrderMessage(t,r[t])}))}},{key:"onSuccessCopyOrder",value:function(t){this.filterBySymbol&&t.asset!==this.symbol||this._dealsNotyStreamer.successCopyOrderAdd(t)}},{key:"onSuccessCancelOrder",value:function(t){var e=t.amount;t.asset===this.symbol&&this._dealsNotyStreamer.successCancelOrderAdd((0,yt.tr)("deals.cancel_order_success_label").replace("%s",e))}},{key:"onFailCancelOrder",value:function(t){var e=t.error;if(t.asset===this.symbol){var n="CancelDealHedged"===e?(0,yt.tr)("deals.cancel_order_error_hedged_label"):(0,yt.tr)("deals.cancel_order_error_label");this._dealsNotyStreamer.failCancelOrderAdd(n)}}},{key:"onFailRollover",value:function(t){var e=t.ticket;if(e){var n=this.store.getState();n.deals.openedIds[e]||n.deals.openedById[e].asset===this.symbol&&this._dealsNotyStreamer.failRollover((0,yt.tr)("deals.fail_rollover"))}}}],n&&LV(e.prototype,n),r&&LV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),BV=MV,HV=n(82398);function FV(t){return FV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FV(t)}function GV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function VV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GV(Object(n),!0).forEach((function(e){WV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function WV(t,e,n){return(e=zV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zV(r.key),r)}}function zV(t){var e=function(t,e){if("object"!=FV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=FV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==FV(e)?e:String(e)}function XV(t,e,n){return e=YV(e),function(t,e){if(e&&("object"===FV(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$V()?Reflect.construct(e,n||[],YV(t).constructor):e.apply(t,n))}function $V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($V=function(){return!!t})()}function YV(t){return YV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},YV(t)}function qV(t,e){return qV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qV(t,e)}var KV=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=XV(this,e,[t])).ws=hr.A.instance,n.wsSuccessCloseDealId=0,n.wsUpdateClosedSocialId=0,n.wsUpdateOpenedSocialId=0,n.wsOpenSocialDealId=0,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qV(t,e)}(e,t),n=e,r=[{key:"componentDidMount",value:function(){var t=this;this.wsSuccessCloseDealId=this.ws.addEventListener("".concat(sa.Bf).concat(ya.Z5),(function(e){return t.successCloseDeals(e)})),this.wsUpdateOpenedSocialId=this.ws.addEventListener(ya.nu,(function(e){return t.handleSocialDeals(e,!1)})),this.wsUpdateClosedSocialId=this.ws.addEventListener(ya.im,(function(e){t.handleSocialDeals(e,!0)})),this.wsOpenSocialDealId=this.ws.addEventListener(ya.jJ,(function(e){return t.handleSocialDeals([e],!1)}))}},{key:"componentWillUnmount",value:function(){this.ws.removeEventListener("".concat(sa.Bf).concat(ya.Z5),this.wsSuccessCloseDealId),this.ws.removeEventListener(ya.nu,this.wsUpdateOpenedSocialId),this.ws.removeEventListener(ya.im,this.wsUpdateClosedSocialId),this.ws.removeEventListener(ya.jJ,this.wsOpenSocialDealId)}},{key:"componentDidUpdate",value:function(t){this.changeEnabledSocial(t)}},{key:"changeEnabledSocial",value:function(t){var e=this.props,n=e.enabledSocialTrading,r=e.plot;n===t.enabledSocialTrading||n||r.setOptionsSocial([],!0)}},{key:"successCloseDeals",value:function(t){var e=this;if(this.props.plot){var n=t.deals.filter((function(t){return t.asset===e.props.symbol})).map((function(t){var e=t.asset,n=t.amount,r=t.profit,i=t.closeTimestamp,o=t.closeMs,a=t.closePrice;return{id:"".concat(e).concat(i),asset:e,amount:n,profit:r+n,time:parseFloat("".concat(i,".").concat((0,Jr.pJ)(o))),value:a,deal:t}})),r=HG()(n,(function(t){return t.id})),i=Object.keys(r).map((function(t){var e=0,n=0;r[t].forEach((function(t){var r=t.amount,i=t.profit;e+=r,n+=i}));var i=r[t][0],o=i.asset,a=i.time,s=i.value;return{asset:o,amount:parseFloat(e.toFixed(2)),profit:parseFloat(n.toFixed(2)),time:a,value:s,needToAnimate:!0,id:t,deals:r[t].map((function(t){return t.deal}))}}));i.length>0&&this.props.plot.setOptionsClosed(i)}}},{key:"handleSocialDeals",value:function(t,e){var n=this,r=this.props,i=r.enabledSocialTrading,o=r.plot;i&&o&&o.setOptionsSocial(t.map((function(t){return n.convertSocial(t)})),e)}},{key:"convertSocial",value:function(t){return VV(VV({},t),{},{isClosed:t.closePrice>0,value:t.openPrice,time:parseFloat("".concat(t.openTimestamp,".").concat((0,Jr.pJ)(t.openMs))),closeTime:t.closeTimestamp,text:(0,HV.b)(t.amount,this.props.currency),needToAnimate:!0,isCall:(0,qt.nT)(t.command),socialName:t.nickname,finished:!1,imageSrc:t.avatarUser})}},{key:"render",value:function(){return null}}],r&&UV(n.prototype,r),i&&UV(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent),ZV=mp((function(t){var e=t.global,n=e.currency,r=e.enabledSocialTrading,i=t.deals;return{enabledSocialTrading:r,currency:n,openedById:i.openedById,openedIds:i.openedIds}}),null,np)(KV),QV=n(33688);function JV(t){var e=t.wrapperClass,n=t.itemClass,r=t.divider,i=t.deal,o=t.price,a=(0,u.d4)(Cr.B),s=i.amount,c=i.command,l=i.openPrice,h=i.percentProfit,f=(0,qt.Jw)({amount:s,price:o,openPrice:l,isCall:(0,qt.nT)(c),percentProfit:h}),d=(0,qt.dm)({amount:s,price:o,openPrice:l,isCall:(0,qt.nT)(c),percentProfit:h});return(0,Ms.jsxs)("div",{className:(0,Ds.A)(e||null),children:[(0,Ms.jsxs)("div",{className:(0,Ds.A)(n||null),children:[(0,yt.tr)("deals.your_forecast"),":",r,(0,Ms.jsx)("span",{className:(0,Ds.A)("act",(0,qt.nT)(c)?"call":"put"),children:(0,qt.nT)(c)?(0,yt.tr)("hotkeys.higher"):(0,yt.tr)("hotkeys.lower")})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)(n||null),children:[(0,yt.tr)("deals.payout"),":",r,(0,Ms.jsx)("span",{className:(0,Ds.A)(d>0&&"price-up"),children:"".concat(a).concat((0,qn.xr)(d,2,!0))})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)(n||null),children:[(0,yt.tr)("deals.profit"),":",r,(0,Ms.jsx)("span",{className:(0,Ds.A)(f>0&&"price-up"),children:"".concat(f>0?"+":"").concat(a).concat((0,qn.xr)(Math.max(0,f),2,!0))})]})]})}function tW(t){var e=t.deal,n=e.copyUid,r=void 0===n?"":n,i=e.copyProfileName,o=void 0===i?"":i;return(0,Ms.jsxs)("div",{className:"price-info__copy-info",children:[(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("span",{className:"fa fa-copy"})," ",(0,yt.tr)("deals.success_copy_order")]}),(0,Ms.jsxs)("div",{children:[(0,yt.tr)("tournaments.trader_id"),":"," ",(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/ajax/modal/trader-information/".concat(r,"?t=copying-stats")),className:"mfp-ajax-modal",children:"".concat(r).concat(o?" (".concat(o,")"):"")})]})]})}function eW(t){var e=t.className,n=t.digits,r=t.openPrice;return(0,Ms.jsxs)("div",{className:e,children:[(0,yt.tr)("deals.open_price"),":",(0,Ms.jsx)("br",{}),(0,qn.xr)(r,n,!0)]})}function nW(t){var e=t.className,n=t.digits,r=t.price;return(0,Ms.jsxs)("div",{className:e,children:[(0,yt.tr)("deals.current_price"),":",(0,Ms.jsx)("br",{}),(0,qn.xr)(r,n,!0)]})}function rW(t){var e=t.pips;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,yt.tr)("deals.diff"),":",(0,Ms.jsx)("br",{}),"(",(0,Ms.jsx)("span",{className:(0,Ds.A)(e>0?"price-up":e<0?"price-down":""),children:e>0?"+".concat(e):e})," ",1===e?(0,yt.tr)("deals.pip"):(0,yt.tr)("deals.pips"),")"]})}function iW(t){var e=t.deal,n=t.price,r=(0,u.d4)((function(t){return(0,Vs.L5)(t)(e.asset)})),i=(0,u.d4)((function(t){return t.global.isMobile})),o=e.openPrice,a=e.copyTicket,s=(0,qt.Co)(o,n,r);return i?(0,Ms.jsxs)("div",{className:"forecast-mobile",children:[(0,Ms.jsx)(JV,{wrapperClass:"forecast-mobile__row",itemClass:"forecast-mobile__col",divider:(0,Ms.jsx)("br",{}),deal:e,price:n}),(0,Ms.jsxs)("div",{className:"forecast-mobile__row",children:[(0,Ms.jsx)(eW,{className:"forecast-mobile__col",openPrice:o,digits:r}),(0,Ms.jsx)("div",{className:"forecast-mobile__col",children:n>0&&(0,Ms.jsx)(rW,{pips:s})}),(0,Ms.jsx)(nW,{className:"forecast-mobile__col",price:n,digits:r})]}),a&&(0,Ms.jsx)(tW,{deal:e})]}):(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"forecast",children:(0,Ms.jsx)(JV,{divider:" ",deal:e,price:n})}),(0,Ms.jsxs)("div",{className:"price-info",children:[(0,Ms.jsxs)("div",{className:"price-info__prices",children:[(0,Ms.jsx)(eW,{className:"price-info__prices-item",openPrice:o,digits:r}),(0,Ms.jsx)(nW,{className:"price-info__prices-item",price:n,digits:r}),n>0&&(0,Ms.jsx)("div",{className:"price-info__prices-item difference",children:(0,Ms.jsx)(rW,{pips:s})})]}),a&&(0,Ms.jsx)(tW,{deal:e})]})]})}var oW=function(t){var e=t.currentTime,n=t.deal,i=t.price,o=(0,u.wA)(),a=(0,u.d4)(Cr.B),s=n.amount,c=n.isFast,l=n.isHedged,h=n.openTimestamp,f=n.closeTimestamp,d=n.copyTicket,p=f-e,m=ui(n),y=m.prefix,v=m.period,b=(0,qn.xr)((e-h)/(f-h)*100,2);(0,r.useEffect)((function(){d&&hr.A.instance.getSocialOpenDealInfo(d)}),[]);var g=function(t,e){var n=e.openTimestamp,r=e.closeTimestamp,i=e.percentProfit,o=i>100?100:i,a=de.Ay.CANCEL_PERCENT_LIST.find((function(t){return t.timeFrame===Kn(n,r)})),s=void 0===a?1:a.value,c=Math.ceil((t-n)/s);return o-de.Ay.CANCEL_PERCENT_DIFF-c}(e,n),w=f-e>=(c?de.Ay.CANCEL_HIDE_BTN_TIME_FAST:de.Ay.CANCEL_HIDE_BTN_TIME),x=!l&&e&&w&&g>=0?(g/100*s).toFixed(2):0;return(0,Ms.jsxs)("div",{className:"deals-list__item-full",children:[(0,Ms.jsxs)("div",{className:"time-info",children:[(0,Ms.jsxs)("div",{className:"timer",children:[(0,yt.tr)("expresses.open_time"),":",(0,Ms.jsx)("br",{}),bi(h)]}),(0,Ms.jsx)("div",{className:"timeframe",children:"".concat(y).concat(v)}),(0,Ms.jsxs)("div",{className:"timer",children:[(0,yt.tr)("deals.close_time"),":",(0,Ms.jsx)("br",{}),bi(f)]})]}),p>0&&(0,Ms.jsxs)("div",{className:"progress-info",children:[(0,Ms.jsx)("div",{className:"progress",children:(0,Ms.jsx)("div",{className:"progress-bar",style:{width:"".concat(b,"%")}})}),(0,Ms.jsxs)("div",{children:[(0,yt.tr)("deals.time_left"),": ",(0,Qr.TO)(p)]})]}),(0,Ms.jsx)(iW,{deal:n,price:i}),x>0&&(0,Ms.jsx)("div",{className:"cancel",children:(0,Ms.jsxs)("a",{className:"btn flex-centered flex-1 btn-cancel",onClick:function(t){var e;t.stopPropagation(),o((e=n.id,{type:Ht,payload:{ticket:e}}))},children:[(0,Ms.jsx)("i",{className:"fa fa-times"})," ",(0,yt.tr)("deals.get")," ",(0,Ms.jsx)("span",{className:"currency",children:a}),(0,Ms.jsx)("span",{className:"number",children:x})]})})]})};oW.propTypes={deal:Rc().object.isRequired,currentTime:Rc().number.isRequired,price:Rc().number.isRequired};var aW=oW,sW=function(t){var e,n,r=t.deal,i=t.handleSubmitRollover,o=(0,u.wA)(),a=(0,u.d4)(Cr.B),s=(0,qn.xr)(2*r.amount,2),c=r.closeTimestamp-r.openTimestamp,l=r.closeTimestamp+c,h=vi(r.closeTimestamp),f=vi(l);return h.day!==f.day?(e=Ei(f),n=Ei(h)):(e=Pi(f),n=Pi(h)),(0,Ms.jsx)("div",{className:"rollover-form",children:(0,Ms.jsxs)("div",{className:"vertical",children:[(0,Ms.jsxs)("div",{className:"rollover-info-block",children:[(0,Ms.jsxs)("div",{className:"rollover-info-block--text",children:[(0,Ms.jsx)("div",{className:"rollover-info-block__label",children:(0,yt.tr)("deals.amount")}),(0,Ms.jsxs)("div",{className:"horizontal flex-centered",children:[(0,Ms.jsxs)("div",{className:"rollover-info-block__value",children:[a,(0,qn.xr)(r.amount,2,!0)]}),(0,Ms.jsx)("div",{className:"rollover-info-block__value ",children:"→"}),(0,Ms.jsxs)("div",{className:"rollover-info-block__value rollover-info-block__value--up",children:[a,(0,qn.xr)(s,2,!0)]})]})]}),(0,Ms.jsxs)("div",{className:"rollover-info-block--text",children:[(0,Ms.jsx)("div",{className:"rollover-info-block__label",children:(0,yt.tr)("deals.close_time")}),(0,Ms.jsxs)("div",{className:"horizontal flex-centered",children:[(0,Ms.jsx)("div",{className:"rollover-info-block__value",children:n}),(0,Ms.jsx)("div",{className:"rollover-info-block__value",children:"→"}),(0,Ms.jsx)("div",{className:"rollover-info-block__value rollover-info-block__value--up",children:e})]})]})]}),(0,Ms.jsx)("div",{className:"action-buttons",children:(0,Ms.jsx)("a",{className:"btn btn-green-light flex-centered",onClick:function(){var t,e,n;o((t={ticket:r.id,amount:s},e=t.ticket,n=t.amount,function(t,r){r().deals.openedIds.includes(e)&&hr.A.instance.rolloverOrder({ticket:e,amount:n})})),i()},children:(0,yt.tr)("expresses.confirm")})})]})})},cW=(0,r.memo)(sW);function lW(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return uW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uW(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hW=function(t){var e=lW((0,r.useState)(t),2),n=e[0],i=e[1];return[n,function(){return i((function(t){return!t}))},function(t){return i(t)}]};function fW(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return dW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dW(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pW="ui/hover_double_up",mW="ui/leave_double_up",yW="ui/hover_rollover",vW="ui/leave_rollover";function bW(){return(0,Ms.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 305.002 305.002",children:[(0,Ms.jsx)("path",{d:"M152.502.001C68.412.001 0 68.412 0 152.501s68.412 152.5 152.502 152.5c84.089 0 152.5-68.411 152.5-152.5S236.591.001 152.502.001zm0 280C82.197 280.001 25 222.806 25 152.501c0-70.304 57.197-127.5 127.502-127.5 70.304 0 127.5 57.196 127.5 127.5 0 70.305-57.196 127.5-127.5 127.5z"}),(0,Ms.jsx)("path",{d:"m218.473 93.97-90.546 90.547-41.398-41.398c-4.882-4.881-12.796-4.881-17.678 0-4.881 4.882-4.881 12.796 0 17.678l50.237 50.237a12.465 12.465 0 0 0 8.839 3.661c3.199 0 6.398-1.221 8.839-3.661l99.385-99.385c4.881-4.882 4.881-12.796 0-17.678-4.882-4.882-12.797-4.882-17.678-.001z"})]})}var gW=function(t){var e=t.dealId,n=t.isMuted,i=t.handleExpandDeal,o=t.expandedDeal,a=t.isFirst,s=t.isLast,c=fW(hW(!1),3),l=c[0],h=c[1],f=c[2],d=fW((0,r.useState)(!1),2),p=d[0],m=d[1],y=fW((0,r.useState)(!1),2),v=y[0],b=y[1],g=fW(hW(!1),3),w=g[0],x=g[1],j=g[2],O=fW((0,r.useState)(!1),2),S=O[0],_=O[1],T=fW((0,r.useState)(!1),2),A=T[0],E=T[1],P=(0,r.useRef)(null),C=(0,u.wA)(),k=(0,u.d4)((function(t){return t.global.currentTime})),N=(0,u.d4)((function(t){return t.global.currency})),I=(0,u.d4)((function(t){return t.favorites.list})),R=(0,u.d4)((function(t){return(0,Fs.MN)(t)(e)})),L=(0,u.d4)((function(t){return(0,Vs.P7)(t)(R.asset)})),D=(0,u.d4)((function(t){return(0,Bd._r)(t)(R.asset)})),M=(0,u.d4)((function(t){return t.deals.openedIds.length})),B=(0,u.d4)((function(t){return(0,Fs.O9)(t)(R.id)})),H=(0,u.d4)((function(t){return(0,Fs.hg)(t)(R.id)})),F=(0,u.d4)((function(t){return(0,Fs.pA)(t)(R.id)})),G=(0,u.d4)((function(t){return(0,Fs.Um)(t)(R.id)})),V=H&&!A,W=R.amount,U=R.openPrice,z=R.percentProfit,X=R.closeTimestamp,$=R.command,Y=R.isNew,q=R.isClosed,K=R.copyTicket,Z=R.isRollover,Q=R.isCopySignal,J=X-k,tt=I.includes(R.asset),et=(0,qt.dm)({amount:W,price:D,openPrice:U,isCall:(0,QV.A)($),percentProfit:z}),nt=(0,qt.Jw)({amount:W,price:D,openPrice:U,isCall:(0,QV.A)($),percentProfit:z}),rt=(0,qn.xr)(Math.max(0,nt),2,!0),it=nt>0?"+":"",ot=(0,qn.xr)(et,2,!0),at=B||V;(0,r.useEffect)((function(){return!B&&p&&Re.A.publish(mW,R.id),function(){p&&Re.A.publish(mW,R.id)}}),[B]),(0,r.useEffect)((function(){return!V&&w&&j(!1),!V&&v&&Re.A.publish(vW,R.id),function(){V&&Re.A.publish(vW,R.id)}}),[V]),(0,r.useEffect)((function(){l||w?i(R.id):o===R.id&&i(0)}),[l,w]),(0,r.useEffect)((function(){(l||w)&&o!==R.id&&(j(!1),f(!1))}),[o]),(0,r.useEffect)((function(){st(!1),ct(!1)}),[M]),(0,r.useEffect)((function(){if(S)return P.current=setTimeout((function(){_(!1)}),800),function(){clearTimeout(P.current)}}),[S]),Dg((function(){R.isRollover&&_(!0)}),[R.isRollover]);var st=function(t){return function(){m(t),Re.A.publish(t?pW:mW,R.id)}},ct=function(t){return function(){b(t),Re.A.publish(t?yW:vW,R.id)}},lt=0;B&&((lt=F-k)>5||lt<0)&&(lt=0);var ut,ht=0;return V&&((ht=G-k)>5||ht<0)&&(ht=0),(0,Ms.jsxs)("div",{className:(0,Ds.A)("deals-list__item",n&&"deals-list__muted"),onClick:function(t){if(!S){if(w){var e=t.target.tagName.toLowerCase();if("input"===e||"a"===e)return;j(!1)}h()}},children:[(0,Ms.jsxs)("div",{className:(0,Ds.A)("animated",Y&&!q&&"fadeInDown",q&&"fadeOutUp",a&&"deals-list__item-first",s&&"deals-list__item-last",l&&"open-full-info"),children:[(0,Ms.jsxs)("div",{className:"item-row",children:[(0,Ms.jsxs)("div",{children:[(0,Ms.jsxs)("span",{className:(0,Ds.A)("favorites",tt&&"has-favorites"),children:[tt&&(0,Ms.jsx)("a",{onClick:(ut=R.asset,function(t){t.stopPropagation(),C((0,va.vn)(ut))}),children:(0,Ms.jsx)("i",{className:"fa fa-star"})}),!tt&&(0,Ms.jsx)("a",{onClick:function(t){return function(e){e.stopPropagation(),C((0,va.K)(t))}}(R.asset),children:(0,Ms.jsx)("i",{className:"fa fa-star-o"})})]}),(0,Ms.jsx)("a",{onClick:function(t){t.stopPropagation(),C((0,Bu.Kr)(R.asset))},children:L})," ",(0,Ms.jsxs)("span",{className:"price-up",children:["+",z,"%"]}),K&&(0,Ms.jsxs)(Ms.Fragment,{children:[" ",(0,Ms.jsx)("span",{className:"copied fa fa-copy"})]}),Z&&(0,Ms.jsxs)(Ms.Fragment,{children:[" ",(0,Ms.jsx)("span",{className:"fa fa-angle-double-right"})]}),Q&&(0,Ms.jsxs)(Ms.Fragment,{children:[" ",(0,Ms.jsx)(rl.A,{src:"/themes/cabinet/svg/icons/sidebar/signals.svg",className:"copySignal"})]})]}),(0,Ms.jsx)("div",{children:ci(J)})]}),(0,Ms.jsxs)("div",{className:"item-row",children:[(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("i",{className:(0,Ds.A)("fa",(0,QV.A)($)?"fa-arrow-up":"fa-arrow-down")}),"".concat(N).concat((0,qn.xr)(W,2,!0))]}),(0,Ms.jsx)("div",{className:(0,Ds.A)("centered",et>0&&"price-up"),children:"".concat(N).concat(ot)}),(0,Ms.jsx)("div",{className:(0,Ds.A)(nt>0&&"price-up"),children:"".concat(it).concat(N).concat(rt)})]}),at&&(0,Ms.jsxs)("div",{className:"cancel",children:[B&&(0,Ms.jsxs)("a",{className:(0,Ds.A)("btn flex-1 flex-centered btn-green-light btn-double-up crop-text",p&&"hovered"),onClick:function(t){var e,n;t.stopPropagation(),C((e={ticket:R.id,requestId:(0,qt.PP)(t)},n=e.ticket,function(t,e){e().deals.openedIds.includes(n)&&hr.A.instance.doubleUpOrder(n)}))},onMouseEnter:st(!0),onMouseLeave:st(!1),children:[(0,Ms.jsx)("i",{className:"fa fa-angle-double-up"}),(0,yt.tr)("deals.double_up"),lt>0&&(0,Ms.jsxs)("span",{className:"timer",children:[lt,(0,yt.tr)("s")]})]}),V&&(0,Ms.jsxs)("a",{className:(0,Ds.A)("btn flex-1 flex-centered btn-green-light btn-rollover crop-text",(v||w)&&"hovered"),onClick:function(t){t.stopPropagation(),l&&f(!1),x()},onMouseEnter:ct(!0),onMouseLeave:ct(!1),children:[(0,Ms.jsx)("i",{className:"fa fa-angle-double-right"})," ",(0,yt.tr)("deals.rollover"),ht>0&&(0,Ms.jsxs)("span",{className:"timer",children:[ht,(0,yt.tr)("s")]})]})]}),w&&(0,Ms.jsx)(cW,{deal:R,handleSubmitRollover:function(){j(!1),E(!0)}}),l&&(0,Ms.jsx)(aW,{deal:R,currentTime:k,price:D})]}),S&&(0,Ms.jsx)("div",{className:"rollover-overlay",children:(0,Ms.jsx)(bW,{})})]})},wW=(0,Md.Mz)([function(t){return t.priceAlerts}],(function(t){return function(e){return t.filter((function(t){return t.assetId===e}))}}));function xW(t){return xW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xW(t)}function jW(t){return function(t){if(Array.isArray(t))return _W(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||SW(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OW(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||SW(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SW(t,e){if(t){if("string"==typeof t)return _W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_W(t,e):void 0}}function _W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IW(r.key),r)}}function AW(t,e,n){return e=PW(e),function(t,e){if(e&&("object"===xW(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return CW(t)}(t,EW()?Reflect.construct(e,n||[],PW(t).constructor):e.apply(t,n))}function EW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(EW=function(){return!!t})()}function PW(t){return PW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},PW(t)}function CW(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kW(t,e){return kW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kW(t,e)}function NW(t,e,n){return(e=IW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=function(t,e){if("object"!=xW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xW(e)?e:String(e)}var RW=de.Ay.CHART,LW=RW.BOTTOM_PLOT_ELEMENT_PIXELS_EXPANDED,DW=RW.BOTTOM_PLOT_ELEMENT_PIXELS,MW=RW.BOTTOM_PLOT_ELEMENT_PIXELS_MOBILE,BW=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),NW(CW(n=AW(this,e,[t])),"subscribeToSignals",(function(){var t=n.props,e=t.chartSlotIndex,r=t.isAuthorized,i=t.infoIcons,o=t.isSignalsModalsOpened,a=t.subscribeSignals;1===e&&r&&(i.signal||o)&&a(!0)})),NW(CW(n),"onNewRegionRequest",(function(t,e,r,i){n.ws.loadRegion({asset:n.props.symbol,index:t,time:e,offset:r,period:i}),n.regionIndexesPending.push(t)})),NW(CW(n),"onZoomChanged",(function(){var t=(0,qn.xr)(n.plot.secondWidth,7),e=n.props;(0,e.changeChartZoom)({chartId:e.chartId,chartType:e.chartType,secondWidth:t})})),NW(CW(n),"onScrollToEndChanged",(function(t){return n.setState({scrollToEndVisible:!!t})})),NW(CW(n),"onVerticalScrollChanged",(function(t){return n.setState({verticalScroll:t})})),NW(CW(n),"onScrollToEndClick",(function(){return n.plot&&n.plot.handleScrollToEndClick()})),NW(CW(n),"onVerticalScrollResetClick",(function(){return n.plot&&n.plot.plotVerticalScroll.reset()})),NW(CW(n),"changeAssetToActive",(function(){var t=n.props,e=t.chartId,r=t.symbol;(0,t.changeAssetToActive)({chartId:e,symbol:r})})),NW(CW(n),"setChartSize",(function(){if(n.chartRef.current&&n.plot){var t=n.chartContainerRef.current,e=t.clientWidth,r=t.clientHeight;n.plot.setParams(e,r);var i=n.props,o=i.chartId;(0,i.changedChartSize)(o,{width:e,height:r})}})),n.state={loadedHistory:!1,scrollToEndVisible:!1,verticalScroll:0,totalBottomMargin:0},n.chartRef=(0,r.createRef)(),n.ws=hr.A.instance,n.onFrameToken=null,n.regionIndexesPending=[],n.plot=null,n.isZoomed=!1,n.wsUpdateQuotes=0,n.wsLoadHistory=0,n.wsUpdateHistory=0,n.wsSuccessAuth=0,n.chartContainerRef=(0,r.createRef)(),n.dealNotificationPlugin=new BV({chartSlotIndex:n.props.chartSlotIndex,socket:n.ws,symbol:n.props.symbol,filterBySymbol:1!==n.props.visibleChartIds.length,store:qi}),n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kW(t,e)}(e,t),n=e,i=[{key:"componentDidMount",value:function(){var t=this;this.subscribeToSignals(),this.wsUpdateQuotes=this.ws.addEventListener(ya.$S,(function(e){return t.updateQuotes(e)})),this.wsLoadHistory=this.ws.addEventListener(ya.z$,(function(e){return t.onRegionLoad(e)})),this.wsUpdateHistory=this.ws.addEventListener(ya.Rb,(function(e){return t.onHistoryLoad(e)})),this.wsSuccessAuth=this.ws.addEventListener(ya.gG,(function(e){return t.onSuccessAuthHandler(e)})),this.dealNotificationPlugin.subscribe(),this.createPlot(),Oa(),window.addEventListener("resize",this.setChartSize,!0),this.loadingIndicator=document.querySelector(".js-loading-container"),this.handleUIEvents()}},{key:"componentDidUpdate",value:function(t,e){this.changeAsset(t),this.changeGlobalSettings(t),this.changeChartType(t),this.changeChartPeriod(t),this.changeIndicators(t),this.changeDrawings(t),this.changeZoom(t),this.changeExpressDeals(t),this.changeOpenedDeals(t),this.changeGridSnap(t),this.changeVisibleChartsCount(t),this.changeShowArea(t),this.changeSelectedDrawingsIds(t),this.changeTotalBottomMargin(t),this.changePriceAlerts(t),this.triggerResizeOnPropChange(["windowLayoutBodyClassChanged","isRightWidgetContainerOpened","minimizedTradePanel"],t),this.handleLoadingIndicator(e)}},{key:"componentWillUnmount",value:function(){this.plot&&this.plot.forceDestroy(),window.removeEventListener("resize",this.setChartSize,!0),cancelAnimationFrame(this.onFrameToken),this.ws.removeEventListener(ya.$S,this.wsUpdateQuotes),this.ws.removeEventListener(ya.z$,this.wsLoadHistory),this.ws.removeEventListener(ya.Rb,this.wsUpdateHistory),this.ws.removeEventListener(ya.gG,this.wsSuccessAuth),this.dealNotificationPlugin.removeAllListeners(),Re.A.unsubscribe(this.hoverDoubleUpEventToken),Re.A.unsubscribe(this.leaveDoubleUpEventToken),Re.A.unsubscribe(this.hoverRolloverEventToken),Re.A.unsubscribe(this.leaveRolloverEventToken)}},{key:"handleUIEvents",value:function(){var t=this;this.hoverDoubleUpEventToken=Re.A.subscribe(pW,(function(e,n){t.plot&&t.plot.hasOptionWithId(n)&&t.plot.setHoveredDoubleUp(n)})),this.leaveDoubleUpEventToken=Re.A.subscribe(mW,(function(){t.plot&&t.plot.setHoveredDoubleUp(null)})),this.hoverRolloverEventToken=Re.A.subscribe(yW,(function(e,n){t.plot&&t.plot.hasOptionWithId(n)&&t.plot.setHoveredRollover(n)})),this.leaveRolloverEventToken=Re.A.subscribe(vW,(function(){t.plot&&t.plot.setHoveredRollover(null)}))}},{key:"handleLoadingIndicator",value:function(t){t.loadedHistory!==this.state.loadedHistory&&this.loadingIndicator&&(this.state.loadedHistory?this.loadingIndicator.classList.add("hide"):this.loadingIndicator.classList.remove("hide"))}},{key:"changeIndicators",value:function(t){t.allIndicators.length===this.props.allIndicators.length&&b()(t.allIndicators,this.props.allIndicators)||this.state.loadedHistory&&this.plot.changeIndicators(this.props.allIndicators)}},{key:"changeDrawings",value:function(t){t.drawings.length===this.props.drawings.length&&b()(t.drawings,this.props.drawings)||this.state.loadedHistory&&this.plot.changeDrawings(this.props.drawings)}},{key:"changeZoom",value:function(t){if((t.dateRangeMinutes!==this.props.dateRangeMinutes||t.dateRangeMinutesForce!==this.props.dateRangeMinutesForce&&this.props.dateRangeMinutesForce)&&this.plot.setDateRangeMinutes(this.props.dateRangeMinutes),t.zoomStatus!==this.props.zoomStatus){var e=this.props,n=e.zoomStatus,r=e.zoomButtonReady,i=e.chartId;if(n===p.Wu.CLICKED_PLUS||n===p.Wu.CLICKED_MINUS){var o=n===p.Wu.CLICKED_PLUS?1:-1;this.plot.zoom(this.plot.width/2,this.plot.height/2,o*de.Ay.CHART.ZOOM_BTN_FACTOR)}else n===p.Wu.RESTORE&&this.plot.restoreZoom();r({chartId:i})}}},{key:"changeExpressDeals",value:function(t){t.expressDeals.length===this.props.expressDeals.length&&b()(t.expressDeals,this.props.expressDeals)||this.plot.setExpressDeals(this.props.expressDeals)}},{key:"changeOpenedDeals",value:function(t){t.openedDeals.length===this.props.openedDeals.length&&b()(t.openedDeals,this.props.openedDeals)||this.plot.setOpenedDeals(this.props.openedDeals)}},{key:"triggerResizeOnPropChange",value:function(t,e){var n=this;t.some((function(t){return e[t]!==n.props[t]}))&&Oa()}},{key:"changeAsset",value:function(t){t.symbol!==this.props.symbol&&(this.dealNotificationPlugin.changeListeningSymbol(this.props.symbol),this.setState({loadedHistory:!1}),this.clearRegionIndexesPending(),this.plot.clear(),this.plot.destroyOptions(),this.plot.setOpenedDeals(this.props.openedDeals),this.plot.setDigit(this.props.digits),this.plot.setAssetId(this.props.id),this.plot.setExpressDeals(this.props.expressDeals))}},{key:"changeGlobalSettings",value:function(t){t.theme!==this.props.theme&&this.plot.setTheme(this.props.theme)}},{key:"changeChartType",value:function(t){var e=this.props.chartType;t.chartType!==e&&(this.clearRegionIndexesPending(),this.plot&&this.plot.setPlotType(e),this.zoomPlot())}},{key:"changeGridSnap",value:function(t){t.enabledGridSnap!==this.props.enabledGridSnap&&this.plot.onGridSnapChange()}},{key:"changeVisibleChartsCount",value:function(t){t.visibleChartIds.length!==this.props.visibleChartIds.length&&this.dealNotificationPlugin.setOptions({chartSlotIndex:this.props.chartSlotIndex,filterBySymbol:1!==this.props.visibleChartIds.length})}},{key:"changeShowArea",value:function(t){t.showArea!==this.props.showArea&&this.plot.onShowAreaChange(this.props.showArea)}},{key:"changeSelectedDrawingsIds",value:function(t){t.selectedDrawingsIds.length===this.props.selectedDrawingsIds.length&&b()(t.selectedDrawingsIds,this.props.selectedDrawingsIds)||this.plot.onChangeSelectedDrawingIds(this.props.selectedDrawingsIds)}},{key:"changeTotalBottomMargin",value:function(){var t=this.getTotalBottomMargin();t!==this.state.totalBottomMargin&&(this.setState({totalBottomMargin:t}),this.props.onTotalBottomMarginChange(t))}},{key:"changePriceAlerts",value:function(t){!this.props.isMobile&&t.priceAlerts.length===this.props.priceAlerts.length&&b()(t.priceAlerts,this.props.priceAlerts)||this.plot.onChangePriceAlerts(this.props.priceAlerts)}},{key:"changeChartPeriod",value:function(t){if(t.chartPeriod!==this.props.chartPeriod||t.chartType!==this.props.chartType){this.clearRegionIndexesPending(),this.plot.clear(),this.setState({loadedHistory:!1});var e=this.props,n=e.chartPeriod,r=e.symbol;this.ws.emitChangeSymbol({asset:r,chartPeriod:n}),this.plot.setPlotPeriod(this.props.chartPeriod)}}},{key:"updateQuotes",value:function(t){var e=this;if(!this.state.loadedHistory)return null;var n=t.filter((function(t){return t.asset===e.props.symbol&&e.isGoodPointValue(t.price)})).map((function(t){var e=t.time;return{value:t.price,time:e}}));n.length>0&&this.plot.addPoints(n)}},{key:"zoomPlot",value:function(){if(0!==this.plot.pointsManager.points.length){if(!(0,fe.v)()&&this.props.isMobile&&this.plot.width&&this.plot.height)this.plot.zoomToDefault();else{var t=this.props,e=t.chartType,n=t.zoom;this.plot.zoomToChartEnd(n[e])}this.isZoomed=!0}}},{key:"createPlot",value:function(){this.plot=new lB(this.props.chartId,qi),this.plot.setDigit(this.props.digits),this.plot.setAssetId(this.props.id),this.plot.setPlotType(this.props.chartType),this.plot.setPlotPeriod(this.props.chartPeriod),this.plot.setOpenedDeals(this.props.openedDeals),this.plot.setExpressDeals(this.props.expressDeals),this.isZoomed||this.zoomPlot(),this.setChartSize(),this.draw(),this.plot.addPlotEventListener(w.b1.NEW_REGION_REQUEST,this.onNewRegionRequest),this.plot.addPlotEventListener(w.b1.ZOOM_CHANGED,this.onZoomChanged),this.plot.addPlotEventListener(w.b1.SCROLL_TO_END_CHANGED,this.onScrollToEndChanged),this.plot.addPlotEventListener(w.b1.VERTICAL_SCROLL_CHANGED,this.onVerticalScrollChanged)}},{key:"draw",value:function(){var t=this;this.plot&&this.plot.render(Date.now()/1e3),this.onFrameToken=requestAnimationFrame((function(){t.draw(),1!==t.props.visibleChartIds.length&&t.props.chartId!==t.props.visibleChartIds[0]||t.ws.setLastRequestAnimationFrameTime()}))}},{key:"convertUpdateHistory",value:function(t){var e=t.period,n=t.history,r=t.candles,i=n,o=[];if(e>=60&&r.length>0){r.forEach((function(t){var n=OW(t,5),r=n[0],i=n[1],a=n[2],s=n[3],c=n[4];o.push([r,i]),o.push([r+1,s]),o.push([r+2,c]),o.push([r+e-1,a])}));var a=Math.max.apply(Math,jW(i.map((function(t){return OW(t,1)[0]})))),s=o.filter((function(t){return t[0]<a&&-1===i.findIndex((function(e){return e[0]===t[0]}))}));i=i.concat(s)}return i.map((function(t){var e=OW(t,2),n=e[0],r=e[1];return{value:parseFloat(r),time:parseFloat(n)}})).sort((function(t,e){return t.time-e.time}))}},{key:"onSuccessAuthHandler",value:function(){this.setState({loadedHistory:!1}),this.subscribeToSignals()}},{key:"onHistoryLoad",value:function(t){var e=t.asset,n=t.period;if(e!==this.props.symbol||n!==w.VJ[this.props.chartPeriod]||this.state.loadedHistory)return!1;this.setState({loadedHistory:!0});var r=this.convertUpdateHistory(t);this.clearRegionIndexesPending(),this.plot.clear(),this.plot.refresh(),this.plot.addPoints(r),this.plot.callPutButtonsManager.refresh(),this.isZoomed=!1,this.zoomPlot(),this.setChartSize(),this.plot.render(Date.now()/1e3)}},{key:"checkPendingRegion",value:function(t){return this.regionIndexesPending.some((function(e){return e===t}))}},{key:"removePendingRegion",value:function(t){this.regionIndexesPending=this.regionIndexesPending.filter((function(e){return e!==t}))}},{key:"clearRegionIndexesPending",value:function(){this.regionIndexesPending=[]}},{key:"onRegionLoad",value:function(t){var e=this,n=t.index,r=t.asset,i=t.period,o=t.data;if(r!==this.props.symbol||!this.checkPendingRegion(n))return!1;var a=i||1,s=[];if(a>1)o.forEach((function(t){var n=t.time,r=t.open,i=t.close,o=t.high,c=t.low;e.isGoodPointValue(r)&&s.push({time:n,value:r}),e.isGoodPointValue(o)&&s.push({time:n+1,value:o}),e.isGoodPointValue(c)&&s.push({time:n+2,value:c}),e.isGoodPointValue(i)&&s.push({time:n+a-1,value:i})}));else{if(this.plot.pointsManager.points.length>0&&(o.length>0&&o[0].time===this.plot.pointsManager.points[0].time||0===o.length)){var c=this.plot.regions.find((function(t){return t.index===n})),l=this.plot.pointsManager.points[0],u=l.time,h=l.value;if(c&&this.isGoodPointValue(h))for(var f=parseInt(c.time-c.offset,10),d=parseInt(u,10),p=f;p<=d;p++)s.push({time:p,value:h})}o.forEach((function(t){var n=t.time,r=t.price;e.isGoodPointValue(r)&&s.push({time:n,value:r})}))}s.length?(this.plot.addPoints(s),this.plot.render(Date.now()/1e3)):this.plot.disableLoadRegion(),this.plot.onRegionLoaded(n),this.removePendingRegion(n)}},{key:"isGoodPointValue",value:function(t){return Number.MAX_VALUE!==t&&Number.MIN_VALUE!==t&&Number.isFinite(t)}},{key:"getTotalBottomMargin",value:function(){if(!this.plot)return 0;var t=this.props,e=t.bottomIndicators;return t.isMobile?document.body.classList.contains("landscape")?0:e.length*MW+3:e.reduce((function(t,e){var n=e.expanded;return t+(void 0!==n&&n?LW:DW)}),0)}},{key:"render",value:function(){var t=this.state,e=t.scrollToEndVisible,n=t.verticalScroll,r=this.props,i=r.bottomIndicators,o=r.chartId,a=r.active,s=r.symbol,c=r.showHotkeysInfo,l=r.isOpenDrawingsPanel,u=r.selectedDrawings;return(0,Ms.jsxs)("div",{ref:this.chartRef,className:"chart",children:[(0,Ms.jsx)("span",{className:"separator"}),(0,Ms.jsx)(hB,{handler:this.onScrollToEndClick,visible:e}),(0,Ms.jsxs)("div",{ref:this.chartContainerRef,className:"chart-container",id:o,children:[i.length>0&&(0,Ms.jsx)(MG,{indicators:i}),(0,Ms.jsx)("canvas",{className:"layer plot"}),(0,Ms.jsx)(ZV,{plot:this.plot,symbol:s}),this.plot&&l&&u.length>0&&(0,Ms.jsx)(PF,{plotWidth:this.plot.width,plotHeight:this.plot.height,drawings:u})]}),this.plot&&c&&(0,Ms.jsx)(kF,{}),(0,Ms.jsx)("div",{className:"spotlight"}),(0,Ms.jsx)("div",{className:(0,Ds.A)("asset-inactive",!a&&"active"),children:(0,Ms.jsxs)("span",{children:[(0,yt.tr)("chart_settings.symbol_unavailable")," ",(0,Ms.jsx)("a",{onClick:this.changeAssetToActive,children:(0,yt.tr)("chart_settings.click_to_reload")}),"."]})}),n>0&&(0,Ms.jsxs)("div",{onClick:this.onVerticalScrollResetClick,className:"plot-vertical-scroll-btn show",children:[(0,Ms.jsx)("i",{className:"fa fa-angle-down"}),(0,Ms.jsx)("i",{className:"fa fa-angle-up"})]})]})}}],i&&TW(n.prototype,i),o&&TW(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),HW=mp((function(t,e,n){var r,i=mE(n),o=(r=n,(0,Md.Mz)([lE,hE],(function(t,e){return e.filter((function(e){var n=t[e],i=n.chartId,o=n.type;return i===r&&Yv(o)})).map((function(e){return t[e]}))}))),a=yE(n),s=(0,Md.Mz)([Wd,Vd,$d],(function(t,e,n){return t.filter((function(t){return e[t].asset===n})).map((function(t){return e[t]}))})),c=(0,Cr.d8)(n),l=function(t){return(0,Md.Mz)([uE,dE],(function(e,n){return function(r){return n.filter((function(n){return e[n].chartId===t&&r===e[n].assetId})).map((function(t){return e[t]}))}}))}(n);return function(t){var e=t.chartSettings.chartById[n],r=e.zoomStatus,u=e.zoom,h=e.chartType,f=e.chartPeriod,d=e.symbol,p=e.enabledAutoscroll,m=e.minimizedTradePanel,y=e.enabledGridSnap,v=e.dateRangeMinutes,b=e.dateRangeMinutesForce,g=e.showArea,w=t.global,x=w.windowLayout,j=w.isMobile,O=w.windowLayoutBodyClassChanged,S=w.theme,_=w.enabledHotKeys,T=w.hideHotkeysInfo,A=w.enabledTooltipMessage,E=w.isAuthorized,P=w.infoIcons,C=(0,Vs.E_)(t)(n),k=C.active,N=C.digits,I=C.id,R=t.chartSettings.visibleChartIds,L=wW(t)(I);return{visibleChartIds:R,allIndicators:i(t),bottomIndicators:o(t),drawings:a(t)(I),selectedDrawings:l(t)(I),windowLayout:x,chartId:n,isMobile:j,windowLayoutBodyClassChanged:O,symbol:d,theme:S,active:k,digits:N,id:I,zoomStatus:r,zoom:u,chartType:h,chartPeriod:f,expressDeals:s(t,{symbol:d}),isRightWidgetContainerOpened:Zd(t),showHotkeysInfo:!j&&_&&!T&&1===R.length,enabledAutoscroll:p,minimizedTradePanel:m,showTooltip:!j&&A,enabledGridSnap:y,isRightPanel:c(t),dateRangeMinutes:v,dateRangeMinutesForce:b,showArea:g,selectedDrawingsIds:t.drawings.selectedIds,isAuthorized:E,infoIcons:P,isSignalsModalsOpened:t.modals.states[me.lx.SIGNALS_WIDGET],isOpenDrawingsPanel:t.modals.states[me.lx.DRAWING_SETTINGS_PANEL]===n,openedDeals:(0,Fs.uL)(t)(d),priceAlerts:L}}}),{changeAssetToActive:Bu.u_,changeChartZoom:Bu.YZ,zoomButtonReady:Bu.LT,changeTradePanelMinimized:Bu.pH,changedChartSize:Bu.Ub,subscribeSignals:ja.uc},np)(BW),FW=function(){var t=(0,u.d4)((function(t){return t.global.enabledSocialTrading})),e=(0,u.wA)(),n=(0,r.useCallback)((function(n){n.stopPropagation(),Re.A.publish(ga),e((0,ba.Dx)(!t))}),[t]);return(0,Ms.jsxs)(wm,{className:(0,Ds.A)("items__link items__link--social",t&&"active"),onClick:n,TooltipComponent:function(){return(0,Ms.jsx)(Gc,{position:"down",text:"chart_settings.social_trading"})},children:[(0,Ms.jsx)("i",{className:"items__fa fa fa-users"}),t&&(0,Ms.jsx)(qc,{icon:(0,Ms.jsx)("i",{className:"fa fa-check"})})]})},GW=mp((function(t,e,n){return{chartId:n,enabledMarketWatch:t.chartSettings.chartById[n].enabledMarketWatch}}),{changeMarketWatch:Bu.Ih},np)((function(t){var e=t.enabledMarketWatch,n=t.chartId,r=t.changeMarketWatch;return(0,Ms.jsxs)(wm,{className:(0,Ds.A)("items__link items__link--market-watch",e&&"active"),onClick:function(t){t.stopPropagation(),Re.A.publish(ga),r({chartId:n,value:!e})},TooltipComponent:function(){return(0,Ms.jsx)(Vc,{position:"down",text:"chart_settings.market_watch"})},children:[(0,Ms.jsx)("i",{className:"items__fa fa fa-thermometer-three-quarters"}),e&&(0,Ms.jsx)(qc,{icon:(0,Ms.jsx)("i",{className:"fa fa-check"})})]})})),VW=function(){var t=(0,u.wA)(),e=(0,u.d4)(qm);return(0,Ms.jsxs)(wm,{className:(0,Ds.A)("items__link items__link--rating-widget",e&&"active"),onClick:function(n){n.stopPropagation(),Re.A.publish(ga),t(Xm(!e))},TooltipComponent:function(){return(0,Ms.jsx)(Vc,{position:"down",text:"chart_settings.rating"})},children:[(0,Ms.jsx)("i",{className:"items__fa fa fa-list-ol"}),e&&(0,Ms.jsx)(qc,{icon:(0,Ms.jsx)("i",{className:"fa fa-check"})})]})},WW=function(t){var e=t.position,n=(0,r.useContext)(np),i=(0,u.wA)();return(0,Ms.jsx)(wm,{className:"items__link items__link--zoom",onClick:function(t){t.stopPropagation(),Re.A.publish(ga),i((0,Bu.fA)({chartId:n,action:p.Wu.CLICKED_PLUS}))},TooltipComponent:function(){return(0,Ms.jsx)(Vc,{position:e,text:"chart_settings.zoom_plus"})},children:(0,Ms.jsx)("i",{className:"items__fa fa fa-search-plus"})})};WW.propTypes={position:Rc().oneOf(["top","down"])};var UW=WW,zW=function(t){var e=t.position,n=(0,r.useContext)(np),i=(0,u.wA)();return(0,Ms.jsx)(wm,{className:"items__link items__link--zoom",onClick:function(t){t.stopPropagation(),Re.A.publish(ga),i((0,Bu.fA)({chartId:n,action:p.Wu.CLICKED_MINUS}))},TooltipComponent:function(){return(0,Ms.jsx)(Vc,{position:e,text:"chart_settings.zoom_minus"})},children:(0,Ms.jsx)("i",{className:"items__fa fa fa-search-minus"})})};zW.propTypes={position:Rc().oneOf(["top","down"])};var XW=zW,$W=function(){var t=(0,r.useContext)(np),e=(0,u.wA)();return(0,Ms.jsx)(wm,{className:"items__link",onClick:function(){Re.A.publish(ga),e((0,Bu.RL)(t))},TooltipComponent:function(){return(0,Ms.jsx)(Vc,{position:"down",text:"chart_settings.hide_chart_tooltip"})},children:(0,Ms.jsx)("i",{className:"items__fa fa fa-times"})})},YW=mp((function(t,e,n){return{chartId:n,minimizedTradePanel:t.chartSettings.chartById[n].minimizedTradePanel}}),null,np)((function(t){var e=t.chartId,n=t.minimizedTradePanel,r=(0,u.wA)();return(0,Ms.jsxs)(wm,{onClick:function(t){t.stopPropagation(),Re.A.publish(ga),r((0,Bu.pH)(e,!n))},className:(0,Ds.A)("items__link items__link--toggle-panel",!n&&"active"),TooltipComponent:function(){return(0,Ms.jsx)(Vc,{position:"down",text:n?"control_panel.trade_panel_max":"control_panel.trade_panel_min"})},children:[(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/svg/icons/toggle-panel.svg"}),!n&&(0,Ms.jsx)(qc,{icon:(0,Ms.jsx)("i",{className:"fa fa-check"})})]})})),qW=function(t){var e=t.isOpen,n=t.onClick;return(0,Ms.jsx)("a",{className:"items__link items__link--dots",onClick:n,children:(0,Ms.jsx)("i",{className:(0,Ds.A)("items__fa fa",e?"fa-ellipsis-v":"fa-ellipsis-h")})})},KW=function(t,e){return!(0,g.Mt)(t)&&w.$t[e]},ZW=(0,r.forwardRef)((function(t,e){var n=t.handleClick,i=t.isOpened,o=(0,r.useContext)(np),a=(0,u.d4)((function(t){return t.chartSettings.chartById[o].chartType})),s=(0,u.d4)((function(t){return t.chartSettings.chartById[o].chartPeriod}));return(0,Ms.jsxs)(wm,{className:(0,Ds.A)("items__link items__link--chart-type",i&&"active"),ref:e,onClick:n,TooltipComponent:function(){return(0,Ms.jsxs)(Gc,{position:"down",children:[(0,yt.tr)("chart_settings.chart_type"),": ",w.U6[a],KW(a,s)&&(0,Ms.jsxs)("p",{children:[(0,yt.tr)("chart_settings.timeframe"),": ",w.$t[s]]})]})},children:[(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/svg/icons/chart-types/".concat(w.ab[a],".svg"),className:"svg-wrapper"}),KW(a,s)&&(0,Ms.jsx)(qc,{icon:w.$t[s]})]})})),QW=(0,r.forwardRef)((function(t,e){var n=t.count,r=t.handleClick,i=t.isOpened,o=(0,u.d4)((function(t){return t.global.isMobile}));return(0,Ms.jsxs)(wm,{ref:e,className:(0,Ds.A)("block1__item items__link items__link--indicators",i&&"active"),onClick:r,TooltipComponent:function(){return!o&&(0,Ms.jsx)(Vc,{position:"down",text:"chart_settings.indicators"})},children:[(0,Ms.jsx)("i",{className:"items__fa fa fa-sliders"}),n>0&&(0,Ms.jsx)(qc,{count:n})]})})),JW=(0,r.forwardRef)((function(t,e){var n=t.count,r=t.handleClick,i=t.isOpened,o=(0,u.d4)((function(t){return t.global.isMobile}));return(0,Ms.jsxs)(wm,{ref:e,className:(0,Ds.A)("block1__item items__link items__link--drawings",i&&"active"),onClick:r,TooltipComponent:function(){return!o&&(0,Ms.jsx)(Vc,{position:"down",text:"chart_settings.drawings"})},children:[(0,Ms.jsx)("i",{className:"items__fa fa fa-paint-brush"}),n>0&&(0,Ms.jsx)(qc,{count:n})]})})),tU=function(t){var e=t.isEnabled,n=t.handleChange;return(0,Ms.jsx)("div",{className:"settings-row",children:(0,Ms.jsx)(Ef,{checked:e,onChange:n,children:(0,yt.tr)("chart_settings.timer_on")})})};tU.propTypes={isEnabled:Rc().bool.isRequired,handleChange:Rc().func.isRequired};var eU=tU,nU=function(t){var e=t.isEnabled,n=t.handleChange;return(0,Ms.jsx)("div",{className:"settings-row",children:(0,Ms.jsx)(Ef,{checked:e,onChange:n,children:(0,yt.tr)("chart_settings.enable_scroll")})})};nU.propTypes={isEnabled:Rc().bool.isRequired,handleChange:Rc().func.isRequired};var rU=nU,iU=function(t){var e=t.isEnabled,n=t.handleChange;return(0,Ms.jsx)("div",{className:"settings-row",children:(0,Ms.jsx)(Ef,{checked:e,onChange:n,children:(0,yt.tr)("chart_settings.enable_grid_snap")})})};iU.propTypes={isEnabled:Rc().bool.isRequired,handleChange:Rc().func.isRequired};var oU=iU,aU=n(61738),sU=function(t){var e=t.color,n=t.setColor,i=(0,r.useRef)(null),o=(0,r.useRef)(null),a=(0,r.useRef)(null);return(0,r.useEffect)((function(){return a.current=new aU.A({parent:o.current,color:"#".concat(e),popup:!1,alpha:!1,editor:!1,onChange:br()((function(t){return n(t.hex.substring(1,7))}),100)}),function(){var t;null===(t=a.current)||void 0===t||t.destroy(),a.current=null}}),[]),(0,r.useEffect)((function(){null!==i.current&&(i.current.style.background="#".concat(e))}),[e]),(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"line",ref:i}),(0,Ms.jsx)("div",{ref:o})]})};sU.propTypes={color:Rc().string.isRequired,setColor:Rc().func.isRequired};var cU=sU,lU=function(t){var e=t.value,n=t.items,r=t.onChange;return(0,Ms.jsxs)("div",{className:"simple-dropdown",children:[(0,Ms.jsx)("select",{className:"form-control",onChange:r,value:e,children:Object.keys(n).map((function(t){return(0,Ms.jsx)("option",{value:n[t],children:(0,yt.tr)("chart_settings.shadow_style_".concat(n[t]))},t)}))}),(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 11 7",children:(0,Ms.jsx)("path",{stroke:"currentColor",strokeWidth:"1.3",d:"M.5 1.5l5 4 5-4"})})]})};function uU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return hU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hU(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fU=function(){var t=(0,u.d4)((function(t){return t.global.shadowStyle})),e=uU((0,r.useState)(t),2),n=e[0],i=e[1],o=(0,u.wA)();return(0,r.useEffect)((function(){o((0,ba.xt)([{field:"shadowStyle",value:n}]))}),[n]),(0,Ms.jsx)(Ms.Fragment,{children:(0,Ms.jsx)(lU,{items:w.QJ,value:n,onChange:function(t){i(t.currentTarget.value)}})})},dU=["shadowStyle","candleUpColor","candleDownColor"],pU=function(t){var e=t.onRequestClose,n=t.values,r=t.initialData,i=(0,u.wA)(),o=function(t){return function(e){return i((0,ba.xt)([{field:t,value:e}]))}};return(0,Ms.jsxs)("div",{className:"po-modal custom-candles-colors",children:[(0,Ms.jsx)("div",{className:"title",children:(0,yt.tr)("chart_settings.custom_colors")}),(0,Ms.jsxs)("table",{className:"table",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"30%"}}),(0,Ms.jsx)("col",{style:{width:"70%"}})]}),(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("chart_settings.uptrend_color")}),(0,Ms.jsx)("td",{children:(0,Ms.jsx)(cU,{color:n.candleUpColor,setColor:o("candleUpColor")})})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("chart_settings.downtrend_color")}),(0,Ms.jsx)("td",{children:(0,Ms.jsx)(cU,{color:n.candleDownColor,setColor:o("candleDownColor")})})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("chart_settings.shadow_style")}),(0,Ms.jsx)("td",{children:(0,Ms.jsx)(fU,{})})]})]})]}),(0,Ms.jsxs)("div",{className:"btn-wrap",children:[(0,Ms.jsx)("a",{onClick:function(){var t=[];dU.forEach((function(e){n[e]!==r.current[e]&&t.push({field:e,value:n[e]})})),t.length>0&&i((0,ba.Ii)(t)),e()},className:"btn btn-green-light",children:(0,yt.tr)("apply")}),(0,Ms.jsx)("a",{onClick:function(){i((0,ba.Ii)([{field:"candleUpColor",value:de.Ay.CHART.CANDLE_COLOR.up},{field:"candleDownColor",value:de.Ay.CHART.CANDLE_COLOR.down}])),e()},className:"btn btn-primary",children:(0,yt.tr)("chart_settings.default_colors")})]}),(0,Ms.jsx)("a",{className:"modal-close",onClick:e,children:(0,Ms.jsx)("svg",{className:"svg-icon modal-close-icon",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ms.jsx)("path",{opacity:"0.5",d:"M10.3432 7.5L14.6075 3.23565C15.1308 2.71236 15.1308 1.86392 14.6075 1.3402L13.6598 0.392472C13.1365 -0.130824 12.2881 -0.130824 11.7643 0.392472L7.5 4.65682L3.23565 0.392472C2.71236 -0.130824 1.86392 -0.130824 1.3402 0.392472L0.392472 1.3402C-0.130824 1.86349 -0.130824 2.71193 0.392472 3.23565L4.65682 7.5L0.392472 11.7643C-0.130824 12.2876 -0.130824 13.1361 0.392472 13.6598L1.3402 14.6075C1.86349 15.1308 2.71236 15.1308 3.23565 14.6075L7.5 10.3432L11.7643 14.6075C12.2876 15.1308 13.1365 15.1308 13.6598 14.6075L14.6075 13.6598C15.1308 13.1365 15.1308 12.2881 14.6075 11.7643L10.3432 7.5Z"})})})]})},mU=function(t){var e=t.isOpen,n=t.onRequestClose,i={};i.candleUpColor=(0,u.d4)((function(t){return t.global.candleUpColor})),i.candleDownColor=(0,u.d4)((function(t){return t.global.candleDownColor})),i.shadowStyle=(0,u.d4)((function(t){return t.global.shadowStyle}));var o=(0,u.wA)(),a=(0,r.useRef)(i);return(0,Ms.jsx)(vd,{isOpen:e,showCloseButton:!1,onRequestClose:function(){var t=dU.map((function(t){return{field:t,value:a.current[t]}}));o((0,ba.xt)(t)),n()},children:(0,Ms.jsx)(pU,{onRequestClose:n,values:i,initialData:a})})},yU=function(t){var e=t.isEnabled,n=t.handleChange;return(0,Ms.jsx)("div",{className:"settings-row",children:(0,Ms.jsx)(Ef,{checked:e,onChange:n,children:(0,yt.tr)("chart_settings.show_area")})})};yU.propTypes={isEnabled:Rc().bool.isRequired,handleChange:Rc().func.isRequired};var vU=yU;function bU(t){return bU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bU(t)}var gU=["openerNode","onRequestClose"];function wU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return xU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xU(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function OU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jU(Object(n),!0).forEach((function(e){SU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function SU(t,e,n){var r;return r=function(t,e){if("object"!=bU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==bU(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _U(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var TU=function(t){var e=t.openerNode,n=t.onRequestClose,i=_U(t,gU),o=zp(e),a=(0,r.useRef)(),s=(0,r.useContext)(np);return(0,Ms.jsx)(Df.A,{component:null,appear:!0,children:(0,Ms.jsx)(Mf.A,{timeout:1,nodeRef:a,classNames:"drop-down-modal-wrap",children:(0,Ms.jsx)("div",{ref:a,className:"drop-down-modal-wrap",children:(0,Ms.jsx)(od,OU({onClickOutside:n,className:"drop-down-modal drop-down-modal--chart-type",style:o,shouldCapture:!0,chartId:s},i))})})})},AU=Pl((function(t){var e=t.onRequestClose,n=t.openerNode,i=wU((0,r.useState)(!1),2),o=i[0],a=i[1],s=(0,u.wA)(),c=(0,r.useContext)(np),l=(0,u.d4)((function(t){return t.chartSettings.chartById[c].candlesTimer})),h=(0,u.d4)((function(t){return t.chartSettings.chartById[c].showArea})),f=(0,u.d4)((function(t){return t.chartSettings.chartById[c].enabledAutoscroll})),d=(0,u.d4)((function(t){return t.chartSettings.chartById[c].enabledGridSnap})),p=(0,u.d4)((function(t){return t.chartSettings.chartById[c].chartType})),m=(0,u.d4)((function(t){return t.chartSettings.chartById[c].chartPeriod})),y=(0,u.d4)((function(t){return t.global.isMobile})),v=function(t){return function(){return s((0,va.PC)({chartType:t,chartId:c}))}},b=function(t){return function(){return s((0,va.eh)({chartPeriod:t,chartId:c}))}},x=Object.values(M()(w.YE,["S1"])),j=!(0,g.Mt)(p);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)(TU,{onRequestClose:function(t){return!o&&e(t)},openerNode:n,children:[(0,Ms.jsxs)("div",{className:"chart-list-block",children:[(0,Ms.jsx)("div",{className:"chart-list-block__title",children:(0,yt.tr)("chart_settings.chart_types")}),(0,Ms.jsx)("ul",{className:"list-links color-blue",children:Object.keys(w.M).map((function(t){return(0,Ms.jsx)("li",{className:(0,Ds.A)(w.M[t]===p&&"active"),children:(0,Ms.jsxs)("a",{onClick:v(w.M[t]),children:[(0,Ms.jsx)(Gs.k,{src:(e=w.ab[w.M[t]],"/themes/cabinet/svg/icons/chart-types/".concat(e,".svg")),className:"svg-icon-wrapper"}),(0,Ms.jsx)("span",{children:w.U6[w.M[t]]})]})},w.M[t]);var e}))})]}),j&&(0,Ms.jsxs)("div",{className:"time-frames-block",children:[(0,Ms.jsx)("div",{className:"time-frames-block__title",children:(0,yt.tr)("chart_settings.time_frames")}),(0,Ms.jsx)("ul",{className:"list-links color-blue",children:x.map((function(t){return(0,Ms.jsx)("li",{className:(0,Ds.A)(t===m&&"active"),children:(0,Ms.jsx)("a",{onClick:b(t),children:(0,Ms.jsx)("span",{children:w.$t[t]})})},t)}))})]}),(0,Ms.jsxs)("div",{className:"settings-block",children:[(0,Ms.jsxs)("div",{className:"settings-block__header",children:[(0,Ms.jsx)("div",{className:"settings-block__title",children:(0,yt.tr)("chart_settings.settings")}),j&&(0,Ms.jsx)("a",{onClick:function(){return a(!0)},children:(0,yt.tr)("chart_settings.candle_colors")})]}),(0,Ms.jsxs)("div",{className:"settings-block__in",children:[!j&&(0,Ms.jsx)(vU,{isEnabled:h,handleChange:function(t){return s((0,Bu.vh)(c,!!t.target.checked))}}),j&&(0,Ms.jsx)(eU,{isEnabled:l,handleChange:function(t){return s((0,va.Cj)(c,!!t.target.checked))}}),(0,Ms.jsx)(rU,{isEnabled:f,handleChange:function(t){return s((0,Bu.Jx)(c,!!t.target.checked))}}),j&&!y&&(0,Ms.jsx)(oU,{isEnabled:d,handleChange:function(t){return s((0,Bu.ZC)(c,!!t.target.checked))}})]})]})]}),(0,Ms.jsx)(mU,{isOpen:o,onRequestClose:function(){return a(!1)}})]})})),EU="favorites",PU="all",CU="current",kU=function(t){var e=t.favoriteIndicatorsCount,n=t.indicatorsCount,r=t.tab,i=t.setTab,o=function(t){return function(){Re.A.publish(ga),i(t)}};return(0,Ms.jsxs)("ul",{className:"tab-nav",children:[e>0&&(0,Ms.jsx)("li",{className:(0,Ds.A)("favorites",r===EU&&"active"),children:(0,Ms.jsxs)("a",{onClick:o(EU),children:[(0,Ms.jsx)("i",{className:"fa fa-star"})," ",(0,yt.tr)("assets.fav")]})}),n>0&&(0,Ms.jsx)("li",{className:(0,Ds.A)(r===CU&&"active"),children:(0,Ms.jsx)("a",{onClick:o(CU),children:(0,Ms.jsx)("span",{children:(0,yt.tr)("indicators.current")})})}),(e>0||n>0)&&(0,Ms.jsx)("li",{className:(0,Ds.A)(r===PU&&"active"),children:(0,Ms.jsx)("a",{onClick:o(PU),children:(0,Ms.jsx)("span",{children:(0,yt.tr)("indicators.all_ind")})})})]})};function NU(t){return NU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NU(t)}function IU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function RU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IU(Object(n),!0).forEach((function(e){LU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function LU(t,e,n){var r;return r=function(t,e){if("object"!=NU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=NU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==NU(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DU=mp((function(t,e,n){return{chartId:n,favoriteIndicators:t.indicators.favorites}}),{indicatorAdd:SB,indicatorFavorite:EB,indicatorUnfavorite:PB},np)((function(t){var e=t.tab,n=t.indicatorAdd,r=t.chartId,i=t.favoriteIndicators,o=t.indicatorFavorite,a=t.indicatorUnfavorite,s=function(t){return function(){Re.A.publish(ga);var e=Xv[t];n(RU(RU({},e.config),{},{chartId:r,type:t}))}},c=function(t){return function(){o(t),Re.A.publish(ga)}},l=function(t){return function(){a(t),Re.A.publish(ga)}},u=e===PU?Object.keys(Xv):i;return(0,Ms.jsx)(ku,{className:"tab-body",children:(0,Ms.jsx)("div",{className:"".concat(e,"-block tab-body-block"),children:(0,Ms.jsx)("div",{className:"".concat(e," indicators-list"),children:u.map((function(t){var e=i.includes(t);return(0,Ms.jsxs)("div",{className:(0,Ds.A)("list-item",e&&"has-favorites"),children:[e&&(0,Ms.jsx)("a",{onClick:l(t),className:"fav",children:(0,Ms.jsx)("i",{className:"fa fa-star del"})}),!e&&(0,Ms.jsx)("a",{onClick:c(t),className:"fav",children:(0,Ms.jsx)("i",{className:"fa fa-star-o add"})}),(0,Ms.jsx)("a",{className:"list-item-block crop-text",onClick:s(t),children:(0,Ms.jsx)("span",{className:"asset-label",children:(0,yt.tr)("indicators.".concat(t))})})]},t)}))})})})}));function MU(t){return MU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MU(t)}var BU=["width","height"];function HU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HU(Object(n),!0).forEach((function(e){GU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function GU(t,e,n){var r;return r=function(t,e){if("object"!=MU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=MU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==MU(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var WU=function(t){var e=t.width,n=void 0===e?16:e,r=t.height,i=void 0===r?16:r,o=VU(t,BU);return(0,Ms.jsx)("div",FU(FU({},o),{},{children:(0,Ms.jsx)("svg",{width:n,height:i,viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ms.jsx)("path",{d:"M7.67196 12.75H5.32821C5.17196 12.75 5.03655 12.6979 4.92196 12.5938C4.80738 12.4896 4.73967 12.3594 4.71884 12.2031L4.53134 10.75C4.39592 10.6979 4.26842 10.6354 4.14884 10.5625C4.02884 10.4896 3.91155 10.4115 3.79696 10.3281L2.43759 10.8906C2.29176 10.9427 2.14592 10.9479 2.00009 10.9062C1.85426 10.8646 1.73967 10.776 1.65634 10.6406L0.500089 8.625C0.416755 8.48958 0.390714 8.34375 0.421964 8.1875C0.453214 8.03125 0.531339 7.90625 0.656339 7.8125L1.82821 6.92188C1.8178 6.84896 1.81259 6.77854 1.81259 6.71062V6.28875C1.81259 6.22125 1.8178 6.15104 1.82821 6.07812L0.656339 5.1875C0.531339 5.09375 0.453214 4.96875 0.421964 4.8125C0.390714 4.65625 0.416755 4.51042 0.500089 4.375L1.65634 2.35938C1.72926 2.21354 1.84113 2.12229 1.99196 2.08562C2.14321 2.04937 2.29176 2.05729 2.43759 2.10938L3.79696 2.67188C3.91155 2.58854 4.03134 2.51042 4.15634 2.4375C4.28134 2.36458 4.40634 2.30208 4.53134 2.25L4.71884 0.796875C4.73967 0.640625 4.80738 0.510417 4.92196 0.40625C5.03655 0.302083 5.17196 0.25 5.32821 0.25H7.67196C7.82821 0.25 7.96363 0.302083 8.07821 0.40625C8.1928 0.510417 8.26051 0.640625 8.28134 0.796875L8.46884 2.25C8.60426 2.30208 8.73196 2.36458 8.85196 2.4375C8.97155 2.51042 9.08863 2.58854 9.20321 2.67188L10.5626 2.10938C10.7084 2.05729 10.8543 2.05208 11.0001 2.09375C11.1459 2.13542 11.2605 2.22396 11.3438 2.35938L12.5001 4.375C12.5834 4.51042 12.6095 4.65625 12.5782 4.8125C12.547 4.96875 12.4688 5.09375 12.3438 5.1875L11.172 6.07812C11.1824 6.15104 11.1876 6.22125 11.1876 6.28875V6.71062C11.1876 6.77854 11.1772 6.84896 11.1563 6.92188L12.3282 7.8125C12.4532 7.90625 12.5313 8.03125 12.5626 8.1875C12.5938 8.34375 12.5678 8.48958 12.4845 8.625L11.3282 10.625C11.2449 10.7604 11.1278 10.8517 10.977 10.8988C10.8257 10.9454 10.6772 10.9427 10.5313 10.8906L9.20321 10.3281C9.08863 10.4115 8.96884 10.4896 8.84384 10.5625C8.71884 10.6354 8.59384 10.6979 8.46884 10.75L8.28134 12.2031C8.26051 12.3594 8.1928 12.4896 8.07821 12.5938C7.96363 12.6979 7.82821 12.75 7.67196 12.75ZM6.53134 8.6875C7.13551 8.6875 7.65113 8.47396 8.07821 8.04688C8.5053 7.61979 8.71884 7.10417 8.71884 6.5C8.71884 5.89583 8.5053 5.38021 8.07821 4.95312C7.65113 4.52604 7.13551 4.3125 6.53134 4.3125C5.91676 4.3125 5.39842 4.52604 4.97634 4.95312C4.55467 5.38021 4.34384 5.89583 4.34384 6.5C4.34384 7.10417 4.55467 7.61979 4.97634 8.04688C5.39842 8.47396 5.91676 8.6875 6.53134 8.6875Z"})})}))},UU=function(t){var e=t.handleDeleteClick,n=t.handleEditClick,r=t.indicators,i=(0,u.d4)((function(t){return t.global.isMt5}));return(0,Ms.jsx)(ku,{className:"tab-body",children:(0,Ms.jsx)("div",{className:"current-block tab-body-block",children:(0,Ms.jsx)("div",{className:"current indicators-list",children:r.map((function(t){var r=t.id,o=t.type;return(0,Ms.jsxs)("div",{className:"list-item",children:[(0,Ms.jsxs)("div",{className:"asset-label crop-text",children:[(0,yt.tr)("indicators.".concat(o))," ",(0,Ms.jsx)(IG,{indicator:t})]}),(0,Ms.jsxs)("div",{className:"actions-block",children:[(0,Ms.jsxs)("a",{onClick:n(r),children:[!i&&(0,Ms.jsx)(SH,{className:"icon-wrapper"}),i&&(0,Ms.jsx)(WU,{className:"icon-wrapper"})]}),(0,Ms.jsx)("a",{onClick:e(r),children:(0,Ms.jsx)(QB,{className:"icon-wrapper"})})]})]},r)}))})})})};function zU(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return XU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XU(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $U=mp((function(t,e,n){var r=mE(n);return function(t){return{chartId:n,favoriteIndicatorsCount:t.indicators.favorites.length,indicators:r(t)}}}),{indicatorDelete:TB,indicatorsDeleteAllByChartId:CB},np)(Pl((function(t){var e=t.chartId,n=t.indicatorDelete,i=t.indicatorsDeleteAllByChartId,o=t.favoriteIndicatorsCount,a=t.indicators,s=t.onClickOutside,c=t.openerNode,l=zU((0,r.useState)(PU),2),h=l[0],f=l[1],d=zU((0,r.useState)(null),2),p=d[0],m=d[1],y=(0,u.d4)((function(t){return t.global.isMt5})),v=zp(c),b=a.length;(0,r.useEffect)((function(){(0===o&&h===EU||0===b&&h===CU)&&f(PU)}),[o,b]);var g=(0,r.useRef)(null),w=a.find((function(t){return t.id===p}));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(Df.A,{component:null,appear:!0,children:(0,Ms.jsx)(Mf.A,{timeout:1,nodeRef:g,classNames:"drop-down-modal-wrap",children:(0,Ms.jsx)("div",{className:"drop-down-modal-wrap",ref:g,children:(0,Ms.jsxs)(od,{onClickOutside:s,style:v,className:"drop-down-modal drop-down-modal--indicators-list",shouldCapture:null===p,chartId:e,children:[(o>0||b>0)&&(0,Ms.jsx)(kU,{favoriteIndicatorsCount:o,indicatorsCount:b,tab:h,setTab:f}),h===CU&&(0,Ms.jsx)(UU,{indicators:a,handleEditClick:function(t){return function(){return m(t)}},handleDeleteClick:function(t){return function(){return n(t)}}}),h!==CU&&(0,Ms.jsx)(DU,{tab:h}),h!==EU&&a.length>0&&(0,Ms.jsxs)("a",{className:"btn remove-all",onClick:function(){i(e)},children:[(0,yt.tr)("drawings.delete_all"),y&&(0,Ms.jsx)("span",{className:"cnt",children:a.length}),!y&&" (".concat(a.length,")")]})]})})})}),(0,Ms.jsx)(PG,{isOpen:null!=w,indicator:w,onRequestClose:function(){return m(null)}})]})}))),YU=$U,qU="current",KU="all",ZU=function(t){var e=t.tab,n=t.setTab,r=function(t){return function(){Re.A.publish(ga),n(t)}};return(0,Ms.jsxs)("ul",{className:"tab-nav",children:[(0,Ms.jsx)("li",{className:(0,Ds.A)(e===qU&&"active"),children:(0,Ms.jsx)("a",{onClick:r(qU),children:(0,yt.tr)("drawings.current")})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(e===KU&&"active"),children:(0,Ms.jsx)("a",{onClick:r(KU),children:(0,yt.tr)("drawings.all")})})]})};function QU(t){return QU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QU(t)}function JU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tz(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JU(Object(n),!0).forEach((function(e){ez(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ez(t,e,n){var r;return r=function(t,e){if("object"!=QU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==QU(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nz=mp((function(t,e,n){return{asset:(0,Vs.E_)(t)(n),chartId:n}}),{addDrawing:jB},np)((function(t){var e=t.addDrawing,n=t.asset,r=t.chartId;return(0,Ms.jsx)(ku,{className:"tab-body",children:(0,Ms.jsx)("div",{className:"all-block tab-body-block",children:(0,Ms.jsx)("div",{className:"all drawings-list",children:Object.keys(bb).map((function(t){var i,o=bb[t].icon;return(0,Ms.jsx)("a",{className:"list-item",onClick:(i=t,function(){Re.A.publish(ga);var t=bb[i],o=parseInt(i,10);e(tz(tz({},t.config),{},{chartId:r,type:o,assetId:n.id,symbol:n.symbol}))}),children:(0,Ms.jsxs)("div",{className:"list-item-block",children:[(0,Ms.jsx)("div",{className:"drawing-icon",children:(0,Ms.jsx)(o,{})}),(0,Ms.jsx)("span",{className:"asset-label",children:bb[t].label})]})},t)}))})})})})),rz=mp((function(t,e,n){var r=yE(n);return function(t){var e=(0,Vs.E_)(t)(n);return{chartId:n,drawings:r(t)(e.id)}}}),{drawingDelete:wB},np)((function(t){var e=t.drawingDelete,n=t.drawings,r=t.handleEditClick,i=function(t){return function(){Re.A.publish(ga),e(t)}},o=(0,u.d4)((function(t){return t.global.isMt5}));return(0,Ms.jsx)(ku,{className:"tab-body",children:(0,Ms.jsx)("div",{className:"current-block tab-body-block",children:(0,Ms.jsx)("div",{className:"current drawings-list",children:n.map((function(t){var e=t.id,n=t.settings,a=t.type,s=bb[a].icon,c=pM(n.lines,"color",Gv.GREEN),l=pM(n.lines,"lineWidth",Vv.W1);return(0,Ms.jsxs)("div",{className:"list-item",children:[(0,Ms.jsxs)("div",{className:"list-item-block",children:[(0,Ms.jsx)("div",{className:"drawing-icon",children:(0,Ms.jsx)(s,{})}),(0,Ms.jsx)("div",{className:"line-color",style:{backgroundColor:c,height:"".concat(l,"px")}})]}),(0,Ms.jsxs)("div",{className:"actions-block",children:[(0,Ms.jsxs)("a",{onClick:r(e),children:[!o&&(0,Ms.jsx)(SH,{className:"icon-wrapper"}),o&&(0,Ms.jsx)(WU,{className:"icon-wrapper"})]}),(0,Ms.jsx)("a",{onClick:i(e),children:(0,Ms.jsx)(QB,{className:"icon-wrapper"})})]})]},e)}))})})})}));function iz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return oz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oz(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var az=mp((function(t,e,n){var r=yE(n);return function(t){var e=(0,Vs.E_)(t)(n);return{asset:e,chartId:n,drawingsCount:r(t)(e.id).length}}}),{deleteAllDrawings:OB},np)(Pl((function(t){var e=t.asset,n=t.deleteAllDrawings,i=t.drawingsCount,o=t.onClickOutside,a=t.openerNode,s=t.chartId,c=iz((0,r.useState)(KU),2),l=c[0],h=c[1],f=iz((0,r.useState)(null),2),d=f[0],p=f[1],m=zp(a),y=(0,u.d4)((function(t){return t.global.isMt5}));(0,r.useEffect)((function(){0===i&&l===qU&&h(KU)}),[i]);var v=(0,r.useRef)(null);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(Df.A,{component:null,appear:!0,children:(0,Ms.jsx)(Mf.A,{timeout:1,nodeRef:v,classNames:"drop-down-modal-wrap",children:(0,Ms.jsx)("div",{className:"drop-down-modal-wrap",ref:v,children:(0,Ms.jsxs)(od,{onClickOutside:o,style:m,className:"drop-down-modal drop-down-modal--drawings-list",shouldCapture:null===d,chartId:s,children:[i>0&&(0,Ms.jsx)(ZU,{tab:l,setTab:h}),l===KU&&(0,Ms.jsx)(nz,{}),l===qU&&(0,Ms.jsx)(rz,{handleEditClick:function(t){return function(){return p(t)}}}),i>0&&(0,Ms.jsxs)("a",{className:"btn remove-all",onClick:function(){n({chartId:s,assetId:e.id,symbol:e.symbol}),Re.A.publish(ga)},children:[(0,yt.tr)("drawings.delete_all"),y&&(0,Ms.jsx)("span",{className:"cnt",children:i}),!y&&" (".concat(i,")")]})]})})})}),(0,Ms.jsx)(ZH,{isOpen:null!==d,drawingId:d,onRequestClose:function(){return p(null)}})]})}))),sz=(0,r.forwardRef)((function(t,e){var n=t.handleClick,r=t.isOpened;return(0,Ms.jsx)(wm,{className:(0,Ds.A)("items__link items__link--chart-type chart-layout-options-btn",r&&"active"),ref:e,onClick:n,TooltipComponent:function(){return(0,Ms.jsx)(Vc,{position:"down",children:(0,yt.tr)("chart_settings.multi_chart")})},children:(0,Ms.jsx)("div",{className:"svg-wrapper",children:(0,Ms.jsx)("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",height:"35",viewBox:"0 0 33 33",children:(0,Ms.jsx)("path",{d:"M15.199 3.287v8.626a3.287 3.287 0 01-3.286 3.286H3.286A3.287 3.287 0 010 11.913V3.287A3.288 3.288 0 013.286 0h8.627a3.286 3.286 0 013.286 3.287zM29.714 0h-8.627a3.288 3.288 0 00-3.286 3.287v8.626a3.287 3.287 0 003.286 3.286h8.627A3.287 3.287 0 0033 11.913V3.287A3.288 3.288 0 0029.714 0zM11.913 17.801H3.286A3.286 3.286 0 000 21.087v8.627A3.288 3.288 0 003.286 33h8.627a3.288 3.288 0 003.286-3.286v-8.627a3.284 3.284 0 00-3.286-3.286zm17.801 0h-8.627a3.287 3.287 0 00-3.286 3.286v8.627A3.288 3.288 0 0021.087 33h8.627A3.288 3.288 0 0033 29.714v-8.627a3.286 3.286 0 00-3.286-3.286z"})})})})})),cz=sz,lz=Pl((function(t){var e=t.onDropdownClose,n=t.openerNode,r=(0,u.wA)(),i=function(t){return function(){Re.A.publish(ga),r((0,ba.H6)(t)),e()}},o=(0,u.d4)((function(t){return t.global.windowLayout})),a=zp(n);return(0,Ms.jsx)(Uf,{timeout:1,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Ms.jsx)(od,{onClickOutside:e,className:"drop-down-modal drop-down-modal--window-layout-switcher",shouldCapture:!0,style:a,children:(0,Ms.jsx)("table",{className:"table",children:(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("window_layout.chart_1")}),(0,Ms.jsx)("td",{children:(0,Ms.jsx)("div",{className:"sq-wrap",children:(0,Ms.jsx)("div",{className:(0,Ds.A)("sq full",o===he.rs.FULL&&"active"),onClick:i(he.rs.FULL),children:(0,Ms.jsx)("div",{className:"sq__item"})})})})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("window_layout.charts",2)}),(0,Ms.jsx)("td",{children:(0,Ms.jsxs)("div",{className:"sq-wrap",children:[(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq horizontal-2",o===he.rs.H2&&"active"),onClick:i(he.rs.H2),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq vertical-2",o===he.rs.V2&&"active"),onClick:i(he.rs.V2),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]})]})})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("window_layout.charts",3)}),(0,Ms.jsx)("td",{children:(0,Ms.jsxs)("div",{className:"sq-wrap",children:[(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq top-1-bottom-2",o===he.rs.T1B2&&"active"),onClick:i(he.rs.T1B2),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq top-2-bottom-1",o===he.rs.T2B1&&"active"),onClick:i(he.rs.T2B1),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq left-2-right-1",o===he.rs.L2R1&&"active"),onClick:i(he.rs.L2R1),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq left-1-right-2",o===he.rs.L1R2&&"active"),onClick:i(he.rs.L1R2),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq vertical-3",o===he.rs.V3&&"active"),onClick:i(he.rs.V3),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]})]})})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("window_layout.charts",4)}),(0,Ms.jsx)("td",{children:(0,Ms.jsxs)("div",{className:"sq-wrap",children:[(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq top-2-bottom-2",o===he.rs.T2B2&&"active"),onClick:i(he.rs.T2B2),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq top-3-bottom-1",o===he.rs.T3B1&&"active"),onClick:i(he.rs.T3B1),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq top-1-bottom-3",o===he.rs.T1B3&&"active"),onClick:i(he.rs.T1B3),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq left-1-right-3",o===he.rs.L1R3&&"active"),onClick:i(he.rs.L1R3),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("sq left-3-right-1",o===he.rs.L3R1&&"active"),onClick:i(he.rs.L3R1),children:[(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"}),(0,Ms.jsx)("div",{className:"sq__item"})]})]})})]})]})})})})})),uz="chart-settings",hz="indicators",fz="drawings",dz="layouts";function pz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return mz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mz(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yz=function(t,e){var n=(0,u.d4)((function(e){return e.modals.states[t]})),i=pz((0,r.useState)(!1),2),o=i[0],a=i[1];return(0,r.useEffect)((function(){a(n&&null!=e.current)}),[n,e.current]),o};function vz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return bz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bz(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gz=mp((function(t,e,n){var r=t.global,i=r.openingFirstDealPanel,o=r.isDemo,a=r.isTournament,s=r.isMobile,c=r.windowLayout;return{chartId:n,isTournament:a,openingFirstDealPanel:i,isDemo:o,isMobile:s,isRightPanel:!(0,Cr.TF)(t),showTradePanelMenu:!s&&!(0,_H.h0)(c),showHideChartButton:c!==he.rs.FULL}}),null,np)((function(t){var e=t.isDemo,n=t.isTournament,i=t.openingFirstDealPanel,o=t.showHideChartButton,a=t.isRightPanel,s=t.showTradePanelMenu,c=(0,u.wA)(),l=(0,r.useContext)(np),h=vz((0,r.useState)(!1),2),f=h[0],d=h[1],p=vz((0,r.useState)(null),2),m=p[0],y=p[1],v=(0,r.useRef)(),b=(0,r.useRef)(),g=(0,r.useRef)(),w=(0,r.useRef)(),x=(0,r.useRef)(),j=(0,u.d4)((function(t){return(0,Vs.E_)(t)(l)})),O=(0,u.d4)((function(t){return mE(l)(t).length})),S=(0,u.d4)((function(t){return yE(l)(t)(j.id).length})),_=(0,u.d4)((function(t){return t.chartSettings.visibleChartIds.length>1})),T=(0,u.d4)(Wc.AQ),A=yz(me.lx.CHART_SETTINGS,v),E=yz(me.lx.INDICATORS_MODAL,b),P=yz(me.lx.DRAWINGS_MODAL,g),C=function(){return y(null)},k=function(t){return function(){Re.A.publish(ga),c((0,ys.V7)({modalId:t,value:!0}))}},N=function(t){return function(){Re.A.publish(ga),c((0,ys.V7)({modalId:t,value:!1}))}},I=function(){d(!1),Re.A.publish(ga)},R=zp(x.current);return(0,Ms.jsxs)("div",{className:"items",children:[(0,Ms.jsx)(ZW,{isOpened:A,ref:v,handleClick:k(me.lx.CHART_SETTINGS)}),(0,Ms.jsx)(QW,{isOpened:E,count:O,ref:b,handleClick:k(me.lx.INDICATORS_MODAL)}),(0,Ms.jsx)(JW,{isOpened:P,count:S,ref:g,handleClick:k(me.lx.DRAWINGS_MODAL)}),!T&&(0,Ms.jsxs)("div",{ref:x,className:"settings-container",children:[f&&(0,Ms.jsx)(qW,{onClick:I,isOpen:!0}),!f&&(0,Ms.jsx)(qW,{onClick:function(){d(!0),Re.A.publish(ga)},isOpen:!1}),f&&(0,Ms.jsx)(Uf,{timeout:1,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",onClick:I,style:R,children:(0,Ms.jsxs)(od,{onClickOutside:I,chartId:l,children:[(0,Ms.jsx)(FW,{}),(!e||!i)&&(0,Ms.jsx)(GW,{}),n&&(0,Ms.jsx)(VW,{}),!a&&(0,Ms.jsx)(UW,{position:"down"}),!a&&(0,Ms.jsx)(XW,{position:"down"}),o&&(0,Ms.jsx)($W,{})]})})]}),!_&&!T&&(0,Ms.jsx)(cz,{isOpened:m===dz,ref:w,handleClick:function(){return y(dz)}}),s&&(0,Ms.jsx)(YW,{}),A&&(0,Ms.jsx)(AU,{openerNode:v.current,onRequestClose:N(me.lx.CHART_SETTINGS)}),E&&(0,Ms.jsx)(YU,{onClickOutside:N(me.lx.INDICATORS_MODAL),openerNode:b.current,indicatorsCount:O}),P&&(0,Ms.jsx)(az,{onClickOutside:N(me.lx.DRAWINGS_MODAL),openerNode:g.current,drawingsCount:S}),m===dz&&(0,Ms.jsx)(lz,{onClickOutside:C,openerNode:w.current,onDropdownClose:C})]})})),wz=gz;function xz(t){return xz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xz(t)}function jz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oz(r.key),r)}}function Oz(t){var e=function(t,e){if("object"!=xz(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xz(e)?e:String(e)}var Sz=ve()(window,"AppData.currencyList",{}),_z=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getData",value:function(){return Sz}},{key:"getCurrencyName",value:function(t){return ve()(Sz,t.toUpperCase(),t)}}],(n=null)&&jz(e.prototype,n),r&&jz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Tz(t){return Tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tz(t)}function Az(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ez(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ez(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ez(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lz(r.key),r)}}function Cz(t,e,n){return e=Nz(e),function(t,e){if(e&&("object"===Tz(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Iz(t)}(t,kz()?Reflect.construct(e,n||[],Nz(t).constructor):e.apply(t,n))}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(kz=function(){return!!t})()}function Nz(t){return Nz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nz(t)}function Iz(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rz(t,e){return Rz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rz(t,e)}function Lz(t){var e=function(t,e){if("object"!=Tz(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tz(e)?e:String(e)}var Dz=function(t){function e(){var t,n,r,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=Cz(this,e,[].concat(a)),n=Iz(t),i={prevPrice:0},(r=Lz(r="state"))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,t}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rz(t,e)}(e,t),n=e,r=[{key:"componentDidMount",value:function(){this.setState({prevPrice:this.props.currentPrice})}},{key:"componentDidUpdate",value:function(t){t.currentPrice!==this.state.prevPrice&&this.setState({prevPrice:t.currentPrice})}},{key:"render",value:function(){var t=this.props,e=t.currentPrice,n=t.asset;if(!n)return null;var r=function(t){if(!t)return["EUR","USD"];var e=t.symbol;t.is_otc&&(e=e.replace("_otc",""));var n=[];return["UKBrent","USCrude"].includes(e)?n.push(e,"USD"):6===e.length?n.push(e.substr(0,3),e.substr(3)):n.push(t.label.replace("OTC","").trim(),"USD"),n}(n),i=Az(r,2),o=i[0],a=i[1];if("stock"===n.type?o="".concat((0,yt.tr)("assets.share_of")," ").concat(o," (").concat(n.symbol.replace("_otc",""),")"):"index"===n.type&&(o=n.label,a="USD"),!o||!a)return null;var s=_z.getCurrencyName(o),c=_z.getCurrencyName(a),l=e>this.state.prevPrice,u=e<this.state.prevPrice,h="current-symbol-price ".concat(l?"price-up":u?"price-down":"");return(0,Ms.jsxs)(Vc,{position:"right",children:["index"===n.type&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,yt.tr)("assets.index_label")," ",(0,Ms.jsx)("span",{className:"first-symbol symbol-info",children:s})," ="," ",(0,Ms.jsx)("span",{className:h,children:e})]}),"index"!==n.type&&(0,Ms.jsxs)(Ms.Fragment,{children:["1 ",(0,Ms.jsx)("span",{className:"first-symbol symbol-info",children:s})," ="," ",(0,Ms.jsx)("span",{className:h,children:e})," ",(0,Ms.jsx)("span",{className:"two-symbol symbol-info",children:c})]})]})}}],r&&Pz(n.prototype,r),i&&Pz(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.PureComponent),Mz=mp((function(t,e,n){return{asset:(0,Vs.E_)(t)(n),currentPrice:(0,Wc.JM)(t)(n)}}),null,np)(Dz);function Bz(t){return Bz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bz(t)}function Hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fz(t,e,n){var r;return r=function(t,e){if("object"!=Bz(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Bz(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Vz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vz(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wz(t){if(t.length>10)return"current-symbol_cropped"}var Uz=mp((function(t,e,n){var r=t.global,i=r.isMobile,o=r.enabledTooltipMessage;return{label:(0,Vs.E_)(t)(n).label,canShowTooltip:!i&&o}}),null,np)((function(t){var e=t.canShowTooltip,n=t.label,i=t.onDropdownOpened,o=t.isOpen,a=t.innerRef,s=Gz((0,r.useState)(!1),2),c=s[0],l=s[1],u=e&&c;return(0,Ms.jsx)("div",{className:"currencies-block",children:(0,Ms.jsx)("div",{className:(0,Ds.A)("currencies-block__in",o&&"active"),ref:a,children:(0,Ms.jsxs)("a",{className:(0,Ds.A)("js-tour-open-currency-block pair-number-wrap",u&&"tooltip2"),onClick:function(){return i()},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[(0,Ms.jsxs)("div",{className:"pair",children:[(0,Ms.jsx)("span",{className:(0,Ds.A)("current-symbol",n?Wz(n):""),children:n||(0,Ms.jsx)("i",{className:"fa fa-spin fa-spinner"})}),(0,Ms.jsx)("i",{className:"fa fa-caret-down",style:{transform:"rotate(".concat(o?"180deg":0,")")}})]}),u&&(0,Ms.jsx)(Mz,{})]})})})})),zz=function(t,e){return(0,Ms.jsx)(Uz,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hz(Object(n),!0).forEach((function(e){Fz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({innerRef:e},t))};zz.displayName="AssetsIcon";var Xz=(0,r.forwardRef)(zz),$z=function(){return(0,Ms.jsx)("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",width:"18px",viewBox:"0 0 512 512",children:(0,Ms.jsx)("path",{d:"M490.6 110.6H333.3c-28.5 0-42.8 34.4-22.6 54.6l43.2 43.2-97.7 97.8-97.7-97.7c-16.7-16.7-43.6-16.7-60.3 0L6.6 299.9c-8.3 8.3-8.3 21.8 0 30.1l30.1 30.1c8.3 8.3 21.8 8.3 30.1 0l61.4-61.4 97.7 97.7c16.7 16.7 43.6 16.7 60.3 0l127.9-127.9 43.2 43.2c20.1 20.1 54.6 5.9 54.6-22.6V132c0-11.8-9.5-21.4-21.3-21.4z"})})},Yz=function(t){var e=t.onSearchTermChange,n=t.searchTerm,i=(0,r.useRef)(null),o=(0,r.useRef)();(0,r.useEffect)((function(){var t=function(t){o.current&&o.current.contains(t.target)};return document.body.addEventListener("click",t),function(){document.body.removeEventListener("click",t)}}),[]);return(0,Ms.jsxs)("div",{ref:o,className:"filters__search-block search",children:[(0,Ms.jsx)("input",{className:"search__field",ref:i,type:"text",placeholder:(0,yt.tr)("social_trades.search"),value:n,onChange:function(t){return e(t.currentTarget.value)},onClick:function(t){return t.preventDefault()},"aria-autocomplete":"off",autoComplete:"off"}),n.length>0&&(0,Ms.jsx)("i",{className:"search__icon search__icon-clear fa fa-times-circle active",onClick:function(t){t.preventDefault(),t.stopPropagation(),e(""),i.current.focus()}}),0===n.length&&(0,Ms.jsx)("i",{className:"search__icon fa fa-search"})]})},qz=function(t){var e=t.isOpenedSchedule,n=t.onScheduleClick;return(0,Ms.jsxs)("a",{className:(0,Ds.A)("assets-block__nav-item","assets-block__nav-item--calendar",e&&"assets-block__nav-item--active"),onClick:n,children:[(0,Ms.jsx)("span",{className:"assets-block__nav-icon-wrap",children:(0,Ms.jsx)("i",{className:"assets-block__nav-icon fa fa-calendar-o"})}),(0,Ms.jsx)("span",{className:"assets-block__nav-item-label",children:(0,yt.tr)("schedule")})]})};function Kz(t){return Kz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kz(t)}function Zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qz(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zz(Object(n),!0).forEach((function(e){Jz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jz(t,e,n){var r;return r=function(t,e){if("object"!=Kz(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Kz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Kz(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tX=function(t){var e=t.onTabChange,n=t.activeTab;return(0,Ms.jsxs)("a",{className:(0,Ds.A)("assets-block__nav-item","assets-block__nav-item--favorites",n===St&&"assets-block__nav-item--active"),onClick:function(){return e(St)},children:[(0,Ms.jsx)("span",{className:"assets-block__nav-icon-wrap",children:(0,Ms.jsx)("i",{className:"assets-block__nav-icon fa fa-star"})}),(0,Ms.jsx)("span",{className:"assets-block__nav-item-label",children:(0,yt.tr)("assets.fav")})]})},eX=function(t){var e=t.activeTab,n=t.onTabChange,r=t.groupId,i=t.searchTerm;return(0,Ms.jsxs)("a",{className:(0,Ds.A)("assets-block__nav-item","assets-block__nav-item--".concat(r),0===i.length&&e===r&&"assets-block__nav-item--active"),onClick:function(){return n(r)},children:[(0,Ms.jsxs)("span",{className:"assets-block__nav-icon-wrap",children:[r!==Ot&&(0,Ms.jsx)("i",{className:"assets-block__nav-icon fa ".concat(It[r])}),r===Ot&&(0,Ms.jsx)($z,{})]}),(0,Ms.jsx)("span",{className:"assets-block__nav-item-label",children:Rt(r)})]})},nX=(0,u.Ng)((function(t){return{isTournament:t.global.isTournament}}))((function(t){var e=(0,u.d4)((function(t){return t.global.webViewPlatform})),n=t.activeTab,i=t.isTournament,o=t.onTabChange,a=i?Nt:kt;return"ios"===e&&(a=a.filter((function(t){return"cryptocurrency"!==t}))),(0,r.useEffect)((function(){a.includes(n)||"schedule"===n||o(St)}),[n]),(0,Ms.jsxs)(Ms.Fragment,{children:[t.isCompact&&(0,Ms.jsxs)("div",{className:(0,Ds.A)("assets-block__nav","assets-block__nav--compact","assets-block__nav--count-".concat(a.length)),children:[(0,Ms.jsx)("div",{className:"assets-block__nav-col",children:a.map((function(e){return(0,Ms.jsx)(eX,Qz({groupId:e},t),e)}))}),(0,Ms.jsxs)("div",{className:"assets-block__nav-col",children:[(0,Ms.jsx)(Yz,Qz({},t)),(0,Ms.jsx)(tX,Qz({},t)),(0,Ms.jsx)(qz,Qz({},t))]})]}),!t.isCompact&&(0,Ms.jsxs)("div",{className:"assets-block__nav",children:[a.map((function(e){return(0,Ms.jsx)(eX,Qz({groupId:e},t),e)})),(0,Ms.jsx)(tX,Qz({},t))]})]})})),rX=function(t){var e=t.isFullTime,n=t.timeDiff,r=n>0?(0,Qr.E$)(n):"";return(0,Ms.jsxs)("span",{className:"alist__schedule-info",children:[(0,Ms.jsx)("svg",{className:"svg-icon icon-play-circle alist__schedule-info-otc-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,Ms.jsx)("path",{d:"M371.7 238l-176-107c-15.8-8.8-35.7 2.5-35.7 21v208c0 18.4 19.8 29.8 35.7 21l176-101c16.4-9.1 16.4-32.8 0-42zM504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256z"})})," ",(0,Ms.jsx)("span",{className:"alist__schedule-info-text",children:e?(0,yt.tr)("assets.full_time"):r})]})},iX=function(){return(0,Ms.jsxs)("span",{className:"alist__schedule-info",children:[(0,Ms.jsx)("i",{className:"fa fa-minus-circle alist__schedule-info-icon"})," ",(0,Ms.jsx)("span",{className:"alist__schedule-info-text",children:"N/A"})]})},oX=function(t){var e=t.isFullTime,n=t.timeDiff,r=t.isTemporaryAvailable,i=n>0?(0,Qr.E$)(n):"";return(0,Ms.jsxs)("span",{className:"alist__schedule-info",children:[(0,Ms.jsx)("svg",{className:"svg-icon alist__schedule-info-otc-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 479.74 430.93",children:(0,Ms.jsx)("path",{d:"M242.36 41.7A173.19 173.19 0 01363.65 91h54.64a215.53 215.53 0 00-351.87 0h54.64a173.2 173.2 0 01121.3-49.3zm0 347.53a173.2 173.2 0 01-121.3-49.33H66.42a215.53 215.53 0 00351.87 0h-54.64a173.19 173.19 0 01-121.29 49.33zM148 288q22-23.79 22-68.11t-21.79-68.12q-21.78-23.67-62.92-23.68T22 151.57Q0 175.08 0 219.63T22 288q22 23.81 63 23.81T148 288zm-97-23.09q-11.36-15.14-11.36-45t11.48-45.11q11.48-15.19 34.06-15.19 45 0 45 60.3T85 280.05q-22.63 0-34-15.14zm224.76 44.44V162.38h48.46v-31.5H189.45v31.5h48.46v146.97h37.85zm106.93-88.75q0-28.68 11.72-44.74t33.08-16.05a60.13 60.13 0 0119.9 3.54 203.08 203.08 0 0120.14 8.3l12.21-30.76q-26.25-12.57-52.25-12.57-25.51 0-44.49 11.17t-29.12 32.1q-10.12 20.94-10.13 48.77 0 44.19 20.63 67.81T424 311.79q27.1 0 49.07-9.16v-31.74q-26.73 9.41-45.53 9.4-44.85 0-44.85-59.69z"})})," ",(0,Ms.jsxs)("span",{className:"alist__schedule-info-text",children:[r&&(0,yt.tr)("assets.working_temporary"),!r&&(e?(0,yt.tr)("assets.full_time"):i)]})]})},aX=function(){return(0,Ms.jsxs)("div",{className:"assets-block__schedule-desc schedule-desc",children:[(0,Ms.jsxs)("div",{className:"schedule-desc__item",children:[(0,Ms.jsx)("div",{className:"schedule-desc__icon-wrap",children:(0,Ms.jsx)("svg",{className:"svg-icon icon-play-circle schedule-desc__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,Ms.jsx)("path",{d:"M371.7 238l-176-107c-15.8-8.8-35.7 2.5-35.7 21v208c0 18.4 19.8 29.8 35.7 21l176-101c16.4-9.1 16.4-32.8 0-42zM504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256z"})})}),(0,Ms.jsx)("div",{className:"schedule-desc__item-text",children:(0,yt.tr)("assets.available_time")})]}),(0,Ms.jsxs)("div",{className:"schedule-desc__item",children:[(0,Ms.jsx)("div",{className:"schedule-desc__icon-wrap",children:(0,Ms.jsx)("svg",{className:"svg-icon schedule-desc__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 479.74 430.93",children:(0,Ms.jsx)("path",{d:"M242.36 41.7A173.19 173.19 0 01363.65 91h54.64a215.53 215.53 0 00-351.87 0h54.64a173.2 173.2 0 01121.3-49.3zm0 347.53a173.2 173.2 0 01-121.3-49.33H66.42a215.53 215.53 0 00351.87 0h-54.64a173.19 173.19 0 01-121.29 49.33zM148 288q22-23.79 22-68.11t-21.79-68.12q-21.78-23.67-62.92-23.68T22 151.57Q0 175.08 0 219.63T22 288q22 23.81 63 23.81T148 288zm-97-23.09q-11.36-15.14-11.36-45t11.48-45.11q11.48-15.19 34.06-15.19 45 0 45 60.3T85 280.05q-22.63 0-34-15.14zm224.76 44.44V162.38h48.46v-31.5H189.45v31.5h48.46v146.97h37.85zm106.93-88.75q0-28.68 11.72-44.74t33.08-16.05a60.13 60.13 0 0119.9 3.54 203.08 203.08 0 0120.14 8.3l12.21-30.76q-26.25-12.57-52.25-12.57-25.51 0-44.49 11.17t-29.12 32.1q-10.12 20.94-10.13 48.77 0 44.19 20.63 67.81T424 311.79q27.1 0 49.07-9.16v-31.74q-26.73 9.41-45.53 9.4-44.85 0-44.85-59.69z"})})}),(0,Ms.jsx)("div",{className:"schedule-desc__item-text",children:(0,yt.tr)("assets.switch_time")})]}),(0,Ms.jsxs)("div",{className:"schedule-desc__item",children:[(0,Ms.jsx)("div",{className:"schedule-desc__icon-wrap",children:(0,Ms.jsx)("i",{className:"fa fa-minus-circle schedule-desc__icon"})}),(0,Ms.jsx)("div",{className:"schedule-desc__item-text",children:(0,yt.tr)("assets.unavailable")})]}),(0,Ms.jsxs)("a",{href:(0,je.hX)("/assets"),className:"schedule-desc__btn",target:"_blank",children:[(0,Ms.jsx)("i",{className:"fa fa-external-link"}),(0,yt.tr)("assets.view_schedule")]})]})},sX=function(){return(0,Ms.jsx)("div",{className:"assets-block__otc-desc otc-desc",children:(0,yt.tr)("assets.otc_desc")})},cX=function(t){var e=t.timeDiff,n=t.isTemporaryAvailable,r=e>0?(0,Qr.E$)(e):"";return(0,Ms.jsxs)("span",{className:"alist__schedule-info",children:[(0,Ms.jsx)("i",{className:"fa fa-minus-circle alist__schedule-info-icon"})," ",(0,Ms.jsx)("span",{className:"alist__schedule-info-text",children:n?(0,yt.tr)("assets.working_temporary"):r})]})};function lX(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return uX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uX(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hX=function(t){var e,n;return t=t.replace("_","").replace("-",""),e=t,["usd","btc","eur","gbp","jpy"].map((function(r){var i=t.indexOf(r);-1!==i&&(0===i&&(e=t.substring(0,3),n=t.substring(3)),i>0&&(e=t.substring(0,i),n=r))})),[e,n]},fX=function(t){var e,n;if(!t)return[e,n];var r=function(t){var e,n,r=t.symbol.split("_otc")[0].toLowerCase();if("#"===r[0]&&(r=r.substring(1)),e=r,"v"===r&&(e="visa"),t.type===gt){var i=lX(t.label.toLowerCase().replace("_otc","").replace("otc","").trim().split("/"),2);e=i[0],n=i[1]}else if("oils"===t.type||"cfd"===t.type);else if(t.type===xt){var o=lX(hX(r),2),a=o[0],s=o[1];a&&(e=a),"eur"===s&&(n=s)}else if(t.type===wt){var c=lX(hX(r),2),l=c[0],u=c[1];l&&(e=l),"usd"!==u&&(n=u)}else t.type===Ot&&(e=lX(hX(r),1)[0]);return[e,n]}(t),i=lX(r,2);return[e=i[0],n=i[1]]};function dX(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return pX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pX(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mX=function(){return(0,Ms.jsx)(Gs.k,{className:"svg-icon-wrap",src:"/themes/cabinet/images/modal/assets-block/not-found.svg"})},yX=function(t){var e=dX(fX(t),2),n=e[0],r=e[1];return(0,Ms.jsxs)("span",{className:(0,Ds.A)("alist__flag","flag",r?"flag--two":"flag--one"),children:[n&&(0,Ms.jsx)("span",{className:(0,Ds.A)("flag-icon","flag-icon--"+n.toLowerCase())}),r&&(0,Ms.jsx)("span",{className:(0,Ds.A)("flag-icon","flag-icon--"+r.toLowerCase())})]})},vX=function(t){var e=t.asset,n=(0,u.d4)((function(t){return t.global.currentTime})),r=e.active,i=e.is_otc,o=e.scheduledAt,a=e.scheduledUntil,s=a>=0,c=a-n,l=0===a,h=-2===a,f=r?i?"otc":"available":"no-active";return(0,Ms.jsxs)(Ms.Fragment,{children:[s&&(0,Ms.jsxs)(Ms.Fragment,{children:["available"===f&&(0,Ms.jsx)(rX,{timeDiff:c,isFullTime:l}),"otc"===f&&(0,Ms.jsx)(oX,{timeDiff:c,isFullTime:l})]}),h&&(0,Ms.jsx)(oX,{timeDiff:c,isFullTime:l,isTemporaryAvailable:h}),!r&&(0,Ms.jsx)(cX,{timeDiff:o-n,isTemporaryAvailable:o<=0})]})},bX=function(t){var e=t.asset,n=e.payout;return e.active?(0,Ms.jsxs)("span",{children:[n,"%"]}):(0,Ms.jsx)(iX,{})},gX=function(t){var e=t.asset,n=t.currentSymbol,r=t.isFavorite,i=t.onChangeSymbol,o=t.onFavoriteToggled,a=t.isOpenedSchedule,s=t.isWelcomeTour,c=e.symbol,l=e.label,u=e.active;return(0,Ms.jsx)("li",{className:(0,Ds.A)("alist__item",n===c&&"alist__item--active",!u&&"alist__item--no-active",r&&u&&"alist__item--has-favorites"),children:(0,Ms.jsxs)("a",{className:"alist__link",onClick:function(){Re.A.publish(ga),Re.A.publish("newbie_guide_todo_list.step_confirm",2),u&&i(c)},children:[(0,Ms.jsx)("span",{className:"alist__icon-wrap",children:(0,Ms.jsx)("i",{className:(0,Ds.A)("alist__icon","fa",r?"fa-star del":"fa-star-o add"),onClick:function(t){t.stopPropagation(),s||(Re.A.publish(ga),o(c))}})}),yX(e),(0,Ms.jsx)("span",{className:"js-tour-asset-label alist__label",children:l}),(0,Ms.jsx)("span",{className:"alist__payout",children:a?(0,Ms.jsx)(vX,{asset:e}):(0,Ms.jsx)(bX,{asset:e})})]})},c)},wX=(0,u.Ng)((function(t){return{assetBySymbol:(0,Vs.rC)(t),assetsSymbols:(0,Vs.gg)(t),favoriteSymbols:t.favorites.list,isWelcomeTour:(0,Nr.v9)(t)}}))((function(t){var e=t.assetBySymbol,n=t.assetsSymbols,r=t.searchTerm,i=t.activeTab,o=t.currentSymbol,a=t.onChangeSymbol,s=t.favoriteSymbols,c=t.onFavoriteToggled,l=t.isOpenedSchedule,h=t.isCompact,f=t.showOtcDescription,d=t.isWelcomeTour,p=(0,u.d4)((function(t){return t.assets.assetSortType})),m=(0,u.d4)((function(t){return t.assets.assetSortDirection})),y=(0,u.d4)((function(t){return t.global.webViewPlatform})),v=function(t,e,n,r,i){return e.slice().sort((function(e,o){var a=t[e],s=a.payout,c=a.active,l=a.scheduledUntil,u=a.label,h=t[o],f=h.payout,d=h.active,p=h.scheduledUntil,m=h.label;return c&&!d?-1:!c&&d?1:n===At?i?l===p?0:(2===l&&(l=Number.MAX_VALUE),2===p&&(p=Number.MAX_VALUE),r===Pt?p-l:l-p):s===f?0:r===Ct?f-s:s-f:n===Et?u===m?0:r===Pt?u>m?1:-1:u>m?-1:1:0})).map((function(e){return t[e]}))}(e,n,p,m,l);return"ios"===y&&(v=v.filter((function(t){return"cryptocurrency"!==t.type}))),d&&(v=v.filter((function(t){return t.is_otc}))),v=r.length>0?v.filter((function(t){var e=t.symbol,n=t.label;return(0,Jr.vD)(e,r)||(0,Jr.vD)(n,r)})):i===St?function(t,e){return t.filter((function(t){var n=t.symbol;return e.includes(n)}))}(v,s):function(t){var e={};return kt.forEach((function(n){t[n]&&(e[n]=t[n])})),e}(HG()(v,(function(t){return t.type})))[i]||[],(0,Ms.jsxs)(Ms.Fragment,{children:[r.length>0&&0===v.length&&(0,Ms.jsxs)("div",{className:"assets-block__not-found",children:[(0,Ms.jsx)(mX,{}),(0,yt.tr)("assets.not_found")]}),v.length>0&&(0,Ms.jsx)(ku,{children:(0,Ms.jsxs)("div",{className:(0,Ds.A)("assets-block__body-".concat(i)),children:[(0,Ms.jsx)("ul",{className:"assets-block__alist alist alist-".concat(i),children:v.map((function(t){var e=s.includes(t.symbol);return(0,Ms.jsx)(gX,{activeTab:i,asset:t,currentSymbol:o,isFavorite:e,onChangeSymbol:a,onFavoriteToggled:c,isOpenedSchedule:l},t.symbol)}))}),h&&l&&(0,Ms.jsx)(aX,{}),h&&f&&(0,Ms.jsx)(sX,{})]})}),0===v.length&&i===St&&(0,Ms.jsx)("div",{className:"no-items",children:(0,Ms.jsx)("div",{className:"message message-info",children:(0,yt.tr)("assets.favorites_no_items")})})]})}));var xX=function(t){var e=t.onTabSort,n=t.isOpenedSchedule,r=(0,u.d4)((function(t){return t.assets.assetSortType})),i=(0,u.d4)((function(t){return t.assets.assetSortDirection})),o=(0,u.d4)(Cr.KY),a=r===At;return(0,Ms.jsxs)("a",{className:(0,Ds.A)("sort-block__item","sort-block__item--sort-profit",a&&"sort-block__item--active"),onClick:function(){e(At,a?i===Ct?Pt:Ct:i)},children:[n&&(0,yt.tr)("deals.availability"),!n&&!o&&(0,yt.tr)("deals.payout"),!n&&o&&(0,yt.tr)("revenue"),a&&(0,Ms.jsx)("i",{className:(0,Ds.A)("sort-block__icon fa",i===Ct?"fa-caret-down":"fa-caret-up")})]})},jX=function(t){var e=t.onTabSort,n=t.categoryName,r=void 0===n?null:n,i=(0,u.d4)((function(t){return t.assets.assetSortType})),o=(0,u.d4)((function(t){return t.assets.assetSortDirection})),a=i===Et;return(0,Ms.jsxs)("a",{className:(0,Ds.A)("sort-block__item","sort-block__item--sort-alphabet",a&&"sort-block__item--active"),onClick:function(){e(Et,a?o===Ct?Pt:Ct:o)},children:[r&&r,!r&&(0,yt.tr)("deals.asset"),a&&(0,Ms.jsx)("i",{className:(0,Ds.A)("sort-block__icon fa",o===Ct?"fa-caret-down":"fa-caret-up")})]})};function OX(t){return OX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OX(t)}function SX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kX(r.key),r)}}function _X(t,e,n){return e=AX(e),function(t,e){if(e&&("object"===OX(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return EX(t)}(t,TX()?Reflect.construct(e,n||[],AX(t).constructor):e.apply(t,n))}function TX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(TX=function(){return!!t})()}function AX(t){return AX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},AX(t)}function EX(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PX(t,e){return PX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},PX(t,e)}function CX(t,e,n){return(e=kX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kX(t){var e=function(t,e){if("object"!=OX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OX(e)?e:String(e)}var NX=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),CX(EX(n=_X(this,e,[t])),"onTabChange",(function(t){return n.setState({activeTab:t})})),CX(EX(n),"onScheduleClick",(function(){return n.setState((function(t){return{isOpenedSchedule:!t.isOpenedSchedule}}))})),CX(EX(n),"onTabSort",(function(t,e){(0,n.props.changeAssetSortType)({sortType:t,sortDirection:e})})),CX(EX(n),"changeSymbol",(function(t){var e=n.props,r=e.chartId,i=e.changeSymbol,o=e.isMultiGraph,a=e.onDropdownClose,s=e.isMobile,c=e.addToFavourites,l=e.isWelcomeTour;i({symbol:t,chartId:r}),c&&n.addFavorite(t),!l&&(o||s||window.navigator.userAgent.indexOf("Safari")>-1&&window.navigator.userAgent.indexOf("Chrome")<=-1&&!c)&&a()})),CX(EX(n),"onSearchTermChange",(function(t){return n.setState({searchTerm:(e=t,e.replace("/","").toLowerCase().trim())});var e})),CX(EX(n),"onFavoriteToggled",(function(t){n.props.favoriteSymbols.includes(t)?n.removeFavorite(t):n.addFavorite(t)})),CX(EX(n),"addFavorite",(function(t){(0,n.props.addFavoriteSymbol)(t)})),CX(EX(n),"removeFavorite",(function(t){(0,n.props.removeFavoriteSymbol)(t)})),CX(EX(n),"getFavoriteAssets",(function(){var t=n.props,e=t.assetBySymbol,r=t.symbols;return t.favoriteSymbols.filter((function(t){return r.includes(t)})).map((function(t){return e[t]}))})),CX(EX(n),"getCurrentTabAssets",(function(){var t=n.state.activeTab,e=n.props,r=e.symbols,i=e.assetBySymbol;return r.map((function(t){return i[t]})).filter((function(e){return e.type===t}))})),CX(EX(n),"hasOtcInCurrentTab",(function(){return function(t){return t.filter((function(t){return t.active}))}(n.state.activeTab===St?n.getFavoriteAssets():n.getCurrentTabAssets()).some((function(t){return t.is_otc}))})),n.state={activeTab:t.activeTab,searchTerm:"",isOpenedSchedule:!1,styles:zp(t.openerNode)},n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PX(t,e)}(e,t),n=e,r=[{key:"componentDidUpdate",value:function(t){var e=this,n=this.props,r=n.showFavPanel,i=n.openerNode;t.showFavPanel!==r&&setTimeout((function(){e.setState({styles:zp(i)})}),0)}},{key:"render",value:function(){var t=this.props,e=t.onDropdownClose,n=t.currentSymbol,r=t.chartId,i=t.isMultiGraph,o=t.isMobile,a=t.enabledTooltipMessage,s=t.isWelcomeTour,c=this.state,l=c.activeTab,u=c.isOpenedSchedule,h=c.styles,f=o,d=a&&this.hasOtcInCurrentTab()&&!u,p=o&&Rt(l);return(0,Ms.jsx)(Uf,{timeout:o?1:200,className:"drop-down-modal-wrap",children:(0,Ms.jsx)(od,{onClickOutside:e,className:(0,Ds.A)("drop-down-modal drop-down-modal--quotes-list",s&&"welcome-tour"),style:i?null:h,chartId:r,shouldCapture:!s,children:(0,Ms.jsxs)("div",{className:(0,Ds.A)("assets-block",f&&"assets-block--compact",i&&"assets-block--multi-graph"),children:[(0,Ms.jsx)("div",{className:"assets-block__col assets-block__col-nav",children:(0,Ms.jsxs)(ku,{children:[(0,Ms.jsx)(nX,{isCompact:f,activeTab:l,onTabChange:this.onTabChange,onSearchTermChange:this.onSearchTermChange,searchTerm:this.state.searchTerm,isOpenedSchedule:u,onScheduleClick:this.onScheduleClick}),!f&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"assets-block__nav assets-block__nav-bottom",children:(0,Ms.jsx)(qz,{isOpenedSchedule:u,onScheduleClick:this.onScheduleClick})}),d&&(0,Ms.jsx)(sX,{}),u&&(0,Ms.jsx)(aX,{})]})]})}),(0,Ms.jsxs)("div",{className:"assets-block__col assets-block__col-body",children:[(0,Ms.jsxs)("div",{className:"assets-block__filters filters",children:[!f&&(0,Ms.jsx)(Yz,{searchTerm:this.state.searchTerm,onSearchTermChange:this.onSearchTermChange,isMobile:o}),(0,Ms.jsxs)("div",{className:"assets-block__filters-sort-block sort-block",children:[(0,Ms.jsx)(jX,{onTabSort:this.onTabSort,categoryName:p}),(0,Ms.jsx)(xX,{onTabSort:this.onTabSort,isOpenedSchedule:u})]})]}),(0,Ms.jsx)("div",{className:"assets-block__body-wrap",children:(0,Ms.jsx)("div",{className:"assets-block__body",children:(0,Ms.jsx)(wX,{searchTerm:this.state.searchTerm,activeTab:l,currentSymbol:n,onChangeSymbol:this.changeSymbol,onFavoriteToggled:this.onFavoriteToggled,isOpenedSchedule:u,showOtcDescription:d,isMobile:o,isCompact:f})})})]})]})})})}}],r&&SX(n.prototype,r),i&&SX(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),IX=mp((function(t,e,n){var r=t.favorites.list,i=t.chartSettings.visibleSymbols.length>1;return{currentSymbol:t.chartSettings.chartById[n].symbol,favoriteSymbols:r,chartId:n,isMultiGraph:i,isMobile:t.global.isMobile,enabledTooltipMessage:t.global.enabledTooltipMessage,assetBySymbol:t.assets.assetBySymbol,symbols:t.assets.symbols,showFavPanel:!i&&r.length>0,isWelcomeTour:(0,Nr.v9)(t)}}),{changeSymbol:va.xw,addFavoriteSymbol:va.K,removeFavoriteSymbol:va.vn,changeAssetSortType:ba.tX},np)(Pl(NX));function RX(t){return RX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RX(t)}function LX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VX(r.key),r)}}function DX(t,e,n){return e=BX(e),function(t,e){if(e&&("object"===RX(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return HX(t)}(t,MX()?Reflect.construct(e,n||[],BX(t).constructor):e.apply(t,n))}function MX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(MX=function(){return!!t})()}function BX(t){return BX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},BX(t)}function HX(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FX(t,e){return FX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},FX(t,e)}function GX(t,e,n){return(e=VX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VX(t){var e=function(t,e){if("object"!=RX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=RX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==RX(e)?e:String(e)}var WX=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return GX(HX(t=DX(this,e,[].concat(i))),"state",{activeTab:gt,addToFavourites:!1}),GX(HX(t),"iconRef",(0,r.createRef)()),GX(HX(t),"eventId",null),GX(HX(t),"onDropdownOpened",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t.props,r=n.changeModalState,i=n.chartId;t.setState({activeTab:e},(function(){return r({modalId:me.lx.ASSETS_LIST,value:i})}))})),GX(HX(t),"onDropdownClosed",(function(){var e=t.props.changeModalState;t.setState({activeTab:null,addToFavourites:!1},(function(){return e({modalId:me.lx.ASSETS_LIST,value:!1})}))})),GX(HX(t),"onKeyUp",(function(e){var n=t.props,r=n.visibleSymbolsLength,i=n.isOpen;Cw(e)||1!==r||!e.shiftKey||"KeyF"!==e.code||i||t.onDropdownOpened(St),"Escape"===e.code&&i&&t.onDropdownClosed()})),GX(HX(t),"getActiveTab",(function(e){var n=t.props.currentAssetType;return null!==e?e:n||gt})),t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FX(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("keyup",this.onKeyUp),this.eventId=Re.A.subscribe(Ha.Py,(function(){t.setState({addToFavourites:!0},(function(){t.onDropdownOpened()}))}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp),Re.A.unsubscribe(this.eventId)}},{key:"render",value:function(){var t=this.getActiveTab(this.state.activeTab),e=this.props.isOpen;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(Xz,{ref:this.iconRef,isOpen:e,onDropdownOpened:this.onDropdownOpened}),e&&(0,Ms.jsx)(IX,{activeTab:t,onDropdownClose:this.onDropdownClosed,openerNode:this.iconRef.current,addToFavourites:this.state.addToFavourites})]})}}])&&LX(n.prototype,i),o&&LX(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),UX=mp((function(t,e,n){return{currentAssetType:(0,Vs.E_)(t)(n).type,visibleSymbolsLength:t.chartSettings.visibleSymbols.length,isOpen:t.modals.states[me.lx.ASSETS_LIST]===n,chartId:n}}),{changeModalState:ys.V7},np)(WX),zX=function(){var t=(0,u.d4)((function(t){return t.global.currentTime})),e=(0,u.d4)((function(t){return t.global.isMobile})),n=(0,u.d4)(Wc.AQ);if(!t)return null;var r=bi(t),i=mi(),o=Oi(i);return(0,Ms.jsxs)("div",{className:"current-time",children:[(0,Ms.jsx)("div",{className:"current-time__time",children:r}),(0,Ms.jsxs)("div",{className:"current-time__zone",children:["UTC",i>=0?"+":"",o]}),!e&&!n&&(0,Ms.jsx)("div",{className:"current-time__actions",children:(0,Ms.jsxs)("a",{className:"current-time__action-item flex-centered mfp-ajax-modal tooltip2",href:(0,je.hX)("cabinet/ajax/modal/settings?oc=7"),children:[(0,Ms.jsx)("i",{className:"current-time__action-icon fa fa-cog"}),(0,Ms.jsx)(Vc,{position:"right",children:(0,yt.tr)("timezone")})]})})]})};function XX(t){return XX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XX(t)}function $X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function YX(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$X(Object(n),!0).forEach((function(e){qX(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qX(t,e,n){var r;return r=function(t,e){if("object"!=XX(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=XX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==XX(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var KX=function(t){return(0,Ms.jsx)("div",YX(YX({},t),{},{children:(0,Ms.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 448 512",children:(0,Ms.jsx)("path",{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"})})}))},ZX=function(t){var e=t.isOpen,n=t.onRequestClose,r=t.onOkClick;return(0,Ms.jsxs)(yd(),{isOpen:e,onRequestClose:n,ariaHideApp:!1,closeTimeoutMS:200,className:"ConfirmModal",overlayClassName:"ConfirmModalOverlay",shouldCloseOnOverlayClick:!0,children:[(0,Ms.jsx)("div",{className:"icon",children:(0,Ms.jsx)(KX,{})}),(0,Ms.jsxs)("div",{className:"content",children:[(0,Ms.jsx)("p",{children:(0,yt.tr)("indicators.remove_all")}),(0,Ms.jsxs)("div",{className:"buttons",children:[(0,Ms.jsx)("button",{className:"btn btn-default",onClick:n,children:(0,yt.tr)("deals.cancel")}),(0,Ms.jsx)("button",{className:"btn btn-green",onClick:r,children:"OK"})]})]})]})};function QX(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return JX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JX(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var t$=function(t){var e=t.count,n=QX((0,r.useState)(!1),2),i=n[0],o=n[1],a=(0,u.wA)(),s=(0,r.useContext)(np),c=(0,u.d4)((function(t){return(0,Vs.E_)(t)(s)})).id;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("a",{className:(0,Ds.A)("items__link"),onClick:function(t){t.stopPropagation(),Re.A.publish(ga),o(!0)},children:[(0,Ms.jsx)("i",{className:"items__fa fa fa-trash"}),(0,Ms.jsx)(qc,{count:e})]}),(0,Ms.jsx)(ZX,{onRequestClose:function(){Re.A.publish(ga),o(!1)},isOpen:i,onOkClick:function(){var t;Re.A.publish(ga),a((t={chartId:s,assetId:c},function(e){var n=t.assetId,r=t.chartId;e(q.removeAll({assetId:n,chartId:r})),e(ft.removeAll({chartId:r}))}))}})]})};t$.propTypes={count:Rc().number.isRequired};var e$=t$;function n$(t){return n$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n$(t)}var r$=["children","Container"];function i$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i$(Object(n),!0).forEach((function(e){a$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a$(t,e,n){var r;return r=function(t,e){if("object"!=n$(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=n$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==n$(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var c$=function(t){var e=t.children,n=t.Container,r=void 0===n?"span":n,i=s$(t,r$);return(0,Ms.jsx)(r,o$(o$({},i),{},{onAnimationEnd:function(t){return t.currentTarget.classList.remove("blinking")},onClick:function(t){void 0!==i.onClick&&i.onClick(),t.currentTarget.classList.add("blinking")},children:e}))};function l$(t){return l$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l$(t)}function u$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u$(Object(n),!0).forEach((function(e){f$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f$(t,e,n){var r;return r=function(t,e){if("object"!=l$(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==l$(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d$=mp((function(t,e,n){return{chartId:n,favoriteIndicators:t.indicators.favorites}}),{indicatorAdd:SB,indicatorFavorite:EB,indicatorUnfavorite:PB},np)((function(t){var e=t.indicatorAdd,n=t.chartId,r=t.favoriteIndicators,i=t.indicatorFavorite,o=t.indicatorUnfavorite,a=t.tab===PU?Object.keys(Xv):r,s=function(t){return function(){Re.A.publish(ga),i(t)}},c=function(t){return function(){Re.A.publish(ga),o(t)}},l=function(t){return function(){Re.A.publish(ga),e(h$(h$({},Xv[t].config),{},{chartId:n,type:t}))}};return(0,Ms.jsx)(Ms.Fragment,{children:a.map((function(t){var e=r.includes(t);return(0,Ms.jsxs)(c$,{Container:"div",className:(0,Ds.A)("indicator",e&&"has-favorites"),children:[e&&(0,Ms.jsx)("a",{className:"indicator--icon",onClick:c(t),children:(0,Ms.jsx)("i",{className:"fa fa-star del"})}),!e&&(0,Ms.jsx)("a",{className:"indicator--icon",onClick:s(t),children:(0,Ms.jsx)("i",{className:"fa fa-star-o add"})}),(0,Ms.jsx)("span",{onClick:l(t),className:"indicator--label",children:(0,yt.tr)("indicators.".concat(t))})]},t)}))})})),p$=mp((function(t,e,n){var r=mE(n);return function(t){return{chartId:n,indicators:r(t)}}}),null,np)((function(t){var e=t.handleEditClick,n=t.indicators;return(0,Ms.jsx)(Ms.Fragment,{children:n.map((function(t){var n=t.id,r=t.type;return(0,Ms.jsx)("div",{className:"indicator",children:(0,Ms.jsxs)("div",{className:"indicator--label",onClick:e(n),children:[(0,Ms.jsxs)("div",{children:[(0,yt.tr)("indicators.".concat(r))," ",(0,Ms.jsx)(IG,{indicator:t})]}),(0,Ms.jsx)("div",{className:"actions",children:(0,Ms.jsx)(SH,{className:"icon-wrapper",width:18,height:18})})]},n)},r)}))})}));function m$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y$(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v$=mp((function(t,e,n){var r=mE(n);return function(t){return{chartId:n,favoritesCount:t.indicators.favorites.length,indicators:r(t)}}}),null,np)((function(t){var e=t.isOpen,n=t.chartId,i=t.favoritesCount,o=t.indicators,a=t.onRequestClose,s=(0,u.wA)(),c=m$((0,r.useState)(PU),2),l=c[0],h=c[1],f=m$((0,r.useState)(null),2),d=f[0],p=f[1],m=o.length;(0,r.useEffect)((function(){(0===i&&l===EU||0===m&&l===CU)&&h(PU)}),[i,m]);var y=function(t){return function(){return h(t)}},v=o.find((function(t){return t.id===d}));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)(yd(),{isOpen:e&&null==d,onRequestClose:a,ariaHideApp:!1,closeTimeoutMS:1,className:"IndicatorsList",overlayClassName:"IndicatorsListOverlay",shouldCloseOnOverlayClick:!0,children:[(0,Ms.jsxs)("div",{className:"m-header",children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("chart_settings.indicators")}),(0,Ms.jsx)("a",{onClick:a,children:(0,Ms.jsx)(HH,{})})]}),(i>0||m>0)&&(0,Ms.jsxs)("ul",{className:"tab-nav tab-nav--v2",children:[i>0&&(0,Ms.jsx)("li",{className:(0,Ds.A)("fav",l===EU&&"active"),children:(0,Ms.jsx)("a",{onClick:y(EU),children:(0,yt.tr)("assets.fav")})}),m>0&&(0,Ms.jsx)("li",{className:(0,Ds.A)(l===CU&&"active"),children:(0,Ms.jsxs)("a",{onClick:y(CU),children:[(0,yt.tr)("indicators.current")," (",m,")"]})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(l===PU&&"active"),children:(0,Ms.jsx)("a",{onClick:y(PU),children:(0,yt.tr)("indicators.all_ind")})})]}),(0,Ms.jsxs)(ku,{className:"m-content",children:[l!==CU&&(0,Ms.jsx)(d$,{tab:l}),l===CU&&(0,Ms.jsx)(p$,{indicators:o,handleEditClick:function(t){return function(){Re.A.publish(ga),p(t)}},handleDeleteClick:function(t){return function(){Re.A.publish(ga),s(TB(t))}}})]}),m>0&&l!==EU&&(0,Ms.jsx)("a",{className:"remove-all",onClick:function(){Re.A.publish(ga),s(CB(n))},children:"".concat((0,yt.tr)("drawings.delete_all")," (").concat(m,")")})]}),(0,Ms.jsx)(PG,{isOpen:null!=v,indicator:v,onRequestClose:function(){Re.A.publish(ga),p(null)}})]})}));function b$(t){return b$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b$(t)}function g$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g$(Object(n),!0).forEach((function(e){x$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x$(t,e,n){var r;return r=function(t,e){if("object"!=b$(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=b$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==b$(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j$=mp((function(t,e,n){var r=yE(n);return function(t){var e=(0,Vs.E_)(t)(n);return{asset:e,chartId:n,drawings:r(t)(e.id)}}}),{addDrawing:jB},np)((function(t){var e=t.addDrawing,n=t.asset,r=t.chartId;return(0,Ms.jsx)(Ms.Fragment,{children:Object.keys(bb).map((function(t){var i,o=bb[t],a=o.icon,s=o.label;return(0,Ms.jsx)(c$,{Container:"div",className:"drawings-modal__item",onClick:(i=t,function(){var t=bb[i],o=parseInt(i,10);e(w$(w$({},t.config),{},{chartId:r,type:o,assetId:n.id,symbol:n.symbol}))}),children:(0,Ms.jsxs)("div",{className:"drawings-modal__item-info",children:[(0,Ms.jsx)("div",{className:"drawing-icon",children:(0,Ms.jsx)(a,{})}),(0,Ms.jsx)("span",{className:"drawing-label",children:s})]})},t)}))})})),O$=function(t){var e=t.drawings,n=t.handleEditClick;return(0,Ms.jsx)(Ms.Fragment,{children:e.map((function(t){var e=t.id,r=t.type,i=bb[r],o=i.icon,a=i.label;return(0,Ms.jsxs)("div",{className:"drawings-modal__item",onClick:n(e),children:[(0,Ms.jsxs)("div",{className:"drawings-modal__item-info",children:[(0,Ms.jsx)("div",{className:"drawing-icon",children:(0,Ms.jsx)(o,{})}),(0,Ms.jsx)("span",{className:"drawing-label",children:a})]}),(0,Ms.jsx)("div",{className:"actions",children:(0,Ms.jsx)(SH,{className:"icon-wrapper",width:18,height:18})})]},e)}))})};function S$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _$(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var T$="all",A$="current",E$=function(t){var e=t.isOpen,n=t.asset,i=t.chartId,o=t.drawings,a=t.onRequestClose,s=(0,u.wA)(),c=S$((0,r.useState)(T$),2),l=c[0],h=c[1],f=function(t){return function(){return h(t)}},d=S$((0,r.useState)(null),2),p=d[0],m=d[1],y=o.length;(0,r.useEffect)((function(){0===y&&l===A$&&h(T$)}),[y]);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)(yd(),{isOpen:e&&null==p,onRequestClose:a,ariaHideApp:!1,closeTimeoutMS:1,className:"DrawingsList",overlayClassName:"DrawingsListOverlay",shouldCloseOnOverlayClick:!0,children:[(0,Ms.jsxs)("div",{className:"m-header",children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("chart_settings.drawings")}),(0,Ms.jsx)("a",{onClick:a,children:(0,Ms.jsx)(HH,{})})]}),y>0&&(0,Ms.jsxs)("ul",{className:"tab-nav tab-nav--v2",children:[(0,Ms.jsx)("li",{className:(0,Ds.A)(l===A$&&"active"),children:(0,Ms.jsxs)("a",{onClick:f(A$),children:[(0,yt.tr)("drawings.current")," (",y,")"]})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(l===T$&&"active"),children:(0,Ms.jsx)("a",{onClick:f(T$),children:(0,yt.tr)("drawings.all")})})]}),(0,Ms.jsxs)(ku,{className:(0,Ds.A)("m-content","tab-".concat(l)),children:[l===T$&&(0,Ms.jsx)(j$,{}),l===A$&&(0,Ms.jsx)(O$,{drawings:o,handleEditClick:function(t){return function(){return m(t)}}})]}),y>0&&(0,Ms.jsx)("a",{className:"remove-all",onClick:function(){s(OB({chartId:i,assetId:n.id,symbol:n.symbol})),Re.A.publish(ga)},children:"".concat((0,yt.tr)("drawings.delete_all")," (").concat(y,")")})]}),(0,Ms.jsx)(ZH,{isOpen:null!==p,drawingId:p,onRequestClose:function(){return m(null)}})]})};E$.propTypes={onRequestClose:Rc().func.isRequired};var P$=mp((function(t,e,n){var r=yE(n);return function(t){var e=(0,Vs.E_)(t)(n);return{asset:e,chartId:n,drawings:r(t)(e.id)}}}),null,np)(E$);function C$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return k$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k$(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var N$=function(){var t=C$((0,r.useState)(),2),e=t[0],n=t[1],i=(0,u.wA)(),o=(0,r.useContext)(np),a=(0,u.d4)((function(t){return t.chartSettings.chartById[o].candlesTimer})),s=(0,u.d4)((function(t){return t.chartSettings.chartById[o].showArea})),c=(0,u.d4)((function(t){return t.chartSettings.chartById[o].enabledAutoscroll})),l=(0,u.d4)((function(t){return t.chartSettings.chartById[o].enabledGridSnap})),h=(0,u.d4)((function(t){return t.chartSettings.chartById[o].chartType})),f=(0,u.d4)((function(t){return t.global.isMobile})),d=function(t){return function(){return i((0,va.PC)({chartType:t,chartId:o}))}},p=!(0,g.Mt)(h);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("ul",{className:"chart-settings-modal__types-list types-list",children:Object.keys(w.dV).map((function(t){return(0,Ms.jsx)("li",{className:(0,Ds.A)("types-list__item",w.dV[t]===h&&"active"),children:(0,Ms.jsxs)("a",{onClick:d(w.dV[t]),className:"types-list__link",children:[(0,Ms.jsx)(Gs.k,{src:(e=w.ab[w.dV[t]],"/themes/cabinet/svg/icons/chart-types/".concat(e,".svg")),className:"svg-icon-wrapper"}),(0,Ms.jsx)("span",{className:"types-list__label",children:w.U6[w.M[t]]})]})},w.dV[t]);var e}))}),(0,Ms.jsxs)("div",{className:"chart-settings-modal__settings",children:[!p&&(0,Ms.jsx)(vU,{isEnabled:s,handleChange:function(t){return i((0,Bu.vh)(o,!!t.target.checked))}}),p&&(0,Ms.jsx)(eU,{isEnabled:a,handleChange:function(t){return i((0,va.Cj)(o,!!t.target.checked))}}),(0,Ms.jsx)(rU,{isEnabled:c,handleChange:function(t){return i((0,Bu.Jx)(o,!!t.target.checked))}}),p&&!f&&(0,Ms.jsx)(oU,{isEnabled:l,handleChange:function(t){return i((0,Bu.ZC)(o,!!t.target.checked))}})]}),p&&(0,Ms.jsx)("div",{className:"chart-settings-modal__change-color change-color",children:(0,Ms.jsx)("a",{onClick:function(){return n(!0)},className:"change-color__title",children:(0,yt.tr)("chart_settings.candle_colors")})}),(0,Ms.jsx)(mU,{isOpen:e,onRequestClose:function(){return n(!1)}})]})},I$=function(){var t=(0,u.wA)(),e=(0,r.useContext)(np),n=Object.values(M()(w.YE,["S1"])),i=function(n){return function(){return t((0,va.eh)({chartPeriod:n,chartId:e}))}},o=(0,u.d4)((function(t){return t.chartSettings.chartById[e].chartPeriod}));return(0,Ms.jsx)("ul",{className:"interval-list",children:n.map((function(t){return(0,Ms.jsx)("li",{className:(0,Ds.A)("interval-list__item",t===o&&"active"),children:(0,Ms.jsx)("a",{onClick:i(t),className:"interval-list__link",children:(0,Ms.jsx)("span",{className:"interval-list__label",children:w.$t[t]})})},t)}))})};function R$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return L$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L$(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var D$="chart_types",M$="time_frames",B$=[D$],H$=[D$,M$],F$=function(t){var e=t.isOpen,n=t.onRequestClose,i=R$((0,r.useState)(D$),2),o=i[0],a=i[1],s=(0,r.useContext)(np),c=(0,u.d4)((function(t){return t.chartSettings.chartById[s].chartType})),l=(0,u.d4)((function(t){return t.chartSettings.chartById[s].chartPeriod})),h=(0,r.useRef)(null),f=R$((0,r.useState)(null),2),d=f[0],p=f[1],m=function(t){return function(){t===M$&&(0,g.Mt)(c)||o===t||(t===M$&&h.current?p({height:h.current.offsetHeight}):p(null),a(t))}},y=(0,g.Mt)(c)?B$:H$;return(0,Ms.jsx)(yd(),{isOpen:e,onRequestClose:n,ariaHideApp:!1,closeTimeoutMS:1,className:"ChartSettingsModal",overlayClassName:"ChartSettingsModalOverlay",shouldCloseOnOverlayClick:!0,contentRef:function(t){h.current=t},children:(0,Ms.jsxs)("div",{className:"chart-settings-modal",ref:h,style:d,children:[(0,Ms.jsx)("div",{className:"chart-settings-modal__nav",children:y.map((function(t){var e=(0,yt.tr)("chart_settings.".concat(t));return t===M$&&function(t,e){return!(0,g.Mt)(t)&&w.$t[e]}(c,l)&&(e+=" (".concat(w.$t[l],")")),t===o?(0,Ms.jsx)("a",{className:"chart-settings-modal__nav-link active",children:e},t):(0,Ms.jsx)("a",{onClick:m(t),className:"chart-settings-modal__nav-link",children:e},t)}))}),o===D$&&(0,Ms.jsx)(N$,{}),o===M$&&(0,Ms.jsx)(I$,{})]})})},G$=F$;function V$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return W$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W$(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U$=function(){var t=(0,u.wA)(),e=(0,r.useContext)(np),n=V$((0,r.useState)(!1),2),i=n[0],o=n[1],a=(0,u.d4)((function(t){return(0,Vs.E_)(t)(e)})),s=(0,u.d4)((function(t){return mE(e)(t).length})),c=(0,u.d4)((function(t){return yE(e)(t)(a.id).length})),l=(0,u.d4)((function(t){return t.modals.states[me.lx.INDICATORS_MODAL]})),h=(0,u.d4)((function(t){return t.modals.states[me.lx.CHART_SETTINGS]})),f=(0,u.d4)((function(t){return t.modals.states[me.lx.DRAWINGS_MODAL]})),d=(0,u.d4)(Wc.AQ),p=function(){Re.A.publish(ga),o(!1)},m=function(e){return function(){Re.A.publish(ga),t((0,ys.V7)({modalId:e,value:!0}))}},y=function(e){return function(){Re.A.publish(ga),t((0,ys.V7)({modalId:e,value:!1}))}},v=s+c;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"items",children:[!i&&(0,Ms.jsx)("div",{className:"settings-container",children:(0,Ms.jsx)(qW,{onClick:function(){Re.A.publish(ga),o(!0)},isOpen:i})}),i&&(0,Ms.jsxs)("div",{className:"settings-container",children:[(0,Ms.jsx)(qW,{onClick:p,isOpen:i}),(0,Ms.jsxs)(od,{className:(0,Ds.A)(i&&"open",!i&&"hide"),onClick:p,onClickOutside:p,shouldCapture:!0,chartId:e,children:[(0,Ms.jsx)(ZW,{isOpened:h,handleClick:m(me.lx.CHART_SETTINGS)}),(0,Ms.jsx)(QW,{isOpened:l,count:s,handleClick:m(me.lx.INDICATORS_MODAL)}),(0,Ms.jsx)(JW,{count:c,handleClick:m(me.lx.DRAWINGS_MODAL)}),!d&&(0,Ms.jsx)(FW,{})]})]}),v>0&&(0,Ms.jsx)(e$,{count:v})]}),(0,Ms.jsx)(G$,{isOpen:h,onRequestClose:y(me.lx.CHART_SETTINGS)}),(0,Ms.jsx)(v$,{isOpen:l,onRequestClose:y(me.lx.INDICATORS_MODAL)}),(0,Ms.jsx)(P$,{isOpen:f,onRequestClose:y(me.lx.DRAWINGS_MODAL)})]})},z$=function(t){var e=t.editIndicatorHandler,n=t.indicator,r=(0,u.wA)(),i=(0,u.d4)((function(t){return t.global.isMobile}));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("span",{className:"chart-indicator-info",title:"".concat((0,yt.tr)("indicators.".concat(n.type))," ").concat(kG(n)),children:[(0,yt.tr)("indicators.".concat(n.type))," ",(0,Ms.jsx)(IG,{indicator:n})]}),(0,Ms.jsxs)("div",{className:"current-indicators__controls",children:[!i&&(0,Ms.jsx)("a",{onClick:function(){return r(AB(n.id,!n.visible))},children:(0,Ms.jsx)("i",{className:(0,Ds.A)("fa",n.visible?"fa-eye":"fa-eye-slash")})}),(0,Ms.jsx)("a",{onClick:e,children:(0,Ms.jsx)("i",{className:"fa fa-pencil"})}),!i&&(0,Ms.jsx)("a",{onClick:function(){return r(TB(n.id))},children:(0,Ms.jsx)("i",{className:"fa fa-times"})})]})]})};function X$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $$(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y$=mp((function(t,e,n){var r,i=(r=n,(0,Md.Mz)([lE,hE],(function(t,e){return e.filter((function(e){var n=t[e],i=n.chartId,o=n.type;return i===r&&!Yv(o)})).map((function(e){return t[e]}))})));return function(t){return{indicators:i(t),collapseIndicatorsInfo:t.global.collapseIndicatorsInfo}}}),{changeCollapseIndicatorsInfo:CG},np)((function(t){var e=t.collapseIndicatorsInfo,n=t.changeCollapseIndicatorsInfo,i=t.indicators,o=X$((0,r.useState)(null),2),a=o[0],s=o[1],c=function(t){return function(){return s(t.id)}};if(!i.length)return null;var l=i.find((function(t){return t.id===a}));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:(0,Ds.A)("current-indicators",!e&&"open"),children:[(0,Ms.jsxs)("a",{className:"current-indicators-collapse",onClick:function(){return n(!e)},children:[(0,Ms.jsx)("i",{className:"fa fa-caret-right"}),e&&(0,Ms.jsx)("span",{className:"cnt",children:i.length})]}),!e&&(0,Ms.jsx)("ul",{children:i.map((function(t){return(0,Ms.jsx)("li",{className:(0,Ds.A)(!t.visible&&"muted"),children:(0,Ms.jsx)(z$,{indicator:t,editIndicatorHandler:c(t)})},t.id)}))})]}),(0,Ms.jsx)(PG,{isOpen:null!=l,indicator:l,onRequestClose:function(){return s(null)}})]})})),q$=function(t){var e=t.handleCloseMenu,n=t.openMenu,i=t.openedMenu,o=t.openerRef,a=(0,r.useRef)(),s=(0,r.useRef)(),c=(0,r.useRef)(),l=(0,r.useContext)(np),h=(0,u.d4)((function(t){return(0,Vs.E_)(t)(l)})),f=(0,u.d4)((function(t){return mE(l)(t).length})),d=(0,u.d4)((function(t){return yE(l)(t)(h.id).length})),p=(0,u.d4)((function(t){return t.global.openingFirstDealPanel})),m=(0,u.d4)((function(t){return t.global.isMobile})),y=(0,u.d4)((function(t){return t.global.windowLayout})),v=(0,u.d4)((function(t){return t.global.isDemo})),b=(0,u.d4)((function(t){return t.global.isTournament})),g=(0,u.d4)(Cr.TF),w=zp(o.current),x=!m&&!(0,_H.h0)(y),j=y!==he.rs.FULL;return(0,Ms.jsx)(Uf,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",onClick:e,style:w,children:(0,Ms.jsxs)(od,{className:"two-columns",onClickOutside:e,chartId:l,children:[(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)(ZW,{isOpened:i===uz,ref:a,handleClick:function(){return n(uz)}}),(0,Ms.jsx)(QW,{count:f,ref:s,isOpened:i===hz,handleClick:function(){return n(hz)}}),(0,Ms.jsx)(JW,{count:d,ref:c,isOpened:i===fz,handleClick:function(){return n(fz)}}),x&&(0,Ms.jsx)(YW,{})]}),(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)(FW,{}),(!v||!p)&&(0,Ms.jsx)(GW,{}),b&&(0,Ms.jsx)(VW,{}),g&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(UW,{position:"down"}),(0,Ms.jsx)(XW,{position:"down"})]}),j&&(0,Ms.jsx)($W,{})]})]})})};function K$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Z$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z$(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Q$=function(){var t=K$((0,r.useState)(!1),2),e=t[0],n=t[1],i=function(){return n(!1)},o=(0,r.useRef)(),a=K$((0,r.useState)(null),2),s=a[0],c=a[1],l=function(){return c(null)},h=(0,u.d4)((function(t){return t.chartSettings.visibleChartIds.length>1})),f=(0,r.useRef)();return(0,Ms.jsxs)("div",{className:"items",children:[(0,Ms.jsxs)("div",{ref:f,className:"settings-container",children:[e&&(0,Ms.jsx)(qW,{onClick:i,isOpen:!0}),!e&&(0,Ms.jsx)(qW,{onClick:function(){return n(!0)},isOpen:!1}),e&&(0,Ms.jsx)(q$,{openerRef:f,handleCloseMenu:i,openMenu:c,openedMenu:s})]}),!h&&(0,Ms.jsx)(cz,{ref:o,isOpened:s===dz,handleClick:function(){return c(dz)}}),(0,Ms.jsx)(G$,{isOpen:s===uz,onRequestClose:l}),(0,Ms.jsx)(v$,{isOpen:s===hz,onRequestClose:l}),(0,Ms.jsx)(P$,{isOpen:s===fz,onRequestClose:l}),s===dz&&(0,Ms.jsx)(lz,{onClickOutside:l,openerNode:o.current,onDropdownClose:l})]})},J$=(0,u.Ng)((function(t){var e=t.global,n=e.enabledTooltipMessage;return{showTooltip:!e.isMobile&&n}}))((function(t){var e=t.showTooltip;return(0,Ms.jsx)(r.Fragment,{children:(0,Ms.jsx)("div",{className:"info-icons--gift info-icons__item info-icons--active",children:(0,Ms.jsxs)("a",{className:(0,Ds.A)("mfp-ajax-modal info-icons__link",e&&"tooltip2"),href:(0,je.hX)("cabinet/ajax/modal/bonus-info"),children:[(0,Ms.jsx)("span",{className:"info-icons__icon",children:(0,Ms.jsx)("i",{className:"fa fa-gift"})}),e&&(0,Ms.jsx)(Vc,{position:"right",text:"right_panel.on_bonus"})]})})})}));function tY(t,e){return t.day===e.day&&t.month===e.month&&t.year===e.year}var eY=function(t){for(var e=t.calendarItem.priority,n=[],r=0;r<e;r++)n.push((0,Ms.jsx)("li",{},r));return(0,Ms.jsx)("ul",{className:(0,Ds.A)("priority-items","priority-items--count-".concat(e)),children:n})},nY=function(t){var e=t.calendarItem,n=e.country_code,r=e.country_name;return(0,Ms.jsx)("div",{className:"flag-wrap",children:(0,Ms.jsx)("img",{src:"".concat((0,je.pc)("images/flag/24"),"/").concat(n.toUpperCase(),".png"),alt:r,title:r})})},rY=function(t){var e=t.item,n=t.openedItem,r=t.handleOpenItem,i=e.country_name,o=e.event,a=e.previous,s=e.forecast,c=e.actual,l=e.time,u=e.event_description,h=e.priority_,f=Ti(l),d=function(t){if(t<0)return"";var e=Math.floor(t/60/60),n=Math.floor(t/60)-60*e;return"".concat((0,Jr.wl)(e),"h. ").concat((0,Jr.wl)(n),"m.")}(f.timestamp-pi().timestamp),p=n===e.id;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("tr",{onClick:r(e.id),className:(0,Ds.A)(p&&"opened"),children:[(0,Ms.jsx)("td",{children:"".concat(f.hour,":").concat(f.min)}),(0,Ms.jsxs)("td",{children:[(0,Ms.jsx)(eY,{calendarItem:e})," ",(0,Ms.jsx)("div",{className:"priority-text",children:e.priority_})]}),(0,Ms.jsx)("td",{children:d}),(0,Ms.jsx)("td",{children:(0,Ms.jsxs)("div",{className:"event-wrap",children:[(0,Ms.jsx)(nY,{calendarItem:e}),o]})}),(0,Ms.jsx)("td",{children:a}),(0,Ms.jsx)("td",{children:(0,Ms.jsx)("span",{className:"forecast-text",children:s})}),(0,Ms.jsx)("td",{children:(0,Ms.jsx)("span",{className:"actual-text",children:c})})]}),p&&(0,Ms.jsx)("tr",{className:"calendar-item-info-block",children:(0,Ms.jsx)("td",{colSpan:"7",children:(0,Ms.jsxs)("table",{children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"15%"}}),(0,Ms.jsx)("col",{style:{width:"85%"}})]}),(0,Ms.jsxs)("tbody",{children:[(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,Ms.jsx)("span",{children:(0,yt.tr)("analytics-modal.desc")})}),(0,Ms.jsx)("td",{children:u})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,Ms.jsx)("span",{children:(0,yt.tr)("analytics-modal.priority")})}),(0,Ms.jsx)("td",{children:(0,Ms.jsxs)("div",{className:"wrap",style:{display:"flex"},children:[h,(0,Ms.jsx)(eY,{calendarItem:e})]})})]}),(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,Ms.jsx)("span",{children:(0,yt.tr)("analytics-modal.country")})}),(0,Ms.jsx)("td",{children:(0,Ms.jsxs)("div",{className:"event-wrap",children:[(0,Ms.jsx)(nY,{calendarItem:e}),i]})})]})]})]})})})]})};function iY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return oY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oY(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aY(){var t,e=iY((0,r.useState)(vY.TODAY),2),n=e[0],i=e[1],o=iY((0,r.useState)(!0),2),a=o[0],s=o[1],c=iY((0,r.useState)(null),2),l=c[0],u=c[1],h=Zr.endpoints.getAnalyticsData.useQuery(),f=h.data,d=void 0===f?{calendar:[],analytics:[]}:f,p=h.isLoading,m=function(t){return function(){return u((function(e){return e===t?null:t}))}},y=pi(),v=vi(y.timestamp+86400),b=ji(),g="UTC".concat(b>=0?"+":"").concat(b),w=d.calendar.filter((function(t){var e=Ti(t.time),r=e.timestamp-y.timestamp,i=tY(y,e)&&n===vY.TODAY,o=tY(v,e)&&n===vY.TOMORROW;return(i||o)&&(!a||r>0)}));return(0,Ms.jsxs)("div",{className:"tabs__content tab-calendar active",children:[(0,Ms.jsxs)("div",{className:"filter",children:[(0,Ms.jsxs)("div",{className:"current-date",children:[(0,yt.tr)("analytics-modal.current_date"),":"," ",(0,Ms.jsx)("span",{children:(t=n===vY.TODAY?y:v,"".concat(t.day,".").concat(t.month,".").concat(t.year))})," (",g,")"]}),Object.values(vY).map((function(t){return(0,Ms.jsx)("div",{className:(0,Ds.A)("btn_",n===t&&"active"),onClick:(e=t,function(){return i(e)}),children:(0,yt.tr)("analytics-modal.".concat(t))},t);var e})),(0,Ms.jsx)("div",{className:"filter__switcher",children:(0,Ms.jsx)(Ef,{checked:a,onChange:function(t){return s(Boolean(t.target.checked))},children:(0,yt.tr)("analytics-modal.show_actual")})})]}),(0,Ms.jsx)(ku,{className:"calendar-block",children:(0,Ms.jsxs)("table",{className:"table table-calendar",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"10%"}}),(0,Ms.jsx)("col",{style:{width:"10%"}}),(0,Ms.jsx)("col",{style:{width:"10%"}}),(0,Ms.jsx)("col",{style:{width:"40%"}}),(0,Ms.jsx)("col",{style:{width:"10%"}}),(0,Ms.jsx)("col",{style:{width:"10%"}}),(0,Ms.jsx)("col",{style:{width:"10%"}})]}),(0,Ms.jsx)("thead",{children:(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.time")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.priority")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.time_left")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.event")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.prev")}),(0,Ms.jsx)("th",{children:(0,Ms.jsx)("span",{className:"forecast-text",children:(0,yt.tr)("analytics-modal.forecast")})}),(0,Ms.jsx)("th",{children:(0,Ms.jsx)("span",{className:"actual-text",children:(0,yt.tr)("analytics-modal.actual")})})]})}),(0,Ms.jsxs)("tbody",{children:[p&&(0,Ms.jsx)("tr",{children:(0,Ms.jsx)("td",{colSpan:"7",className:"loading",children:(0,Ms.jsx)(Kl,{})})}),!p&&0===w.length&&(0,Ms.jsx)("tr",{children:(0,Ms.jsx)("td",{colSpan:"7",children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("analytics-modal.no-events")})})}),!p&&w.length>0&&w.map((function(t){return(0,Ms.jsx)(rY,{item:t,openedItem:l,handleOpenItem:m},t.id)}))]})]})})]})}var sY=function(t){var e=t.item,n=t.handleOpenItem,r=e.direction,i=e.created_at,o=e.pair_,a=e.title,s=e.type_,c=e.strategy_text,l=Ti(i),u="".concat(l.day,"-").concat(l.month,"-").concat(l.year," ").concat(l.hour,":").concat(l.min);return(0,Ms.jsxs)("tr",{className:"direction-".concat(r),onClick:n(e.id),children:[(0,Ms.jsx)("td",{children:u}),(0,Ms.jsx)("td",{children:o}),(0,Ms.jsx)("td",{children:(0,Ms.jsx)("span",{className:"a-title",children:a})}),(0,Ms.jsx)("td",{children:(0,Ms.jsx)("span",{className:"type",title:s,style:{textTransform:"uppercase"},children:s.substring(0,4)})}),(0,Ms.jsx)("td",{children:c})]})},cY=function(t){var e=t.item,n=t.handleCloseInfo,r=e.created_at,i=e.pair_,o=e.title,a=e.strategy_text,s=e.recommendation_,c=e.in_points,l=e.take_profit,u=e.stop_loss,h=e.key_levels,f=e.alt_recommendation_,d=e.alt_in_points,p=e.alt_take_profit,m=e.alt_stop_loss,y=e.alt_key_levels,v=e.text,b="string"==typeof a&&"empty"!==a.toLowerCase()&&s&&c&&l&&u&&h,g=f&&d&&p&&m&&y,w=Ti(r);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("a",{onClick:n,className:"arrow-back",children:(0,Ms.jsx)("i",{className:"fa fa-chevron-left"})}),(0,Ms.jsxs)("div",{className:"cnt",children:[(0,Ms.jsx)("h2",{children:o}),(0,Ms.jsxs)("p",{className:"date",children:["".concat(w.day,"-").concat(w.month,"-").concat(w.year," ").concat(w.hour,":").concat(w.min,":").concat(w.sec)," ",i]}),(0,Ms.jsx)("div",{className:"text",dangerouslySetInnerHTML:{__html:v}}),(0,Ms.jsx)("div",{className:"scenarion-block",children:b&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("h3",{children:(0,yt.tr)("analytics-modal.scenario")}),(0,Ms.jsxs)("table",{className:"table",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"30%"}}),(0,Ms.jsx)("col",{style:{width:"70%"}})]}),(0,Ms.jsxs)("tbody",{children:[a&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.tf")}),(0,Ms.jsx)("td",{children:a})]}),s&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.recommend")}),(0,Ms.jsx)("td",{children:s})]}),c&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.entry_point")}),(0,Ms.jsx)("td",{children:c})]}),l&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.tp")}),(0,Ms.jsx)("td",{children:l})]}),u&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.sl")}),(0,Ms.jsx)("td",{children:u})]}),h&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.kl")}),(0,Ms.jsx)("td",{children:h})]})]})]})]})}),(0,Ms.jsx)("div",{className:"scenarion-block",children:g&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("h3",{children:(0,yt.tr)("analytics-modal.alt_scenario")}),(0,Ms.jsxs)("table",{className:"table",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"30%"}}),(0,Ms.jsx)("col",{style:{width:"70%"}})]}),(0,Ms.jsxs)("tbody",{children:[f&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.recommend")}),(0,Ms.jsx)("td",{children:f})]}),d&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.entry_point")}),(0,Ms.jsx)("td",{children:d})]}),p&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.tp")}),(0,Ms.jsx)("td",{children:p})]}),m&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.sl")}),(0,Ms.jsx)("td",{children:m})]}),y&&(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("td",{children:(0,yt.tr)("analytics-modal.kl")}),(0,Ms.jsx)("td",{children:y})]})]})]})]})})]})]})};function lY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return uY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uY(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hY=function(){var t=Zr.endpoints.getAnalyticsData.useQuery(),e=t.data,n=void 0===e?{analytics:[]}:e,i=t.isLoading,o=lY((0,r.useState)(null),2),a=o[0],s=o[1],c=function(t){return function(){return s((function(e){return e===t?null:t}))}},l=null!=a?n.analytics.find((function(t){return t.id===a})):null;return(0,Ms.jsx)("div",{className:"tabs__content tab-analytics active",children:(0,Ms.jsxs)("div",{className:(0,Ds.A)("analytics-block",null!==a&&"show-item-info"),children:[(0,Ms.jsx)(ku,{className:"items",children:(0,Ms.jsxs)("table",{className:"table table-analytics",children:[(0,Ms.jsxs)("colgroup",{children:[(0,Ms.jsx)("col",{style:{width:"23%"}}),(0,Ms.jsx)("col",{style:{width:"15%"}}),(0,Ms.jsx)("col",{style:{width:"42%"}}),(0,Ms.jsx)("col",{style:{width:"10%"}}),(0,Ms.jsx)("col",{style:{width:"10%"}})]}),(0,Ms.jsx)("thead",{children:(0,Ms.jsxs)("tr",{children:[(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.date")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.asset")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.event")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.type")}),(0,Ms.jsx)("th",{children:(0,yt.tr)("analytics-modal.tf")})]})}),(0,Ms.jsxs)("tbody",{children:[i&&(0,Ms.jsx)("tr",{children:(0,Ms.jsx)("td",{colSpan:5,className:"loading",children:(0,Ms.jsx)(Kl,{})})}),!i&&0===n.analytics.length&&(0,Ms.jsx)("tr",{children:(0,Ms.jsx)("td",{colSpan:5,children:(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("analytics-modal.no-events")})})}),!i&&n.analytics.length>0&&n.analytics.map((function(t){return(0,Ms.jsx)(sY,{item:t,openedItem:a,handleOpenItem:c},t.id)}))]})]})}),(0,Ms.jsx)(ku,{className:"item-info-block",style:{overflow:"visible"},children:null!=l&&(0,Ms.jsx)(cY,{item:l,handleCloseInfo:function(){return s(null)}})})]})})},fY=[{img:"analytics.png",title:(0,yt.tr)("analytics-modal.analys_title"),description:(0,yt.tr)("analytics-modal.analys_desc"),iosLink:"https://itunes.apple.com/app/id6444283150",androidLink:"//play.google.com/store/apps/details?id=com.pocketoption.analyticsplatform"},{img:"sygnals.png",title:(0,yt.tr)("analytics-modal.signals_title"),description:(0,yt.tr)("analytics-modal.signals_desc"),iosLink:"https://itunes.apple.com/app/id6444282927",androidLink:"//play.google.com/store/apps/details?id=com.pocketoption.signalsplatform"},{img:"strategies.png",title:(0,yt.tr)("analytics-modal.strateg_title"),description:(0,yt.tr)("analytics-modal.strateg_desc"),iosLink:"https://itunes.apple.com/app/id6444283093",androidLink:"//play.google.com/store/apps/details?id=com.pocketoption.strategiesplatform"}],dY=function(){return(0,Ms.jsx)("div",{className:"tabs__content tab-apps active",children:(0,Ms.jsx)(ku,{className:"applications",children:fY.map((function(t){return(0,Ms.jsxs)("div",{className:"applications__item",children:[(0,Ms.jsxs)("div",{className:"applications__left",children:[(0,Ms.jsx)("div",{className:"applications__img-wrap",children:(0,Ms.jsx)("img",{src:(0,je.pc)("images/mt5/modals/clawshorns-analytics-modal/".concat(t.img)),alt:t.title,className:"applications__img"})}),(0,Ms.jsxs)("div",{className:"applications__text-wrap",children:[(0,Ms.jsx)("h2",{className:"applications__title",children:t.title}),(0,Ms.jsx)("div",{className:"applications__text",children:t.description})]})]}),(0,Ms.jsxs)("div",{className:"applications__buttons",children:[(0,Ms.jsxs)("a",{href:t.iosLink,target:"_blank",className:"applications__btn applications__btn--ios",children:[(0,Ms.jsx)("p",{children:(0,yt.tr)("analytics-modal.get_from")}),"App Store"]}),(0,Ms.jsxs)("a",{href:t.androidLink,target:"_blank",className:"applications__btn applications__btn--android",children:[(0,Ms.jsx)("p",{children:(0,yt.tr)("analytics-modal.available_at")}),"Google Play"]})]})]},t.iosLink)}))})})};function pY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return mY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mY(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yY={CALENDAR:"calendar",ANALYTICS:"analytics",APPS:"apps"},vY={TODAY:"today",TOMORROW:"tomorrow"},bY=function(){var t=pY((0,r.useState)(yY.CALENDAR),2),e=t[0],n=t[1],i=Zr.endpoints.getAnalyticsData.useQuery().data,o=(void 0===i?{calendar:[]}:i).calendar.some((function(t){var e=Ti(t.time),n=pi(),r=e.timestamp-n.timestamp;return r>0&&r<1800}));return(0,Ms.jsxs)("div",{className:"tabs page-tabs",children:[(0,Ms.jsx)("ul",{className:"tabs__caption",children:Object.values(yY).map((function(t){return(0,Ms.jsx)("li",{className:(0,Ds.A)(e===t&&"active"),children:(0,Ms.jsxs)("a",{onClick:(r=t,function(){return n(r)}),children:[(0,yt.tr)("analytics-modal.".concat(t)),t===yY.CALENDAR&&o&&(0,Ms.jsx)("i",{className:"fa fa-exclamation warning"})]})},t);var r}))}),e===yY.CALENDAR&&(0,Ms.jsx)(aY,{}),e===yY.ANALYTICS&&(0,Ms.jsx)(hY,{}),e===yY.APPS&&(0,Ms.jsx)(dY,{})]})},gY=Pl((function(){var t=(0,u.wA)(),e=(0,u.d4)((function(t){return t.modals.states[me.lx.ANALYTICS_MODAL]}));return(0,Ms.jsx)(bd,{isOpen:e,onRequestClose:function(){return t((0,ys.V7)({modalId:me.lx.ANALYTICS_MODAL,value:!1}))},className:"clawshorns-analytics-modal",children:(0,Ms.jsx)(bY,{})})}));function wY(){var t=(0,u.wA)(),e=(0,u.d4)(Cr.WN);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"info-icons__item info-icons--analytics",children:(0,Ms.jsxs)("a",{className:(0,Ds.A)("info-icons__link",e?"tooltip2":null),onClick:function(){return t((0,ys.V7)({modalId:me.lx.ANALYTICS_MODAL,value:!0}))},children:[(0,Ms.jsx)("div",{className:"info-icons__icon",children:"A"}),(0,Ms.jsx)(Vc,{position:"right",children:(0,yt.tr)("left-icon.analytics-tooltip")})]})}),(0,Ms.jsx)(gY,{})]})}var xY=function(t){switch(t.type){case"sell":return(0,Ms.jsx)("i",{className:"fa fa-long-arrow-down"});case"active-sell":return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("i",{className:"fa fa-long-arrow-down"}),(0,Ms.jsx)("i",{className:"fa fa-long-arrow-down"})]});case"buy":return(0,Ms.jsx)("i",{className:"fa fa-long-arrow-up"});case"active-buy":return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("i",{className:"fa fa-long-arrow-up"}),(0,Ms.jsx)("i",{className:"fa fa-long-arrow-up"})]});case"neutral":return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("i",{className:"fa fa-long-arrow-down"}),(0,Ms.jsx)("i",{className:"fa fa-long-arrow-up"})]})}return(0,Ms.jsx)("span",{children:"--"})},jY=n(56291);function OY(t){return OY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OY(t)}var SY=["time"];function _Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function TY(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_Y(Object(n),!0).forEach((function(e){AY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function AY(t,e,n){var r;return r=function(t,e){if("object"!=OY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==OY(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EY(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var PY=function(t){var e,n,r=t.time,i=EY(t,SY),o=(0,u.d4)((function(t){return t.global.currentTime})),a=o-r<=5?(0,yt.tr)("signals.just_now"):"".concat((e=o-r,n=(0,Qr.eH)(e),n.hours>0?(0,yt.tr)("time.short_h","".concat(n.hours," ")):n.minutes>0?(0,yt.tr)("time.short_min","".concat(n.minutes," ")):n.seconds>0?(0,yt.tr)("time.short_sec","".concat(n.seconds," ")):"")," ").concat((0,yt.tr)("ago"));return(0,Ms.jsx)("div",TY(TY({},i),{},{children:a}))},CY=function(t){var e=t.animation,n=t.duration,i=void 0===n?"600ms":n,o=(0,r.useRef)();function a(){o.current.classList.remove("animated",e)}return[o,a,function(){a(),o.current.style.setProperty("--animate-duration",i),o.current.classList.add("animated",e)}]},kY=n(40548);function NY(t){return NY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NY(t)}var IY=["symbol","timeframe","time"];function RY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LY(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?RY(Object(n),!0).forEach((function(e){DY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function DY(t,e,n){var r;return r=function(t,e){if("object"!=NY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=NY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==NY(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MY(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var BY=function(){return(0,Ms.jsxs)("div",{className:"trade-opened",children:[(0,yt.tr)("signals.trade_opened")," ",(0,Ms.jsx)("i",{className:"fa fa-check price-up"})]})},HY=function(t){var e=t.symbol,n=t.timeframe,r=t.time,i=MY(t,IY),o=n+r-(0,u.d4)((function(t){return t.global.currentTime})),a=100-o/n*100,s=(0,jY.Sx)({symbol:e,time:r,timeframe:n}),c=(0,u.d4)((function(t){return(0,kY.nP)(t)(s)}));return(0,Ms.jsxs)("div",LY(LY({},i),{},{children:[c&&(0,Ms.jsx)(BY,{}),!c&&(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"progress-info",children:(0,Ms.jsx)("div",{className:"progress",children:(0,Ms.jsx)("div",{className:"progress-bar",style:{width:"".concat(a,"%")}})})}),(0,Ms.jsx)("div",{children:ci(o)})]})]}))};function FY(t){return FY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FY(t)}var GY=["isOpen","onRequestClose"];function VY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return WY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WY(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zY(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?UY(Object(n),!0).forEach((function(e){XY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function XY(t,e,n){var r;return r=function(t,e){if("object"!=FY(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=FY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==FY(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Y(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var YY=function(t){var e=t.assetLabel,n=t.handleIndicatorHide,i=t.signal,o=(0,u.wA)(),a=VY(hW(!1),2),s=a[0],c=a[1],l=i||jY.UI[Vi.PO],h=l.signal,f=l.symbol,d=l.time,p=l.timeframe,m=(0,r.useContext)(np),y=(0,u.d4)((function(t){return t.global.currency})),v=(0,u.d4)((function(t){return(0,Cr.Jt)(t)(m)})),b=VY(CY({animation:"bounceIn",duration:"600ms"}),3),g=b[0],w=b[1],x=b[2],j=VY(CY({animation:"flipInX",duration:"400ms"}),3),O=j[0],S=j[1],_=j[2];(0,r.useEffect)((function(){O.current&&_()}),[h]);var T=h===Vi.PO,A=jY.UI[h];return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"title crop-text",children:(0,yt.tr)("left-icon.signals-for",e)}),(0,Ms.jsx)("div",{className:(0,Ds.A)("hseow",s&&"hseow--active-w2"),children:(0,Ms.jsxs)("div",{className:"hseow__in",children:[(0,Ms.jsx)("div",{className:"hseow__body",children:(0,Ms.jsxs)("div",{className:"content-wrap",children:[(0,Ms.jsxs)("div",{className:"fh",children:[(0,Ms.jsxs)("div",{className:"fw signal-info",children:[(0,Ms.jsx)("div",{className:(0,Ds.A)("icon-wrapper",A.class),ref:O,onAnimationEnd:S,children:(0,Ms.jsx)(xY,{type:A.type})}),(0,Ms.jsx)("div",{className:A.class,children:A.label}),(0,Ms.jsxs)("div",{className:"amount",children:[y,v]}),!T&&(0,Ms.jsx)(PY,{className:"time-ago",time:d})]}),(0,Ms.jsxs)("div",{className:"signal-desc",children:[(0,Ms.jsx)("div",{children:(0,yt.tr)("signals.signal_copy_desc","".concat(y).concat(v),(0,yt.tr)("signals.copy"))}),!T&&(0,Ms.jsx)(HY,{symbol:f,time:d,timeframe:p,className:"signal-progress-wrapper"})]})]}),(0,Ms.jsx)("div",{children:(0,Ms.jsx)("a",{ref:g,className:(0,Ds.A)("btn btn-green-solid",T&&"disabled"),onClick:function(){if(!T){Re.A.publish(ga),x();var t="up1"===h||"up2"===h?"call":"put";o((0,ja.j4)({symbol:f,action:t,amount:v,time:d,timeframe:p}))}},onAnimationEnd:w,children:(0,yt.tr)("signals.copy")})})]})}),(0,Ms.jsxs)("div",{className:"hseow__body vertical",children:[(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("left-icon.on_off_indicator")}),(0,Ms.jsxs)("div",{className:"turn-off-buttons",children:[s&&(0,Ms.jsx)("a",{className:"show-turn-off-block-btn",onClick:c,children:(0,yt.tr)("left-icon.back")}),(0,Ms.jsx)("a",{className:"btn btn-danger-transparent",onClick:n,children:(0,yt.tr)("left-icon.turn_off")})]})]})]})}),(0,Ms.jsx)("a",{className:"toggle-icon",onClick:c,children:(0,Ms.jsx)("i",{className:"fa fa-eye-slash"})})]})},qY=function(t){var e=t.isOpen,n=t.onRequestClose,r=$Y(t,GY);return(0,Ms.jsx)(bd,{isOpen:e,onRequestClose:n,className:"left-top-info-signals-confirm-modal modal-has-turn-off-block",children:(0,Ms.jsx)(YY,zY({},r))})};function KY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ZY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZY(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var QY=function(){var t=KY((0,r.useState)(!1),2),e=t[0],n=t[1],i=(0,u.wA)(),o=(0,r.useContext)(np),a=(0,u.d4)(Cr.WN),s=(0,u.d4)((function(t){return t.chartSettings.chartById[o].symbol})),c=(0,u.d4)((function(t){return(0,kY.Rz)(t)(s)})),l=(0,u.d4)((function(t){return(0,Vs.P7)(t)(s)})),h=function(){return n(!1)},f=c?jY.UI[c.signal]:jY.UI[Vi.PO];return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"info-icons__item info-icons--signal",children:(0,Ms.jsxs)("a",{className:(0,Ds.A)("info-icons__link",a&&"tooltip2"),onClick:function(){return n(!0)},children:[(0,Ms.jsx)("div",{className:(0,Ds.A)("info-icons__icon",f.class),children:(0,Ms.jsx)(xY,{type:f.type})}),a&&(0,Ms.jsxs)(Vc,{position:"right",children:[(0,yt.tr)("left-icon.signals-for",l),":"," ",(0,Ms.jsx)("i",{className:f.class,children:f.label})]})]})}),(0,Ms.jsx)(qY,{isOpen:e,onRequestClose:h,assetLabel:l,signal:c,handleIndicatorHide:function(){i((0,ba.hG)("top_left_info_icons_signals",!1)),h()}})]})};function JY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return tq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tq(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eq=function(t){var e=t.onRequestClose,n=(0,u.wA)(),i=(0,u.d4)((function(t){return t.global.liveBalance})),o=(0,u.d4)((function(t){return t.global.isStartedGemsLottery})),a=(0,u.d4)((function(t){return t.global.currentTime})),s=JY(hW(!1),2),c=s[0],l=s[1],h=JY((0,r.useState)(0),2),f=h[0],d=h[1],p=JY((0,r.useState)(0),2),m=p[0],y=p[1];(0,r.useEffect)((function(){var t=a-7200;d(w-t),y(x-t),(!o&&f<0||o&&m<0)&&window.location.reload()}),[a]);var v=+(0,fe.A)("gems-lotto-min-balance"),b=(0,fe.A)("gems-lotto-start-date"),g=(0,fe.A)("gems-lotto-end-date"),w=+(0,fe.A)("gems-lotto-start-time"),x=+(0,fe.A)("gems-lotto-end-time");return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("p",{className:"title",children:(0,yt.tr)("left-icon.gems_lotto_title")}),(0,Ms.jsx)("div",{className:(0,Ds.A)("hseow",c&&"hseow--active-w2"),children:(0,Ms.jsxs)("div",{className:"hseow__in",children:[(0,Ms.jsxs)("div",{className:"hseow__body",children:[(0,Ms.jsx)("div",{className:"text",children:(0,yt.tr)("left-icon.gems_lotto_message")}),(0,Ms.jsxs)("div",{className:"message message-info notification-message",children:[(0,Ms.jsxs)("p",{children:[" ",(0,yt.tr)("left-icon.gems_lotto_conditions"),":"]}),(0,Ms.jsxs)("ul",{children:[(0,Ms.jsxs)("li",{children:[(0,Ms.jsx)("i",{style:{color:i>=v?"green":"red"},className:"fa ".concat(i>=v?"fa-check":"fa-times")})," ",(0,yt.tr)("left-icon.gems_lotto_cond1",v)," (",(0,yt.tr)("left-icon.gems_lotto_cond3",i).toLowerCase(),")"]}),(0,Ms.jsxs)("li",{children:[(0,Ms.jsx)("i",{style:{color:o?"green":"red"},className:"fa ".concat(o?"fa-check":"fa-times")})," ",(0,yt.tr)("left-icon.gems_lotto_cond2",b,g)]})]}),o&&(0,Ms.jsxs)("span",{style:{color:"orange"},children:[(0,yt.tr)("left-icon.gems_lotto_started"),":"," ",(0,Ms.jsx)("span",{children:ay(oy(m))})]}),!o&&(0,Ms.jsxs)("span",{style:{color:"#8fa5bf"},children:[(0,yt.tr)("left-icon.gems_lotto_upcoming"),":"," ",(0,Ms.jsx)("span",{children:ay(oy(f))})]})]})]}),(0,Ms.jsxs)("div",{className:"hseow__body vertical",children:[(0,Ms.jsx)("div",{className:"message message-info notification-message",children:(0,yt.tr)("left-icon.on_off_indicator")}),(0,Ms.jsxs)("div",{className:"turn-off-buttons",children:[(0,Ms.jsx)("a",{className:"show-turn-off-block-btn",onClick:l,children:(0,yt.tr)("left-icon.back")}),(0,Ms.jsx)("a",{className:"btn btn-danger-transparent",onClick:function(){n((0,ba.hG)("top_left_info_icons_gems_lottery",!1)),e()},children:(0,yt.tr)("left-icon.turn_off")})]})]})]})}),(0,Ms.jsx)("div",{className:"add-info",children:(0,Ms.jsx)("a",{href:"".concat((0,je.hX)("cabinet/gems-lotto/")),children:(0,yt.tr)("additional_info")})}),i<v&&(0,Ms.jsx)("div",{className:"buttons",style:{margin:"15px 0"},children:(0,Ms.jsx)("a",{className:"btn btn-green-light",href:"".concat((0,je.hX)("cabinet/deposit-step-1/")),children:(0,yt.tr)("dep_acc")})}),(0,Ms.jsx)("a",{className:"toggle-icon",onClick:l,children:(0,Ms.jsx)("i",{className:"fa fa-eye-slash"})})]})},nq=function(t){var e=t.isOpen,n=t.onRequestClose;return(0,Ms.jsx)(bd,{isOpen:e,onRequestClose:n,className:"left-top-info-gems-lottery-confirm-modal modal-has-turn-off-block",children:(0,Ms.jsx)(eq,{onRequestClose:n})})};function rq(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return iq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iq(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oq=function(){var t=rq((0,r.useState)(!1),2),e=t[0],n=t[1],i=(0,u.d4)((function(t){return t.global.isStartedGemsLottery}));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:(0,Ds.A)("info-icons__item","info-icons--gems-lottery",i&&"info-icons--active"),children:(0,Ms.jsxs)("a",{className:"info-icons__link tooltip2",onClick:function(){return n(!0)},children:[(0,Ms.jsx)("div",{className:"info-icons__icon",children:"G"}),(0,Ms.jsx)(Vc,{position:"right",children:(0,yt.tr)("left-icon.gems-lottery-tooltip")})]})}),(0,Ms.jsx)(nq,{isOpen:e,onRequestClose:function(){return n(!1)}})]})},aq=mp((function(t){var e=t.chartSettings,n=t.global,r=t.isDemo,i=n.isChart,o=n.isTournament,a=n.infoIcons,s=n.isExistsActiveBonus,c=n.isMobile,l=e.visibleSymbols.length>1;return{showAnalyticsIcon:!c&&!l&&a.analytics,showBonusIcon:!c&&!l&&!o&&a.bonus&&s,showSignals:a.signal&&i,showGemsLottery:!c&&!l&&!r&&!o&&a.gemsLotto}}),null,np)((function(t){var e=t.showSignals,n=t.showAnalyticsIcon,r=t.showBonusIcon,i=t.showGemsLottery;return(0,Ms.jsxs)("div",{className:"info-icons",children:[r&&(0,Ms.jsx)(J$,{}),e&&(0,Ms.jsx)(QY,{}),i&&(0,Ms.jsx)(oq,{}),n&&(0,Ms.jsx)(wY,{})]})})),sq=function(){var t=(0,u.d4)((function(t){return t.global.isMobile})),e=(0,u.d4)((function(t){return t.global.isTournament})),n=(0,u.d4)((function(t){return t.global.tournamentFinishAt})),r=(0,u.d4)((function(t){return t.chartSettings.visibleChartIds})).length>1,i=!e||n>0;return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsxs)("div",{className:"top-left-block__block1",children:[(0,Ms.jsx)(UX,{}),t&&(0,Ms.jsx)(U$,{}),!t&&!r&&(0,Ms.jsx)(wz,{}),!t&&r&&(0,Ms.jsx)(Q$,{})]}),(0,Ms.jsxs)("div",{className:"top-left-block__block2",children:[(0,Ms.jsx)(zX,{}),(0,Ms.jsx)(Y$,{}),i&&(0,Ms.jsx)(aq,{})]})]})},cq=(0,Ms.jsx)(Gs.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/call-arrow.svg"}),lq=(0,Ms.jsx)(Gs.k,{className:"svg-icon-wrap",src:"/themes/cabinet/svg/icons/put-arrow.svg"}),uq={transform:"translateY(-46px)"},hq=function(t){var e=t.type,n=t.amount,i=t.payout,o=t.currency,a=t.isMobile,s=t.currentDealAmount,c=t.handleOpenDeal,l=t.isPrintBuySellText,h=t.isHideBoFeatures,f=(0,Ms.jsxs)("span",{className:"payout",children:[(0,Ms.jsxs)("span",{className:"payout__text payout__text-p",children:["+",i,"%"]}),(0,Ms.jsx)("span",{className:"payout__profit",children:"+".concat(o).concat((0,qn.xr)(n-s))})]}),d="call"===e?cq:lq,p=(0,r.useContext)(rp),m=(0,u.d4)((function(t){return(0,Wc.uO)(t)(p)})),y="put"===e?(0,yt.tr)("control_panel.lower"):(0,yt.tr)("control_panel.higher");return l&&(y="put"===e?(0,yt.tr)("control_panel.sell"):(0,yt.tr)("control_panel.buy")),(0,Ms.jsx)("div",{className:(0,Ds.A)("action-high-low","button-".concat(e,"-wrap")),children:(0,Ms.jsxs)("a",{className:(0,Ds.A)("btn btn-".concat(e)),onClick:c("call"===e?Gt:Vt),children:[a&&(0,Ms.jsx)("span",{className:"no-animate switch-state-block",children:(0,Ms.jsxs)("span",{className:"switch-state-block__in",style:uq,children:[(0,Ms.jsxs)("span",{className:"switch-state-block__item",children:[d,(0,Ms.jsxs)("span",{className:"payout",children:[(0,Ms.jsxs)("span",{className:"payout__text payout__text-p",children:["+",i,"%"]}),(0,Ms.jsx)("span",{className:"payout__profit",children:"+".concat(o).concat((0,qn.xr)(n-s))})]})]}),h?(0,Ms.jsxs)("span",{className:"switch-state-block__item",children:[d,(0,Ms.jsxs)("span",{className:"payout",children:[(0,Ms.jsx)("span",{className:"payout__higher-text",children:y}),(0,Ms.jsxs)("span",{className:"payout__profit",children:[i,"%"]})]})]}):(0,Ms.jsxs)("span",{className:"switch-state-block__item",children:[d,(0,Ms.jsx)("span",{className:"payout",children:(0,Ms.jsx)("span",{className:(0,Ds.A)(y.length>=10&&"more-than-10-characters",y.length>=12&&"more-than-12-characters","payout__higher-text"),children:y})})]})]})}),!a&&(0,Ms.jsx)("span",{className:(0,Ds.A)(m&&"no-animate","switch-state-block"),children:(0,Ms.jsxs)("span",{className:"switch-state-block__in",children:[(0,Ms.jsxs)("span",{className:"switch-state-block__item",children:[d,!m&&f,m&&(0,Ms.jsx)("span",{className:"payout",children:(0,Ms.jsx)("span",{className:"payout__text payout__text-lh",children:y})})]}),!m&&(0,Ms.jsxs)("span",{className:"switch-state-block__item",children:[d,(0,Ms.jsx)("span",{className:"payout",children:(0,Ms.jsx)("span",{className:"payout__text payout__text-lh",children:y})})]})]})})]})})};hq.propTypes={type:Rc().oneOf(["call","put"]),handleOpenDeal:Rc().func.isRequired};var fq=mp((function(t,e,n){var r=t.global,i=r.currency,o=r.isMobile,a=r.isWebViewWithoutVersion,s=r.webViewPlatform,c=(0,Wc.C1)(t)(n),l=(0,Cr.Jt)(t)(n),u=(l+l*c/100).toFixed(2),h=(0,Cr.KY)(t);return{currency:i,isMobile:o,payout:c,amount:u,currentDealAmount:l,isPrintBuySellText:a&&"ios"===s||h,isHideBoFeatures:h}}),null,np)(hq),dq=function(t){var e=t.type,n=(0,r.useContext)(np),i=(0,u.wA)();return(0,Ms.jsx)(fq,{type:e,handleOpenDeal:function(t){return function(e){i(wa({action:t,chartId:n,requestId:(0,qt.PP)(e)}))}}})};dq.propTypes={type:Rc().oneOf(["call","put"])};var pq=(0,r.memo)(dq),mq=function(t){var e=t.type,n=t.chartId,i=t.openDeal,o=t.tournamentFinishAt,a=t.fastTimeframe,s=t.currentTime,c=(0,r.useRef)(new Rh({position:Sh,time:3e3}));return(0,Ms.jsx)(fq,{type:e,handleOpenDeal:function(t){return function(e){o<s+a?c.current.red((0,yt.tr)("errors.incorrect_exp_time")):i({action:t,chartId:n,requestId:(0,qt.PP)(e)})}}})};mq.propTypes={type:Rc().oneOf(["call","put"])};var yq=mp((function(t,e,n){var r=t.chartSettings.chartById[n].fastTimeframe,i=t.global,o=i.currentTime;return{chartId:n,tournamentFinishAt:i.tournamentFinishAt,fastTimeframe:r,currentTime:o}}),{openDeal:wa},np)(mq);yq.displayName="TournamentBtn";var vq=(0,r.memo)(yq),bq=function(){return(0,u.d4)((function(t){return t.global.isTournament}))?(0,Ms.jsx)(vq,{type:"call"}):(0,Ms.jsx)(pq,{type:"call"})},gq=function(){return(0,u.d4)((function(t){return t.global.isTournament}))?(0,Ms.jsx)(vq,{type:"put"}):(0,Ms.jsx)(pq,{type:"put"})},wq=function(t){var e=t.amount,n=t.amountType,r=t.currency,i=t.isActive,o=t.onClickListCurrentDealAmount;return(0,Ms.jsx)("li",{className:(0,Ds.A)("list__item",i&&"list__item--active"),children:(0,Ms.jsx)("a",{className:"list__link",onClick:o,children:(0,Ms.jsxs)("span",{className:"list__v",children:[n===p.yf.CURRENCY&&r,e,n===p.yf.PERCENT&&"%"]})})})},xq=function(t){var e=t.value,n=t.onChangeMultiplier,r=t.onMultiply,i=t.onDivide;return(0,Ms.jsx)("li",{className:"list__item list__item--fast-bet",children:(0,Ms.jsxs)("a",{className:"list__link",children:[(0,Ms.jsx)("span",{className:"list__l",onClick:r,children:"*"}),(0,Ms.jsx)("span",{className:"list__v",children:(0,Ms.jsx)("input",{type:"text",value:e,onChange:n,onBlur:n})}),(0,Ms.jsx)("span",{className:"list__r",onClick:i,children:":"})]})})};function jq(t){return function(t){if(Array.isArray(t))return Oq(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Oq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oq(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sq=mp((function(t,e,n){var r=t.global,i=t.deals,o=i.closedIds,a=i.closedById,s=i.openedIds,c=i.openedById;return{balance:r.balance,closedIds:o,closedById:a,openedIds:s,openedById:c,currency:r.currency,chartId:n}}),(function(t){return(0,f.zH)({changeDealAmount:Bu.p$},t)}),np)((function(t){var e=t.balance,n=t.closedIds,r=t.closedById,i=t.openedIds,o=t.openedById,a=t.currency,s=t.changeDealAmount,c=t.chartId,l=(0,u.d4)(Fs.G3),h=i.map((function(t){return o[t].amount})),f=n.map((function(t){return r[t].amount})),d=[].concat(jq(h),jq(f));if(0===d.length)return null;var p,m=((p=d).sort((function(t,e){return e-t})),p.filter((function(t,e){return p.indexOf(t)===e})).slice(0,6)),y=function(t){return function(){var n=(0,yr.Ew)(e,l);s({chartId:c,amount:Math.min(t,n)})}};return(0,Ms.jsx)("ul",{className:"list list--betting-history",children:m.map((function(t){return(0,Ms.jsx)("li",{className:"list__item",children:(0,Ms.jsx)("a",{className:"list__link",onClick:y(t),children:(0,Ms.jsxs)("span",{className:"list__v",children:[a,t]})})},t)}))})})),_q=n(13459),Tq=n.n(_q);function Aq(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Eq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eq(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pq=[7,8,9,4,5,6,1,2,3,".",0,"←"],Cq=function(t){var e=t.inputVal,n=t.changeAmountHandler,i=t.disabledButtons,o=Aq((0,r.useState)(!0),2),a=o[0],s=o[1],c=function(t){return function(r){switch(r.preventDefault(),r.stopPropagation(),Re.A.publish(ga),t){case".":n("".concat(e).concat(t),!1);break;case"←":n(e.length>1?e.slice(0,-1):"",!1);break;default:n(a?"".concat(t):"".concat(e).concat(t),!1)}s(!1)}},l=Pq.filter((function(t){return!i.includes(t)}));return(0,Ms.jsx)("div",{className:"virtual-keyboard js-virtual-keyboard",children:(0,Ms.jsx)("div",{className:"virtual-keyboard__keys",children:l.map((function(t){return(0,Ms.jsx)("div",{className:"virtual-keyboard__col",children:(0,Ms.jsx)("div",{className:"virtual-keyboard__input",onClick:c(t),children:t})},t)}))})})};Cq.defaultProps={disabledButtons:[]},Cq.propTypes={inputVal:Rc().string.isRequired,changeAmountHandler:Rc().func.isRequired,disabledButtons:Rc().array};var kq=Cq;function Nq(t){return Nq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nq(t)}function Iq(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Rq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rq(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lq(t,e,n){var r;return r=function(t,e){if("object"!=Nq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==Nq(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dq=function(t){var e=t.children,n=t.openerNode,i=t.onClickOutside,o=t.cssTransitionClassNames,a=void 0===o?{}:o,s=t.wrapperClassName,c=t.innerWrapperClassName,l=t.chartId,u=t.verticalAnchor,h=void 0===u?"top":u,f=t.shouldCapture,d=void 0===f||f,p=(0,r.useRef)(),m=Iq((0,r.useState)(Lq(Lq({},h,"-9999px"),"left","-9999px")),2),y=m[0],v=m[1];return(0,r.useEffect)((function(){if(p.current&&n){var t={dropdownNode:p.current,openerNode:n,verticalAnchor:h,marginFromBorder:20};v(function(t){var e=t.dropdownNode,n=t.openerNode,r=t.verticalAnchor,i=t.marginFromBorder,o=void 0===i?0:i,a=e.offsetWidth,s=e.offsetHeight,c=n.offsetHeight,l=zp(n),u=window.innerHeight-l.rectTop;if(document.body.classList.contains("portrait"))return Lq({},r,{top:"".concat(Math.max(0,l.top-s-c),"px"),bottom:"".concat(Math.max(0,u),"px")}[r]);var h=l.top+s;h>window.innerHeight&&(h=window.innerHeight-s-o);var f=u+s;f>window.innerHeight&&(f=window.innerHeight-s-o);var d={top:"".concat(Math.min(l.top-c,h),"px"),bottom:"".concat(Math.min(u,f),"px")};return Lq({left:"".concat(l.left-a,"px")},r,d[r])}(t))}}),[]),(0,r.useEffect)((function(){var t=gs()(i,100,{leading:!0});return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),(0,Ms.jsx)(Uf,{classNames:a,className:(0,Ds.A)("drop-down-modal-wrap no-outside",s),children:(0,Ms.jsx)(od,{onClickOutside:i,className:(0,Ds.A)("drop-down-modal",c),style:y,shouldCapture:d,setRef:function(t){return p.current=t.current},chartId:l,children:e})})};Dq.propTypes={verticalPosition:Rc().oneOf(["top","bottom"])};var Mq=Pl(Dq),Bq=n(67517);function Hq(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Fq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fq(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gq=Pl((function(t){for(var e=t.amountType,n=t.changeAmountHandler,i=t.maxCurrencyAmount,o=t.maxPercentAmount,a=t.openerNode,s=t.inputVal,c=t.closeHandler,l=e===p.yf.PERCENT,h=l?qn.X$.MIN:qn.l3.MIN,f=l?o:i,d=Hq((0,r.useState)(2),2),m=d[0],y=d[1],v=(0,r.useContext)(np),b=(0,u.d4)((function(t){return(0,Cr.u)(t)(v)})),g=(0,u.d4)((function(t){return(0,Cr.Jt)(t)(v)})),w=(0,u.d4)((function(t){return t.global.currency})),x=(0,u.d4)((function(t){return t.global.balance})),j=(0,u.d4)((function(t){return t.global.isMobile})),O=(0,u.d4)(Nr.t0),S=l?parseFloat(b):parseFloat(g),_=(0,r.useCallback)((function(t){var e=parseInt(t.target.value,10);(isNaN(e)||e<0)&&(e=2),y(e)}),[]),T=S,A=S,E=(0,qn.H3)(x),P=[],C=0;C<5;C++){var k=S;C<2&&(k=A=l?(0,qn.H1)({amount:A,positive:!1,min:E,max:o}):(0,qn.XT)({amount:A,positive:!1,max:i})),C>2&&(k=T=l?(0,qn.H1)({amount:T,positive:!0,min:E,max:o}):(0,qn.XT)({amount:T,positive:!0,max:i})),k>0&&!P.includes(k)&&P.push(k)}var N=Tq()(P).sort((function(t,e){return t===e?0:t<e?1:-1})).map((function(t){return(0,Ms.jsx)(wq,{onClickListCurrentDealAmount:function(){return n(t,!0)},amount:t,currency:w,isActive:t===S,amountType:e},"amount-value-".concat(t))})),I=O===Bq.d.SELECT_AMOUNT;return(0,Ms.jsx)(Mq,{openerNode:a,onClickOutside:c,cssTransitionClassNames:{enterDone:"block__list-wrap--active"},innerWrapperClassName:"js-tour-amount-list-modal trading-panel-modal amount-list-modal",chartId:v,verticalAnchor:j?"bottom":"top",shouldCapture:!I,children:(0,Ms.jsx)("div",{className:"trading-panel-modal__wrap",children:(0,Ms.jsxs)("div",{className:"trading-panel-modal__in",children:[(0,Ms.jsxs)("div",{className:"list-wrap",children:[(0,Ms.jsxs)("ul",{className:"list list--bid-amount",children:[N,(0,Ms.jsx)(xq,{value:m,onChangeMultiplier:_,onMultiply:function(){var t=yg()((0,qn.xr)(S*m),h,f);n(t,!0)},onDivide:function(){var t=yg()((0,qn.xr)(S/m),h,f);n(t,!0)}})]}),e===p.yf.CURRENCY&&(0,Ms.jsx)(Sq,{})]}),(0,Ms.jsx)(kq,{inputVal:s,changeAmountHandler:n})]})})})}));function Vq(t){return Vq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vq(t)}function Wq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zq(r.key),r)}}function zq(t,e,n){return e=$q(e),function(t,e){if(e&&("object"===Vq(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yq(t)}(t,Xq()?Reflect.construct(e,n||[],$q(t).constructor):e.apply(t,n))}function Xq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xq=function(){return!!t})()}function $q(t){return $q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$q(t)}function Yq(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qq(t,e){return qq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qq(t,e)}function Kq(t,e,n){return(e=Zq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zq(t){var e=function(t,e){if("object"!=Vq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vq(e)?e:String(e)}var Qq="+",Jq="-",tK=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Kq(Yq(n=zq(this,e,[t])),"onChange",(function(t){return n.props.changeAmountHandler(t,!1)})),Kq(Yq(n),"onBlur",(function(t){return n.props.changeAmountHandler(t,!0)})),Kq(Yq(n),"onChangeStepClick",(function(t,e){var r=n.props,i=r.amountType,o=r.balance,a=r.currentDealAmount,s=r.maxCurrencyAmount,c=r.maxPercentAmount,l=r.percentAmount,u=r.changeAmountHandler,h=i===p.yf.PERCENT,f=h?(0,qn.H3)(o):1,d=h?l:a;e===Qq&&(h?c:s)===d||e===Jq&&f===d||u(h?"".concat(t,"%"):t,!0)})),Kq(Yq(n),"onChangeAmountType",(function(){var t=n.props,e=t.changeAmountType,r=t.chartId,i=t.amountType===p.yf.PERCENT?p.yf.CURRENCY:p.yf.PERCENT;Re.A.publish(ga),e(r,i)})),n.isTablet=Boolean((0,fe.A)("is-tablet"))||dg(),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qq(t,e)}(e,t),n=e,r=[{key:"render",value:function(){var t=this,e=this.props,n=e.balance,r=e.currency,i=e.currentDealAmount,o=e.showBlockButtons,a=e.onClickAmountCurrent,s=e.amountType,c=e.percentAmount,l=e.inputVal,u=e.maxCurrencyAmount,h=e.maxPercentAmount,f=e.isCompactMulti,d=e.isMobile,m=e.innerRef,y=s===p.yf.PERCENT,v=(0,qn.H3)(n),b=y?yg()(c+1,v,h):(0,qn.XT)({amount:i,positive:!0,max:u}),g=y?yg()(c-1,v,h):(0,qn.XT)({amount:i,positive:!1,max:u}),w=r;r===de.Ay.CURRENCY?w=(0,Ms.jsx)("i",{className:"fa fa-usd"}):r===de.Ay.TOURNAMENT_CURRENCY&&(w=de.Ay.TOURNAMENT_CURRENCY);var x=d||this.isTablet;return(0,Ms.jsxs)("div",{className:"block__control control js-tour-block--bet-amount",ref:m,children:[(0,Ms.jsx)("div",{className:"control__value value value--several-items",onClick:a,children:(0,Ms.jsxs)("div",{className:"value__val",children:[(0,Ms.jsx)("div",{children:" "}),(0,Ms.jsx)("input",{type:"text",value:l,autoComplete:"off",onChange:function(e){return t.onChange(e.target.value)},onBlur:function(e){return t.onBlur(e.target.value)},readOnly:x})]})}),f&&(0,Ms.jsx)("div",{className:"control-buttons__wrapper",children:(0,Ms.jsx)("a",{onClick:this.onChangeAmountType,className:"buttons__amount-type",children:(0,Ms.jsx)("span",{children:y?"%":w})})}),o&&(0,Ms.jsx)("div",{className:"control-buttons__wrapper",children:(0,Ms.jsxs)("div",{className:"control__buttons buttons",children:[(0,Ms.jsx)("a",{className:"buttons__minus",onClick:function(){return t.onChangeStepClick(g,Jq)},children:"-"}),(0,Ms.jsx)("a",{className:"buttons__fast-trading",onClick:this.onChangeAmountType,children:s===p.yf.CURRENCY?w:"%"}),(0,Ms.jsx)("a",{className:"buttons__plus",onClick:function(){return t.onChangeStepClick(b,Qq)},children:"+"})]})})]})}}],r&&Uq(n.prototype,r),i&&Uq(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),eK=mp((function(t,e,n){var r=(0,Cr.TF)(t),i=(0,Cr.Jt)(t)(n),o=t.chartSettings.chartById[n],a=o.amountType,s=o.percentAmount,c=t.global;return{balance:c.balance,currency:c.currency,chartId:n,currentDealAmount:i,isBottomPosition:r,amountType:a,percentAmount:s,isMobile:c.isMobile}}),{changeAmountType:Bu.jt},np)(tK),nK=function(t,e){return(0,Ms.jsx)(eK,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wq(Object(n),!0).forEach((function(e){Kq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({innerRef:e},t))};nK.displayName="AmountCurrent";var rK=(0,r.forwardRef)(nK);function iK(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return oK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oK(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aK(t){var e=t.amountType,n=t.currency,r=t.value;return e===p.yf.PERCENT?"".concat(r,"%"):"".concat(n).concat(r)}var sK=mp((function(t,e,n){var r=t.global,i=r.balance,o=r.currency,a=r.isMobile,s=r.enabledTooltipMessage,c=r.liveBalance,l=t.chartSettings.chartById[n],u=l.amountType,h=l.percentAmount,f=(0,Cr.TF)(t),d=(0,Cr.Jt)(t)(n),p=(0,Nr.rZ)(t),m=(0,Nr.oW)(t);return{balance:i,liveBalance:c,chartId:n,currency:o,currentDealAmount:d,percentAmount:h,amountType:u,isBottomPosition:f,showTooltip:!a&&s&&!m,getOnboardingIsOpenAmountStep:p}}),{changeDealAmount:Bu.p$,changePercentAmount:Bu.cC},np)((function(t){var e=t.balance,n=t.liveBalance,i=t.changeDealAmount,o=t.changePercentAmount,a=t.chartId,s=t.currency,c=t.currentDealAmount,l=t.showBlockButtons,h=t.amountType,f=t.isBottomPosition,d=t.showTooltip,m=t.percentAmount,y=t.getOnboardingIsOpenAmountStep,v=(0,r.useContext)(rp),b=h===p.yf.PERCENT,g=iK((0,r.useState)(!1),2),w=g[0],x=g[1],j=iK((0,r.useState)(aK({amountType:h,currency:s,value:b?m:c})),2),O=j[0],S=j[1],_=(0,u.d4)((function(t){return t.global.windowLayout})),T=(0,u.d4)(Nr.t0),A=(0,u.d4)(Fs.G3);(0,r.useEffect)((function(){x(T===Bq.d.SELECT_AMOUNT)}),[T]);var E=!(0,_H.h0)(_),P=(0,_H.WU)(_,v),C=E&&P>1;Dg((function(){S(aK({amountType:h,currency:s,value:b?m:c}))}),[h]),(0,r.useEffect)((function(){b||S(aK({amountType:h,currency:s,value:c}))}),[c]),(0,r.useEffect)((function(){b&&S(aK({amountType:h,currency:s,value:m}))}),[m]),(0,r.useEffect)((function(){b&&I(O,!0)}),[n,e]);var k=(0,yr.Ew)(e,A),N=(0,qn.Vt)(e,k),I=function(t,n){var r=String(t);b&&!r.includes("%")&&O.replace("%","")===r&&(r=r.substr(0,r.length-1)+"%"),(r=r.replace("%","").replace(s,"").replace(",",".")).includes(".")||(r=r.replace(/^0+/,"")),"$0"!==O&&"0%"!==O||r.includes(".")||(r=r.replace("0",""));var c=b?(0,qn.H3)(e):1,l=Tb({value:r,min:c,max:b?N:k,fixValue:n,defaultValue:c});(_b(l)||isNaN(l))&&(l=0),S(aK({amountType:h,value:l,currency:s})),b?o({chartId:a,amount:l,fixValue:n}):i({chartId:a,amount:l})},R=function(t){x(t),t||I(O,!0)},L=(0,r.useRef)();return(0,Ms.jsxs)("div",{className:"block block--bet-amount",children:[l&&(0,Ms.jsxs)("div",{className:"block__title",children:[b?(0,yt.tr)("control_panel.trade"):(0,yt.tr)("control_panel.bid_amount"),b&&(0,Ms.jsx)("div",{className:"block__title-total",children:"".concat(s).concat(c)}),d&&(0,Ms.jsxs)("div",{className:"tooltip2",children:[(0,Ms.jsx)("i",{className:"fa fa-question-circle-o"}),!y&&(0,Ms.jsx)(Vc,{position:f?"":"left",text:b?"chart_settings.amount_type_%":"chart_settings.amount_type_$"})]})]}),(0,Ms.jsx)(rK,{onClickAmountCurrent:function(){return R(!0)},showBlockButtons:l,changeAmountHandler:I,inputVal:O,maxCurrencyAmount:k,maxPercentAmount:N,isCompactMulti:C,ref:L}),w&&(0,Ms.jsx)(Gq,{amountType:h,changeAmountHandler:I,maxCurrencyAmount:k,maxPercentAmount:N,inputVal:O,openerNode:L.current,closeHandler:function(){return R(!1)}})]})}));function cK(t){return function(t){if(Array.isArray(t))return lK(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lK(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uK={S5:5,S15:15,S30:30,M1:60,M3:180,M5:300,M30:1800,H1:3600,H4:14400},hK=function(t){var e=t.chartId,n=t.fastTimeframe,i=t.minQuickTimeframe,o=t.timeframes,a=t.closeHandler,s=t.openerNode,c=(0,u.wA)(),l=fg(n),h=l.hms,f=l.setHMS,d=(0,u.d4)(Nr.t0),p=pg();(0,r.useEffect)((function(){return f(n)}),[n]);var m=Math.max.apply(Math,cK(o.map((function(t){return t.time})))),y=function(t,r){var a=parseInt(function(t){return bg()("".concat(t),"0").replace(/[^-0-9]/g,"")}(r),10);if(a=Number.isNaN(a)?0:yg()(a,0,59),0!==o.length){var s=Object.values(hg).reduce((function(e,n){return e+(n===t?a:parseInt(h[n],10))*n}),0);c((0,Bu.a0)({chartId:e,amount:yg()(s,i,m)})),f(n)}},v=function(t){c((0,Bu.a0)({chartId:e,amount:yg()(t,i,m)})),f(n)},b=function(t){return function(){return v(n+1*t)}},g=function(t){return function(){return v(n-1*t)}},w=function(t){return function(e){return y(t,e.currentTarget.value)}},x=function(t){return function(e){return y(t,e.currentTarget.value)}},j=Object.keys(uK).filter((function(t){var e=uK[t];return e>=i&&e<=m})),O=d===Bq.d.OPEN_EXPIRATION_INPUTS;return(0,Ms.jsx)(Mq,{openerNode:s,onClickOutside:a,innerWrapperClassName:"js-tour-expiration-inputs-list-modal trading-panel-modal expiration-inputs-list-modal",chartId:e,shouldCapture:!O,children:(0,Ms.jsxs)("div",{className:"trading-panel-modal__wrap",children:[(0,Ms.jsx)("div",{className:"trading-panel-modal__in",children:Object.values(hg).map((function(t){return(0,Ms.jsxs)("div",{className:"rw",children:[(0,Ms.jsx)("a",{className:"btn-plus",onClick:b(t),children:"+"}),(0,Ms.jsx)("div",{className:"input-field-wrapper",children:(0,Ms.jsx)("input",{type:"text",autoComplete:"off",value:(0,Jr.wl)(h[t]),onBlur:w(t),onChange:x(t),readOnly:p})}),(0,Ms.jsx)("a",{className:"btn-minus",onClick:g(t),children:"-"})]},"keys-".concat(t))}))}),(0,Ms.jsx)("div",{className:"trading-panel-modal__dops dops",children:(0,Ms.jsx)("div",{className:"dops__timeframes",children:j.map((function(t){return(0,Ms.jsx)("div",{className:"dops__timeframes-item",onClick:(n=uK[t],function(){c((0,Bu.a0)({chartId:e,amount:yg()(n,i,m)}))}),children:t},t);var n}))})})]})})};hK.propTypes={fastTimeframe:Rc().number.isRequired};var fK=mp((function(t,e,n){var r=(0,Cr.Zf)(t),i=(0,Vs.E_)(t)(n);return{chartId:n,timeframes:i.timeframes,minQuickTimeframe:(0,x.Sp)({asset:i,isS:r})}}),null,np)(hK);function dK(t){return function(t){if(Array.isArray(t))return pK(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return pK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pK(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mK=function(t){var e=t.fastCloseAtInLocalTime,n=t.closeHandler,i=t.openerNode,o=(0,u.wA)(),a=(0,r.useContext)(np),s=(0,u.d4)(Cr.Zf),c=(0,u.d4)((function(t){return(0,Vs.E_)(t)(a)})),l=(0,u.d4)((function(t){return t.global.currentTime})),h=pg(),f=(0,u.d4)((function(t){return t.chartSettings.chartById[a].enableQuickAutoOffset})),d=(0,u.d4)((function(t){return t.chartSettings.chartById[a].quickAutoOffsetValue})),m=(0,u.d4)(Cr.WN),y=(0,u.d4)(Cr.TF),v=fi(e),b=fg(v),g=b.hms,w=b.setHMS;(0,r.useEffect)((function(){return w(fi(e))}),[e]);var j=(0,x.Sp)({asset:c,isS:s}),O=Math.max.apply(Math,dK(c.timeframes.map((function(t){return t.time})))),S=function(t,n){if(0!==c.timeframes.length){var r=parseInt(function(t){return bg()(String(t),"0").replace(/[^-\d]/g,"")}(n),10);r=Number.isNaN(r)?0:yg()(r,-1,60);var i,s=Object.values(hg).reduce((function(e,n){return e+(n===t?r:parseInt(g[n],10))*n}),0),u=e-v+s;u=yg()(u,xi(l+j),xi(l+O)),o((0,Bu.BP)({chartId:a,value:(i=u,function(t,e,n){return t-60*e+60*n}(i,mi(),yi()))})),w(fi(u))}},_=function(t){return function(){return S(t,parseInt(g[t],10)+1)}},T=function(t){return function(){return S(t,parseInt(g[t],10)-1)}},A=function(t){return function(e){return S(t,e.currentTarget.value)}},E=function(t){return function(e){return S(t,e.currentTarget.value)}},P=(0,u.d4)((function(t){return t.global.windowLayout})),C=!(0,_H.h0)(P),k=Object.keys(p.zQ).filter((function(t){var e=p.zQ[t];return e>j&&e<=O}));return(0,Ms.jsx)(Mq,{openerNode:i,onClickOutside:n,innerWrapperClassName:"trading-panel-modal expiration-inputs-list-modal",chartId:a,verticalAnchor:y?"bottom":"top",children:(0,Ms.jsxs)("div",{className:"trading-panel-modal__wrap",children:[(0,Ms.jsx)("div",{className:"trading-panel-modal__in",children:Object.values(hg).map((function(t){return(0,Ms.jsxs)("div",{className:"rw",children:[(0,Ms.jsx)("a",{className:"btn-plus",onClick:_(t),children:"+"}),(0,Ms.jsx)("div",{className:"input-field-wrapper",children:(0,Ms.jsx)("input",{type:"text",autoComplete:"off",value:(0,Jr.wl)(g[t]),onBlur:A(t),onChange:E(t),readOnly:h})}),(0,Ms.jsx)("a",{className:"btn-minus",onClick:T(t),children:"-"})]},"keys-".concat(t))}))}),(0,Ms.jsxs)("div",{className:"trading-panel-modal__dops dops",children:[(0,Ms.jsxs)("div",{className:"dops__radio-wrap radio-wrap",children:[(0,Ms.jsxs)("div",{className:"radio-wrap__text",children:[(0,yt.tr)("control_panel.auto_offset"),m&&!C&&(0,Ms.jsxs)("div",{className:"tooltip2",children:[(0,Ms.jsx)("i",{className:"fa fa-question-circle-o"}),(0,Ms.jsx)(Vc,{position:y?"":"left",children:(0,yt.tr)("control_panel.auto_offset_tooltip")})]})]}),(0,Ms.jsx)(Ef,{checked:f,onChange:function(){return o((0,Bu.sU)(a,!f))}})]}),f&&(0,Ms.jsx)("div",{className:"dops__timeframes",children:k.map((function(t){var e,n=p.zQ[t];return(0,Ms.jsx)("div",{className:(0,Ds.A)("dops__timeframes-item",n===d&&"dops__timeframes-item--active"),onClick:(e=n,function(){return o((0,Bu.iC)({chartId:a,value:e}))}),children:t},t)}))})]})]})})};var yK=function(t){var e,n=t.value;return(0,Ms.jsxs)("div",{className:"min-expiration-time-tooltip",children:[(0,yt.tr)("assets.change_min_timeframe")," ",(0,Ms.jsx)("span",{children:(e=n,e<60?(0,yt.tr)("time.short_sec","".concat(e," ")):(0,yt.tr)("time.short_min","".concat(Math.floor(e/60)," ")))}),".",(0,Ms.jsx)("a",{children:(0,Ms.jsx)("i",{className:"fa fa-times"})})]})};function vK(t){for(var e=0,n=Object.keys(p.zQ);e<n.length;e++){var r=n[e];if(p.zQ[r]===t)return r}return""}var bK=function(t){var e=t.value;return(0,Ms.jsxs)("div",{className:"min-expiration-time-tooltip",children:[(0,yt.tr)("assets.change_auto_offset")," ",(0,Ms.jsx)("span",{children:vK(e)}),".",(0,Ms.jsx)("a",{children:(0,Ms.jsx)("i",{className:"fa fa-times"})})]})};function gK(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return wK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wK(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xK(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return jK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jK(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OK(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return SK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SK(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _K=function(){var t,e,n,i,o,a,s=(0,u.d4)(Cr.Zf),c=OK((t=(0,r.useContext)(np),e=(0,u.d4)((function(e){return(0,Vs.vZ)(e)(t)})),n=(0,r.useRef)(e),i=gK((0,r.useState)(!1),2),o=i[0],a=i[1],Dg((function(){e!==n.current&&(a(!0),n.current=e)}),[e]),[o,function(){return a(!1)},e]),3),l=c[0],h=c[1],f=c[2],d=function(){var t=(0,r.useContext)(np),e=xK((0,r.useState)(!1),2),n=e[0],i=e[1],o=xK((0,r.useState)(""),2),a=o[0],s=o[1];return(0,r.useEffect)((function(){var e=Re.A.subscribe(Ha.Mt,(function(e,n){n.val.chartId===t&&(i(!0),s(n.val.offsetValue))}));return function(){Re.A.unsubscribe(e)}}),[]),[n,function(){return i(!1)},a]}(),p=OK(d,3),m=p[0],y=p[1],v=p[2];return(0,r.useEffect)((function(){function t(){h(),y()}return document.body.addEventListener("click",t),function(){document.body.removeEventListener("click",t)}}),[]),(0,Ms.jsxs)("div",{className:"tooltip-streamer",children:[!s&&l&&(0,Ms.jsx)(yK,{value:f}),m&&(0,Ms.jsx)(bK,{value:v})]})};function TK(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return AK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AK(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EK(t){var e=(0,Qr.eH)(t),n=[];return e.hours>0&&n.push((0,yt.tr)("time.short_h",e.hours)),e.minutes>0&&n.push((0,yt.tr)("time.short_min",e.minutes)),e.seconds>0&&0===e.hours&&n.push((0,yt.tr)("time.short_sec",e.seconds)),n.join(" ")}var PK=mp((function(t,e,n){var r=t.global,i=r.enabledTooltipMessage,o=r.isMobile,a=r.isS,s=t.chartSettings.chartById[n],c=s.fastTimeframe,l=s.fastCloseAt,u=(0,Cr.TF)(t),h=(0,Vs.E_)(t)(n).timeframes,f=(0,Nr.K2)(t),d=(0,Nr.oW)(t);return{chartId:n,fastTimeframe:c,timeframes:h,showTooltip:!o&&i&&!d,isBottomPosition:u,isMobile:o,isS:a,fastCloseAt:l,getOnboardingIsOpenExpirationStep:f}}),null,np)((function(t){var e=t.isBottomPosition,n=t.fastTimeframe,i=t.showBlockButtons,o=void 0===i||i,a=t.showTooltip,s=t.fastCloseAt,c=t.getOnboardingIsOpenExpirationStep,l=(0,u.wA)(),h=(0,r.useContext)(np),f=(0,r.useContext)(rp),d=TK((0,r.useState)(!1),2),p=d[0],m=d[1],y=(0,r.useRef)(),v=(0,u.d4)((function(t){return t.chartSettings.chartById[h].isCalendarMode})),b=(0,u.d4)((function(t){return t.global.windowLayout})),g=(0,u.d4)(Nr.t0);(0,r.useEffect)((function(){m(g===Bq.d.SELECT_EXPIRATION)}),[g]);var w=function(){return m(!1)},x=function(){return l((0,Bu.ek)({chartId:h,value:!v}))},j=!(0,_H.h0)(b),O=(0,_H.WU)(b,f),S=j&&O>1,_=vi(s).timestamp,T=v?fi(_):n,A=ji(),E="UTC".concat(A>=0?"+":"").concat(A);return(0,Ms.jsxs)("div",{className:"block block--expiration-inputs",children:[o&&(0,Ms.jsxs)("div",{className:"block__title",children:["".concat((0,yt.tr)("control_panel.time_to_purchase")).concat(v?" ".concat(E):""),a&&(0,Ms.jsxs)("div",{className:"tooltip2",children:[(0,Ms.jsx)("i",{className:"fa fa-question-circle-o"}),!v&&!c&&(0,Ms.jsxs)(Vc,{position:e?"":"left",children:[(0,yt.tr)("chart_settings.tooltip_quick_option")," ",EK(T),"."]}),v&&!c&&(0,Ms.jsx)(Vc,{position:e?"":"left",children:(0,yt.tr)("chart_settings.tooltip_quick_option_calendar",E,(0,Qr.GQ)(_,!0))})]})]}),(0,Ms.jsxs)("div",{className:"block__control control js-tour-block--expiration-inputs",ref:y,children:[(0,Ms.jsx)("div",{className:"control__value value value--several-items",onClick:function(){return m((function(t){return!t}))},children:(0,Ms.jsx)("div",{className:"value__val",children:(0,Qr.Xd)(T)})}),S&&(0,Ms.jsx)("div",{className:"control-buttons__wrapper",children:(0,Ms.jsx)("a",{onClick:x,children:(0,Ms.jsx)("i",{className:(0,Ds.A)("fa",v?"fa-flag-checkered":"fa-clock-o")})})}),o&&(0,Ms.jsx)("div",{className:"control-buttons__wrapper",children:(0,Ms.jsx)("div",{className:"control__buttons buttons",children:(0,Ms.jsxs)("a",{onClick:x,className:(0,Ds.A)(a&&"tooltip2"),children:[(0,Ms.jsx)("i",{className:(0,Ds.A)("fa",v?"fa-flag-checkered":"fa-clock-o")}),a&&(0,Ms.jsx)(Vc,{position:e?"":"left",text:"chart_settings.switch_to_d"})]})})})]}),p&&!v&&(0,Ms.jsx)(fK,{fastTimeframe:n,closeHandler:w,openerNode:y.current}),p&&v&&(0,Ms.jsx)(mK,{fastCloseAtInLocalTime:_,closeHandler:w,openerNode:y.current}),(0,Ms.jsx)(_K,{})]})}));function CK(){var t=(0,r.useContext)(np),e=(0,u.d4)((function(e){return(0,Wc.C1)(e)(t)})),n=(0,u.d4)((function(e){return(0,Cr.Jt)(e)(t)})),i=(0,u.d4)((function(t){return t.global.currency})),o=(n+n*e/100).toFixed(2);return(0,Ms.jsx)("div",{className:"payout-expected-profit-text js-tour-estimated-profit-block-long",children:(0,Ms.jsxs)("div",{className:"payout-expected-profit-text__in",children:[(0,Ms.jsxs)("span",{className:"payout-expected-profit-text__b1",children:[(0,yt.tr)("deals.payout"),":"," ",(0,Ms.jsxs)("span",{children:[i,o]})]}),(0,Ms.jsxs)("span",{className:"payout-expected-profit-text__b2",children:["+",e,"%"]}),(0,Ms.jsxs)("span",{className:"payout-expected-profit-text__b3",children:[(0,yt.tr)("deals.profit"),":"," ",(0,Ms.jsxs)("span",{children:["+",i,(0,qn.xr)(o-n)]})]})]})})}var kK={h:"time.short_h",m:"time.short_min",s:"time.short_sec",h1:"time.short_h",m1:"time.short_min",s1:"time.short_sec"},NK=mp((function(t,e,n){var r=t.chartSettings.chartById[n],i=r.fastTimeframe,o=r.symbol,a=t.global.currency,s=(0,Vs.L5)(t)(o),c=(0,Wc.C1)(t)(n),l=(0,Wc.JM)(t)(n),u=(0,Cr.Jt)(t)(n);return{amount:"".concat(a).concat(u),payout:"".concat(c,"%"),current_price:(0,qn.xr)(l,s,!0),time_until_expiration:(0,Qr.Pe)(i,!0,kK)}}),null,np)((function(t){var e=t.amount,n=t.payout,r=t.current_price,i=t.time_until_expiration;return(0,yt.tr)("control_panel.estimated-profit-block-tooltip",{amount:e,payout:n,current_price:r,time_until_expiration:i})}));function IK(){var t=(0,r.useContext)(np),e=(0,u.d4)((function(e){return(0,Cr.Jt)(e)(t)})),n=(0,u.d4)((function(e){return(0,Wc.C1)(e)(t)})),i=(0,u.d4)((function(t){return t.global.isTournament})),o=(0,u.d4)(Cr.WN),a=(0,u.d4)(Nr.oW),s=o&&!a,c=(e*n/100).toFixed(2),l=i?de.Ay.TOURNAMENT_CURRENCY:de.Ay.CURRENCY;return(0,Ms.jsxs)("div",{className:"estimated-profit-block js-tour-estimated-profit-block",children:[(0,Ms.jsxs)("div",{className:"estimated-profit-block__block estimated-profit-block__block--payout",children:[(0,Ms.jsxs)("div",{className:"estimated-profit-block__label",children:[(0,yt.tr)("deals.payout"),s&&(0,Ms.jsxs)("div",{className:"estimated-profit-block__tooltip tooltip2",children:[(0,Ms.jsx)("i",{className:"fa fa-question-circle-o"}),(0,Ms.jsx)(Vc,{position:"left",children:(0,Ms.jsx)(NK,{})})]})]}),(0,Ms.jsx)("div",{className:"estimated-profit-block__block-in",children:(0,Ms.jsxs)("div",{className:"estimated-profit-block__text-wrap",children:[(0,Ms.jsx)("div",{className:"estimated-profit-block__text estimated-profit-block__text--up",children:(0,Ms.jsxs)("span",{children:["+",n,(0,Ms.jsx)("span",{className:"estimated-profit-block__percent",children:"%"})]})}),(0,Ms.jsxs)("div",{className:"estimated-profit-block__text--sub estimated-profit-block__text--up",children:[l,(+e+ +c).toFixed(2)]})]})})]}),(0,Ms.jsxs)("div",{className:"estimated-profit-block__block estimated-profit-block__block--estimated-profit",children:[(0,Ms.jsx)("div",{className:"estimated-profit-block__label",children:(0,yt.tr)("deals.profit")}),(0,Ms.jsx)("div",{className:"estimated-profit-block__block-in",children:(0,Ms.jsxs)("div",{className:"estimated-profit-block__text",children:["+",l,c]})})]})]})}function RK(){var t=(0,r.useContext)(np),e=(0,u.d4)((function(e){return(0,Cr.Jt)(e)(t)})),n=(0,u.d4)((function(e){return(0,Wc.C1)(e)(t)})),i=(0,u.d4)((function(t){return t.global.isTournament})),o=(e*n/100).toFixed(2),a=i?de.Ay.TOURNAMENT_CURRENCY:de.Ay.CURRENCY;return(0,Ms.jsx)("div",{className:"estimated-profit-block",children:(0,Ms.jsxs)("div",{className:"estimated-profit-block__block estimated-profit-block__block--payout",children:[(0,Ms.jsx)("div",{className:"estimated-profit-block__label",children:(0,yt.tr)("take_profit")}),(0,Ms.jsx)("div",{className:"estimated-profit-block__block-in",children:(0,Ms.jsxs)("div",{className:"estimated-profit-block__text estimated-profit-block__text--up",children:["+",a,o]})})]})})}function LK(){var t=(0,r.useContext)(np),e=(0,u.d4)((function(e){return(0,Wc.C1)(e)(t)})),n=(0,u.d4)((function(e){return(0,Cr.Jt)(e)(t)})),i=(0,u.d4)((function(t){return t.global.currency})),o=(n+n*e/100).toFixed(2);return(0,Ms.jsx)("div",{className:"payout-expected-profit-text",children:(0,Ms.jsx)("div",{className:"payout-expected-profit-text__in",children:(0,Ms.jsxs)("span",{className:"payout-expected-profit-text__b2",children:[(0,yt.tr)("take_profit"),":"," ",(0,Ms.jsxs)("span",{children:["+",i,(0,qn.xr)(o-n)]})]})})})}var DK=function(t){var e=t.chartSlotIndex,n=(0,r.useContext)(np),i=(0,u.d4)((function(t){return t.global.isMobile})),o=(0,u.d4)((function(t){return t.global.windowLayout})),a=(0,u.d4)((function(t){return(0,Wc.uO)(t)(e)})),s=(0,u.d4)(Cr.KY),c=(0,_H.WU)(o,e),l=2!==c&&3!==c;return(0,Ms.jsx)("div",{className:"call-put-block control-panel",id:"put-call-buttons-".concat(n),children:(0,Ms.jsxs)("div",{className:(0,Ds.A)("call-put-block__in"),children:[(0,Ms.jsxs)("div",{className:"blocks-wrap",children:[(0,Ms.jsx)(PK,{showBlockButtons:l}),(0,Ms.jsx)(sK,{showBlockButtons:l})]}),i&&!s&&(0,Ms.jsx)(CK,{}),i&&s&&(0,Ms.jsx)(LK,{}),(0,Ms.jsxs)("div",{className:"buttons__wrap",children:[a&&!s&&(0,Ms.jsx)(IK,{}),a&&s&&(0,Ms.jsx)(RK,{}),(0,Ms.jsxs)("div",{className:"js-tour-action-buttons-container tour-action-buttons-container",children:[(0,Ms.jsx)(bq,{}),(0,Ms.jsx)(gq,{})]})]})]})})},MK=function(t){var e=t.chartSlotIndex,n=(0,r.useContext)(np),i=(0,u.d4)((function(t){return t.global.isMobile})),o=(0,u.d4)((function(t){return t.global.windowLayout})),a=(0,u.d4)((function(t){return(0,Wc.uO)(t)(e)})),s=(0,u.d4)(Cr.KY),c=(0,_H.WU)(o,e),l=2!==c&&3!==c;return(0,Ms.jsx)("div",{className:"call-put-block control-panel",id:"put-call-buttons-".concat(n),children:(0,Ms.jsxs)("div",{className:(0,Ds.A)("call-put-block__in"),children:[(0,Ms.jsx)("div",{className:"blocks-wrap",children:(0,Ms.jsx)(sK,{showBlockButtons:l})}),i&&!s&&(0,Ms.jsx)(CK,{}),i&&s&&(0,Ms.jsx)(LK,{}),(0,Ms.jsxs)("div",{className:"buttons__wrap",children:[a&&!s&&(0,Ms.jsx)(IK,{}),a&&s&&(0,Ms.jsx)(RK,{}),(0,Ms.jsxs)("div",{className:"js-tour-action-buttons-container tour-action-buttons-container",children:[(0,Ms.jsx)(bq,{}),(0,Ms.jsx)(gq,{})]})]})]})})},BK=function(){var t=(0,u.d4)((function(t){return t.global.isWebview}))?MK:DK;return(0,Ms.jsx)(rp.Consumer,{children:function(e){return(0,Ms.jsx)(t,{chartSlotIndex:e})}})},HK=BK;function FK(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return GK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GK(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var VK=function(){var t=(0,u.wA)(),e=ip(),n=FK((0,r.useState)(50),2),i=n[0],o=n[1],a=FK((0,r.useState)(50),2),s=a[0],c=a[1],l=FK((0,r.useState)(0),2),h=l[0],f=l[1],d=FK((0,r.useState)(0),2),p=d[0],m=d[1],y=FK((0,r.useState)(""),2),v=y[0],b=y[1],g=(0,u.d4)((function(t){return(0,Vs.E_)(t)(e)})),w=g.symbol,x=g.active,j=void 0!==x&&x,O=(0,u.d4)((function(t){return(0,Cr.AI)(t,{chartId:e})}));(0,r.useEffect)((function(){return t((0,Bu.UQ)({chartId:e})),function(){t((0,Bu.h1)({chartId:e}))}}),[w]),(0,r.useEffect)((function(){var t=j?100-O:0;f(t),m(j?O:0);var e=i,n=100-t;o(n),b(n>e?"r":"l"),c(e)}),[j,O]);var S=(0,Ds.A)("progress-bar",[i!==s&&["box-shadow-fade-animate",{"box-shadow-fade-animate--green":"r"===v,"box-shadow-fade-animate--red":"r"!==v}]]);return(0,Ms.jsx)("div",{className:"auxiliary-information-panels__item market-watch-panel",onClick:function(){return t((0,Bu.Ih)({chartId:e,value:!1}))},children:(0,Ms.jsxs)("div",{className:"market-watch-panel__in tooltip2",children:[(0,Ms.jsx)("div",{className:"pb",children:(0,Ms.jsxs)("div",{className:"progress-wrapper",children:[(0,Ms.jsxs)("div",{className:"start",children:[h,"%"]}),(0,Ms.jsx)("div",{className:"progress",children:(0,Ms.jsx)("div",{className:S,style:{width:"".concat(i,"%")}})}),(0,Ms.jsxs)("div",{className:"end",children:[p,"%"]})]})}),(0,Ms.jsx)(Vc,{position:"left",children:(0,yt.tr)("control_panel.market_watch.tooltip")})]})})},WK=VK;function UK(t){return UK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UK(t)}function zK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QK(r.key),r)}}function XK(t,e,n){return e=YK(e),function(t,e){if(e&&("object"===UK(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qK(t)}(t,$K()?Reflect.construct(e,n||[],YK(t).constructor):e.apply(t,n))}function $K(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($K=function(){return!!t})()}function YK(t){return YK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},YK(t)}function qK(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KK(t,e){return KK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},KK(t,e)}function ZK(t,e,n){return(e=QK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QK(t){var e=function(t,e){if("object"!=UK(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=UK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==UK(e)?e:String(e)}var JK=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ZK(qK(t=XK(this,e,[].concat(r))),"state",{dateFinish:"",url:"",isRedirecting:!1}),ZK(qK(t),"checkTimeLeft",(function(){t.secondsLeft>0||t.state.isRedirecting||t.setState({isRedirecting:!0},(function(){window.location.href=t.state.url}))})),t}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KK(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.setState({dateFinish:+(0,fe.A)("tournament-date-finish"),url:(0,fe.A)("tournament-url")})}},{key:"componentDidUpdate",value:function(t){t.currentTime!==this.props.currentTime&&this.checkTimeLeft()}},{key:"secondsLeft",get:function(){return this.state.dateFinish-this.props.currentTime}},{key:"render",value:function(){return null}}])&&zK(n.prototype,r),i&&zK(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),tZ=(0,u.Ng)((function(t){return{currentTime:t.global.currentTime}}))(JK);function eZ(t){return eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eZ(t)}function nZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rZ(r.key),r)}}function rZ(t){var e=function(t,e){if("object"!=eZ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eZ(e)?e:String(e)}function iZ(t,e,n){return e=aZ(e),function(t,e){if(e&&("object"===eZ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,oZ()?Reflect.construct(e,n||[],aZ(t).constructor):e.apply(t,n))}function oZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oZ=function(){return!!t})()}function aZ(t){return aZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aZ(t)}function sZ(t,e){return sZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sZ(t,e)}var cZ={marginBottom:"var(--indicator-margin-bottom)"},lZ=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),iZ(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sZ(t,e)}(e,t),n=e,r=[{key:"render",value:function(){var t=this.props,e=t.enabledMarketWatch,n=t.chartId,r=t.isTournament,i=t.openingFirstDealPanel,o=t.isDemo,a=t.isMobile,s=t.chartSlotIndex,c=t.windowLayout,l=t.minimizedTradePanel,u=(0,_H._2)(c,s),h=!a&&(!o||!i)&&e,f=(0,_H.h0)(c)||!l;return(0,Ms.jsxs)("div",{className:"js-react-call-put-wrap-".concat(n," chart-row-").concat(u),children:[a&&(0,Ms.jsx)("div",{className:(0,Ds.A)("call-put-wrap trading-panel"),style:cZ,children:(0,Ms.jsx)(HK,{})}),!a&&f&&(0,Ms.jsxs)("div",{className:"call-put-wrap trading-panel",children:[(0,Ms.jsx)("div",{className:"auxiliary-information-panels",children:h&&(0,Ms.jsx)(WK,{})}),(0,Ms.jsx)(HK,{})]}),r&&(0,Ms.jsx)(tZ,{})]})}}],r&&nZ(n.prototype,r),i&&nZ(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),uZ=mp((function(t,e,n){var r=t.chartSettings.chartById[n],i=r.enabledMarketWatch,o=r.enabledTradeMonitor,a=r.enabledRatingWidget,s=r.minimizedTradePanel,c=t.global,l=c.openingFirstDealPanel,u=c.isDemo,h=c.isTournament,f=c.isMobile,d=!f&&o;return{enabledMarketWatch:i,enabledTradeMonitor:o,enabledRatingWidget:a,openingFirstDealPanel:l,chartId:n,isDemo:u,isTournament:h,isMobile:f,windowLayout:c.windowLayout,isRightWidgetContainerOpened:Zd(t),showMonitoringPanel:d,minimizedTradePanel:s}}),null,np)(lZ),hZ=uZ;function fZ(t){return function(t){if(Array.isArray(t))return mZ(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||pZ(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dZ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||pZ(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pZ(t,e){if(t){if("string"==typeof t)return mZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mZ(t,e):void 0}}function mZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yZ(t,e){var n=Math.max(1,Math.round(t/e/60));if(n<60)return{label:"M".concat(n),minutes:n};var r=Math.round(n/60);if(r<24)return{label:"H".concat(r),minutes:60*r};var i=Math.round(r/24);return{label:"D".concat(i),minutes:24*i*60}}var vZ=function(){var t=(0,u.wA)(),e=ip(),n=(0,u.d4)((function(t){return t.chartSettings.chartById[e].dateRangeMinutes})),i=(0,u.d4)((function(t){return t.chartSettings.chartById[e].chartType})),o=(0,u.d4)((function(t){return t.chartSettings.chartById[e].chartSize})),a=(0,u.d4)((function(t){return t.chartSettings.chartById[e].zoom})),s=(0,r.useRef)(),c=dZ((0,r.useState)(!1),2),l=c[0],h=c[1],f=yZ(o.width,a[i]),d=n!==f.minutes&&f.minutes>0?f.minutes:n,p=w.o9.some((function(t){return t.minutes===d}))?w.o9:[f].concat(fZ(w.o9)).sort((function(t,e){return t.minutes===e.minutes?0:t.minutes-e.minutes}));(0,r.useEffect)((function(){yZ(o.width,a[i]).minutes>0&&(t((0,Bu.mR)(e)),s.current&&po()(s.current).selectpicker("refresh"))}),[o.width,a[i]]),(0,r.useEffect)((function(){if(s.current){var t=po()(s.current);t.selectpicker(),t.off("shown.bs.select").on("shown.bs.select",(function(){return h(!0)})).off("hidden.bs.select").on("hidden.bs.select",(function(){return h(!1)}))}}),[]);return(0,Ms.jsx)(Ms.Fragment,{children:(0,Ms.jsx)(wm,{WrapperComponent:"div",TooltipComponent:function(){return l?null:(0,Ms.jsx)(Vc,{position:"top",text:"control_panel.screen_size_tooltip"})},children:(0,Ms.jsx)("select",{ref:s,className:"selectpicker form-control",onChange:function(n){return function(n){var r=parseInt(n.target.value,10);t((0,Bu.I7)(e,r))}(n)},value:d,tabIndex:-1,children:p.map((function(t){return(0,Ms.jsx)("option",{value:t.minutes,children:t.label},t.minutes)}))})})})},bZ={marginBottom:"var(--indicator-margin-bottom)"},gZ=function(){return(0,Ms.jsx)("div",{className:"zoom-controls",style:bZ,children:(0,Ms.jsx)(vZ,{})})};function wZ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return xZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xZ(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jZ=Pl((function(t){var e=t.period,n=t.setPeriodHandler,i=t.openerNode,o=t.onDropdownClose,a=wZ((0,r.useState)(!1),2),s=a[0],c=a[1];return(0,Ms.jsx)(Uf,{timeout:200,className:"drop-down-modal-wrap",classNames:"drop-down-modal-wrap",children:(0,Ms.jsx)(od,{onClickOutside:function(){o(),c(!1)},className:"drop-down-modal drop-down-modal__choose-period",style:zp(i),children:(0,Ms.jsxs)("div",{className:"drop-down-modal__choose-period--wrapper",children:[!s&&(0,Ms.jsx)(Ms.Fragment,{children:(0,Ms.jsx)("div",{className:"periods-list",children:Object.keys(Vi.nR).map((function(t){var r=+t;return(0,Ms.jsx)("a",{className:(0,Ds.A)(r===e&&"active"),onClick:n(r),children:Vi.nR[r]},r)}))})}),s&&(0,Ms.jsxs)("div",{className:"s-text",children:[(0,yt.tr)("signals.tg_info"),":"," ",(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/telegram/link"),target:"_blank",children:(0,yt.tr)("signals.tg_start")}),"."]})]})})})})),OZ=Pl((function(t){var e=t.openerNode,n=t.onDropdownClose,r=(0,u.wA)(),i=(0,u.d4)((function(t){return t.global.infoIcons.signal}));return(0,Ms.jsx)(Uf,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Ms.jsx)(od,{onClickOutside:n,className:"drop-down-modal drop-down-modal__signal-settings",style:zp(e),children:(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"divider mb-15",children:(0,yt.tr)("chart_settings.settings")}),(0,Ms.jsx)(Ef,{className:"mb-10",checked:i,onChange:function(){return r((0,ba.hG)("top_left_info_icons_signals",!i))},children:(0,yt.tr)("signals.systems_signal")}),(0,Ms.jsx)("div",{className:"s-text ct",children:(0,yt.tr)("signals.settings.systems_signal_text")})]})})})})),SZ=Pl((function(t){var e,n=t.openerNode,r=t.onDropdownClose,i=t.period;return(0,Ms.jsx)(Uf,{timeout:200,classNames:"drop-down-modal-wrap",className:"drop-down-modal-wrap",children:(0,Ms.jsx)(od,{onClickOutside:r,className:"drop-down-modal drop-down-modal__signal-settings",style:zp(n),children:(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("div",{className:"divider mb-15",children:(0,yt.tr)("signals.information_title")}),(0,Ms.jsx)("div",{className:"s-text mb-10",children:(0,yt.tr)("signals.settings.help",{time:"".concat(Vi.nR[i]," (").concat((0,yt.tr)((e=i,e<60?"signals.period_30_second":"signals.period_".concat(e/60,"_min"))),")")})}),(0,Ms.jsx)("div",{className:"s-text ct",children:(0,yt.tr)("signals.settings.systems_signal_text")})]})})})})),_Z=function(t){var e=t.label;return(0,Ms.jsx)("div",{className:"signal-label flex-centered",children:e})},TZ=function(t){var e=t.period,n=t.symbol,r=t.signal,i=(0,u.wA)(),o=jY.UI[r],a=(0,u.d4)((function(t){return(0,Vs.P7)(t)(n)})),s=(0,u.d4)((function(t){return t.chartSettings.visibleSymbols.includes[n]}));return(0,Ms.jsxs)("a",{onClick:function(){return i((0,Bu.Rj)({symbol:n,timeframe:e}))},className:(0,Ds.A)("signal-item",s&&"active"),children:[(0,Ms.jsx)("span",{className:"signal-item__label",children:a}),(0,Ms.jsx)("span",{className:"price ".concat(o.class," ").concat(o.type),children:(0,Ms.jsx)(xY,{type:o.type})})]})},AZ=function(t){var e=t.period,n=(0,u.d4)((function(t){return(0,Vs.rC)(t)})),r=(0,u.d4)((function(t){return(0,Vs.gg)(t)})),i=(0,u.d4)((function(t){return t.signals.all})),o=[];return kt.forEach((function(t){var a=[];r.filter((function(r){return n[r].active&&n[r].type===t&&i[e]&&i[e][r]})).sort((function(t,e){var n=t.asset,r=e.asset;return n===r?0:n>r?1:-1})).forEach((function(t){return a.push({type:"signal",id:t,symbol:t})})),a.length>0&&o.push.apply(o,[{type:"category",id:t,label:Rt(t)}].concat(a))})),(0,Ms.jsx)("div",{className:"all-wrapper",children:o.map((function(t){var n=t.id,r=t.label,o=t.symbol,a=t.type;if("category"===a)return(0,Ms.jsx)(_Z,{label:r},n);if("signal"===a){var s=i[e][o].signal;return(0,Ms.jsx)(TZ,{symbol:o,signal:s,period:e},n)}return null}))})};function EZ(t){return EZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EZ(t)}var PZ=["signal","price","symbol"];function CZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kZ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?CZ(Object(n),!0).forEach((function(e){NZ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CZ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function NZ(t,e,n){var r;return r=function(t,e){if("object"!=EZ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==EZ(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IZ(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var RZ=function(t){var e=t.signal,n=t.price,r=t.symbol,i=IZ(t,PZ),o=(0,u.d4)((function(t){return(0,Bd.Dc)(t)(r,n)})),a=o&&("up1"===e||"up2"===e)||!o&&("down1"===e||"down2"===e);return(0,Ms.jsx)("div",kZ(kZ({},i),{},{children:(0,Ms.jsxs)("span",{className:(0,Ds.A)("price",a&&"price-up",!a&&"price-down"),children:[a?"+":"-","$"]})}))};function LZ(t){return LZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LZ(t)}var DZ=["signal"];function MZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function BZ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?MZ(Object(n),!0).forEach((function(e){HZ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MZ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function HZ(t,e,n){var r;return r=function(t,e){if("object"!=LZ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=LZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==LZ(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FZ(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var GZ=function(t){var e=t.signal,n=FZ(t,DZ),r=jY.UI[e],i="price ".concat(r.class," ").concat(r.type);return(0,Ms.jsx)("div",BZ(BZ({},n),{},{children:(0,Ms.jsx)("div",{className:i,children:(0,Ms.jsx)(xY,{type:r.type})})}))},VZ=function(t){var e=t.className,n=t.label,r=(0,u.d4)((function(t){return t.global.isMobile})),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return t.length>e?t.substring(0,e).trim()+"…":t}(n,r?12:8);return i.length!==n.length?(0,Ms.jsx)(wm,{WrapperComponent:"div",className:(0,Ds.A)(e,"pointer"),TooltipComponent:function(){return(0,Ms.jsx)(Vc,{position:"right",textContent:n})},children:i}):(0,Ms.jsx)("div",{className:e,children:n})};function WZ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return UZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UZ(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zZ=function(t){var e=t.updatedSignal,n=t.amount,r=e.signal,i=e.time,o=e.timeframe,a=e.symbol,s=(0,u.wA)(),c=WZ(CY({animation:"bounceIn",duration:"600ms"}),3),l=c[0],h=c[1],f=c[2];return(0,Ms.jsx)("div",{className:"copy-signal-item__action",children:(0,Ms.jsx)("a",{ref:l,className:"btn js-copy-signal-btn",onClick:function(){Re.A.publish(ga),f();var t="up1"===r||"up2"===r?"call":"put";s((0,ja.j4)({symbol:a,action:t,amount:n,time:i,timeframe:o}))},onAnimationEnd:h,children:(0,yt.tr)("signals.copy")})})},XZ=function(t){var e=t.updatedSignal,n=e.signal,r=e.price,i=e.time,o=e.timeframe,a=e.symbol,s=e.count,c=(0,u.d4)((function(t){return(0,Wc.Be)(t)})),l=(0,u.d4)((function(t){return(0,Cr.Jt)(t)(c)})),h=(0,u.d4)((function(t){return(0,Vs.P7)(t)(a)})),f=(0,u.d4)((function(t){return t.global.currency})),d=(0,u.d4)((function(t){return t.global.isMobile}));return(0,Ms.jsxs)("div",{className:"copy-signal-item",children:[(0,Ms.jsxs)("div",{className:"copy-signal-item__row",children:[d&&(0,Ms.jsx)(VZ,{className:"copy-signal-item__symbol",label:h}),!d&&(0,Ms.jsx)("div",{className:"copy-signal-item__symbol crop-text",children:h}),(0,Ms.jsx)(GZ,{className:"icons-column",signal:n}),(0,Ms.jsx)(HY,{className:"copy-signal-item__progress",symbol:a,timeframe:o,time:i})]}),(0,Ms.jsxs)("div",{className:"copy-signal-item__row",children:[(0,Ms.jsxs)("div",{className:"copy-signal-item__price",children:[f,l]}),(0,Ms.jsx)(RZ,{className:"icons-column",signal:n,price:r,symbol:a}),(0,Ms.jsx)(zZ,{updatedSignal:e,amount:l})]}),(0,Ms.jsxs)("div",{className:"copy-signal-item__row copy-signal-item__stats",children:[(0,Ms.jsx)("div",{children:(0,yt.tr)("signals.copied_times",s)}),(0,Ms.jsx)(PY,{time:i})]})]})},$Z=(0,r.memo)(XZ),YZ=function(){var t=(0,u.d4)(kY.jY),e=(0,r.useRef)(null),n=(0,u.wA)();return(0,r.useEffect)((function(){return e.current=setInterval((function(){n((0,ja.qD)())}),1e4),function(){e.current&&clearInterval(e.current)}}),[]),(0,Ms.jsx)("div",{className:"updates-wrapper",children:t.map((function(t){var e=t.symbol,n=t.timeframe,r=t.signal;return(0,Ms.jsx)($Z,{updatedSignal:t},"".concat(e,"-").concat(n,"-").concat(r))}))})};function qZ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return KZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KZ(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ZZ="updates",QZ="all",JZ="periods",tQ="settings",eQ="help",nQ=(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/svg/icons/help-icon.svg"}),rQ=function(t){var e=t.height,n=qZ((0,r.useState)(60),2),i=n[0],o=n[1],a=(0,r.useRef)(null),s=qZ((0,r.useState)(ZZ),2),c=s[0],l=s[1],h=(0,u.d4)((function(t){return t.global.isDemoProfile})),f=(0,u.wA)(),d=!h,p=qZ((0,r.useState)(null),2),m=p[0],y=p[1],v=function(){return y(null)},b=(0,r.useCallback)((function(t){return function(){return y(t)}}),[]);(0,r.useEffect)((function(){return f((0,ja.uc)()),function(){f((0,ja.jQ)())}}),[]);var g=function(t){return function(){return l(t)}},w={transform:"rotate(".concat(m===JZ?"180deg":0,")")};return(0,Ms.jsxs)("div",{className:"widget-slot signals",style:{height:"".concat(e,"%")},children:[(0,Ms.jsxs)("div",{className:"widget-slot__header",children:[(0,Ms.jsxs)("div",{className:"title flex-centered",ref:a,children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("right_panel.signals")}),c===QZ&&(0,Ms.jsxs)("a",{className:"period",onClick:b(JZ),children:[Vi.nR[i],(0,Ms.jsx)("i",{className:"fa fa-caret-down",style:w})]}),(0,Ms.jsxs)("div",{className:"actions",children:[(0,Ms.jsx)("a",{className:(0,Ds.A)(m===eQ&&"active"),onClick:b(eQ),children:nQ}),d&&(0,Ms.jsx)("a",{className:"tg",href:(0,je.hX)("cabinet/telegram/link"),target:"_blank",children:(0,Ms.jsx)("i",{className:"fa fa-telegram"})}),(0,Ms.jsx)("a",{className:(0,Ds.A)(m===tQ&&"active"),onClick:b(tQ),children:(0,Ms.jsx)("i",{className:"fa fa-cog"})})]})]}),(0,Ms.jsx)("div",{className:"divider",children:(0,Ms.jsxs)("ul",{children:[(0,Ms.jsx)("li",{className:(0,Ds.A)(ZZ===c&&"active"),children:(0,Ms.jsx)("a",{className:"flex-centered",onClick:g(ZZ),children:(0,yt.tr)("signals.tab_updates")})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(QZ===c&&"active"),children:(0,Ms.jsx)("a",{className:"flex-centered",onClick:g(QZ),children:(0,yt.tr)("signals.tab_all")})})]})})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("widget-slot__body",m&&"faded"),children:[m===JZ&&(0,Ms.jsx)(jZ,{period:i,setPeriodHandler:function(t){return function(){o(t),y(null)}},onDropdownClose:v,openerNode:a.current}),m===tQ&&(0,Ms.jsx)(OZ,{onDropdownClose:v,openerNode:a.current}),m===eQ&&(0,Ms.jsx)(SZ,{onDropdownClose:v,openerNode:a.current,period:i}),(0,Ms.jsxs)(ku,{className:"signals-list",children:[c===ZZ&&(0,Ms.jsx)(YZ,{}),c===QZ&&(0,Ms.jsx)(AZ,{period:i})]})]})]})},iQ=(0,u.Ng)((function(t){return{checked:t.global.infoIcons.signal}}),{changeInfoIconState:ba.hG})((function(t){var e=t.changeInfoIconState,n=t.checked,r=(0,u.d4)((function(t){return t.global.isMobile}));return(0,Ms.jsx)("div",{className:"settings-block",children:(0,Ms.jsxs)(ku,{children:[!r&&(0,Ms.jsx)("div",{className:"title2",children:(0,yt.tr)("chart_settings.settings")}),(0,Ms.jsx)("div",{className:"s-text",children:(0,yt.tr)("signals.settings.systems_signal_text")}),(0,Ms.jsx)("div",{className:"mdl-wrap",children:(0,Ms.jsx)(Ef,{checked:n,onChange:function(){return e("top_left_info_icons_signals",!n)},children:(0,yt.tr)("signals.systems_signal")})})]})})})),oQ=function(){var t=(0,u.d4)((function(t){return t.global.isMobile}));return(0,Ms.jsxs)("div",{className:"settings-block",children:[!t&&(0,Ms.jsx)("div",{className:"title2",children:"Telegram Bot"}),(0,Ms.jsxs)("div",{className:"s-text",children:[(0,yt.tr)("signals.tg_info"),"."]}),(0,Ms.jsx)("div",{className:"tg-link",children:(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/telegram/link"),target:"_blank",children:"Telegram Bot"})})]})},aQ=0,sQ=1,cQ=2,lQ=[{label:"M1",value:60},{label:"M2",value:120},{label:"M3",value:180},{label:"M5",value:300},{label:"M10",value:600},{label:"M15",value:900},{label:"M30",value:1800},{label:"M45",value:2700},{label:"H1",value:3600},{label:"H2",value:7200},{label:"H3",value:10800},{label:"H4",value:14400}];function uQ(t){return uQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uQ(t)}function hQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fQ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hQ(Object(n),!0).forEach((function(e){dQ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hQ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dQ(t,e,n){var r;return r=function(t,e){if("object"!=uQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==uQ(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pQ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return mQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mQ(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mQ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yQ=(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/images/mobile/right-nav/signals.svg"}),vQ={},bQ=Pl((function(t){var e=t.onClickOutside,n=pQ((0,r.useState)(ZZ),2),i=n[0],o=n[1],a=pQ((0,r.useState)(Be),2),s=a[0],c=a[1],l=pQ((0,r.useState)(!1),2),h=l[0],f=l[1],d=(0,r.useRef)(null),p=pQ((0,r.useState)(aQ),2),m=p[0],y=p[1],v=pQ((0,r.useState)(60),2),b=v[0],g=v[1],w=(0,u.d4)((function(t){return!t.global.isDemoProfile})),x=(0,u.wA)();(0,r.useEffect)((function(){var t=Re.A.subscribe(De,(function(t,e){c(e)}));return function(){Re.A.unsubscribe(t)}}),[]),(0,r.useEffect)((function(){return x((0,ja.uc)()),document.addEventListener("click",j),function(){x((0,ja.jQ)()),document.removeEventListener("click",j)}}),[]);var j=function(t){d.current&&!d.current.contains(t.target)&&f(!1)},O=function(t){return function(){y(t)}},S=function(t){switch(t){case aQ:return(0,Ms.jsx)("i",{className:"fa fa-heartbeat"});case sQ:return(0,Ms.jsx)("i",{className:"fa fa-cog"});case cQ:return(0,Ms.jsx)("i",{className:"fa fa-telegram"})}return""},_=(0,Ms.jsxs)("div",{ref:d,className:(0,Ds.A)("mobile-drop-down-list",h&&"open"),children:[(0,Ms.jsxs)("div",{className:"mobile-drop-down-list__title",onClick:function(){return f(!h)},children:[(0,Ms.jsx)("span",{className:"mobile-drop-down-list__icon",children:yQ}),(0,Ms.jsx)("span",{className:"mobile-drop-down-list__label",children:lQ.find((function(t){return t.value===b})).label}),(0,Ms.jsx)("span",{className:"mobile-drop-down-list__arrow",children:(0,Ms.jsx)("i",{className:"fa fa-angle-down"})})]}),(0,Ms.jsx)("ul",{className:"mobile-drop-down-list__list",children:lQ.map((function(t){var e,n=t.label,r=t.value;return(0,Ms.jsx)("li",{className:(0,Ds.A)("mobile-drop-down-list__item",b===r&&m===aQ&&"active"),children:(0,Ms.jsxs)("a",{className:"mobile-drop-down-list__link",onClick:(e=r,function(){g(e),y(aQ),f(!1)}),children:[(0,Ms.jsx)("span",{className:"mobile-drop-down-list__icon",children:yQ}),(0,Ms.jsx)("span",{className:"mobile-drop-down-list__label",children:n})]})},r)}))})]}),T=m===aQ&&i===QZ,A=i===ZZ&&m===aQ,E=i===QZ&&m===aQ,P=s===Le.V,C=P?od:"div",k=P?{onClickOutside:e(me.lx.SIGNALS)}:vQ;return(0,Ms.jsx)(Uf,{className:"right-sidebar-modal__overlay",children:(0,Ms.jsx)(C,fQ(fQ({className:"right-sidebar-modal signals-modal"},k),{},{children:(0,Ms.jsx)("div",{className:"tab-wrap",children:(0,Ms.jsxs)("div",{className:"flex-vertical-block",children:[(0,Ms.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("right_panel.signals")}),(0,Ms.jsxs)("ul",{className:"tab-nav-mobile-sidebar",children:[(0,Ms.jsx)("li",{className:(0,Ds.A)(m===aQ&&i===ZZ&&"active"),children:(0,Ms.jsx)("a",{onClick:function(){o(ZZ),y(aQ)},children:(0,Ms.jsx)("span",{children:(0,yt.tr)("signals.tab_updates")})})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(T&&"active"),children:(0,Ms.jsx)("a",{onClick:function(){o(QZ),y(aQ)},children:(0,Ms.jsx)("span",{children:(0,yt.tr)("signals.tab_all")})})}),(0,Ms.jsx)("li",{className:(0,Ds.A)("small",m===sQ&&"active"),children:(0,Ms.jsx)("a",{onClick:O(sQ),children:(0,Ms.jsx)("span",{className:"tab-nav-mobile-sidebar__icon",children:S(sQ)})})}),w&&(0,Ms.jsx)("li",{className:(0,Ds.A)("small",m===cQ&&"active"),children:(0,Ms.jsx)("a",{onClick:O(cQ),children:(0,Ms.jsx)("span",{className:"tab-nav-mobile-sidebar__icon",children:S(cQ)})})})]}),T&&_]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)("flex-vertical-block__body",(A||E)&&"full"),children:[A&&(0,Ms.jsx)(ku,{className:"signals-list",children:(0,Ms.jsx)(YZ,{})}),E&&(0,Ms.jsx)(ku,{className:"signals-list",children:(0,Ms.jsx)(AZ,{period:b})}),m===sQ&&(0,Ms.jsx)(iQ,{}),m===cQ&&(0,Ms.jsx)(oQ,{})]})]})})}))})})),gQ=(0,u.Ng)((function(t){return{pendingOrdersCount:t.pendingOrders.ids.length}}))((function(t){var e=t.pendingOrdersCount,n=t.className,r=t.tab,i=t.handleTabChange;return(0,Ms.jsxs)("div",{className:n,children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("pending.title")}),(0,Ms.jsxs)("ul",{className:"tab-nav-mobile-sidebar",children:[(0,Ms.jsx)("li",{className:(0,Ds.A)(r===vv&&"active"),children:(0,Ms.jsx)("a",{onClick:i(vv),id:"pending-trades_by-time-tab",children:(0,Ms.jsx)("span",{children:(0,yt.tr)("pending.tab_by_time")})})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(r===bv&&"active"),children:(0,Ms.jsx)("a",{onClick:i(bv),id:"pending-trades_by-price-tab",children:(0,Ms.jsx)("span",{children:(0,yt.tr)("pending.tab_by_price_short")})})}),(0,Ms.jsxs)("li",{className:(0,Ds.A)(r===gv&&"active"),children:[(0,Ms.jsx)("a",{onClick:i(gv),id:"pending-trades_current-tab",children:(0,Ms.jsx)("span",{children:(0,yt.tr)("pending.tab_current")})}),e>0&&(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:e,type:Qe})})]})]}),(0,Ms.jsxs)("div",{children:[r===vv&&(0,yt.tr)("pending.tab_by_time_desc"),r===bv&&(0,yt.tr)("pending.tab_by_price_desc"),r===gv&&(0,yt.tr)("pending.tab_current_desc")]})]})}));function wQ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return xQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xQ(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xQ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jQ=Pl((function(t){var e=t.onClickOutside,n=wQ((0,r.useState)(vv),2),i=n[0],o=n[1];return(0,Ms.jsx)(Uf,{className:"right-sidebar-modal__overlay",children:(0,Ms.jsx)(od,{onClickOutside:e(me.lx.PENDING_ORDERS),className:"right-sidebar-modal active pending-order-modal",children:(0,Ms.jsxs)("div",{className:"flex-vertical-block",children:[(0,Ms.jsx)(gQ,{className:"flex-vertical-block__header",tab:i,handleTabChange:function(t){return function(){return o(t)}}}),(0,Ms.jsx)(ku,{children:(0,Ms.jsxs)("div",{className:"flex-vertical-block__body",children:[(i===vv||i===bv)&&(0,Ms.jsx)(kg,{tab:i}),i===gv&&(0,Ms.jsx)(qg,{})]})})]})})})})),OQ=Pl((function(t){var e=t.onClickOutside;return(0,Ms.jsx)(Uf,{className:"right-sidebar-modal__overlay",children:(0,Ms.jsx)(od,{onClickOutside:e(me.lx.TOURNAMENTS),className:"right-sidebar-modal tournaments-modal",children:(0,Ms.jsx)(Ty,{})})})})),SQ=function(t){var e=t.children;return(0,Ms.jsx)("div",{className:"no-deals",children:e})};function _Q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return TQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TQ(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TQ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var AQ=function(){var t=_Q((0,r.useState)(0),2),e=t[0],n=t[1],i=(0,u.d4)(Fs.Kp);(0,r.useEffect)((function(){i.includes(e)||n(0)}),[i]);var o=function(t){return n(t)};return(0,Ms.jsxs)(Ms.Fragment,{children:[0===i.length&&(0,Ms.jsx)(SQ,{children:(0,yt.tr)("deals.no_opened_trades")}),i.length>0&&i.map((function(t,n){return(0,Ms.jsx)(gW,{isFirst:0===n,isLast:n===i.length-1,dealId:t,handleExpandDeal:o,isMuted:0!==e&&e!==t,expandedDeal:e},t)}))]})};function EQ(t){return EQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EQ(t)}function PQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function CQ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PQ(Object(n),!0).forEach((function(e){kQ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PQ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kQ(t,e,n){return(e=IQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IQ(r.key),r)}}function IQ(t){var e=function(t,e){if("object"!=EQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EQ(e)?e:String(e)}var RQ=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=e,this.resolution=Ew(),this.width=n,this.height=r;var i={view:e,backgroundAlpha:0,antialias:!0,autoResize:!0,sharedTicker:!1,sharedLoader:!1,resolution:this.resolution};cx.W0u.MIPMAP_TEXTURES=cx.E8U.OFF,this.renderer=cx.q5F(i),this.stage=new cx.mcf,this.stage.filterArea=this.renderer.screen,this.isPerformanceLines=Boolean((0,fe.A)("optimized_chart"))&&this.isWebGLRenderer(),cx.RvI.shared.autoStart=!1,cx.RvI.shared.stop(),this.setSize(n,r),this.initContainers()}var e,n,r;return e=t,n=[{key:"initContainers",value:function(){var t=this;this.containers={},this.containers[w.Rp.CHART]=new cx.mcf,this.containers[w.Rp.GRID]=new cx.mcf,this.containers[w.Rp.DEALS]=new cx.mcf,this.containers[w.Rp.DEALS_TEXT]=new cx.mcf,this.dynamicGraphicsIndex={},this.textIndex={},Object.keys(this.containers).forEach((function(e){t.stage.addChild(t.containers[e])}))}},{key:"isWebGLRenderer",value:function(){return this.renderer&&this.renderer.type===cx.h3I.WEBGL}},{key:"setSize",value:function(t,e){this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.view.style.width="".concat(t,"px"),this.view.style.height="".concat(e,"px"),this.resize(t,e)}},{key:"resize",value:function(t,e){this.renderer.resize(t,e)}},{key:"getDynamicGraphics",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=CQ(CQ({},{touch:!1,parent:null,smooth:!1}),n);var r={graphics:null,isNew:!1,cleared:!1};return this.dynamicGraphicsIndex[e]?(r.graphics=this.dynamicGraphicsIndex[e].graphics,r.graphics.visible=!0,this.dynamicGraphicsIndex[e].cleared&&(r.isNew=!0,this.dynamicGraphicsIndex[e].cleared=!1)):(r.graphics=n.smooth&&this.isPerformanceLines?new bx.q1:new cx.A1g,n.touch&&(r.graphics.buttonMode=!0,r.graphics.interactive=!0),r.isNew=!0,null===n.parent?this.containers[t].addChild(r.graphics):n.parent.addChild(r.graphics),this.dynamicGraphicsIndex[e]=r),r}},{key:"getText",value:function(t,e,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return this.textIndex[e]?((a=this.textIndex[e]).text=n,i&&(a.style.fill=i),o&&(a.style.align=o),this.textIndex[e].visible=!0):((a=new cx.EYj(n)).style=r,a.text=n,i&&(a.style.fill=i),o&&(a.style.align=o),null===s?this.containers[t].addChild(a):s.addChild(a),this.textIndex[e]=a),a}},{key:"clearDynamicGraphic",value:function(t){void 0!==this.dynamicGraphicsIndex[t]&&(this.dynamicGraphicsIndex[t].cleared=!0,this.dynamicGraphicsIndex[t].graphics.clear())}},{key:"destroyDynamicGraphicsNew",value:function(t,e){void 0!==this.dynamicGraphicsIndex[e]&&(this.dynamicGraphicsIndex[e].graphics.clear(),this.containers[t].removeChild(this.dynamicGraphicsIndex[e]),this.dynamicGraphicsIndex[e].graphics.destroy(),this.dynamicGraphicsIndex[e]=null,delete this.dynamicGraphicsIndex[e])}},{key:"destroyText",value:function(t,e){var n=this;this.textIndex[e]&&(this.textIndex[e].destroy(),this.containers.forEach((function(t){return t.removeChild(n.textIndex[e])})),this.textIndex[e]=null,delete this.textIndex[e])}},{key:"clear",value:function(){var t=this;Object.keys(this.dynamicGraphicsIndex).forEach((function(e){t.clearDynamicGraphic(e)}))}},{key:"destroy",value:function(){this.containers={},this.dynamicGraphicsIndex={},this.textIndex={},this.stage.destroy(!0),this.renderer.destroy(!0),this.stage=null,this.renderer=null,this.view=null}},{key:"render",value:function(){this.renderer.render(this.stage)}}],n&&NQ(e.prototype,n),r&&NQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function LQ(t){return LQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LQ(t)}function DQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MQ(r.key),r)}}function MQ(t){var e=function(t,e){if("object"!=LQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=LQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==LQ(e)?e:String(e)}var BQ=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chart=e,this.core=e.renderer,this.secondWidth=e.secondWidth,this.maxVal=e.maxValue,this.minVal=e.minValue,this.width=e.width,this.height=e.height,this.topMarginPixels=10,this.bottomMarginPixels=10,this.startTime=e.startPoint.time,this.endTime=e.endPoint.time}var e,n,r;return e=t,(n=[{key:"getXFromTime",value:function(t){return(t-this.startTime)*this.secondWidth}},{key:"getYFromValue",value:function(t){var e=(t-this.minVal)/(this.maxVal-this.minVal);return this.height-this.bottomMarginPixels-(this.height-(this.topMarginPixels+this.bottomMarginPixels))*e}},{key:"getTimeFromX",value:function(t){return this.startTime+t/this.secondWidth}},{key:"getValueFromY",value:function(t){var e=this.height-(this.topMarginPixels+this.bottomMarginPixels),n=(this.height-this.bottomMarginPixels-t)/e;return this.minVal+(this.maxVal-this.minVal)*n}},{key:"simplifyPoints",value:function(t){var e=this;if(t.length<=60)return t;var n=t.map((function(t){return{x:e.getXFromTime(t.time),y:e.getYFromValue(t.value)}})),r=s_()(n,4,!0).map((function(t){return new RO(e.getValueFromY(t.y),e.getTimeFromX(t.x))}));if((0,qt.L5)(this.chart.deal)&&!(0,qt.u8)(this.chart.deal)){var i=this.chart.deal,o=i.openPrice,a=i.closePrice;r=r.concat([new RO(o,this.chart.getDealOpenTimestampMs()),new RO(a,this.chart.getDealCloseTimestampMs())]).sort((function(t,e){return t.time-e.time}))}return r}},{key:"draw",value:function(){}}])&&DQ(e.prototype,n),r&&DQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function HQ(t){return HQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HQ(t)}function FQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GQ(r.key),r)}}function GQ(t){var e=function(t,e){if("object"!=HQ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=HQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==HQ(e)?e:String(e)}function VQ(t,e,n){return e=UQ(e),function(t,e){if(e&&("object"===HQ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,WQ()?Reflect.construct(e,n||[],UQ(t).constructor):e.apply(t,n))}function WQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(WQ=function(){return!!t})()}function UQ(t){return UQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},UQ(t)}function zQ(t,e){return zQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zQ(t,e)}var XQ=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=VQ(this,e,[t])).areaAlpha=0,n.areaShaderFilter=null,n.deal=t.deal,n.core.isWebGLRenderer()?(n.areaAlpha=.01,n.initWebGLFilters()):n.areaAlpha=.15,n.points=n.simplifyPoints(n.chart.points),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zQ(t,e)}(e,t),n=e,(r=[{key:"normalizeY",value:function(t){return t<0?0:t>this.height?this.height:t}},{key:"initWebGLFilters",value:function(){var t=this.chart.colors,e=t.priceChartTopColor,n=t.priceChartBottomColor;this.areaShaderFilter=new vx(e,n,!1,!1,.3)}},{key:"draw",value:function(){for(var t=this.points.length,e=[],n=[],r=0,i=0;i<t;i++){var o=this.getXFromTime(this.points[i].time);if(i+1<t){var a=this.getXFromTime(this.points[i+1].time);if(o<0&&a<0)continue}e[r]=this.getXFromTime(this.points[i].time),n[r]=this.getYFromValue(this.points[i].value),r++}var s=this.core.getDynamicGraphics(w.Rp.CHART,"area-gradient-".concat(this.deal.id)).graphics;s.beginFill(this.chart.colors.plotLineGradientTopColor.getHEXNUM(),this.areaAlpha),s.moveTo(e[0],this.height),s.lineTo(e[0],this.normalizeY(n[0]));for(var c=e.length,l=0;l<c;l++)s[0===l?"moveTo":"lineTo"](e[l],this.normalizeY(n[l]));s.lineTo(e[c-1],this.height),s.lineTo(e[0],this.height),s.endFill(),this.core.isWebGLRenderer()&&(s.filters=[this.areaShaderFilter.filter]);var u=this.core.getDynamicGraphics(w.Rp.CHART,"line-".concat(this.deal.id),{smooth:!0}).graphics;u.lineStyle({width:2,scaleMode:bx.sb.VERTICAL,color:this.chart.colors.plotLineColor.getHEXNUM(),alpha:1,join:cx.u2q.ROUND});for(var h=0;h<c;h++)0===h?u.moveTo(e[h],n[h]):u.lineTo(e[h],n[h])}}])&&FQ(n.prototype,r),i&&FQ(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(BQ);function $Q(t){return $Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$Q(t)}function YQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qQ(r.key),r)}}function qQ(t){var e=function(t,e){if("object"!=$Q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$Q(e)?e:String(e)}function KQ(t,e,n){return e=QQ(e),function(t,e){if(e&&("object"===$Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ZQ()?Reflect.construct(e,n||[],QQ(t).constructor):e.apply(t,n))}function ZQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ZQ=function(){return!!t})()}function QQ(t){return QQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},QQ(t)}function JQ(t,e){return JQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},JQ(t,e)}var tJ=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=KQ(this,e,[t])).deal=t.deal,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JQ(t,e)}(e,t),n=e,r=[{key:"setGridLineStyles",value:function(t){t.lineStyle({width:.5,color:this.chart.colors.gridLineColor.getHEXNUM(),alpha:this.chart.colors.gridLineColor.getAlpha()})}},{key:"getTimelineStep",value:function(t){return t<=10?1:t<=60?5:t>60&&t<=600?60:t>600&&t<=3600?300:1800}},{key:"drawTimeline",value:function(){for(var t=this.endTime-this.startTime,e=this.getTimelineStep(t);e*this.secondWidth<5;)e+=e;var n=Math.floor(this.startTime/e)*e,r=(Math.ceil(this.endTime/e)+1)*e,i=this.core.getDynamicGraphics(w.Rp.GRID,"grid-".concat(this.deal.id),{smooth:!0}).graphics;this.setGridLineStyles(i);for(var o=n;o<=r;o+=e){var a=Math.floor(this.getXFromTime(o));i.moveTo(a,0),i.lineTo(a,this.height)}}},{key:"draw",value:function(){this.drawTimeline()}}],r&&YQ(n.prototype,r),i&&YQ(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(BQ);function eJ(t){return eJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eJ(t)}function nJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rJ(r.key),r)}}function rJ(t){var e=function(t,e){if("object"!=eJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eJ(e)?e:String(e)}function iJ(t,e,n){return e=aJ(e),function(t,e){if(e&&("object"===eJ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,oJ()?Reflect.construct(e,n||[],aJ(t).constructor):e.apply(t,n))}function oJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oJ=function(){return!!t})()}function aJ(t){return aJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aJ(t)}function sJ(t,e){return sJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sJ(t,e)}var cJ=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=iJ(this,e,[t])).deal=t.deal,n.color=(0,qt.nT)(n.deal.command)?n.chart.colors.callLineColor.getHEXNUM():n.chart.colors.putLineColor.getHEXNUM(),n.lineShader=new bx.sM({dash:3,gap:3}),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sJ(t,e)}(e,t),n=e,(r=[{key:"drawLine",value:function(t,e){var n=this.core.getDynamicGraphics(w.Rp.DEALS,"lineGraphics-".concat(this.deal.id));if(n.isNew){n.graphics.lineStyle(2,this.color);var r=this.getXFromTime(this.chart.getDealCloseTimestampMs())-t;n.graphics.moveTo(0,0),n.graphics.lineTo(r,0)}n.graphics.setTransform(t,e)}},{key:"drawVerticalLine",value:function(t,e){var n=this,r=this.core.getDynamicGraphics(w.Rp.DEALS,"verticalLineGraphics-".concat(this.deal.id),{smooth:!0});if(r.isNew){r.graphics.lineStyle({width:1,color:this.chart.colors.plotLineColor.getHEXNUM(),alpha:.8,shader:this.lineShader});var i=this.getXFromTime(this.chart.getDealCloseTimestampMs())-t,o=this.simplifyPoints(this.chart.points).find((function(t){return t.time===n.chart.getDealCloseTimestampMs()}));o&&(r.graphics.moveTo(i,0),r.graphics.lineTo(i,this.getYFromValue(o.value)-e))}r.graphics.setTransform(t,e)}},{key:"drawDot",value:function(t,e){var n=this.core.getDynamicGraphics(w.Rp.DEALS,"dotGraphics-".concat(this.deal.id));n.isNew&&(n.graphics.beginFill(this.color,1,!0),n.graphics.lineStyle(0,this.color,0),n.graphics.drawCircle(0,0,3),n.graphics.endFill()),n.graphics.setTransform(t,e)}},{key:"draw",value:function(){var t=this.getXFromTime(this.chart.getDealOpenTimestampMs()),e=this.getYFromValue(this.deal.openPrice);this.drawLine(t,e),this.drawDot(t,e),this.drawVerticalLine(t,e)}}])&&nJ(n.prototype,r),i&&nJ(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(BQ);function lJ(t){return lJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lJ(t)}function uJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hJ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uJ(Object(n),!0).forEach((function(e){fJ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uJ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fJ(t,e,n){return(e=pJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pJ(r.key),r)}}function pJ(t){var e=function(t,e){if("object"!=lJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lJ(e)?e:String(e)}function mJ(t,e,n){return e=vJ(e),function(t,e){if(e&&("object"===lJ(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yJ()?Reflect.construct(e,n||[],vJ(t).constructor):e.apply(t,n))}function yJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yJ=function(){return!!t})()}function vJ(t){return vJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vJ(t)}function bJ(t,e){return bJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bJ(t,e)}var gJ=6,wJ=4,xJ=2,jJ=3,OJ=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=mJ(this,e,[t])).deal=t.deal,n.color=(0,qt.nT)(n.deal.command)?n.chart.colors.callLineColor.getHEXNUM():n.chart.colors.putLineColor.getHEXNUM(),n.textStyles=hJ(hJ({},de.Ay.CHART.TEXT_STYLE_BET),{},{fontSize:10}),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bJ(t,e)}(e,t),n=e,(r=[{key:"roundedRect",value:function(t,e){var n=this.core.getText(w.Rp.DEALS_TEXT,"rectangleGraphics-".concat(this.id),"".concat(this.chart.currency).concat(this.deal.amount),this.textStyles,this.chart.colors.betElementTextColor.getHEXNUM()),r=n.width+2*wJ,i=n.height+2*xJ,o=this.chart.renderer.height/2>e?gJ:-(i+gJ),a=this.core.getDynamicGraphics(w.Rp.DEALS,"rectangleGraphics-".concat(this.id));a.isNew&&(a.graphics.beginFill(this.color,.5,!0),a.graphics.drawRoundedRect(0,o,r,i,3),a.graphics.endFill()),a.graphics.setTransform(t-jJ,e,1,1),n.setTransform(t+wJ-jJ,e+o+xJ,1,1)}},{key:"draw",value:function(){var t=this.getXFromTime(this.chart.getDealOpenTimestampMs()),e=this.getYFromValue(this.deal.openPrice);this.roundedRect(t,e)}}])&&dJ(n.prototype,r),i&&dJ(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(BQ);function SJ(t){return SJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SJ(t)}function _J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TJ(r.key),r)}}function TJ(t){var e=function(t,e){if("object"!=SJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=SJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==SJ(e)?e:String(e)}var AJ=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.points=[],this.secondWidth=0,this.width=this.renderer.width,this.height=this.renderer.height,this.startPoint=new RO(0,0),this.endPoint=new RO(0,0),this.minValue=0,this.maxValue=0,this.deal=null,this.digits=5,this.currency=n.currency?n.currency:"$",this.colors=ax}var e,n,r;return e=t,(n=[{key:"setPoints",value:function(t){this.points=t.sort((function(t,e){return t.time-e.time})),this.startPoint=t.length?t[0]:new RO(0,0),this.endPoint=t.length?t[t.length-1]:new RO(0,0);var e=this.endPoint.time-this.startPoint.time;this.secondWidth=this.width/e}},{key:"findFirstTimeBefore",value:function(t){if(!this.points.length)return t;for(var e=this.points[0].time,n=1;n<this.points.length&&!(this.points[n].time>=t);n++)e=this.points[n].time;return e}},{key:"setDeal",value:function(t,e){this.deal=t,this.digits=e}},{key:"getDealOpenTimestampMs",value:function(){var t=this.deal,e=t.openTimestamp,n=t.openMs;return parseFloat("".concat(e,".").concat((0,Jr.pJ)(n)))}},{key:"getDealCloseTimestampMs",value:function(){var t=this.deal.closeMs,e=(0,qt.tY)(this.deal),n=parseFloat("".concat(e,".").concat((0,Jr.pJ)(t)));if(0===t&&!(0,qt.u8)(this.deal)){var r=this.findFirstTimeBefore(n);if(Math.abs(r-e)<2)return r}return n}},{key:"getTimeFromX",value:function(t){return this.startPoint.time+t/this.secondWidth}},{key:"calculateMinMax",value:function(){for(var t=de.Ay.CHART.FLT_MIN,e=de.Ay.CHART.FLT_MAX,n=this.points.length,r=0;r<n;r++){var i=this.points[r].value;i<e&&(e=i),i>t&&(t=i)}if(this.deal){var o=this.deal.openPrice;o>t&&(t=o),o<e&&(e=o)}e===t&&(t+=.1*t,e-=.1*e),this.minValue=e,this.maxValue=t}},{key:"render",value:function(){this.renderer.clear(),this.calculateMinMax(),this.drawElements(),this.renderer.render()}},{key:"drawElements",value:function(){this.points.length&&[new XQ(this),new tJ(this),new cJ(this),new OJ(this)].forEach((function(t){return t.draw()}))}}])&&_J(e.prototype,n),r&&_J(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function EJ(t){return EJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EJ(t)}var PJ=["width","height"],CJ=["deal","asset"];function kJ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return NJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NJ(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function RJ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IJ(Object(n),!0).forEach((function(e){LJ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IJ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function LJ(t,e,n){var r;return r=function(t,e){if("object"!=EJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==EJ(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var MJ=function(t){var e=t.width,n=void 0===e?40:e,r=t.height,i=void 0===r?40:r,o=DJ(t,PJ);return(0,Ms.jsx)("div",RJ(RJ({},o),{},{children:(0,Ms.jsx)("svg",{width:n,height:i,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"",children:(0,Ms.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,Ms.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[(0,Ms.jsx)("circle",{strokeOpacity:".25",cx:"18",cy:"18",r:"18"}),(0,Ms.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18"})]})})})}))},BJ=function(){return(0,Ms.jsx)("div",{className:"no-data",children:(0,yt.tr)("deals.no_data")})},HJ=function(t){var e=t.deal,n=t.asset,i=DJ(t,CJ),o=(0,r.useRef)(),a=(0,r.useRef)(),s=(0,r.useRef)(null),c=(0,r.useRef)(null),l=kJ((0,r.useState)(!0),2),h=l[0],f=l[1],d=kJ((0,r.useState)([]),2),p=d[0],m=d[1],y=kJ((0,r.useState)(!1),2),v=y[0],b=y[1],g=(0,u.d4)((function(t){return t.global.currency}));Dg((function(){if(p.length&&!s.current){var t=o.current,r=t.clientWidth,i=t.clientHeight;s.current=new RQ(a.current,r,i),c.current=new AJ(s.current,{currency:g}),c.current.setPoints(p),c.current.setDeal(e,n.digits),c.current.render()}}),[p]);var w=(0,r.useRef)();return(0,r.useEffect)((function(){return hr.A.instance.loadOrderChart(RJ(RJ({},e),{},{symbolId:n.id,digits:n.digits})),w.current=hr.A.instance.addEventListener("".concat(Qi).concat(ya.Qz),(function(t){if(t.id===e.id)if(f(!1),t.points.length){var n=t.points.map((function(t){var e=t.price,n=t.time,r=t.open;return new RO(void 0!==r?r:e,n)}));m(n)}else b(!0)})),function(){hr.A.instance.removeEventListener("".concat(Qi).concat(ya.Qz),w.current),s.current&&s.current.destroy()}}),[]),(0,Ms.jsxs)("div",RJ(RJ({},i),{},{ref:o,children:[h&&(0,Ms.jsx)(MJ,{className:"price-chart-loader"}),!h&&v&&(0,Ms.jsx)(BJ,{}),!h&&(0,Ms.jsx)("canvas",{ref:a})]}))},FJ=function(t,e,n){var r=t.amount,i=t.percentProfit,o=t.profit,a=t.openPrice,s=t.closePrice,c=t.digits,l=(0,qt.Co)(a,s,c),u=(0,qt.u8)(t),h=l>0?(0,yt.tr)("deals.up"):(0,yt.tr)("deals.down"),f=(l+"").replace("-","").replace("+",""),d=(0,yt.tr)("deals.tooltip_text_win",n,r,i,e,h,f),p=(0,yt.tr)("deals.tooltip_text_lose",n,r,h,f),m=(0,yt.tr)("deals.tooltip_text_return",n,(0,qn.xr)(t.amount+o,2,!0)),y=(0,yt.tr)("deals.tooltip_text_cancel",(0,qn.xr)(t.amount+o,2,!0)),v=d,b=o<=0;return u?v=y:(0,qt.ZN)(t)===r?v=m:b&&(v=p),v},GJ=function(t){var e=t.currency,n=t.deal,i=t.digits,o=n.command,a=n.openTimestamp,s=n.openPrice,c=n.openMs,l=n.closeMs,h=n.profit,f=n.copyTicket,d=n.copyUid,p=void 0===d?"":d,m=n.copyProfileName,y=void 0===m?"":m,v=(0,u.d4)((function(t){return(0,Vs.rZ)(t)(n.asset)})),b=(0,qt.tY)(n),g=(0,qt.eY)(n);g||(g=s);var w=ui(n),x=w.prefix,j=w.period,O=(0,qt.Co)(s,g,i),S=(0,u.d4)(Cr.WN),_=(0,u.d4)(Wc.mG),T=(0,u.d4)(Wc.AQ),A=(0,u.d4)(Wc.$N),E=(0,qt.u8)(n),P=!T&&!E&&v&&!A,C=(0,qn.xr)(Math.max(0,h),2,!0),k=((0,qt.nT)(o)?(0,yt.tr)("hotkeys.higher"):(0,yt.tr)("hotkeys.lower")).toUpperCase(),N=FJ(n,C,k);return(0,r.useEffect)((function(){f&&hr.A.instance.getSocialCloseDealInfo(f)}),[]),(0,Ms.jsxs)("div",{className:"deals-list__item-full",children:[(0,Ms.jsxs)("div",{className:"time-info",children:[(0,Ms.jsxs)("div",{className:"timer",children:[(0,yt.tr)("expresses.open_time"),":",(0,Ms.jsx)("br",{}),bi(a),null!=c&&".".concat((0,Jr.pJ)(c))]}),(0,Ms.jsx)("div",{className:"timeframe",children:"".concat(x).concat(j)}),(0,Ms.jsxs)("div",{className:"timer",children:[(0,yt.tr)("deals.close_time"),":",(0,Ms.jsx)("br",{}),bi(b),null!=l&&".".concat((0,Jr.pJ)(l))]})]}),(0,Ms.jsx)("div",{className:(0,Ds.A)("forecast",P&&"type-closed"),children:(0,Ms.jsxs)("div",{children:[(0,Ms.jsxs)("div",{children:[(0,yt.tr)("deals.your_forecast"),":"," ",(0,Ms.jsx)("span",{className:(0,Ds.A)("act",(0,qt.nT)(o)?"call":"put"),children:k})]}),(0,Ms.jsxs)("div",{className:"payout-profit",children:[(0,Ms.jsxs)("div",{children:[(0,yt.tr)("deals.payout"),":"," ",(0,Ms.jsx)("span",{className:(0,Ds.A)(n.amount+n.profit>0&&"price-up"),children:"".concat(e).concat((0,qn.xr)(n.amount+n.profit,2,!0))})]}),(0,Ms.jsxs)("div",{className:(0,Ds.A)(_?"deal-with-tooltip":"profit-tooltip-container"),children:[(0,yt.tr)("deals.profit"),":"," ",(0,Ms.jsx)("span",{className:(0,Ds.A)(n.profit>0&&"price-up"),children:"".concat(n.profit>0?"+":"").concat(e).concat(C)}),S&&(0,Ms.jsxs)("div",{className:"tooltip2 tooltip2-close-deal-full-info",children:[(0,Ms.jsx)("i",{className:"fa fa-question-circle-o"}),(0,Ms.jsx)(Vc,{children:N})]})]})]})]})}),P&&(0,Ms.jsx)(HJ,{className:"price-chart",deal:n,asset:v}),E&&(0,Ms.jsx)("div",{className:"refund-info message message-warning notification-message",children:(0,yt.tr)("deals.refunded")}),(0,Ms.jsxs)("div",{className:"price-info",children:[(0,Ms.jsxs)("div",{className:"price-info__prices",children:[(0,Ms.jsxs)("div",{className:"price-info__prices-item",children:[(0,yt.tr)("deals.open_price"),":",(0,Ms.jsx)("br",{}),(0,qn.xr)(s,i,!0)]}),(0,Ms.jsxs)("div",{className:"price-info__prices-item",children:[(0,yt.tr)("deals.close_price"),":",(0,Ms.jsx)("br",{}),(0,qn.xr)(g,i,!0)]}),(0,Ms.jsxs)("div",{className:"price-info__prices-item difference",children:[(0,yt.tr)("deals.diff"),":",(0,Ms.jsx)("br",{}),"(",(0,Ms.jsx)("span",{className:(0,Ds.A)(O>0?"up":O<0?"down":""),children:O>0?"+".concat(O):O})," ",1===O?(0,yt.tr)("deals.pip"):(0,yt.tr)("deals.pips"),")"]})]}),f&&(0,Ms.jsxs)("div",{className:"price-info__copy-info",children:[(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("span",{className:"fa fa-copy"})," ",(0,yt.tr)("deals.success_copy_order")]}),(0,Ms.jsxs)("div",{children:[(0,yt.tr)("tournaments.trader_id"),":"," ",(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/ajax/modal/trader-information/".concat(p,"?t=copying-stats")),className:"mfp-ajax-modal",children:"".concat(p).concat(y?" (".concat(y,")"):"")})]})]})]})]})};GJ.propTypes={deal:Rc().object.isRequired,currency:Rc().string.isRequired,digits:Rc().number.isRequired};var VJ=GJ,WJ=(0,u.Ng)((function(t,e){var n=t.assets,r=t.favorites,i=e.deal,o=n.assetBySymbol,a=n.symbols,s=a.includes(i.asset)?o[i.asset].digits:3;return{favorites:r.list,label:a.includes(i.asset)?o[i.asset].label:i.asset,digits:s}}),{addFavoriteSymbol:va.K,removeFavoriteSymbol:va.vn,changeSymbolOnFirstChart:Bu.Kr})((function(t){var e,n,r=t.currency,i=t.deal,o=t.digits,a=t.label,s=t.favorites,c=t.addFavoriteSymbol,l=t.removeFavoriteSymbol,u=t.changeSymbolOnFirstChart,h=t.isFirst,f=t.isLast,d=t.handleExpandDeal,p=t.isMuted,m=t.isOpened,y=i.amount,v=i.asset,b=i.command,g=i.percentProfit,w=s.includes(v),x=(0,qt.tY)(i),j=i.amount+i.profit,O=(0,qn.xr)(Math.max(0,i.profit),2,!0),S=i.profit>0?"+":"",_=(0,qn.xr)(j,2,!0),T=(0,Ds.A)(h&&"deals-list__item-first",f&&"deals-list__item-last",m&&"open-full-info");return(0,Ms.jsx)("div",{className:(0,Ds.A)("deals-list__item",p&&"deals-list__muted"),onClick:d(i.id),children:(0,Ms.jsxs)("div",{className:T,children:[(0,Ms.jsxs)("div",{className:"deals-list__item-short",children:[(0,Ms.jsxs)("div",{className:"item-row",children:[(0,Ms.jsxs)("div",{children:[(0,Ms.jsxs)("span",{className:(0,Ds.A)("favorites",w&&"has-favorites"),children:[w&&(0,Ms.jsx)("a",{onClick:function(t){t.stopPropagation(),l(v)},children:(0,Ms.jsx)("i",{className:"fa fa-star"})}),!w&&(0,Ms.jsx)("a",{onClick:function(t){t.stopPropagation(),c(v)},children:(0,Ms.jsx)("i",{className:"fa fa-star-o"})})]}),(0,Ms.jsx)("a",{onClick:function(t){t.stopPropagation(),u(v)},children:a})," ",(0,Ms.jsxs)("span",{className:"price-up",children:["+",g,"%"]})," ",i.copyTicket&&(0,Ms.jsx)("span",{className:"copied fa fa-copy"}),i.isRollover&&(0,Ms.jsxs)(Ms.Fragment,{children:[" ",(0,Ms.jsx)("span",{className:"fa fa-angle-double-right"})]}),i.isCopySignal&&(0,Ms.jsxs)(Ms.Fragment,{children:[" ",(0,Ms.jsx)(rl.A,{src:"/themes/cabinet/svg/icons/sidebar/signals.svg",className:"copySignal"})]})]}),(0,Ms.jsx)("div",{children:(e=x,n=vi(e),"".concat(n.hour,":").concat(n.min))})]}),(0,Ms.jsxs)("div",{className:"item-row",children:[(0,Ms.jsxs)("div",{children:[(0,Ms.jsx)("i",{className:(0,Ds.A)("fa",(0,QV.A)(b)?"fa-arrow-up":"fa-arrow-down")}),"".concat(r).concat((0,qn.xr)(y,2,!0))]}),(0,Ms.jsx)("div",{className:(0,Ds.A)("centered",j>0&&"price-up"),children:"".concat(r).concat(_)}),(0,Ms.jsx)("div",{className:(0,Ds.A)(i.profit>0&&"price-up"),children:"".concat(S).concat(r).concat(O)})]})]}),m&&(0,Ms.jsx)(VJ,{deal:i,currency:r,digits:o})]})})})),UJ=function(t){var e=t.date,n=(0,u.d4)((function(t){return t.global.isMobile}));return(0,Ms.jsxs)("div",{className:"deals-list__group-label flex-centered",children:[n&&(0,Ms.jsx)("span",{children:e}),!n&&e]})};function zJ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return XJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XJ(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $J=function(){for(var t=zJ((0,r.useState)(0),2),e=t[0],n=t[1],i=(0,u.d4)(Cr.B),o=(0,u.d4)((function(t){return t.deals.closedIds})),a=(0,u.d4)((function(t){return t.deals.closedById})),s=HG()(o,(function(t){var e=a[t],n=e.closeTime,r=e.refundTime;return Ai(Ti(r||n)).substring(0,10)})),c=function(t){return function(e){e.target&&e.target.classList.contains("mfp-ajax-modal")||n((function(e){return t===e?0:t}))}},l=[],h=Object.keys(s),f=function(){var t=h[d],n=s[t].length;l.push((0,Ms.jsx)(UJ,{date:t},t)),s[t].forEach((function(t,r){l.push((0,Ms.jsx)(WJ,{isFirst:0===r,isLast:r===n-1,currency:i,deal:a[t],handleExpandDeal:c,isOpened:e===t,isMuted:0!==e&&e!==t},t))}))},d=0;d<h.length;d++)f();return(0,Ms.jsxs)(Ms.Fragment,{children:[0===o.length&&(0,Ms.jsx)(SQ,{children:(0,yt.tr)("deals.no_closed_trades")}),l.length>0&&l]})};function YJ(t){return YJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YJ(t)}function qJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function KJ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qJ(Object(n),!0).forEach((function(e){ZJ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qJ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ZJ(t,e,n){var r;return r=function(t,e){if("object"!=YJ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=YJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==YJ(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return JJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JJ(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var t0={},e0=function(){var t=(0,u.d4)(Wc.AQ);return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)($J,{}),!t&&(0,Ms.jsx)("div",{className:"more-btn",children:(0,Ms.jsx)("a",{href:(0,je.hX)("cabinet/trading-history/"),className:"btn btn-primary",children:(0,yt.tr)("more")})})]})},n0="opened",r0="closed",i0=Pl((function(t){var e=t.onClickOutside,n=QJ((0,r.useState)(Be),2),i=n[0],o=n[1],a=QJ((0,r.useState)(n0),2),s=a[0],c=a[1],l=(0,u.wA)();(0,r.useEffect)((function(){l(xa())}),[s]);var h=function(t){return function(){return c(t)}};(0,r.useEffect)((function(){var t=Re.A.subscribe(De,(function(t,e){return o(e)}));return function(){return Re.A.unsubscribe(t)}}),[]);var f=i===Le.V,d=f?od:"div",p=f?{onClickOutside:e(me.lx.DEALS)}:t0;return(0,Ms.jsx)(Uf,{className:"right-sidebar-modal__overlay",children:(0,Ms.jsx)(d,KJ(KJ({className:"right-sidebar-modal trades-modal"},p),{},{children:(0,Ms.jsx)("div",{className:"tab-wrap",children:(0,Ms.jsxs)("div",{className:"flex-vertical-block",children:[(0,Ms.jsxs)("div",{className:"flex-vertical-block__header",children:[(0,Ms.jsx)(Zu,{text:(0,yt.tr)("deals.trades")}),(0,Ms.jsxs)("ul",{className:"tab-nav-mobile-sidebar",children:[(0,Ms.jsx)("li",{className:(0,Ds.A)(s===n0&&"active"),children:(0,Ms.jsx)("a",{onClick:h(n0),children:(0,Ms.jsx)("span",{children:(0,yt.tr)("deals.opened_trades")})})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(s===r0&&"active"),children:(0,Ms.jsx)("a",{onClick:h(r0),children:(0,Ms.jsx)("span",{children:(0,yt.tr)("deals.closed_trades")})})})]})]}),(0,Ms.jsx)("div",{className:"flex-vertical-block__body",children:(0,Ms.jsx)(ku,{className:"tab-body",children:(0,Ms.jsxs)("div",{className:"deals-list",style:{display:"block"},children:[s===n0?(0,Ms.jsx)(AQ,{}):null,s===r0?(0,Ms.jsx)(e0,{}):null]})})})]})})}))})})),o0=function(t){return(0,Ms.jsx)(Gs.k,{className:"right-nav__svg-icon",src:"/themes/cabinet/images/mobile/right-nav/".concat(t,".svg")})},a0=(0,u.Ng)((function(t){var e=t.deals,n=t.expresses,r=t.counters,i=t.global,o=t.pendingOrders;return{openOrdersCount:e.openedIds.length,openExpressesCount:n.opened.expressIds.length,pendingOrdersCount:o.ids.length,socialTradingListOfCopiedCount:r[sn],activeTournamentsCount:r[on],isTournament:i.isTournament}}))((function(t){var e=t.openOrdersCount,n=t.openExpressesCount,i=t.pendingOrdersCount,o=t.socialTradingListOfCopiedCount,a=t.activeTournamentsCount,s=t.isTournament,c=(0,u.wA)(),l=(0,u.d4)((function(t){return t.modals.states[me.lx.DEALS]})),h=(0,u.d4)((function(t){return t.modals.states[me.lx.SIGNALS]})),f=(0,u.d4)((function(t){return t.modals.states[me.lx.SOCIAL_TRADING]})),d=(0,u.d4)((function(t){return t.modals.states[me.lx.EXPRESSES]})),p=(0,u.d4)((function(t){return t.modals.states[me.lx.TOURNAMENTS]})),m=(0,u.d4)((function(t){return t.modals.states[me.lx.TOURNAMENT_HISTORY]})),y=(0,u.d4)((function(t){return t.modals.states[me.lx.TOURNAMENT_DETAILS]})),v=(0,u.d4)((function(t){return t.modals.states[me.lx.PENDING_ORDERS]})),b=(0,u.d4)((function(t){return t.global.hideTournament})),g=(0,u.d4)(Wc.AQ),w=(0,u.d4)(Wc.$N),x=(0,u.d4)((function(t){return t.modals.states}));(0,r.useEffect)((function(){var t=document.body;if(t){var e=!1;for(var n in x){var r="open-".concat(n);x[n]&&!t.classList.contains(r)&&(t.classList.add(r),e=!0),!x[n]&&t.classList.contains(r)&&(t.classList.remove(r),e=!0)}e&&Oa()}}),[x]);var j=function(t){return function(){!g||t!==me.lx.EXPRESSES&&t!==me.lx.TOURNAMENTS&&t!==me.lx.PENDING_ORDERS?w&&t===me.lx.EXPRESSES?c((0,ys.V7)({modalId:me.lx.ONLY_REAL_TRADING,value:!0})):x[t]?c((0,ys.V7)({modalId:t,value:!1})):(c((0,ys.Xt)(t)),c((0,ys.V7)({modalId:t,value:!0}))):c((0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!0}))}},O=function(t){return function(e){!x[t]||e.target.closest(".right-nav")||e.target.closest(".ReactModalPortal")||e.target.closest(".mfp-wrap")||e.target.closest(".right-sidebar-modal2")||e.target.closest(".js-mobile-nav.clone")||c((0,ys.s7)())}};return(0,r.useEffect)((function(){var t=Re.A.subscribe(Ra,(function(t,e){"right"===e&&c((0,ys.Xt)(me.lx.DEALS))}));return function(){Re.A.unsubscribe(t)}}),[]),(0,Ms.jsxs)("div",{className:"right-nav",children:[(0,Ms.jsxs)("a",{onClick:j(me.lx.DEALS),className:(0,Ds.A)("right-nav__link",l&&"right-nav__link--active"),id:"right-nav_deals",children:[(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:e,type:Ye})}),o0("trades"),(0,Ms.jsx)("span",{className:"right-nav__label",children:(0,yt.tr)("mobile_right_nav.trades")})]}),(0,Ms.jsxs)("a",{onClick:j(me.lx.SIGNALS),className:(0,Ds.A)("js-tour-signals-icon right-nav__link",h&&"right-nav__link--active"),id:"right-nav_signals",children:[o0("signals"),(0,Ms.jsx)("span",{className:"right-nav__label",children:(0,yt.tr)("mobile_right_nav.signals")})]}),(0,Ms.jsxs)("a",{onClick:j(me.lx.SOCIAL_TRADING),className:(0,Ds.A)("right-nav__link js-social-trading-btn",f&&"right-nav__link--active"),id:"right-nav_social-trading",children:[(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:o,type:sn})}),o0("social-trading"),(0,Ms.jsx)("span",{className:"right-nav__label",children:(0,yt.tr)("mobile_right_nav.social")})]}),!s&&(0,Ms.jsxs)("a",{onClick:j(me.lx.EXPRESSES),className:(0,Ds.A)("right-nav__link",d&&"right-nav__link--active"),id:"right-nav_expresses",children:[(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:n,type:cn})}),o0("express-trades"),(0,Ms.jsx)("span",{className:"right-nav__label",children:(0,yt.tr)("mobile_right_nav.expresses")})]}),!b&&(0,Ms.jsxs)("a",{onClick:j(me.lx.TOURNAMENTS),className:(0,Ds.A)("right-nav__link",p&&"right-nav__link--active"),id:"right-nav_tournaments",children:[(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:a,type:on})}),o0("tournaments"),(0,Ms.jsx)("span",{className:"right-nav__label",children:(0,yt.tr)("mobile_right_nav.tournaments")})]}),(0,Ms.jsxs)("a",{onClick:j(me.lx.PENDING_ORDERS),className:(0,Ds.A)("right-nav__link",v&&"right-nav__link--active"),id:"right-nav_pending-orders",children:[(0,Ms.jsx)("div",{className:"counter-wrap",children:(0,Ms.jsx)(qc,{count:i,type:Qe})}),o0("pending-trades"),(0,Ms.jsx)("span",{className:"right-nav__label",children:(0,yt.tr)("mobile_right_nav.pending")})]}),l&&(0,Ms.jsx)(i0,{onClickOutside:O}),h&&(0,Ms.jsx)(bQ,{onClickOutside:O}),f&&(0,Ms.jsx)(fd,{onClickOutside:O}),!s&&d&&(0,Ms.jsx)(em,{onClickOutside:O(me.lx.EXPRESSES)}),p&&(0,Ms.jsx)(OQ,{onClickOutside:O}),(0,Ms.jsx)(Dy,{isOpen:p&&m}),(0,Ms.jsx)(fv,{isOpen:y}),v&&(0,Ms.jsx)(jQ,{onClickOutside:O})]})})),s0=a0,c0=function(t){return 0!==t?t>0?"+":"-":null},l0=function(){var t,e=(0,u.wA)(),n=(0,u.d4)((function(t){return t.tournaments.currentTournament.title})),r=(0,u.d4)((function(t){return t.tournaments.currentTournament.dateFinish})),i=(0,u.d4)((function(t){return t.tournaments.currentTournament.rank})),o=(0,u.d4)((function(t){return t.tournaments.currentTournament.changed})),a=(0,u.d4)((function(t){return t.modals.states[me.lx.TOURNAMENT_RATINGS]})),s=(0,u.d4)(Cr.Ln),c=(0,Qr._d)(r-s);return Oe.endpoints.getPosition.useQuery(null,{pollingInterval:6e4,skip:a}),(0,Ms.jsxs)("div",{className:"auxiliary-information-panels__item ranking-monitoring-panel",children:[(0,Ms.jsxs)("div",{className:"ranking-monitoring-panel__title",children:[(0,Ms.jsxs)("div",{className:"ranking-monitoring-panel__label",children:[(0,yt.tr)("control_panel.tournament"),":"]}),(0,Ms.jsx)("div",{className:"ranking-monitoring-panel__value",children:n})]}),(0,Ms.jsxs)("div",{className:"ranking-monitoring-panel__position",children:[(0,Ms.jsxs)("div",{className:"ranking-monitoring-panel__label",children:[(0,yt.tr)("control_panel.your_position"),":"]}),(0,Ms.jsxs)("div",{className:"ranking-monitoring-panel__value",children:[i,0!==o&&(0,Ms.jsxs)("span",{className:(t=o,0!==t?"changed changed--".concat(t>0?"up":"down"):null),children:[c0(o),Math.abs(o)]})]})]}),(0,Ms.jsxs)("div",{className:"ranking-monitoring-panel__time-finish",children:[(0,Ms.jsxs)("div",{className:"ranking-monitoring-panel__label",children:[(0,yt.tr)("control_panel.time_until_end"),":"]}),(0,Ms.jsx)("div",{className:"ranking-monitoring-panel__value",children:c})]}),(0,Ms.jsx)("a",{className:"auxiliary-information-panels__close",onClick:function(){return e(Xm(!1))},children:(0,Ms.jsx)("i",{className:"fa fa-times"})})]})},u0={marginBottom:"var(--indicator-margin-bottom)"},h0=function(){var t=(0,u.d4)(ey);return(0,Ms.jsx)("div",{className:"auxiliary-information-panels auxiliary-information-panels--absolute",style:u0,children:t&&(0,Ms.jsx)(l0,{})})};function f0(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d0(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var p0=(0,u.Ng)((function(t,e){var n=e.chartId,r=e.current,i=(0,Cr.d8)(n);return function(t){var e=t.global,o=t.chartSettings.chartById[n].minimizedTradePanel,a=e.windowLayout,s=e.isMobile,c=!(0,_H.h0)(a),l=(0,_H.WU)(a,r),u=c&&l>1;return{isRightPanel:i(t),isCompactMulti:u,isMobile:s,minimizedTradePanel:o}}}))((function(t){var e=t.current,n=t.chartId,i=t.isMobile,o=t.isCompactMulti,a=t.minimizedTradePanel,s=t.ChartComponent,c=(0,u.d4)(Cr.oi),l=f0((0,r.useState)(0),2),h=l[0],f=l[1],d=(0,r.useMemo)((function(){return{"--indicator-margin-bottom":"".concat(h,"px")}}),[h]);return(0,Ms.jsx)(np.Provider,{value:n,children:(0,Ms.jsx)(rp.Provider,{value:e,children:(0,Ms.jsxs)("div",{className:(0,Ds.A)("chart-item is-quick",o&&"is-compact-multi",a&&"hide-trading-panel"),style:d,children:[(0,Ms.jsx)("div",{className:"top-left-block",children:c&&(0,Ms.jsx)(sq,{})}),(0,Ms.jsx)(s,{chartSlotIndex:e,onTotalBottomMarginChange:f}),c&&!i&&(0,Ms.jsx)(gZ,{}),c&&(0,Ms.jsx)(h0,{}),c&&(0,Ms.jsxs)("div",{className:"control-wrap",children:[(0,Ms.jsx)(hZ,{chartSlotIndex:e}),i&&(0,Ms.jsx)(s0,{})]})]})})})}));function m0(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y0(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v0="opened",b0="closed",g0=(0,Ms.jsx)(Gs.k,{src:"/themes/cabinet/images/mobile/right-nav/title-icon1.svg"}),w0=function(t){var e=t.height,n=(0,u.wA)(),i=m0((0,r.useState)(v0),2),o=i[0],a=i[1],s=(0,u.d4)(Wc.AQ);(0,r.useEffect)((function(){n(xa())}),[o]);var c=function(t){return function(){return a(t)}};return(0,Ms.jsxs)("div",{className:"widget-slot deals",style:{height:"".concat(e,"%")},children:[(0,Ms.jsxs)("div",{className:"widget-slot__header",children:[(0,Ms.jsxs)("div",{className:"title flex-centered",children:[(0,Ms.jsx)("span",{children:(0,yt.tr)("deals.trades")}),!s&&(0,Ms.jsx)("a",{className:"list",href:(0,je.hX)("cabinet/trading-history"),children:g0})]}),(0,Ms.jsx)("div",{className:"divider",children:(0,Ms.jsxs)("ul",{children:[(0,Ms.jsx)("li",{className:(0,Ds.A)(v0===o&&"active"),children:(0,Ms.jsx)("a",{className:"flex-centered",onClick:c(v0),children:(0,yt.tr)("deals.opened_trades")})}),(0,Ms.jsx)("li",{className:(0,Ds.A)(b0===o&&"active"),children:(0,Ms.jsx)("a",{className:"flex-centered",onClick:c(b0),children:(0,yt.tr)("deals.closed_trades")})})]})})]}),(0,Ms.jsx)("div",{className:"widget-slot__body",children:(0,Ms.jsxs)(ku,{className:"deals-list",children:[o===v0&&(0,Ms.jsx)(AQ,{}),o===b0&&(0,Ms.jsx)($J,{})]})})]})},x0=w0,j0=rQ;function O0(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return S0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S0(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _0=function(t){var e=t.container,n=t.setTopPercent,i=O0((0,r.useState)(!1),2),o=i[0],a=i[1],s=O0((0,r.useState)(0),2),c=s[0],l=s[1],u=(0,r.useRef)(null);(0,r.useEffect)((function(){return document.addEventListener("mousedown",f),document.addEventListener("mousemove",d),document.addEventListener("mouseup",p),function(){document.removeEventListener("mousedown",f),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",p)}}),[o]);var h=function(t){if(t){var n=Pw(e).top;l(n)}a(t)},f=function(t){u.current.contains(t.target)&&h(!0)},d=function(t){if(o){var r=(t.pageY-c)/e.offsetHeight*100;r<10||r>90||n(r)}},p=function(){o&&h(!1)};return(0,Ms.jsx)("div",{ref:u,className:"widget-slots-divider",children:(0,Ms.jsx)("hr",{})})};function T0(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return A0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A0(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var E0,P0=(0,u.Ng)((function(t){return{isOpenDeals:t.modals.states[me.lx.DEALS_WIDGET],isOpenSignals:t.modals.states[me.lx.SIGNALS_WIDGET]}}))((function(t){var e=t.isOpenDeals,n=t.isOpenSignals,i=T0((0,r.useState)(null),2),o=i[0],a=i[1],s=T0((0,r.useState)(50),2),c=s[0],l=s[1];return(0,Ms.jsxs)("div",{ref:function(t){null!==t&&a(t)},className:(0,Ds.A)("right-widget-container"),children:[e&&(0,Ms.jsx)(x0,{height:c-1}),e&&n&&o&&(0,Ms.jsx)(_0,{container:o,setTopPercent:l}),n&&(0,Ms.jsx)(j0,{height:100-c-1})]})}));function C0(t){return C0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(t)}function k0(t){return function(t){if(Array.isArray(t))return N0(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return N0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N0(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F0(r.key),r)}}function R0(t,e,n){return e=D0(e),function(t,e){if(e&&("object"===C0(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return M0(t)}(t,L0()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function L0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(L0=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D0(t)}function M0(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B0(t,e)}function H0(t,e,n){return(e=F0(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0(t){var e=function(t,e){if("object"!=C0(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=C0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C0(e)?e:String(e)}var G0=(H0(H0(H0(H0(H0(H0(H0(H0(H0(H0(E0={},he.rs.FULL,"layout-full"),he.rs.H2,"layout-horizontal-2"),he.rs.V2,"layout-vertical-2"),he.rs.T2B1,"layout-top-2-bottom-1"),he.rs.T1B2,"layout-top-1-bottom-2"),he.rs.T2B2,"layout-top-2-bottom-2"),he.rs.L2R1,"layout-left-2-right-1"),he.rs.L1R2,"layout-left-1-right-2"),he.rs.V3,"layout-vertical-3"),he.rs.T3B1,"layout-top-3-bottom-1"),H0(H0(H0(E0,he.rs.T1B3,"layout-top-1-bottom-3"),he.rs.L1R3,"layout-left-1-right-3"),he.rs.L3R1,"layout-left-3-right-1")),V0=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return H0(M0(t=R0(this,e,[].concat(r))),"setWindowLayoutClass",(function(e){var n;(n=document.body.classList).remove.apply(n,k0(Object.values(G0))),document.body.classList.add(function(t){return G0[void 0!==G0[t]?t:he.rs.FULL]}(e)),e!==he.rs.FULL?!document.body.classList.contains("is-multigraph")&&document.body.classList.add("is-multigraph"):document.body.classList.contains("is-multigraph")&&document.body.classList.remove("is-multigraph"),t.props.windowLayoutBodyClassChanged({windowLayout:e})})),t}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.setWindowLayoutClass(this.props.windowLayout)}},{key:"componentDidUpdate",value:function(t){t.windowLayout!==this.props.windowLayout&&this.setWindowLayoutClass(this.props.windowLayout)}},{key:"render",value:function(){var t=this.props,e=t.visibleChartIds,n=t.isRightWidgetContainerOpened,r=t.isReady,i=t.ChartComponent,o=0,a={};return p.Cj.forEach((function(t){return a[t]=e.includes(t)})),(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)("div",{className:"layout-container",style:{marginRight:n?"var(--po-ui-kit-right-modals-width)":0},children:p.Cj.map((function(t){return a[t]?(o++,(0,Ms.jsx)(p0,{ChartComponent:i,chartId:t,current:o},t)):null}))}),r&&n&&(0,Ms.jsx)(P0,{})]})}}])&&I0(n.prototype,r),i&&I0(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),W0=(0,u.Ng)((function(t){var e=t.chartSettings;return{windowLayout:t.global.windowLayout,visibleChartIds:e.visibleChartIds,isRightWidgetContainerOpened:Zd(t),isReady:(0,Cr.oi)(t)}}),{windowLayoutBodyClassChanged:ba.Lu})(V0),U0=function(t){var e=t.ChartComponent,n=(0,u.d4)((function(t){return t.chartSettings.visibleChartIds}));return(0,Ms.jsx)("div",{className:"page traderoom",children:(0,Ms.jsx)("div",{className:"charts single",children:n.length>0&&(0,Ms.jsx)(W0,{ChartComponent:e})})})};function z0(t){return z0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(t)}function X0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J0(r.key),r)}}function $0(t,e,n){return e=q0(e),function(t,e){if(e&&("object"===z0(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return K0(t)}(t,Y0()?Reflect.construct(e,n||[],q0(t).constructor):e.apply(t,n))}function Y0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Y0=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q0(t)}function K0(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z0(t,e)}function Q0(t,e,n){return(e=J0(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J0(t){var e=function(t,e){if("object"!=z0(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=z0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z0(e)?e:String(e)}var t1=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Q0(K0(t=$0(this,e,[].concat(r))),"onKeyUp",(function(e){var n=Cw(e);if(e.shiftKey)switch(e.which||e.keyCode){case 9:return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.changeAssets(),!1;case 87:n||t.openBet(!0);break;case 83:n||t.openBet(!1);break;case 68:n||t.changeAmount();break;case 65:n||t.changeAmount(!1)}})),Q0(K0(t),"changeAmount",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t.props,r=n.amountType,i=n.balance,o=n.liveBalance,a=n.chartId,s=n.currentDealAmount,c=n.percentAmount,l=n.changeDealAmount,u=n.changePercentAmount,h=n.maxTradeAmount,f=(0,yr.Ew)(i,h),d=(0,qn.Vt)(o,f),m=(0,qn.H3)(o);r===p.yf.PERCENT?u({chartId:a,amount:e?(0,qn.H1)({amount:c,positive:!0,min:m,max:d}):(0,qn.H1)({amount:c,positive:!1,min:m,max:d})}):l({chartId:a,amount:e?(0,qn.XT)({amount:s,positive:!0,max:f}):(0,qn.XT)({amount:s,positive:!1,max:f})})})),Q0(K0(t),"openBet",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?Gt:Vt,n=t.props,r=n.chartId;(0,n.openDeal)({action:e,chartId:r})})),t}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp)}},{key:"changeAssets",value:function(){var t=this.props,e=t.favorites,n=t.currentAsset,r=t.changeSymbol,i=t.chartId,o=e.findIndex((function(t){return t===n}));(-1===o||o+1>=e.length)&&(o=-1),e[o+=1]&&r({symbol:e[o],chartId:i})}},{key:"render",value:function(){return null}}])&&X0(n.prototype,r),i&&X0(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Component),e1=(0,u.Ng)((function(t){var e=t.chartSettings,n=t.favorites,r=t.global,i="",o=0,a="",s=r.balance,c=r.liveBalance,l=p.yf.CURRENCY,u=1;if(e.chartIds.length){i=e.chartIds.find((function(t){return e.chartById[t].isVisible}));var h=e.chartById[i];h&&(o=r.isDemo?h.demoDealAmount:h.liveDealAmount,a=h.symbol,l=h.amountType,u=h.percentAmount)}return{amountType:l,balance:s,liveBalance:c,percentAmount:u,currentAsset:a,chartId:i,currentDealAmount:o,favorites:n.list,maxTradeAmount:(0,Fs.G3)(t)}}),{openDeal:wa,changeDealAmount:Bu.p$,changePercentAmount:Bu.cC,changeSymbol:va.xw})(t1),n1=function(){var t=(0,u.d4)((function(t){return t.global.enabledHotKeys})),e=(0,u.d4)((function(t){return t.chartSettings.visibleSymbols.length}));return t&&1===e?(0,Ms.jsx)(e1,{}):null},r1=function(t){var e=t.onRequestClose,n=Boolean((0,fe.A)("is-po-trade-logo")),r=-1!==window.location.href.indexOf("pocket-broker.com");return(0,Ms.jsxs)("div",{className:"po-modal only-for-registered",children:[(0,Ms.jsx)("div",{className:(0,Ds.A)(n&&!r&&"only-for-registered__logo only-for-registered__logo_potrade",r&&"only-for-registered__no-logo"),children:r&&(0,Ms.jsx)(rl.A,{src:"/themes/cabinet/svg/icons/logo/logo-broker.svg"})}),(0,Ms.jsx)("div",{className:"only-for-registered__desc",children:(0,yt.tr)("modals.only-for-register.desc")}),(0,Ms.jsxs)("div",{className:"only-for-registered__links",children:[(0,Ms.jsxs)("a",{href:(0,je.hX)("register"),className:"btn btn-green-light btn-lg",children:[(0,Ms.jsx)("i",{className:"fa fa-user-plus"})," ",(0,yt.tr)("modals.only-for-register.reg")]}),(0,Ms.jsxs)("a",{href:(0,je.hX)("login"),className:"btn btn-green-light btn-lg",children:[(0,Ms.jsx)("i",{className:"fa fa-sign-in"})," ",(0,yt.tr)("modals.only-for-register.sign_in")]})]}),(0,Ms.jsx)("div",{className:"only-for-registered__continue",children:(0,Ms.jsx)("a",{onClick:e,children:(0,yt.tr)("modals.only-for-register.continue")})})]})},i1=function(t){var e=t.isOpen,n=(0,u.wA)(),r=function(){n((0,ys.V7)({modalId:me.lx.ONLY_REGISTERED,value:!1}))};return(0,Ms.jsx)(vd,{isOpen:e,showCloseButton:!1,onRequestClose:r,ariaHideApp:!1,children:(0,Ms.jsx)(r1,{onRequestClose:r})})};function o1(){var t=(0,u.wA)();return(0,Ms.jsxs)("div",{className:"notification notification--good-job",children:[(0,Ms.jsx)("a",{className:"notification__close",onClick:function(){return t((0,ys.V7)({modalId:me.lx.GOOD_JOB_MODAL,value:!1}))},children:(0,Ms.jsx)(rl.A,{src:"/themes/cabinet/svg/icons/notification-modal/close.svg",className:"svg-icon"})}),(0,Ms.jsxs)("div",{className:"notification__title",children:[(0,yt.tr)("modals.good-job.title"),"!"]}),(0,Ms.jsxs)("div",{className:"notification__start",children:[(0,Ms.jsx)("div",{className:"notification__icon",children:(0,Ms.jsx)(rl.A,{src:"/themes/cabinet/svg/icons/notification-modal/icon-dark-blue.svg",className:"svg-icon"})}),(0,Ms.jsxs)("div",{className:"notification__text-wrap",children:[(0,Ms.jsxs)("div",{className:"notification__text-title",children:[(0,yt.tr)("modals.good-job.title"),"!"]}),(0,Ms.jsx)("div",{className:"notification__text",children:(0,yt.tr)("modals.good-job.sub_title")})]})]}),(0,Ms.jsx)("div",{className:"notification__end",children:(0,Ms.jsx)("a",{className:"btn btn-green-light",href:(0,je.hX)("deposit-demo"),children:(0,yt.tr)("modals.good-job.invest")})})]})}var a1=n(56378);function s1(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return c1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c1(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l1=function(t){var e=t.onRequestClose,n=(0,u.wA)(),i=(0,u.d4)(Cr.oi),o=(0,u.d4)(Vs.OG),a=s1((0,r.useState)(!0),2),s=a[0],c=a[1];Dg((function(){s?(0,a1.p)({event:"onboarding_4.intro.show"}):(0,a1.p)({event:"onboarding_4.step_0.show"})}),[s]);var l=function(t){e(t),n(lr.o1.closeSiteTour()),(0,a1.p)({event:s?"onboarding_4.intro.skip":"onboarding_4.step_0.skip"})};return s?(0,Ms.jsxs)("div",{className:"po-modal tutorial-v4-modal",children:[(0,Ms.jsx)("div",{className:"img-wrapper",children:(0,Ms.jsx)("img",{srcSet:"/themes/cabinet/images/tutorial/v4/intro.png 1x, /themes/cabinet/images/tutorial/v4/intro@2x.png 2x",src:"/themes/cabinet/images/tutorial/v4/intro.png",alt:""},"step-intro")}),(0,Ms.jsx)("div",{className:"tutorial-v4-modal__step-title",children:(0,yt.tr)("tutorial_4.welcome_broker_name")}),(0,Ms.jsx)("div",{className:"tutorial-v4-modal__step-text",children:(0,yt.tr)("tutorial_4.welcome_title")}),(0,Ms.jsxs)("div",{className:"tutorial-v4-modal__step-text",children:[(0,yt.tr)("tutorial_4.welcome_desc_1")," ",(0,Ms.jsx)("strong",{children:(0,yt.tr)("tutorial_4.welcome_desc_2")})]}),(0,Ms.jsxs)("div",{className:"tutorial-v4-modal__step-btn",children:[(0,Ms.jsx)("a",{className:"btn btn-green-light",onClick:function(){return c(!1)},children:(0,yt.tr)("tutorial_4.start")}),(0,Ms.jsx)("a",{className:"btn-skip",onClick:l,children:(0,yt.tr)("tutorial_4.skip")})]})]}):(0,Ms.jsxs)("div",{className:"po-modal tutorial-v4-modal tutorial-v4-modal__step-0",children:[(0,Ms.jsxs)("div",{className:"img-wrapper",children:[o&&(0,Ms.jsxs)("div",{className:"img-label",children:[(0,yt.tr)("tutorial_4.chart"),": ",o.label]}),(0,Ms.jsx)("img",{srcSet:"/themes/cabinet/images/tutorial/v4/step-0.jpg 1x, /themes/cabinet/images/tutorial/v4/step-0@2x.jpg 2x",src:"/themes/cabinet/images/tutorial/v4/step-0.jpg",alt:""},"step-0")]}),(0,Ms.jsx)("div",{className:"tutorial-v4-modal__step-title",children:(0,yt.tr)("tutorial_4.step_0_title")}),(0,Ms.jsx)("div",{className:"tutorial-v4-modal__step-text",dangerouslySetInnerHTML:{__html:(0,yt.tr)("tutorial_4.step_0_desc",'<span class="price-up">'.concat((0,yt.tr)("tutorial_4.step_0_desc_up"),"</span>"),'<span class="price-down">'.concat((0,yt.tr)("tutorial_4.step_0_desc_down"),"</span>"))}}),(0,Ms.jsxs)("div",{className:"tutorial-v4-modal__step-btn",children:[(0,Ms.jsx)("a",{className:"btn btn-sm btn-primary",onClick:function(t){i&&(e(t),n(lr.o1.openSiteTour()))},children:(0,yt.tr)("tutorial_4.continue")}),(0,Ms.jsx)("a",{className:"btn-skip",onClick:l,children:(0,yt.tr)("tutorial_4.skip")})]})]})},u1=Pl((function(t){var e=t.isOpen,n=(0,u.wA)();return(0,Ms.jsx)(vd,{isOpen:e,showCloseButton:!1,onRequestClose:function(){},children:(0,Ms.jsx)(l1,{onRequestClose:function(){return n((0,ys.V7)({modalId:me.lx.TUTORIAL_4_MODAL,value:!1}))}})})}));function h1(){var t=(0,u.d4)((function(t){return t.modals.states[me.lx.ONLY_REGISTERED]})),e=(0,u.d4)((function(t){return t.modals.states[me.lx.GOOD_JOB_MODAL]})),n=(0,u.d4)((function(t){return t.modals.states[me.lx.TUTORIAL_4_MODAL]}));return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(i1,{isOpen:t}),e&&(0,Ms.jsx)(o1,{}),(0,Ms.jsx)(u1,{isOpen:n})]})}function f1(){return(0,Ms.jsxs)(Ms.Fragment,{children:[(0,Ms.jsx)(U0,{ChartComponent:HW}),(0,Ms.jsx)(n1,{}),(0,Ms.jsx)(h1,{})]})}var d1="event_open_sidebar_modal",p1="event_close_sidebar_modal";Re.A.subscribe(d1,(function(t,e){var n=e.id,r=po()('.js-left-sidebar a[data-menu-id="'.concat(n,'"]'));0!==r.length&&r.parent().addClass("open-menu")})),Re.A.subscribe(p1,(function(t,e){var n=e.id,r=po()('.js-left-sidebar a[data-menu-id="'.concat(n,'"]'));0!==r.length&&r.parent().removeClass("open-menu")}));var m1,y1,v1,b1=function(t){var e=po()(t.currentTarget).data("menu-id");e&&g1(e)},g1=function(t){var e=m1.find("> .left-sidebar-menu");if(e.length){var n=e.data("id");if(x1(t),n===t)return}w1(t)},w1=function(t){var e=po()('body > .hidden > .left-sidebar-menu[data-id="'.concat(t,'"]'));if(0!==e.length){var n=e.clone();po()(".js-left-sidebar").hasClass("fixed")&&n.addClass("fixed");var r='\n        <span class="current-arrow">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M12.6 12L8.70005 8.10005C8.51672 7.91672 8.42505 7.68338 8.42505 7.40005C8.42505 7.11672 8.51672 6.88338 8.70005 6.70005C8.88338 6.51672 9.11672 6.42505 9.40005 6.42505C9.68338 6.42505 9.91672 6.51672 10.1 6.70005L14.7 11.3C14.8 11.4 14.8709 11.5084 14.9125 11.625C14.9542 11.7417 14.975 11.8667 14.975 12C14.975 12.1334 14.9542 12.2584 14.9125 12.375C14.8709 12.4917 14.8 12.6 14.7 12.7L10.1 17.3C9.91672 17.4834 9.68338 17.575 9.40005 17.575C9.11672 17.575 8.88338 17.4834 8.70005 17.3C8.51672 17.1167 8.42505 16.8834 8.42505 16.6C8.42505 16.3167 8.51672 16.0834 8.70005 15.9L12.6 12Z" fill="currentColor"/>\n            </svg>\n        </span>\n    ';0===n.find(".active > a").find(".to-right").length&&(r='<span class="to-right"></span>'+r),n.find(".active > a").append(r),m1.prepend(n),setTimeout((function(){O1(),Re.A.publish(d1,{id:t})}),0)}},x1=function(){var t=m1.find("> .left-sidebar-menu"),e=t.data("id");t.remove(),S1(),Re.A.publish(p1,{id:e})},j1=function(t){0===po()(t.target).closest(".left-sidebar-menu").length&&x1()},O1=function(){window.addEventListener("click",j1)},S1=function(){window.removeEventListener("click",j1)},_1=function(){0===(m1=po()("#content")).length&&(m1=po()(".site-content")),0!==m1.length&&po()("body").on("click",".js-left-sidebar-menu",b1)},T1=n(92299),A1=n.n(T1),E1=function(){po()("body").on("click","[data-deposit-source]",(function(t){var e;e=po()(t.currentTarget).data("deposit-source"),A1().set("deposit-link-source",e,{expires:1})}))},P1=function(){var t=k1.$header.find(".js-right-block"),e=t.prev();return Math.abs(e[0].offsetLeft-t[0].offsetLeft+e[0].offsetWidth)},C1=function(){P1()<=k1.minOffset&&po()(k1.$sortableItems.get().reverse()).each((function(t,e){!e.classList.contains("hidden")&&P1()<=k1.minOffset&&e.classList.add("hidden")}));var t=k1.$sortableItems.filter(".hidden").first();if(t.length>0){var e=function(t){t.css({position:"absolute",left:"-9999px",top:"-9999px",visibility:"hidden"}).removeClass("hidden");var e=t.outerWidth();return t.removeAttr("style",!1).addClass("hidden"),e+parseInt(t.css("margin-left"),10)}(t);P1()>e+k1.minOffset+10&&t.removeClass("hidden")}},k1={$header:po()(".site-header"),minOffset:10,lastHiddenEleHeight:0};k1.$items=k1.$header.find(".right-block__item[data-sort]"),k1.$sortableItems=(y1=k1.$items,(v1=y1.toArray()).sort((function(t,e){return parseInt(t.dataset.sort,10)-parseInt(e.dataset.sort,10)})),po()(v1)),k1.countItems=k1.$items.length;var N1=function(){(0,Ie.hP)()&&k1.countItems>0&&(window.addEventListener("resize",br()(C1,50)),Oa())};(0,j.rF)(),document.addEventListener("DOMContentLoaded",(function(){Ls.init(),_1(),(0,a1.A)(),E1(),N1()}));var I1=function(t){var e=t.children;return(0,Ms.jsx)(r.StrictMode,{children:(0,Ms.jsx)(l,{children:(0,Ms.jsx)(u.Kq,{store:qi,children:e})})})},R1=document.getElementById("bar-chart");if(R1){var L1=function(){(0,Ki.H)(R1).render((0,Ms.jsxs)(I1,{children:[M1&&(0,Ms.jsx)(M1,{}),(0,Ms.jsx)(f1,{})]}))},D1=(0,fe.v)(),M1=null;D1?Promise.all([n.e(121),n.e(299)]).then(n.bind(n,24788)).then((function(t){var e=t.default;M1=e,L1()})).catch((function(){L1()})):L1()}var B1=document.getElementById("js-assets-favorites-slider");B1&&(0,Ki.H)(B1).render((0,Ms.jsx)(I1,{children:(0,Ms.jsx)(Nc,{})}));var H1=document.getElementById("js-window-layout-switcher");H1&&(0,Ki.H)(H1).render((0,Ms.jsx)(I1,{}));var F1=document.getElementById("js-fav-panel-switcher");F1&&(0,Ki.H)(F1).render((0,Ms.jsx)(I1,{children:(0,Ms.jsx)(Du,{})}));var G1=document.getElementById("js-newbie-guide-todo-list-btn");G1&&(0,Ki.H)(G1).render((0,Ms.jsx)(I1,{}));var V1=document.querySelector(".js-left-sidebar");V1&&(0,Ki.H)(V1).render((0,Ms.jsx)(I1,{children:(0,Ms.jsx)(Lu,{})}));var W1=document.querySelector(".js-mobile-left-sidebar");W1&&(0,Ki.H)(W1).render((0,Ms.jsx)(I1,{children:(0,Ms.jsx)(ww,{})}));var U1=document.querySelector(".js-right-sidebar");U1&&(0,Ki.H)(U1).render((0,Ms.jsx)(I1,{children:(0,Ms.jsx)(gw,{})}));var z1=document.querySelector(".js-try-demo-balance");z1&&(0,Ki.H)(z1).render((0,Ms.jsx)(I1,{children:(0,Ms.jsx)(Sw,{})}))},69667:function(t,e,n){"use strict";var r=n(52188),i=n.n(r);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"subscribe",value:function(t,e){return i().subscribe(t,e)}},{key:"unsubscribe",value:function(t){i().unsubscribe(t)}},{key:"publish",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i().publish(t,e)}}],(n=null)&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.A=c},56378:function(t,e,n){"use strict";n.d(e,{p:function(){return o}});var r=n(95616),i=n.n(r),o=function(t){"string"==typeof t&&(t=JSON.parse(t)),window.dataLayer=window.dataLayer||[],window.dataLayer.push(t)};e.A=function(){i()("body").on("click","[data-layout]",(function(t){return o(i()(t.currentTarget).data("layout"))}))}},31501:function(t,e,n){"use strict";function r(){return Date.now()/(Math.random()+1)+Math.random()}n.d(e,{A:function(){return r}})},6663:function(t,e,n){"use strict";function r(t,e){var n=t+Math.random()*(e-t);return n=Math.round(n)}n.d(e,{A:function(){return r}})},67813:function(t,e,n){"use strict";n.d(e,{A:function(){return a},v:function(){return s}});var r=n(62832),i=n.n(r),o=n(80446);function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i()(window,"AppData.".concat(t),function(t,e){var n=document.getElementById("var-".concat(t));if(!n)return e;return"value"in n.dataset?n.dataset.value:n.innerHTML}(t,e))}function s(){return(0,o.Np)()&&4==+a("tutorial.id")}},33688:function(t,e){"use strict";e.A=function(t){return 0===parseInt(t,10)}},30827:function(t,e,n){"use strict";var r=n(15195);e.A=function(t,e){e="function"==typeof e?e:function(){};try{e(null,JSON.parse(t))}catch(n){r.A.error("".concat(n,": ").concat(t)),e(n.message,null)}}},73316:function(t,e,n){"use strict";n.d(e,{Lb:function(){return s},tr:function(){return c}});var r=n(62832),i=n.n(r),o=n(54679),a=n.n(o),s=(n(67813),function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0;return t.replace(/%s%|%s|%d%|%d|{[^}]*}/g,(function(){return n[i++]}))}),c=function(t){if(!window.translations)return t;var e=i()(window.translations,t);if(!e)return t;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(1===r.length&&a()(r[0])){var c=r[0];return Object.keys(c).forEach((function(t){e=e.replace("{".concat(t,"}"),c[t]).replace("%".concat(t,"%"),c[t])})),e}return r.length>0?s.apply(void 0,[e].concat(r)):e}},19198:function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,e);return Math.round(t*n)/n}function i(t,e){return parseFloat(t).toFixed(e)}n.d(e,{B:function(){return r},T:function(){return i}})},17131:function(t,e,n){"use strict";n.d(e,{V:function(){return i},p:function(){return r}});var r="landscape",i="portrait"},96641:function(t,e,n){"use strict";n.d(e,{BR:function(){return l},E$:function(){return d},GQ:function(){return h},Pe:function(){return f},TO:function(){return c},Xd:function(){return a},_d:function(){return o},a3:function(){return u},eH:function(){return s}});var r=n(33636),i=n(73316);function o(t){if(t<0)return"00:00:00";var e=Math.floor(t/86400),n=t%86400,r=Math.floor(n/3600),i=n%3600,o=Math.floor(i/60),a=i%60,s=Math.ceil(a);return r<10&&(r="0"+r),o<10&&(o="0"+o),s<10&&(s="0"+s),"".concat(e>1?e+"d ":"").concat(r,":").concat(o,":").concat(s)}function a(t){var e=s(t),n=e.hours<10?"0"+e.hours:e.hours,r=e.minutes<10?"0"+e.minutes:e.minutes,i=e.seconds<10?"0"+e.seconds:e.seconds;return"".concat(n,":").concat(r,":").concat(i)}function s(t){if(t<0)return{hours:0,minutes:0,seconds:0};var e=t%3600,n=e%60;return{hours:Math.floor(t/3600),minutes:Math.floor(e/60),seconds:Math.ceil(n)}}function c(t){if(t<0)return"00:00:00";var e=Math.floor(t/3600),n=t%3600,r=Math.floor(n/60),i=n%60,o=Math.ceil(i);r<10&&(r="0"+r),o<10&&(o="0"+o);var a=r+":"+o;return e>0&&(e<10&&(e="0"+e),a=e+":"+a),a}function l(t){return a(t).substr(3)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(1e3*t),i=e?n.getUTCFullYear():n.getFullYear(),o=(0,r.wl)(e?n.getUTCMonth()+1:n.getMonth()+1),a=(0,r.wl)(e?n.getUTCDate():n.getDate()),s=(0,r.wl)(e?n.getUTCHours():n.getHours()),c=(0,r.wl)(e?n.getUTCMinutes():n.getMinutes()),l=(0,r.wl)(e?n.getUTCSeconds():n.getSeconds());return"".concat(i,"-").concat(o,"-").concat(a," ").concat(s,":").concat(c,":").concat(l)}function h(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(1e3*t),i=e?n.getUTCFullYear():n.getFullYear(),o=(0,r.wl)(e?n.getUTCMonth()+1:n.getMonth()+1),a=(0,r.wl)(e?n.getUTCDate():n.getDate()),s=(0,r.wl)(e?n.getUTCHours():n.getHours()),c=(0,r.wl)(e?n.getUTCMinutes():n.getMinutes()),l=(0,r.wl)(e?n.getUTCSeconds():n.getSeconds());return"".concat(a,".").concat(o,".").concat(i," ").concat(s,":").concat(c,":").concat(l)}function f(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{h:"h",m:"m",s:"s",h1:"h",m1:"m",s1:"s"},r=new Date(1e3*t),o=e?r.getUTCHours():r.getHours(),a=e?r.getUTCMinutes():r.getMinutes(),s=e?r.getUTCSeconds():r.getSeconds(),c="";return o>0&&(c+="".concat((0,i.tr)(1===o?n.h1:n.h,o)," ")),a>0&&(c+="".concat((0,i.tr)(1===a?n.m1:n.m,a)," ")),s>0&&(c+="".concat((0,i.tr)(1===s?n.s1:n.s,s)," ")),c.toLocaleLowerCase().trim()}function d(t){var e=Math.floor(t/60),n=Math.floor(e/60),r=e%60,i=Math.floor(n/24),o=n%24,a="";return i>0&&(a+="".concat(i,"d")),a+="".concat(o,"h ").concat(r,"m")}},2492:function(t,e,n){var r=n(95616);n(95616);(function(){"use strict";!function(t){t.gritter={},t.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3,to:"",tpl_close:'<a class="gritter-close" href="#" tabindex="1">Close Notification</a>',tpl_title:'<span class="gritter-item__title">[[title]]</span>',tpl_item:'\n            <div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert">\n                <div class="gritter-item">\n                    [[close]]\n                    [[title]]\n                    <div class="gritter-item__text">[[text]]</div>\n                </div>\n            </div>',tpl_wrap:'<div id="gritter-notice-wrapper" class="[[wrapperClassName]] [[position]]"></div>'},t.gritter.add=function(t){try{return e.add(t||{})}catch(r){var n="Gritter Error: "+r;"undefined"!=typeof console&&console.error?console.error(n,t):alert(n)}},t.gritter.remove=function(t,n){e.removeSpecific(t,n||{})},t.gritter.removeAll=function(t){e.stop(t||{})};var e={position:"",fade_in_speed:"",fade_out_speed:"",time:"",to:"",_custom_timer:0,_item_count:0,_is_setup:0,_getWrapperSelector:function(){var e="#gritter-notice-wrapper";return"string"==typeof this.wrapperSelector&&(e+=".".concat(this.wrapperSelector)),"string"==typeof t.gritter.options.position&&(e+="."+t.gritter.options.position),this.to.length&&(e=this.to+" "+e),e},add:function(n){if("string"==typeof n&&(n={text:n}),null===n.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var r=n.title,i=n.text,o=n.sticky||!1,a=n.class_name||t.gritter.options.class_name,s=t.gritter.options.position,c=n.time||"",l=n.tpl_item||t.gritter.options.tpl_item;this.fade_out_speed=n.fade_out_speed||n.speed,this.limit_items=n.limit_items||null,this.tpl_wrap=n.tpl_wrap||t.gritter.options.tpl_wrap,this.tpl_close=n.tpl_close||t.gritter.options.tpl_close,this.wrapperSelector="string"==typeof n.wrapperSelector?n.wrapperSelector:null,this.to=n.to||"",this.fade_in_speed=n.fade_in_speed||"medium",this._verifyWrapper(),this._item_count++;var u=this._item_count,h=l;if(t(["before_open","after_open","before_close","after_close"]).each((function(r,i){e["_"+i+"_"+u]=t.isFunction(n[i])?n[i]:function(){}})),this._custom_timer=0,c&&(this._custom_timer=c),r=r?this._str_replace("[[title]]",r,t.gritter.options.tpl_title):"",h=this._str_replace(["[[title]]","[[text]]","[[close]]","[[number]]","[[item_class]]"],[r,i,this.tpl_close,this._item_count,a],h),!1===this["_before_open_"+u]())return!1;t(this._getWrapperSelector()).addClass(s).append(h);var f=t("#gritter-item-"+this._item_count);if(f.fadeIn(this.fade_in_speed,(function(){e["_after_open_"+u](t(this))})),o||this._setFadeTimer(f,u),t(f).bind("mouseenter mouseleave",(function(n){"mouseenter"===n.type?o||e._restoreItemIfFading(t(this),u):o||e._setFadeTimer(t(this),u),e._hoverState(t(this),n.type)})),t(f).find(".gritter-close").click((function(){return e.removeSpecific(u,{},null,!0),!1})),"number"==typeof this.limit_items&&this.limit_items>0){var d=t(this._getWrapperSelector()).children();d.length>this.limit_items&&d.slice(0,d.length-this.limit_items).map((function(t,e){return e.remove()}))}return u},_countRemoveWrapper:function(t,e,n){var r=e.closest("#gritter-notice-wrapper");e.remove(),this["_after_close_"+t](e,n),0===r.find(".gritter-item-wrapper").length&&r.remove()},_fade:function(t,n,r,i){var o=void 0===(r=r||{}).fade||r.fade,a=r.speed||this.fade_out_speed,s=i;this["_before_close_"+n](t,s),i&&t.unbind("mouseenter mouseleave"),o?t.animate({opacity:0},a,(function(){t.animate({height:0},300,(function(){e._countRemoveWrapper(n,t,s)}))})):this._countRemoveWrapper(n,t)},_hoverState:function(t,e){"mouseenter"==e?(t.addClass("hover"),t.find(".gritter-close").show()):(t.removeClass("hover"),t.find(".gritter-close").hide())},removeSpecific:function(e,n,r,i){if(!r)r=t("#gritter-item-"+e);this._fade(r,e,n||{},i)},_restoreItemIfFading:function(t,e){clearTimeout(this["_int_id_"+e]),t.stop().css({opacity:"",height:""})},_runSetup:function(){for(var e in t.gritter.options)this[e]=t.gritter.options[e];this._is_setup=1},_setFadeTimer:function(t,n){var r=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+n]=setTimeout((function(){e._fade(t,n)}),r)},stop:function(e){var n=t.isFunction(e.before_close)?e.before_close:function(){},r=t.isFunction(e.after_close)?e.after_close:function(){},i=t(this._getWrapperSelector());n(i),i.fadeOut((function(){t(this).remove(),t(".gritter-notice-wrapper-streamer").remove(),r()}))},_str_replace:function(t,e,n,r){var i,o=0,a=0,s="",c="",l=0,u=[].concat(t),h=[].concat(e),f=n,d=h instanceof Array,p=f instanceof Array;for(f=[].concat(f),r&&(this.window[r]=0),o=0,i=f.length;o<i;o++)if(""!==f[o])for(a=0,l=u.length;a<l;a++)s=f[o]+"",c=d?void 0!==h[a]?h[a]:"":h[0],f[o]=s.split(u[a]).join(c),r&&f[o]!==s&&(this.window[r]+=(s.length-f[o].length)/u[a].length);return p?f:f[0]},_verifyWrapper:function(){if(0===t(this._getWrapperSelector()).length){var e=this.tpl_wrap.replace("[[wrapperClassName]]","string"==typeof this.wrapperSelector?this.wrapperSelector:"").replace("[[position]]",t.gritter.options.position||"");this.to.length?t(this.to).append(e):t("body").append(e)}}}}(r)}).call(window)}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,loaded:!1,exports:{}};return i[t].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,t=[],a.O=function(e,n,r,i){if(!n){var o=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],i=t[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&i||o>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(s=!1,i<o&&(o=i));if(s){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,r,i]},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},n=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},a.t=function(t,r){if(1&r&&(t=this(t)),8&r)return t;if("object"==typeof t&&t){if(4&r&&t.__esModule)return t;if(16&r&&"function"==typeof t.then)return t}var i=Object.create(null);a.r(i);var o={};e=e||[null,n({}),n([]),n(n)];for(var s=2&r&&t;"object"==typeof s&&!~e.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return t[e]}}));return o.default=function(){return t},a.d(i,o),i},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))},a.u=function(t){return"WelcomeTour.e59fe776fb101e84fb8c.js"},a.miniCssF=function(t){},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r={},a.l=function(t,e,n,i){if(r[t])r[t].push(e);else{var o,s;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==t){o=u;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.src=t),r[t]=[e];var h=function(e,n){o.onerror=o.onload=null,clearTimeout(f);var i=r[t];if(delete r[t],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),s&&document.head.appendChild(o)}},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t}(),function(){var t={792:0};a.f.j=function(e,n){var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=t[e]=[n,i]}));n.push(r[2]=i);var o=a.p+a.u(e),s=new Error;a.l(o,(function(n){if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,o=n[0],s=n[1],c=n[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)var u=c(a)}for(e&&e(n);l<o.length;l++)i=o[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var s=a.O(void 0,[121],(function(){return a(54212)}));s=a.O(s)}();
//# sourceMappingURL=main.js.map